import{j as t}from"./framer-BMT5hQ7X.js";import{u,r as s}from"./router-DOtJe_Np.js";import{u as f,s as a,F as h}from"./index-Kf9yRKJ-.js";import{S as v}from"./SpotCard-DZ5_-FMC.js";import{Q as y,H as n}from"./lucide-DqyMvtym.js";import"./vendor-b0vXyz-r.js";import"./supabase-CtFrdYha.js";import"./ImageSlider-D9DlSLMK.js";const k=({lang:j})=>{const{user:o}=f(),d=u(),[r,p]=s.useState([]),[l,i]=s.useState(!0);s.useEffect(()=>{o&&c()},[o]);const c=async()=>{i(!0);const{data:e}=await a.from("user_favorites").select("spot_id").eq("user_id",o.id);if(e&&e.length>0){const x=e.map(g=>g.spot_id),{data:m}=await a.from("spots").select("*").in("id",x);p(m||[])}i(!1)};return t.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[t.jsxs("div",{style:{height:"180px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[t.jsx("button",{onClick:()=>d(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white",cursor:"pointer"},children:t.jsx(y,{size:24})}),t.jsx(n,{size:48,color:"white",fill:"white",style:{marginBottom:"8px"}}),t.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"My Favorites"}),t.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"Your saved spots"})]}),t.jsx("div",{className:"container",style:{padding:"20px",marginTop:"-30px"},children:l?t.jsx(h,{message:"Loading your favorites..."}):r.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[t.jsx(n,{size:64,color:"var(--text-muted)",style:{marginBottom:"20px",opacity:.3}}),t.jsx("h3",{style:{color:"var(--text-main)",fontWeight:"800",marginBottom:"8px"},children:"No favorites yet"}),t.jsx("p",{style:{color:"var(--text-muted)"},children:"Start exploring and save your favorite spots!"})]}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:r.map(e=>t.jsx(v,{spot:e},e.id))})})]})};export{k as default};
