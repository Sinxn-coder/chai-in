function MT(n,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in n)){const h=Object.getOwnPropertyDescriptor(a,l);h&&Object.defineProperty(n,l,h.get?h:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=r(l);fetch(l.href,h)}})();function Wh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function yu(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var r=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var l=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:function(){return n[a]}})}),r}var lp={exports:{}},$l={};var j0;function LT(){if(j0)return $l;j0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var m in l)m!=="key"&&(h[m]=l[m])}else h=l;return l=h.ref,{$$typeof:n,type:a,key:d,ref:l!==void 0?l:null,props:h}}return $l.Fragment=e,$l.jsx=r,$l.jsxs=r,$l}var R0;function PT(){return R0||(R0=1,lp.exports=LT()),lp.exports}var y=PT(),up={exports:{}},Dt={};var O0;function DT(){if(O0)return Dt;O0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),E=Symbol.iterator;function C(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,R={};function z(P,Y,ct){this.props=P,this.context=Y,this.refs=R,this.updater=ct||M}z.prototype.isReactComponent={},z.prototype.setState=function(P,Y){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Y,"setState")},z.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function N(){}N.prototype=z.prototype;function D(P,Y,ct){this.props=P,this.context=Y,this.refs=R,this.updater=ct||M}var V=D.prototype=new N;V.constructor=D,O(V,z.prototype),V.isPureReactComponent=!0;var F=Array.isArray;function K(){}var Q={H:null,A:null,T:null,S:null},ft=Object.prototype.hasOwnProperty;function vt(P,Y,ct){var W=ct.ref;return{$$typeof:n,type:P,key:Y,ref:W!==void 0?W:null,props:ct}}function lt(P,Y){return vt(P.type,Y,P.props)}function dt(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function yt(P){var Y={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ct){return Y[ct]})}var Qt=/\/+/g;function Wt(P,Y){return typeof P=="object"&&P!==null&&P.key!=null?yt(""+P.key):Y.toString(36)}function ut(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(K,K):(P.status="pending",P.then(function(Y){P.status==="pending"&&(P.status="fulfilled",P.value=Y)},function(Y){P.status==="pending"&&(P.status="rejected",P.reason=Y)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function $(P,Y,ct,W,ot){var ht=typeof P;(ht==="undefined"||ht==="boolean")&&(P=null);var _t=!1;if(P===null)_t=!0;else switch(ht){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(P.$$typeof){case n:case e:_t=!0;break;case b:return _t=P._init,$(_t(P._payload),Y,ct,W,ot)}}if(_t)return ot=ot(P),_t=W===""?"."+Wt(P,0):W,F(ot)?(ct="",_t!=null&&(ct=_t.replace(Qt,"$&/")+"/"),$(ot,Y,ct,"",function(Ge){return Ge})):ot!=null&&(dt(ot)&&(ot=lt(ot,ct+(ot.key==null||P&&P.key===ot.key?"":(""+ot.key).replace(Qt,"$&/")+"/")+_t)),Y.push(ot)),1;_t=0;var Zt=W===""?".":W+":";if(F(P))for(var ee=0;ee<P.length;ee++)W=P[ee],ht=Zt+Wt(W,ee),_t+=$(W,Y,ct,ht,ot);else if(ee=C(P),typeof ee=="function")for(P=ee.call(P),ee=0;!(W=P.next()).done;)W=W.value,ht=Zt+Wt(W,ee++),_t+=$(W,Y,ct,ht,ot);else if(ht==="object"){if(typeof P.then=="function")return $(ut(P),Y,ct,W,ot);throw Y=String(P),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _t}function rt(P,Y,ct){if(P==null)return P;var W=[],ot=0;return $(P,W,"","",function(ht){return Y.call(ct,ht,ot++)}),W}function nt(P){if(P._status===-1){var Y=P._result;Y=Y(),Y.then(function(ct){(P._status===0||P._status===-1)&&(P._status=1,P._result=ct)},function(ct){(P._status===0||P._status===-1)&&(P._status=2,P._result=ct)}),P._status===-1&&(P._status=0,P._result=Y)}if(P._status===1)return P._result.default;throw P._result}var Lt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},mt={map:rt,forEach:function(P,Y,ct){rt(P,function(){Y.apply(this,arguments)},ct)},count:function(P){var Y=0;return rt(P,function(){Y++}),Y},toArray:function(P){return rt(P,function(Y){return Y})||[]},only:function(P){if(!dt(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Dt.Activity=w,Dt.Children=mt,Dt.Component=z,Dt.Fragment=r,Dt.Profiler=l,Dt.PureComponent=D,Dt.StrictMode=a,Dt.Suspense=g,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Q.H.useMemoCache(P)}},Dt.cache=function(P){return function(){return P.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(P,Y,ct){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var W=O({},P.props),ot=P.key;if(Y!=null)for(ht in Y.key!==void 0&&(ot=""+Y.key),Y)!ft.call(Y,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&Y.ref===void 0||(W[ht]=Y[ht]);var ht=arguments.length-2;if(ht===1)W.children=ct;else if(1<ht){for(var _t=Array(ht),Zt=0;Zt<ht;Zt++)_t[Zt]=arguments[Zt+2];W.children=_t}return vt(P.type,ot,W)},Dt.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:h,_context:P},P},Dt.createElement=function(P,Y,ct){var W,ot={},ht=null;if(Y!=null)for(W in Y.key!==void 0&&(ht=""+Y.key),Y)ft.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ot[W]=Y[W]);var _t=arguments.length-2;if(_t===1)ot.children=ct;else if(1<_t){for(var Zt=Array(_t),ee=0;ee<_t;ee++)Zt[ee]=arguments[ee+2];ot.children=Zt}if(P&&P.defaultProps)for(W in _t=P.defaultProps,_t)ot[W]===void 0&&(ot[W]=_t[W]);return vt(P,ht,ot)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(P){return{$$typeof:m,render:P}},Dt.isValidElement=dt,Dt.lazy=function(P){return{$$typeof:b,_payload:{_status:-1,_result:P},_init:nt}},Dt.memo=function(P,Y){return{$$typeof:_,type:P,compare:Y===void 0?null:Y}},Dt.startTransition=function(P){var Y=Q.T,ct={};Q.T=ct;try{var W=P(),ot=Q.S;ot!==null&&ot(ct,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(K,Lt)}catch(ht){Lt(ht)}finally{Y!==null&&ct.types!==null&&(Y.types=ct.types),Q.T=Y}},Dt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Dt.use=function(P){return Q.H.use(P)},Dt.useActionState=function(P,Y,ct){return Q.H.useActionState(P,Y,ct)},Dt.useCallback=function(P,Y){return Q.H.useCallback(P,Y)},Dt.useContext=function(P){return Q.H.useContext(P)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(P,Y){return Q.H.useDeferredValue(P,Y)},Dt.useEffect=function(P,Y){return Q.H.useEffect(P,Y)},Dt.useEffectEvent=function(P){return Q.H.useEffectEvent(P)},Dt.useId=function(){return Q.H.useId()},Dt.useImperativeHandle=function(P,Y,ct){return Q.H.useImperativeHandle(P,Y,ct)},Dt.useInsertionEffect=function(P,Y){return Q.H.useInsertionEffect(P,Y)},Dt.useLayoutEffect=function(P,Y){return Q.H.useLayoutEffect(P,Y)},Dt.useMemo=function(P,Y){return Q.H.useMemo(P,Y)},Dt.useOptimistic=function(P,Y){return Q.H.useOptimistic(P,Y)},Dt.useReducer=function(P,Y,ct){return Q.H.useReducer(P,Y,ct)},Dt.useRef=function(P){return Q.H.useRef(P)},Dt.useState=function(P){return Q.H.useState(P)},Dt.useSyncExternalStore=function(P,Y,ct){return Q.H.useSyncExternalStore(P,Y,ct)},Dt.useTransition=function(){return Q.H.useTransition()},Dt.version="19.2.1",Dt}var k0;function Rm(){return k0||(k0=1,up.exports=DT()),up.exports}var j=Rm();const ss=Wh(j);var cp={exports:{}},Wl={},hp={exports:{}},dp={};var M0;function zT(){return M0||(M0=1,(function(n){function e($,rt){var nt=$.length;$.push(rt);t:for(;0<nt;){var Lt=nt-1>>>1,mt=$[Lt];if(0<l(mt,rt))$[Lt]=rt,$[nt]=mt,nt=Lt;else break t}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var rt=$[0],nt=$.pop();if(nt!==rt){$[0]=nt;t:for(var Lt=0,mt=$.length,P=mt>>>1;Lt<P;){var Y=2*(Lt+1)-1,ct=$[Y],W=Y+1,ot=$[W];if(0>l(ct,nt))W<mt&&0>l(ot,ct)?($[Lt]=ot,$[W]=nt,Lt=W):($[Lt]=ct,$[Y]=nt,Lt=Y);else if(W<mt&&0>l(ot,nt))$[Lt]=ot,$[W]=nt,Lt=W;else break t}}return rt}function l($,rt){var nt=$.sortIndex-rt.sortIndex;return nt!==0?nt:$.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var g=[],_=[],b=1,w=null,E=3,C=!1,M=!1,O=!1,R=!1,z=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V($){for(var rt=r(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=$)a(_),rt.sortIndex=rt.expirationTime,e(g,rt);else break;rt=r(_)}}function F($){if(O=!1,V($),!M)if(r(g)!==null)M=!0,K||(K=!0,yt());else{var rt=r(_);rt!==null&&ut(F,rt.startTime-$)}}var K=!1,Q=-1,ft=5,vt=-1;function lt(){return R?!0:!(n.unstable_now()-vt<ft)}function dt(){if(R=!1,K){var $=n.unstable_now();vt=$;var rt=!0;try{t:{M=!1,O&&(O=!1,N(Q),Q=-1),C=!0;var nt=E;try{e:{for(V($),w=r(g);w!==null&&!(w.expirationTime>$&&lt());){var Lt=w.callback;if(typeof Lt=="function"){w.callback=null,E=w.priorityLevel;var mt=Lt(w.expirationTime<=$);if($=n.unstable_now(),typeof mt=="function"){w.callback=mt,V($),rt=!0;break e}w===r(g)&&a(g),V($)}else a(g);w=r(g)}if(w!==null)rt=!0;else{var P=r(_);P!==null&&ut(F,P.startTime-$),rt=!1}}break t}finally{w=null,E=nt,C=!1}rt=void 0}}finally{rt?yt():K=!1}}}var yt;if(typeof D=="function")yt=function(){D(dt)};else if(typeof MessageChannel<"u"){var Qt=new MessageChannel,Wt=Qt.port2;Qt.port1.onmessage=dt,yt=function(){Wt.postMessage(null)}}else yt=function(){z(dt,0)};function ut($,rt){Q=z(function(){$(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function($){switch(E){case 1:case 2:case 3:var rt=3;break;default:rt=E}var nt=E;E=rt;try{return $()}finally{E=nt}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function($,rt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var nt=E;E=$;try{return rt()}finally{E=nt}},n.unstable_scheduleCallback=function($,rt,nt){var Lt=n.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?Lt+nt:Lt):nt=Lt,$){case 1:var mt=-1;break;case 2:mt=250;break;case 5:mt=1073741823;break;case 4:mt=1e4;break;default:mt=5e3}return mt=nt+mt,$={id:b++,callback:rt,priorityLevel:$,startTime:nt,expirationTime:mt,sortIndex:-1},nt>Lt?($.sortIndex=nt,e(_,$),r(g)===null&&$===r(_)&&(O?(N(Q),Q=-1):O=!0,ut(F,nt-Lt))):($.sortIndex=mt,e(g,$),M||C||(M=!0,K||(K=!0,yt()))),$},n.unstable_shouldYield=lt,n.unstable_wrapCallback=function($){var rt=E;return function(){var nt=E;E=rt;try{return $.apply(this,arguments)}finally{E=nt}}}})(dp)),dp}var L0;function BT(){return L0||(L0=1,hp.exports=zT()),hp.exports}var fp={exports:{}},an={};var P0;function NT(){if(P0)return an;P0=1;var n=Rm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(g,_,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:g,containerInfo:_,implementation:b}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(g,_,null,b)},an.flushSync=function(g){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=b,a.d.f()}},an.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},an.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},an.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var b=_.as,w=m(b,_.crossOrigin),E=typeof _.integrity=="string"?_.integrity:void 0,C=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:C}):b==="script"&&a.d.X(g,{crossOrigin:w,integrity:E,fetchPriority:C,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},an.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=m(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},an.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,w=m(b,_.crossOrigin);a.d.L(g,b,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},an.preloadModule=function(g,_){if(typeof g=="string")if(_){var b=m(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},an.requestFormReset=function(g){a.d.r(g)},an.unstable_batchedUpdates=function(g,_){return g(_)},an.useFormState=function(g,_,b){return d.H.useFormState(g,_,b)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.1",an}var D0;function Ix(){if(D0)return fp.exports;D0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fp.exports=NT(),fp.exports}var z0;function UT(){if(z0)return Wl;z0=1;var n=BT(),e=Rm(),r=Ix();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var i=t.alternate;if(!i){if(i=h(t),i===null)throw Error(a(188));return i!==t?null:t}for(var o=t,c=i;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return g(p),t;if(v===c)return g(p),i;v=v.sibling}throw Error(a(188))}if(o.return!==c.return)o=p,c=v;else{for(var T=!1,k=p.child;k;){if(k===o){T=!0,o=p,c=v;break}if(k===c){T=!0,c=p,o=v;break}k=k.sibling}if(!T){for(k=v.child;k;){if(k===o){T=!0,o=v,c=p;break}if(k===c){T=!0,c=v,o=p;break}k=k.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),vt=Symbol.for("react.activity"),lt=Symbol.for("react.memo_cache_sentinel"),dt=Symbol.iterator;function yt(t){return t===null||typeof t!="object"?null:(t=dt&&t[dt]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Symbol.for("react.client.reference");function Wt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Qt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case z:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case K:return"SuspenseList";case vt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case D:return t.displayName||"Context";case N:return(t._context.displayName||"Context")+".Consumer";case V:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return i=t.displayName||null,i!==null?i:Wt(t.type)||"Memo";case ft:i=t._payload,t=t._init;try{return Wt(t(i))}catch{}}return null}var ut=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},Lt=[],mt=-1;function P(t){return{current:t}}function Y(t){0>mt||(t.current=Lt[mt],Lt[mt]=null,mt--)}function ct(t,i){mt++,Lt[mt]=t.current,t.current=i}var W=P(null),ot=P(null),ht=P(null),_t=P(null);function Zt(t,i){switch(ct(ht,i),ct(ot,t),ct(W,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Xv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Xv(i),t=Jv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(W),ct(W,t)}function ee(){Y(W),Y(ot),Y(ht)}function Ge(t){t.memoizedState!==null&&ct(_t,t);var i=W.current,o=Jv(i,t.type);i!==o&&(ct(ot,t),ct(W,o))}function mn(t){ot.current===t&&(Y(W),Y(ot)),_t.current===t&&(Y(_t),Vl._currentValue=nt)}var ce,ya;function Ii(t){if(ce===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ce=i&&i[1]||"",ya=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+t+ya}var va=!1;function _a(t,i){if(!t||va)return"";va=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(tt){var J=tt}Reflect.construct(t,[],at)}else{try{at.call()}catch(tt){J=tt}t.call(at.prototype)}}else{try{throw Error()}catch(tt){J=tt}(at=t())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(tt){if(tt&&J&&typeof tt.stack=="string")return[tt.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),T=v[0],k=v[1];if(T&&k){var U=T.split(`
`),G=k.split(`
`);for(p=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(c===U.length||p===G.length)for(c=U.length-1,p=G.length-1;1<=c&&0<=p&&U[c]!==G[p];)p--;for(;1<=c&&0<=p;c--,p--)if(U[c]!==G[p]){if(c!==1||p!==1)do if(c--,p--,0>p||U[c]!==G[p]){var et=`
`+U[c].replace(" at new "," at ");return t.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",t.displayName)),et}while(1<=c&&0<=p);break}}}finally{va=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Ii(o):""}function Uo(t,i){switch(t.tag){case 26:case 27:case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return t.child!==i&&i!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return Ii("Activity");default:return""}}function hs(t){try{var i="",o=null;do i+=Uo(t,o),o=t,t=t.return;while(t);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Io=Object.prototype.hasOwnProperty,xa=n.unstable_scheduleCallback,ds=n.unstable_cancelCallback,Ru=n.unstable_shouldYield,Ou=n.unstable_requestPaint,un=n.unstable_now,ud=n.unstable_getCurrentPriorityLevel,ba=n.unstable_ImmediatePriority,Vo=n.unstable_UserBlockingPriority,fs=n.unstable_NormalPriority,cd=n.unstable_LowPriority,Ho=n.unstable_IdlePriority,ku=n.log,hd=n.unstable_setDisableYieldValue,vr=null,Ke=null;function ri(t){if(typeof ku=="function"&&hd(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(vr,t)}catch{}}var cn=Math.clz32?Math.clz32:fd,ps=Math.log,dd=Math.LN2;function fd(t){return t>>>=0,t===0?32:31-(ps(t)/dd|0)|0}var ms=256,gs=262144,ys=4194304;function Vi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wa(t,i,o){var c=t.pendingLanes;if(c===0)return 0;var p=0,v=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var k=c&134217727;return k!==0?(c=k&~v,c!==0?p=Vi(c):(T&=k,T!==0?p=Vi(T):o||(o=k&~t,o!==0&&(p=Vi(o))))):(k=c&~v,k!==0?p=Vi(k):T!==0?p=Vi(T):o||(o=c&~t,o!==0&&(p=Vi(o)))),p===0?0:i!==0&&i!==p&&(i&v)===0&&(v=p&-p,o=i&-i,v>=o||v===32&&(o&4194048)!==0)?i:p}function vs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var t=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),t}function qo(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function Hi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function md(t,i,o,c,p,v){var T=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var k=t.entanglements,U=t.expirationTimes,G=t.hiddenUpdates;for(o=T&~o;0<o;){var et=31-cn(o),at=1<<et;k[et]=0,U[et]=-1;var J=G[et];if(J!==null)for(G[et]=null,et=0;et<J.length;et++){var tt=J[et];tt!==null&&(tt.lane&=-536870913)}o&=~at}c!==0&&Lu(t,c,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(T&~i))}function Lu(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-cn(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|o&261930}function Pu(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var c=31-cn(o),p=1<<c;p&i|t[c]&i&&(t[c]|=i),o&=~p}}function Du(t,i){var o=i&-i;return o=(o&42)!==0?1:gn(o),(o&(t.suspendedLanes|i))!==0?0:o}function gn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function St(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fo(){var t=rt.p;return t!==0?t:(t=window.event,t===void 0?32:b0(t.type))}function $o(t,i){var o=rt.p;try{return rt.p=t,i()}finally{rt.p=o}}var si=Math.random().toString(36).slice(2),Oe="__reactFiber$"+si,Fe="__reactProps$"+si,qi="__reactContainer$"+si,bi="__reactEvents$"+si,zu="__reactListeners$"+si,gd="__reactHandles$"+si,Bu="__reactResources$"+si,_s="__reactMarker$"+si;function Wo(t){delete t[Oe],delete t[Fe],delete t[bi],delete t[zu],delete t[gd]}function Fi(t){var i=t[Oe];if(i)return i;for(var o=t.parentNode;o;){if(i=o[qi]||o[Oe]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=s0(t);t!==null;){if(o=t[Oe])return o;t=s0(t)}return i}t=o,o=t.parentNode}return null}function _r(t){if(t=t[Oe]||t[qi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function wi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function xr(t){var i=t[Bu];return i||(i=t[Bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ke(t){t[_s]=!0}var Nu=new Set,Uu={};function $i(t,i){Si(t,i),Si(t+"Capture",i)}function Si(t,i){for(Uu[t]=i,t=0;t<i.length;t++)Nu.add(i[t])}var xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},Go={};function bs(t){return Io.call(Go,t)?!0:Io.call(Zo,t)?!1:xs.test(t)?Go[t]=!0:(Zo[t]=!0,!1)}function Ut(t,i,o){if(bs(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function re(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function yn(t,i,o,c){if(c===null)t.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+c)}}function Ue(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(t,i,o){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){o=""+T,v.call(this,T)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Pt(t){if(!t._valueTracker){var i=Wi(t)?"checked":"value";t._valueTracker=Ko(t,i,""+t[i])}}function pe(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return t&&(c=Wi(t)?t.checked?"true":"false":t.value),t=c,t!==o?(i.setValue(t),!0):!1}function br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sa=/[\n"\\]/g;function de(t){return t.replace(Sa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Yo(t,i,o,c,p,v,T,k){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ue(i)):t.value!==""+Ue(i)&&(t.value=""+Ue(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?ai(t,T,Ue(i)):o!=null?ai(t,T,Ue(o)):c!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.name=""+Ue(k):t.removeAttribute("name")}function ws(t,i,o,c,p,v,T,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),i!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){Pt(t);return}o=o!=null?""+Ue(o):"",i=i!=null?""+Ue(i):o,k||i===t.value||(t.value=i),t.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=k?t.checked:!!c,t.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Pt(t)}function ai(t,i,o){i==="number"&&br(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function le(t,i,o,c){if(t=t.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<t.length;o++)p=i.hasOwnProperty("$"+t[o].value),t[o].selected!==p&&(t[o].selected=p),p&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Ue(o),i=null,p=0;p<t.length;p++){if(t[p].value===o){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function Ti(t,i,o){if(i!=null&&(i=""+Ue(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+Ue(o):""}function wr(t,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(ut(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Ue(i),t.defaultValue=o,c=t.textContent,c===o&&c!==""&&c!==null&&(t.value=c),Pt(t)}function Hn(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sr(t,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,o):typeof o!="number"||o===0||Xo.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function Ta(t,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&o[p]!==c&&Sr(t,p,c)}else for(var v in i)i.hasOwnProperty(v)&&Sr(t,v,i[v])}function Ss(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ea=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(t){return Jo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function vn(){}var Ca=null;function Ts(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Er=null,Ot=null;function kn(t){var i=_r(t);if(i&&(t=i.stateNode)){var o=t[Fe]||null;t:switch(t=i.stateNode,i.type){case"input":if(Yo(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+de(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==t&&c.form===t.form){var p=c[Fe]||null;if(!p)throw Error(a(90));Yo(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===t.form&&pe(c)}break t;case"textarea":Ti(t,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&le(t,!!o.multiple,i,!1)}}}var te=!1;function Qo(t,i,o){if(te)return t(i,o);te=!0;try{var c=t(i);return c}finally{if(te=!1,(Er!==null||Ot!==null)&&(Dc(),Er&&(i=Er,t=Ot,Ot=Er=null,kn(i),t)))for(i=0;i<t.length;i++)kn(t[i])}}function Zi(t,i){var o=t.stateNode;if(o===null)return null;var c=o[Fe]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break t;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Mn)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Es=!1}var qn=null,Gi=null,we=null;function Ei(){if(we)return we;var t,i=Gi,o=i.length,c,p="value"in qn?qn.value:qn.textContent,v=p.length;for(t=0;t<o&&i[t]===p[t];t++);var T=o-t;for(c=1;c<=T&&i[o-c]===p[v-c];c++);return we=p.slice(t,1<c?1-c:void 0)}function Cs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function As(){return!0}function Iu(){return!1}function Ye(t){function i(o,c,p,v,T){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(o=t[k],this[k]=o?o(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?As:Iu,this.isPropagationStopped=Iu,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),i}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Ye(oi),Cr=w({},oi,{view:0,detail:0}),qt=Ye(Cr),tl,hn,li,js=w({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(tl=t.screenX-li.screenX,hn=t.screenY-li.screenY):hn=tl=0,li=t),tl)},movementY:function(t){return"movementY"in t?t.movementY:hn}}),Vu=Ye(js),el=w({},js,{dataTransfer:0}),yd=Ye(el),Hu=w({},Cr,{relatedTarget:0}),nl=Ye(Hu),vd=w({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),il=Ye(vd),_d=w({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fn=Ye(_d),xd=w({},oi,{data:0}),rl=Ye(xd),Ci={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fu[t])?!!i[t]:!1}function al(){return sl}var $u=w({},Cr,{key:function(t){if(t.key){var i=Ci[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wu=Ye($u),bd=w({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zu=Ye(bd),ol=w({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),wd=Ye(ol),Gu=w({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=Ye(Gu),ja=w({},js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ki=Ye(ja),Sd=w({},oi,{newState:0,oldState:0}),Rs=Ye(Sd),_n=[9,13,27,32],Ra=Mn&&"CompositionEvent"in window,Ar=null;Mn&&"documentMode"in document&&(Ar=document.documentMode);var Td=Mn&&"TextEvent"in window&&!Ar,Oa=Mn&&(!Ra||Ar&&8<Ar&&11>=Ar),ka=" ",Yu=!1;function Xu(t,i){switch(t){case"keyup":return _n.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ll(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jr=!1;function Pn(t,i){switch(t){case"compositionend":return ll(i);case"keypress":return i.which!==32?null:(Yu=!0,ka);case"textInput":return t=i.data,t===ka&&Yu?null:t;default:return null}}function Rr(t,i){if(jr)return t==="compositionend"||!Ra&&Xu(t,i)?(t=Ei(),we=Gi=qn=null,jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Oa&&i.locale!=="ko"?null:i.data;default:return null}}var Ed={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ed[t.type]:i==="textarea"}function Ju(t,i,o,c){Er?Ot?Ot.push(c):Ot=[c]:Er=c,i=Hc(i,"onChange"),0<i.length&&(o=new Aa("onChange","change",null,o,c),t.push({event:o,listeners:i}))}var Wn=null,Os=null;function ks(t){$v(t,0)}function Ms(t){var i=wi(t);if(pe(i))return t}function Ls(t,i){if(t==="change")return i}var Qu=!1;if(Mn){var Zn;if(Mn){var Or="oninput"in document;if(!Or){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),Or=typeof tc.oninput=="function"}Zn=Or}else Zn=!1;Qu=Zn&&(!document.documentMode||9<document.documentMode)}function Ma(){Wn&&(Wn.detachEvent("onpropertychange",ec),Os=Wn=null)}function ec(t){if(t.propertyName==="value"&&Ms(Os)){var i=[];Ju(i,Os,t,Ts(t)),Qo(ks,i)}}function ui(t,i,o){t==="focusin"?(Ma(),Wn=i,Os=o,Wn.attachEvent("onpropertychange",ec)):t==="focusout"&&Ma()}function Cd(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ms(Os)}function kr(t,i){if(t==="click")return Ms(i)}function Ad(t,i){if(t==="input"||t==="change")return Ms(i)}function ci(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var $e=typeof Object.is=="function"?Object.is:ci;function Mr(t,i){if($e(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Io.call(i,p)||!$e(t[p],i[p]))return!1}return!0}function La(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ps(t,i){var o=La(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=i&&c>=i)return{node:o,offset:i-t};t=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=La(o)}}function Pa(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Pa(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ds(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=br(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=br(t.document)}return i}function Ai(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Da=Mn&&"documentMode"in document&&11>=document.documentMode,ji=null,za=null,zs=null,Lr=!1;function nc(t,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lr||ji==null||ji!==br(c)||(c=ji,"selectionStart"in c&&Ai(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zs&&Mr(zs,c)||(zs=c,c=Hc(za,"onSelect"),0<c.length&&(i=new Aa("onSelect","select",null,i,o),t.push({event:i,listeners:c}),i.target=ji)))}function Ri(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Pr={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},Ba={},ic={};Mn&&(ic=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function We(t){if(Ba[t])return Ba[t];if(!Pr[t])return t;var i=Pr[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in ic)return Ba[t]=i[o];return t}var Bs=We("animationend"),rc=We("animationiteration"),Ns=We("animationstart"),jd=We("transitionrun"),sc=We("transitionstart"),Rd=We("transitioncancel"),Dr=We("transitionend"),ac=new Map,Oi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oi.push("scrollEnd");function xn(t,i){ac.set(t,i),$i(i,[t])}var Us=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],rn=0,Na=0;function Is(){for(var t=rn,i=Na=rn=0;i<t;){var o=bn[i];bn[i++]=null;var c=bn[i];bn[i++]=null;var p=bn[i];bn[i++]=null;var v=bn[i];if(bn[i++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}v!==0&&zr(o,p,v)}}function ki(t,i,o,c){bn[rn++]=t,bn[rn++]=i,bn[rn++]=o,bn[rn++]=c,Na|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function ul(t,i,o,c){return ki(t,i,o,c),Vs(t)}function Gn(t,i){return ki(t,null,null,i),Vs(t)}function zr(t,i,o){t.lanes|=o;var c=t.alternate;c!==null&&(c.lanes|=o);for(var p=!1,v=t.return;v!==null;)v.childLanes|=o,c=v.alternate,c!==null&&(c.childLanes|=o),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&i!==null&&(p=31-cn(o),t=v.hiddenUpdates,c=t[p],c===null?t[p]=[i]:c.push(i),i.lane=o|536870912),v):null}function Vs(t){if(50<Pl)throw Pl=0,Mf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Yi={};function Od(t,i,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,i,o,c){return new Od(t,i,o,c)}function Ua(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kn(t,i){var o=t.alternate;return o===null?(o=sn(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function cl(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Hs(t,i,o,c,p,v){var T=0;if(c=t,typeof t=="function")Ua(t)&&(T=1);else if(typeof t=="string")T=xT(t,o,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case vt:return t=sn(31,o,i,p),t.elementType=vt,t.lanes=v,t;case O:return Xi(o.children,p,v,i);case R:T=8,p|=24;break;case z:return t=sn(12,o,i,p|2),t.elementType=z,t.lanes=v,t;case F:return t=sn(13,o,i,p),t.elementType=F,t.lanes=v,t;case K:return t=sn(19,o,i,p),t.elementType=K,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:T=10;break t;case N:T=9;break t;case V:T=11;break t;case Q:T=14;break t;case ft:T=16,c=null;break t}T=29,o=Error(a(130,t===null?"null":typeof t,"")),c=null}return i=sn(T,o,i,p),i.elementType=t,i.type=c,i.lanes=v,i}function Xi(t,i,o,c){return t=sn(7,t,c,i),t.lanes=o,t}function Ia(t,i,o){return t=sn(6,t,null,i),t.lanes=o,t}function hl(t){var i=sn(18,null,null,0);return i.stateNode=t,i}function dl(t,i,o){return i=sn(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var s=new WeakMap;function u(t,i){if(typeof t=="object"&&t!==null){var o=s.get(t);return o!==void 0?o:(i={value:t,source:i,stack:hs(i)},s.set(t,i),i)}return{value:t,source:i,stack:hs(i)}}var f=[],x=0,S=null,A=0,B=[],q=0,X=null,st=1,gt="";function Et(t,i){f[x++]=A,f[x++]=S,S=t,A=i}function Bt(t,i,o){B[q++]=st,B[q++]=gt,B[q++]=X,X=t;var c=st;t=gt;var p=32-cn(c)-1;c&=~(1<<p),o+=1;var v=32-cn(i)+p;if(30<v){var T=p-p%5;v=(c&(1<<T)-1).toString(32),c>>=T,p-=T,st=1<<32-cn(i)+p|o<<p|c,gt=v+t}else st=1<<v|o<<p|c,gt=t}function Ie(t){t.return!==null&&(Et(t,1),Bt(t,1,0))}function Se(t){for(;t===S;)S=f[--x],f[x]=null,A=f[--x],f[x]=null;for(;t===X;)X=B[--q],B[q]=null,gt=B[--q],B[q]=null,st=B[--q],B[q]=null}function dn(t,i){B[q++]=st,B[q++]=gt,B[q++]=X,st=i.id,gt=i.overflow,X=t}var Gt=null,Kt=null,It=!1,Mi=null,wn=!1,Va=Error(a(519));function Li(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qs(u(i,t)),Va}function fl(t){var i=t.stateNode,o=t.type,c=t.memoizedProps;switch(i[Oe]=t,i[Fe]=c,o){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(o=0;o<zl.length;o++)Ht(zl[o],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":Ht("invalid",i),ws(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ht("invalid",i);break;case"textarea":Ht("invalid",i),wr(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Kv(i.textContent,o)?(c.popover!=null&&(Ht("beforetoggle",i),Ht("toggle",i)),c.onScroll!=null&&Ht("scroll",i),c.onScrollEnd!=null&&Ht("scrollend",i),c.onClick!=null&&(i.onclick=vn),i=!0):i=!1,i||Li(t,!0)}function _e(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Gt=Gt.return}}function hi(t){if(t!==Gt)return!1;if(!It)return _e(t),It=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Zf(t.type,t.memoizedProps)),o=!o),o&&Kt&&Li(t),_e(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Kt=r0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Kt=r0(t)}else i===27?(i=Kt,Yr(t.type)?(t=Jf,Jf=null,Kt=t):Kt=i):Kt=Gt?Xn(t.stateNode.nextSibling):null;return!0}function Ji(){Kt=Gt=null,It=!1}function pl(){var t=Mi;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),Mi=null),t}function qs(t){Mi===null?Mi=[t]:Mi.push(t)}var Fs=P(null),Pi=null,di=null;function Br(t,i,o){ct(Fs,i._currentValue),i._currentValue=o}function Qi(t){t._currentValue=Fs.current,Y(Fs)}function kd(t,i,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===o)break;t=t.return}}function Md(t,i,o,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var T=p.child;v=v.firstContext;t:for(;v!==null;){var k=v;v=p;for(var U=0;U<i.length;U++)if(k.context===i[U]){v.lanes|=o,k=v.alternate,k!==null&&(k.lanes|=o),kd(v.return,o,t),c||(T=null);break t}v=k.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(a(341));T.lanes|=o,v=T.alternate,v!==null&&(v.lanes|=o),kd(T,o,t),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===t){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Ha(t,i,o,c){t=null;for(var p=i,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var k=p.type;$e(p.pendingProps.value,T.value)||(t!==null?t.push(k):t=[k])}}else if(p===_t.current){if(T=p.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}p=p.return}t!==null&&Md(i,t,o,c),i.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!$e(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Pi=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xe(t){return Pg(Pi,t)}function lc(t,i){return Pi===null&&$s(t),Pg(t,i)}function Pg(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},di===null){if(t===null)throw Error(a(308));di=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else di=di.next=i;return o}var gS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},yS=n.unstable_scheduleCallback,vS=n.unstable_NormalPriority,Me={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new gS,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&yS(vS,function(){t.controller.abort()})}var gl=null,Pd=0,qa=0,Fa=null;function _S(t,i){if(gl===null){var o=gl=[];Pd=0,qa=Nf(),Fa={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Pd++,i.then(Dg,Dg),i}function Dg(){if(--Pd===0&&gl!==null){Fa!==null&&(Fa.status="fulfilled");var t=gl;gl=null,qa=0,Fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function xS(t,i){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var zg=$.S;$.S=function(t,i){_v=un(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_S(t,i),zg!==null&&zg(t,i)};var Ws=P(null);function Dd(){var t=Ws.current;return t!==null?t:ue.pooledCache}function uc(t,i){i===null?ct(Ws,Ws.current):ct(Ws,i.pool)}function Bg(){var t=Dd();return t===null?null:{parent:Me._currentValue,pool:t}}var $a=Error(a(460)),zd=Error(a(474)),cc=Error(a(542)),hc={then:function(){}};function Ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ug(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(vn,vn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vg(t),t;default:if(typeof i.status=="string")i.then(vn,vn);else{if(t=ue,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vg(t),t}throw Gs=i,$a}}function Zs(t){try{var i=t._init;return i(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Gs=o,$a):o}}var Gs=null;function Ig(){if(Gs===null)throw Error(a(459));var t=Gs;return Gs=null,t}function Vg(t){if(t===$a||t===cc)throw Error(a(483))}var Wa=null,yl=0;function dc(t){var i=yl;return yl+=1,Wa===null&&(Wa=[]),Ug(Wa,t,i)}function vl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===E?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hg(t){function i(H,I){if(t){var Z=H.deletions;Z===null?(H.deletions=[I],H.flags|=16):Z.push(I)}}function o(H,I){if(!t)return null;for(;I!==null;)i(H,I),I=I.sibling;return null}function c(H){for(var I=new Map;H!==null;)H.key!==null?I.set(H.key,H):I.set(H.index,H),H=H.sibling;return I}function p(H,I){return H=Kn(H,I),H.index=0,H.sibling=null,H}function v(H,I,Z){return H.index=Z,t?(Z=H.alternate,Z!==null?(Z=Z.index,Z<I?(H.flags|=67108866,I):Z):(H.flags|=67108866,I)):(H.flags|=1048576,I)}function T(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function k(H,I,Z,it){return I===null||I.tag!==6?(I=Ia(Z,H.mode,it),I.return=H,I):(I=p(I,Z),I.return=H,I)}function U(H,I,Z,it){var Ct=Z.type;return Ct===O?et(H,I,Z.props.children,it,Z.key):I!==null&&(I.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===ft&&Zs(Ct)===I.type)?(I=p(I,Z.props),vl(I,Z),I.return=H,I):(I=Hs(Z.type,Z.key,Z.props,null,H.mode,it),vl(I,Z),I.return=H,I)}function G(H,I,Z,it){return I===null||I.tag!==4||I.stateNode.containerInfo!==Z.containerInfo||I.stateNode.implementation!==Z.implementation?(I=dl(Z,H.mode,it),I.return=H,I):(I=p(I,Z.children||[]),I.return=H,I)}function et(H,I,Z,it,Ct){return I===null||I.tag!==7?(I=Xi(Z,H.mode,it,Ct),I.return=H,I):(I=p(I,Z),I.return=H,I)}function at(H,I,Z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Ia(""+I,H.mode,Z),I.return=H,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return Z=Hs(I.type,I.key,I.props,null,H.mode,Z),vl(Z,I),Z.return=H,Z;case M:return I=dl(I,H.mode,Z),I.return=H,I;case ft:return I=Zs(I),at(H,I,Z)}if(ut(I)||yt(I))return I=Xi(I,H.mode,Z,null),I.return=H,I;if(typeof I.then=="function")return at(H,dc(I),Z);if(I.$$typeof===D)return at(H,lc(H,I),Z);fc(H,I)}return null}function J(H,I,Z,it){var Ct=I!==null?I.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ct!==null?null:k(H,I,""+Z,it);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return Z.key===Ct?U(H,I,Z,it):null;case M:return Z.key===Ct?G(H,I,Z,it):null;case ft:return Z=Zs(Z),J(H,I,Z,it)}if(ut(Z)||yt(Z))return Ct!==null?null:et(H,I,Z,it,null);if(typeof Z.then=="function")return J(H,I,dc(Z),it);if(Z.$$typeof===D)return J(H,I,lc(H,Z),it);fc(H,Z)}return null}function tt(H,I,Z,it,Ct){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return H=H.get(Z)||null,k(I,H,""+it,Ct);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case C:return H=H.get(it.key===null?Z:it.key)||null,U(I,H,it,Ct);case M:return H=H.get(it.key===null?Z:it.key)||null,G(I,H,it,Ct);case ft:return it=Zs(it),tt(H,I,Z,it,Ct)}if(ut(it)||yt(it))return H=H.get(Z)||null,et(I,H,it,Ct,null);if(typeof it.then=="function")return tt(H,I,Z,dc(it),Ct);if(it.$$typeof===D)return tt(H,I,Z,lc(I,it),Ct);fc(I,it)}return null}function bt(H,I,Z,it){for(var Ct=null,Yt=null,wt=I,Nt=I=0,$t=null;wt!==null&&Nt<Z.length;Nt++){wt.index>Nt?($t=wt,wt=null):$t=wt.sibling;var Xt=J(H,wt,Z[Nt],it);if(Xt===null){wt===null&&(wt=$t);break}t&&wt&&Xt.alternate===null&&i(H,wt),I=v(Xt,I,Nt),Yt===null?Ct=Xt:Yt.sibling=Xt,Yt=Xt,wt=$t}if(Nt===Z.length)return o(H,wt),It&&Et(H,Nt),Ct;if(wt===null){for(;Nt<Z.length;Nt++)wt=at(H,Z[Nt],it),wt!==null&&(I=v(wt,I,Nt),Yt===null?Ct=wt:Yt.sibling=wt,Yt=wt);return It&&Et(H,Nt),Ct}for(wt=c(wt);Nt<Z.length;Nt++)$t=tt(wt,H,Nt,Z[Nt],it),$t!==null&&(t&&$t.alternate!==null&&wt.delete($t.key===null?Nt:$t.key),I=v($t,I,Nt),Yt===null?Ct=$t:Yt.sibling=$t,Yt=$t);return t&&wt.forEach(function(es){return i(H,es)}),It&&Et(H,Nt),Ct}function At(H,I,Z,it){if(Z==null)throw Error(a(151));for(var Ct=null,Yt=null,wt=I,Nt=I=0,$t=null,Xt=Z.next();wt!==null&&!Xt.done;Nt++,Xt=Z.next()){wt.index>Nt?($t=wt,wt=null):$t=wt.sibling;var es=J(H,wt,Xt.value,it);if(es===null){wt===null&&(wt=$t);break}t&&wt&&es.alternate===null&&i(H,wt),I=v(es,I,Nt),Yt===null?Ct=es:Yt.sibling=es,Yt=es,wt=$t}if(Xt.done)return o(H,wt),It&&Et(H,Nt),Ct;if(wt===null){for(;!Xt.done;Nt++,Xt=Z.next())Xt=at(H,Xt.value,it),Xt!==null&&(I=v(Xt,I,Nt),Yt===null?Ct=Xt:Yt.sibling=Xt,Yt=Xt);return It&&Et(H,Nt),Ct}for(wt=c(wt);!Xt.done;Nt++,Xt=Z.next())Xt=tt(wt,H,Nt,Xt.value,it),Xt!==null&&(t&&Xt.alternate!==null&&wt.delete(Xt.key===null?Nt:Xt.key),I=v(Xt,I,Nt),Yt===null?Ct=Xt:Yt.sibling=Xt,Yt=Xt);return t&&wt.forEach(function(kT){return i(H,kT)}),It&&Et(H,Nt),Ct}function oe(H,I,Z,it){if(typeof Z=="object"&&Z!==null&&Z.type===O&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:t:{for(var Ct=Z.key;I!==null;){if(I.key===Ct){if(Ct=Z.type,Ct===O){if(I.tag===7){o(H,I.sibling),it=p(I,Z.props.children),it.return=H,H=it;break t}}else if(I.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===ft&&Zs(Ct)===I.type){o(H,I.sibling),it=p(I,Z.props),vl(it,Z),it.return=H,H=it;break t}o(H,I);break}else i(H,I);I=I.sibling}Z.type===O?(it=Xi(Z.props.children,H.mode,it,Z.key),it.return=H,H=it):(it=Hs(Z.type,Z.key,Z.props,null,H.mode,it),vl(it,Z),it.return=H,H=it)}return T(H);case M:t:{for(Ct=Z.key;I!==null;){if(I.key===Ct)if(I.tag===4&&I.stateNode.containerInfo===Z.containerInfo&&I.stateNode.implementation===Z.implementation){o(H,I.sibling),it=p(I,Z.children||[]),it.return=H,H=it;break t}else{o(H,I);break}else i(H,I);I=I.sibling}it=dl(Z,H.mode,it),it.return=H,H=it}return T(H);case ft:return Z=Zs(Z),oe(H,I,Z,it)}if(ut(Z))return bt(H,I,Z,it);if(yt(Z)){if(Ct=yt(Z),typeof Ct!="function")throw Error(a(150));return Z=Ct.call(Z),At(H,I,Z,it)}if(typeof Z.then=="function")return oe(H,I,dc(Z),it);if(Z.$$typeof===D)return oe(H,I,lc(H,Z),it);fc(H,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,I!==null&&I.tag===6?(o(H,I.sibling),it=p(I,Z),it.return=H,H=it):(o(H,I),it=Ia(Z,H.mode,it),it.return=H,H=it),T(H)):o(H,I)}return function(H,I,Z,it){try{yl=0;var Ct=oe(H,I,Z,it);return Wa=null,Ct}catch(wt){if(wt===$a||wt===cc)throw wt;var Yt=sn(29,wt,null,H.mode);return Yt.lanes=it,Yt.return=H,Yt}finally{}}}var Ks=Hg(!0),qg=Hg(!1),Nr=!1;function Bd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Jt&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Vs(t),zr(t,null,o),i}return ki(t,c,i,o),Vs(t)}function _l(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,o|=c,i.lanes=o,Pu(t,o)}}function Ud(t,i){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=T:v=v.next=T,o=o.next}while(o!==null);v===null?p=v=i:v=v.next=i}else p=v=i;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Id=!1;function xl(){if(Id){var t=Fa;if(t!==null)throw t}}function bl(t,i,o,c){Id=!1;var p=t.updateQueue;Nr=!1;var v=p.firstBaseUpdate,T=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var U=k,G=U.next;U.next=null,T===null?v=G:T.next=G,T=U;var et=t.alternate;et!==null&&(et=et.updateQueue,k=et.lastBaseUpdate,k!==T&&(k===null?et.firstBaseUpdate=G:k.next=G,et.lastBaseUpdate=U))}if(v!==null){var at=p.baseState;T=0,et=G=U=null,k=v;do{var J=k.lane&-536870913,tt=J!==k.lane;if(tt?(Ft&J)===J:(c&J)===J){J!==0&&J===qa&&(Id=!0),et!==null&&(et=et.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var bt=t,At=k;J=i;var oe=o;switch(At.tag){case 1:if(bt=At.payload,typeof bt=="function"){at=bt.call(oe,at,J);break t}at=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=At.payload,J=typeof bt=="function"?bt.call(oe,at,J):bt,J==null)break t;at=w({},at,J);break t;case 2:Nr=!0}}J=k.callback,J!==null&&(t.flags|=64,tt&&(t.flags|=8192),tt=p.callbacks,tt===null?p.callbacks=[J]:tt.push(J))}else tt={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},et===null?(G=et=tt,U=at):et=et.next=tt,T|=J;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;tt=k,k=tt.next,tt.next=null,p.lastBaseUpdate=tt,p.shared.pending=null}}while(!0);et===null&&(U=at),p.baseState=U,p.firstBaseUpdate=G,p.lastBaseUpdate=et,v===null&&(p.shared.lanes=0),$r|=T,t.lanes=T,t.memoizedState=at}}function Fg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function $g(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Fg(o[t],i)}var Za=P(null),pc=P(0);function Wg(t,i){t=lr,ct(pc,t),ct(Za,i),lr=t|i.baseLanes}function Vd(){ct(pc,lr),ct(Za,Za.current)}function Hd(){lr=pc.current,Y(Za),Y(pc)}var Dn=P(null),Yn=null;function Vr(t){var i=t.alternate;ct(Ae,Ae.current&1),ct(Dn,t),Yn===null&&(i===null||Za.current!==null||i.memoizedState!==null)&&(Yn=t)}function qd(t){ct(Ae,Ae.current),ct(Dn,t),Yn===null&&(Yn=t)}function Zg(t){t.tag===22?(ct(Ae,Ae.current),ct(Dn,t),Yn===null&&(Yn=t)):Hr()}function Hr(){ct(Ae,Ae.current),ct(Dn,Dn.current)}function zn(t){Y(Dn),Yn===t&&(Yn=null),Y(Ae)}var Ae=P(0);function mc(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Yf(o)||Xf(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var tr=0,zt=null,se=null,Le=null,gc=!1,Ga=!1,Ys=!1,yc=0,wl=0,Ka=null,bS=0;function Te(){throw Error(a(321))}function Fd(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!$e(t[o],i[o]))return!1;return!0}function $d(t,i,o,c,p,v){return tr=v,zt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Oy:of,Ys=!1,v=o(c,p),Ys=!1,Ga&&(v=Kg(i,o,c,p)),Gg(t),v}function Gg(t){$.H=El;var i=se!==null&&se.next!==null;if(tr=0,Le=se=zt=null,gc=!1,wl=0,Ka=null,i)throw Error(a(300));t===null||Pe||(t=t.dependencies,t!==null&&oc(t)&&(Pe=!0))}function Kg(t,i,o,c){zt=t;var p=0;do{if(Ga&&(Ka=null),wl=0,Ga=!1,25<=p)throw Error(a(301));if(p+=1,Le=se=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=ky,v=i(o,c)}while(Ga);return v}function wS(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?Sl(i):i,t=t.useState()[0],(se!==null?se.memoizedState:null)!==t&&(zt.flags|=1024),i}function Wd(){var t=yc!==0;return yc=0,t}function Zd(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function Gd(t){if(gc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gc=!1}tr=0,Le=se=zt=null,Ga=!1,wl=yc=0,Ka=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?zt.memoizedState=Le=t:Le=Le.next=t,Le}function je(){if(se===null){var t=zt.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var i=Le===null?zt.memoizedState:Le.next;if(i!==null)Le=i,se=t;else{if(t===null)throw zt.alternate===null?Error(a(467)):Error(a(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Le===null?zt.memoizedState=Le=t:Le=Le.next=t}return Le}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var i=wl;return wl+=1,Ka===null&&(Ka=[]),t=Ug(Ka,t,i),i=zt,(Le===null?i.memoizedState:Le.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Oy:of),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===D)return Xe(t)}throw Error(a(438,String(t)))}function Kd(t){var i=null,o=zt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=vc(),zt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),c=0;c<t;c++)o[c]=lt;return i.index++,o}function er(t,i){return typeof i=="function"?i(t):i}function xc(t){var i=je();return Yd(i,se,t)}function Yd(t,i,o){var c=t.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var p=t.baseQueue,v=c.pending;if(v!==null){if(p!==null){var T=p.next;p.next=v.next,v.next=T}i.baseQueue=p=v,c.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{i=p.next;var k=T=null,U=null,G=i,et=!1;do{var at=G.lane&-536870913;if(at!==G.lane?(Ft&at)===at:(tr&at)===at){var J=G.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),at===qa&&(et=!0);else if((tr&J)===J){G=G.next,J===qa&&(et=!0);continue}else at={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(k=U=at,T=v):U=U.next=at,zt.lanes|=J,$r|=J;at=G.action,Ys&&o(v,at),v=G.hasEagerState?G.eagerState:o(v,at)}else J={lane:at,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(k=U=J,T=v):U=U.next=J,zt.lanes|=at,$r|=at;G=G.next}while(G!==null&&G!==i);if(U===null?T=v:U.next=k,!$e(v,t.memoizedState)&&(Pe=!0,et&&(o=Fa,o!==null)))throw o;t.memoizedState=v,t.baseState=T,t.baseQueue=U,c.lastRenderedState=v}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Xd(t){var i=je(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var c=o.dispatch,p=o.pending,v=i.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do v=t(v,T.action),T=T.next;while(T!==p);$e(v,i.memoizedState)||(Pe=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),o.lastRenderedState=v}return[v,c]}function Yg(t,i,o){var c=zt,p=je(),v=It;if(v){if(o===void 0)throw Error(a(407));o=o()}else o=i();var T=!$e((se||p).memoizedState,o);if(T&&(p.memoizedState=o,Pe=!0),p=p.queue,tf(Qg.bind(null,c,p,t),[t]),p.getSnapshot!==i||T||Le!==null&&Le.memoizedState.tag&1){if(c.flags|=2048,Ya(9,{destroy:void 0},Jg.bind(null,c,p,o,i),null),ue===null)throw Error(a(349));v||(tr&127)!==0||Xg(c,i,o)}return o}function Xg(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=zt.updateQueue,i===null?(i=vc(),zt.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function Jg(t,i,o,c){i.value=o,i.getSnapshot=c,ty(i)&&ey(t)}function Qg(t,i,o){return o(function(){ty(i)&&ey(t)})}function ty(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!$e(t,o)}catch{return!0}}function ey(t){var i=Gn(t,2);i!==null&&An(i,t,2)}function Jd(t){var i=fn();if(typeof t=="function"){var o=t;if(t=o(),Ys){ri(!0);try{o()}finally{ri(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},i}function ny(t,i,o,c){return t.baseState=o,Yd(t,se,typeof c=="function"?c:er)}function SS(t,i,o,c,p){if(Sc(t))throw Error(a(485));if(t=i.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};$.T!==null?o(!0):v.isTransition=!1,c(v),o=i.pending,o===null?(v.next=i.pending=v,iy(i,v)):(v.next=o.next,i.pending=o.next=v)}}function iy(t,i){var o=i.action,c=i.payload,p=t.state;if(i.isTransition){var v=$.T,T={};$.T=T;try{var k=o(p,c),U=$.S;U!==null&&U(T,k),ry(t,i,k)}catch(G){Qd(t,i,G)}finally{v!==null&&T.types!==null&&(v.types=T.types),$.T=v}}else try{v=o(p,c),ry(t,i,v)}catch(G){Qd(t,i,G)}}function ry(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){sy(t,i,c)},function(c){return Qd(t,i,c)}):sy(t,i,o)}function sy(t,i,o){i.status="fulfilled",i.value=o,ay(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,iy(t,o)))}function Qd(t,i,o){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,ay(i),i=i.next;while(i!==c)}t.action=null}function ay(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function oy(t,i){return i}function ly(t,i){if(It){var o=ue.formState;if(o!==null){t:{var c=zt;if(It){if(Kt){e:{for(var p=Kt,v=wn;p.nodeType!==8;){if(!v){p=null;break e}if(p=Xn(p.nextSibling),p===null){p=null;break e}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Kt=Xn(p.nextSibling),c=p.data==="F!";break t}}Li(c)}c=!1}c&&(i=o[0])}}return o=fn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:i},o.queue=c,o=Ay.bind(null,zt,c),c.dispatch=o,c=Jd(!1),v=af.bind(null,zt,!1,c.queue),c=fn(),p={state:i,dispatch:null,action:t,pending:null},c.queue=p,o=SS.bind(null,zt,p,v,o),p.dispatch=o,c.memoizedState=t,[i,o,!1]}function uy(t){var i=je();return cy(i,se,t)}function cy(t,i,o){if(i=Yd(t,i,oy)[0],t=xc(er)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Sl(i)}catch(T){throw T===$a?cc:T}else c=i;i=je();var p=i.queue,v=p.dispatch;return o!==i.memoizedState&&(zt.flags|=2048,Ya(9,{destroy:void 0},TS.bind(null,p,o),null)),[c,v,t]}function TS(t,i){t.action=i}function hy(t){var i=je(),o=se;if(o!==null)return cy(i,o,t);je(),i=i.memoizedState,o=je();var c=o.queue.dispatch;return o.memoizedState=t,[i,c,!1]}function Ya(t,i,o,c){return t={tag:t,create:o,deps:c,inst:i,next:null},i=zt.updateQueue,i===null&&(i=vc(),zt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,i.lastEffect=t),t}function dy(){return je().memoizedState}function bc(t,i,o,c){var p=fn();zt.flags|=t,p.memoizedState=Ya(1|i,{destroy:void 0},o,c===void 0?null:c)}function wc(t,i,o,c){var p=je();c=c===void 0?null:c;var v=p.memoizedState.inst;se!==null&&c!==null&&Fd(c,se.memoizedState.deps)?p.memoizedState=Ya(i,v,o,c):(zt.flags|=t,p.memoizedState=Ya(1|i,v,o,c))}function fy(t,i){bc(8390656,8,t,i)}function tf(t,i){wc(2048,8,t,i)}function ES(t){zt.flags|=4;var i=zt.updateQueue;if(i===null)i=vc(),zt.updateQueue=i,i.events=[t];else{var o=i.events;o===null?i.events=[t]:o.push(t)}}function py(t){var i=je().memoizedState;return ES({ref:i,nextImpl:t}),function(){if((Jt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function my(t,i){return wc(4,2,t,i)}function gy(t,i){return wc(4,4,t,i)}function yy(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vy(t,i,o){o=o!=null?o.concat([t]):null,wc(4,4,yy.bind(null,i,t),o)}function ef(){}function _y(t,i){var o=je();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Fd(i,c[1])?c[0]:(o.memoizedState=[t,i],t)}function xy(t,i){var o=je();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Fd(i,c[1]))return c[0];if(c=t(),Ys){ri(!0);try{t()}finally{ri(!1)}}return o.memoizedState=[c,i],c}function nf(t,i,o){return o===void 0||(tr&1073741824)!==0&&(Ft&261930)===0?t.memoizedState=i:(t.memoizedState=o,t=bv(),zt.lanes|=t,$r|=t,o)}function by(t,i,o,c){return $e(o,i)?o:Za.current!==null?(t=nf(t,o,c),$e(t,i)||(Pe=!0),t):(tr&42)===0||(tr&1073741824)!==0&&(Ft&261930)===0?(Pe=!0,t.memoizedState=o):(t=bv(),zt.lanes|=t,$r|=t,i)}function wy(t,i,o,c,p){var v=rt.p;rt.p=v!==0&&8>v?v:8;var T=$.T,k={};$.T=k,af(t,!1,i,o);try{var U=p(),G=$.S;if(G!==null&&G(k,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var et=xS(U,c);Tl(t,i,et,Un(t))}else Tl(t,i,c,Un(t))}catch(at){Tl(t,i,{then:function(){},status:"rejected",reason:at},Un())}finally{rt.p=v,T!==null&&k.types!==null&&(T.types=k.types),$.T=T}}function CS(){}function rf(t,i,o,c){if(t.tag!==5)throw Error(a(476));var p=Sy(t).queue;wy(t,p,i,nt,o===null?CS:function(){return Ty(t),o(c)})}function Sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:nt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ty(t){var i=Sy(t);i.next===null&&(i=t.alternate.memoizedState),Tl(t,i.next.queue,{},Un())}function sf(){return Xe(Vl)}function Ey(){return je().memoizedState}function Cy(){return je().memoizedState}function AS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=Un();t=Ur(o);var c=Ir(i,t,o);c!==null&&(An(c,i,o),_l(c,i,o)),i={cache:Ld()},t.payload=i;return}i=i.return}}function jS(t,i,o){var c=Un();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Sc(t)?jy(i,o):(o=ul(t,i,o,c),o!==null&&(An(o,t,c),Ry(o,i,c)))}function Ay(t,i,o){var c=Un();Tl(t,i,o,c)}function Tl(t,i,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))jy(i,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var T=i.lastRenderedState,k=v(T,o);if(p.hasEagerState=!0,p.eagerState=k,$e(k,T))return ki(t,i,p,0),ue===null&&Is(),!1}catch{}finally{}if(o=ul(t,i,p,c),o!==null)return An(o,t,c),Ry(o,i,c),!0}return!1}function af(t,i,o,c){if(c={lane:2,revertLane:Nf(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(i)throw Error(a(479))}else i=ul(t,o,c,2),i!==null&&An(i,t,2)}function Sc(t){var i=t.alternate;return t===zt||i!==null&&i===zt}function jy(t,i){Ga=gc=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Ry(t,i,o){if((o&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,o|=c,i.lanes=o,Pu(t,o)}}var El={readContext:Xe,use:_c,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};El.useEffectEvent=Te;var Oy={readContext:Xe,use:_c,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Xe,useEffect:fy,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,bc(4194308,4,yy.bind(null,i,t),o)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var o=fn();i=i===void 0?null:i;var c=t();if(Ys){ri(!0);try{t()}finally{ri(!1)}}return o.memoizedState=[c,i],c},useReducer:function(t,i,o){var c=fn();if(o!==void 0){var p=o(i);if(Ys){ri(!0);try{o(i)}finally{ri(!1)}}}else p=i;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=jS.bind(null,zt,t),[c.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jd(t);var i=t.queue,o=Ay.bind(null,zt,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:ef,useDeferredValue:function(t,i){var o=fn();return nf(o,t,i)},useTransition:function(){var t=Jd(!1);return t=wy.bind(null,zt,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var c=zt,p=fn();if(It){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),ue===null)throw Error(a(349));(Ft&127)!==0||Xg(c,i,o)}p.memoizedState=o;var v={value:o,getSnapshot:i};return p.queue=v,fy(Qg.bind(null,c,v,t),[t]),c.flags|=2048,Ya(9,{destroy:void 0},Jg.bind(null,c,v,o,i),null),o},useId:function(){var t=fn(),i=ue.identifierPrefix;if(It){var o=gt,c=st;o=(c&~(1<<32-cn(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=yc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=bS++,i="_"+i+"r_"+o.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:sf,useFormState:ly,useActionState:ly,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=af.bind(null,zt,!0,o),o.dispatch=i,[t,i]},useMemoCache:Kd,useCacheRefresh:function(){return fn().memoizedState=AS.bind(null,zt)},useEffectEvent:function(t){var i=fn(),o={impl:t};return i.memoizedState=o,function(){if((Jt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},of={readContext:Xe,use:_c,useCallback:_y,useContext:Xe,useEffect:tf,useImperativeHandle:vy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:xy,useReducer:xc,useRef:dy,useState:function(){return xc(er)},useDebugValue:ef,useDeferredValue:function(t,i){var o=je();return by(o,se.memoizedState,t,i)},useTransition:function(){var t=xc(er)[0],i=je().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:Yg,useId:Ey,useHostTransitionStatus:sf,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var o=je();return ny(o,se,t,i)},useMemoCache:Kd,useCacheRefresh:Cy};of.useEffectEvent=py;var ky={readContext:Xe,use:_c,useCallback:_y,useContext:Xe,useEffect:tf,useImperativeHandle:vy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:xy,useReducer:Xd,useRef:dy,useState:function(){return Xd(er)},useDebugValue:ef,useDeferredValue:function(t,i){var o=je();return se===null?nf(o,t,i):by(o,se.memoizedState,t,i)},useTransition:function(){var t=Xd(er)[0],i=je().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:Yg,useId:Ey,useHostTransitionStatus:sf,useFormState:hy,useActionState:hy,useOptimistic:function(t,i){var o=je();return se!==null?ny(o,se,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:Cy};ky.useEffectEvent=py;function lf(t,i,o,c){i=t.memoizedState,o=o(c,i),o=o==null?i:w({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var uf={enqueueSetState:function(t,i,o){t=t._reactInternals;var c=Un(),p=Ur(c);p.payload=i,o!=null&&(p.callback=o),i=Ir(t,p,c),i!==null&&(An(i,t,c),_l(i,t,c))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var c=Un(),p=Ur(c);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=Ir(t,p,c),i!==null&&(An(i,t,c),_l(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=Un(),c=Ur(o);c.tag=2,i!=null&&(c.callback=i),i=Ir(t,c,o),i!==null&&(An(i,t,o),_l(i,t,o))}};function My(t,i,o,c,p,v,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,v,T):i.prototype&&i.prototype.isPureReactComponent?!Mr(o,c)||!Mr(p,v):!0}function Ly(t,i,o,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==t&&uf.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(t=t.defaultProps){o===i&&(o=w({},o));for(var p in t)o[p]===void 0&&(o[p]=t[p])}return o}function Py(t){Us(t)}function Dy(t){console.error(t)}function zy(t){Us(t)}function Tc(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function By(t,i,o){try{var c=t.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function cf(t,i,o){return o=Ur(o),o.tag=3,o.payload={element:null},o.callback=function(){Tc(t,i)},o}function Ny(t){return t=Ur(t),t.tag=3,t}function Uy(t,i,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=c.value;t.payload=function(){return p(v)},t.callback=function(){By(i,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){By(i,o,c),typeof p!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function RS(t,i,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Ha(i,o,p,!0),o=Dn.current,o!==null){switch(o.tag){case 31:case 13:return Yn===null?zc():o.alternate===null&&Ee===0&&(Ee=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===hc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Df(t,c,p)),!1;case 22:return o.flags|=65536,c===hc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Df(t,c,p)),!1}throw Error(a(435,o.tag))}return Df(t,c,p),zc(),!1}if(It)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==Va&&(t=Error(a(422),{cause:c}),qs(u(t,o)))):(c!==Va&&(i=Error(a(423),{cause:c}),qs(u(i,o))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=u(c,o),p=cf(t.stateNode,c,p),Ud(t,p),Ee!==4&&(Ee=2)),!1;var v=Error(a(520),{cause:c});if(v=u(v,o),Ll===null?Ll=[v]:Ll.push(v),Ee!==4&&(Ee=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=p&-p,o.lanes|=t,t=cf(o.stateNode,c,t),Ud(o,t),!1;case 1:if(i=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wr===null||!Wr.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Ny(p),Uy(p,t,o,c),Ud(o,p),!1}o=o.return}while(o!==null);return!1}var hf=Error(a(461)),Pe=!1;function Je(t,i,o,c){i.child=t===null?qg(i,null,o,c):Ks(i,t.child,o,c)}function Iy(t,i,o,c,p){o=o.render;var v=i.ref;if("ref"in c){var T={};for(var k in c)k!=="ref"&&(T[k]=c[k])}else T=c;return $s(i),c=$d(t,i,o,T,v,p),k=Wd(),t!==null&&!Pe?(Zd(t,i,p),nr(t,i,p)):(It&&k&&Ie(i),i.flags|=1,Je(t,i,c,p),i.child)}function Vy(t,i,o,c,p){if(t===null){var v=o.type;return typeof v=="function"&&!Ua(v)&&v.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=v,Hy(t,i,v,c,p)):(t=Hs(o.type,null,c,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(v=t.child,!_f(t,p)){var T=v.memoizedProps;if(o=o.compare,o=o!==null?o:Mr,o(T,c)&&t.ref===i.ref)return nr(t,i,p)}return i.flags|=1,t=Kn(v,c),t.ref=i.ref,t.return=i,i.child=t}function Hy(t,i,o,c,p){if(t!==null){var v=t.memoizedProps;if(Mr(v,c)&&t.ref===i.ref)if(Pe=!1,i.pendingProps=c=v,_f(t,p))(t.flags&131072)!==0&&(Pe=!0);else return i.lanes=t.lanes,nr(t,i,p)}return df(t,i,o,c,p)}function qy(t,i,o,c){var p=c.children,v=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,t!==null){for(c=i.child=t.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~v}else c=0,i.child=null;return Fy(t,i,v,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(i,v!==null?v.cachePool:null),v!==null?Wg(i,v):Vd(),Zg(i);else return c=i.lanes=536870912,Fy(t,i,v!==null?v.baseLanes|o:o,o,c)}else v!==null?(uc(i,v.cachePool),Wg(i,v),Hr(),i.memoizedState=null):(t!==null&&uc(i,null),Vd(),Hr());return Je(t,i,p,o),i.child}function Cl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Fy(t,i,o,c,p){var v=Dd();return v=v===null?null:{parent:Me._currentValue,pool:v},i.memoizedState={baseLanes:o,cachePool:v},t!==null&&uc(i,null),Vd(),Zg(i),t!==null&&Ha(t,i,c,!0),i.childLanes=p,null}function Ec(t,i){return i=Ac({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function $y(t,i,o){return Ks(i,t.child,null,o),t=Ec(i,i.pendingProps),t.flags|=2,zn(i),i.memoizedState=null,t}function OS(t,i,o){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(It){if(c.mode==="hidden")return t=Ec(i,c),i.lanes=536870912,Cl(null,t);if(qd(i),(t=Kt)?(t=i0(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:X!==null?{id:st,overflow:gt}:null,retryLane:536870912,hydrationErrors:null},o=hl(t),o.return=i,i.child=o,Gt=i,Kt=null)):t=null,t===null)throw Li(i);return i.lanes=536870912,null}return Ec(i,c)}var v=t.memoizedState;if(v!==null){var T=v.dehydrated;if(qd(i),p)if(i.flags&256)i.flags&=-257,i=$y(t,i,o);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Pe||Ha(t,i,o,!1),p=(o&t.childLanes)!==0,Pe||p){if(c=ue,c!==null&&(T=Du(c,o),T!==0&&T!==v.retryLane))throw v.retryLane=T,Gn(t,T),An(c,t,T),hf;zc(),i=$y(t,i,o)}else t=v.treeContext,Kt=Xn(T.nextSibling),Gt=i,It=!0,Mi=null,wn=!1,t!==null&&dn(i,t),i=Ec(i,c),i.flags|=4096;return i}return t=Kn(t.child,{mode:c.mode,children:c.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Cc(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function df(t,i,o,c,p){return $s(i),o=$d(t,i,o,c,void 0,p),c=Wd(),t!==null&&!Pe?(Zd(t,i,p),nr(t,i,p)):(It&&c&&Ie(i),i.flags|=1,Je(t,i,o,p),i.child)}function Wy(t,i,o,c,p,v){return $s(i),i.updateQueue=null,o=Kg(i,c,o,p),Gg(t),c=Wd(),t!==null&&!Pe?(Zd(t,i,v),nr(t,i,v)):(It&&c&&Ie(i),i.flags|=1,Je(t,i,o,v),i.child)}function Zy(t,i,o,c,p){if($s(i),i.stateNode===null){var v=Yi,T=o.contextType;typeof T=="object"&&T!==null&&(v=Xe(T)),v=new o(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=uf,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},Bd(i),T=o.contextType,v.context=typeof T=="object"&&T!==null?Xe(T):Yi,v.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(lf(i,o,T,c),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&uf.enqueueReplaceState(v,v.state,null),bl(i,c,v,p),xl(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){v=i.stateNode;var k=i.memoizedProps,U=Xs(o,k);v.props=U;var G=v.context,et=o.contextType;T=Yi,typeof et=="object"&&et!==null&&(T=Xe(et));var at=o.getDerivedStateFromProps;et=typeof at=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=i.pendingProps!==k,et||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||G!==T)&&Ly(i,v,c,T),Nr=!1;var J=i.memoizedState;v.state=J,bl(i,c,v,p),xl(),G=i.memoizedState,k||J!==G||Nr?(typeof at=="function"&&(lf(i,o,at,c),G=i.memoizedState),(U=Nr||My(i,o,U,c,J,G,T))?(et||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=G),v.props=c,v.state=G,v.context=T,c=U):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Nd(t,i),T=i.memoizedProps,et=Xs(o,T),v.props=et,at=i.pendingProps,J=v.context,G=o.contextType,U=Yi,typeof G=="object"&&G!==null&&(U=Xe(G)),k=o.getDerivedStateFromProps,(G=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==at||J!==U)&&Ly(i,v,c,U),Nr=!1,J=i.memoizedState,v.state=J,bl(i,c,v,p),xl();var tt=i.memoizedState;T!==at||J!==tt||Nr||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof k=="function"&&(lf(i,o,k,c),tt=i.memoizedState),(et=Nr||My(i,o,et,c,J,tt,U)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,tt,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,tt,U)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&J===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&J===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=tt),v.props=c,v.state=tt,v.context=U,c=et):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&J===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&J===t.memoizedState||(i.flags|=1024),c=!1)}return v=c,Cc(t,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,t!==null&&c?(i.child=Ks(i,t.child,null,p),i.child=Ks(i,null,o,p)):Je(t,i,o,p),i.memoizedState=v.state,t=i.child):t=nr(t,i,p),t}function Gy(t,i,o,c){return Ji(),i.flags|=256,Je(t,i,o,c),i.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pf(t){return{baseLanes:t,cachePool:Bg()}}function mf(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=Nn),t}function Ky(t,i,o){var c=i.pendingProps,p=!1,v=(i.flags&128)!==0,T;if((T=v)||(T=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),T&&(p=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(It){if(p?Vr(i):Hr(),(t=Kt)?(t=i0(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:X!==null?{id:st,overflow:gt}:null,retryLane:536870912,hydrationErrors:null},o=hl(t),o.return=i,i.child=o,Gt=i,Kt=null)):t=null,t===null)throw Li(i);return Xf(t)?i.lanes=32:i.lanes=536870912,null}var k=c.children;return c=c.fallback,p?(Hr(),p=i.mode,k=Ac({mode:"hidden",children:k},p),c=Xi(c,p,o,null),k.return=i,c.return=i,k.sibling=c,i.child=k,c=i.child,c.memoizedState=pf(o),c.childLanes=mf(t,T,o),i.memoizedState=ff,Cl(null,c)):(Vr(i),gf(i,k))}var U=t.memoizedState;if(U!==null&&(k=U.dehydrated,k!==null)){if(v)i.flags&256?(Vr(i),i.flags&=-257,i=yf(t,i,o)):i.memoizedState!==null?(Hr(),i.child=t.child,i.flags|=128,i=null):(Hr(),k=c.fallback,p=i.mode,c=Ac({mode:"visible",children:c.children},p),k=Xi(k,p,o,null),k.flags|=2,c.return=i,k.return=i,c.sibling=k,i.child=c,Ks(i,t.child,null,o),c=i.child,c.memoizedState=pf(o),c.childLanes=mf(t,T,o),i.memoizedState=ff,i=Cl(null,c));else if(Vr(i),Xf(k)){if(T=k.nextSibling&&k.nextSibling.dataset,T)var G=T.dgst;T=G,c=Error(a(419)),c.stack="",c.digest=T,qs({value:c,source:null,stack:null}),i=yf(t,i,o)}else if(Pe||Ha(t,i,o,!1),T=(o&t.childLanes)!==0,Pe||T){if(T=ue,T!==null&&(c=Du(T,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,Gn(t,c),An(T,t,c),hf;Yf(k)||zc(),i=yf(t,i,o)}else Yf(k)?(i.flags|=192,i.child=t.child,i=null):(t=U.treeContext,Kt=Xn(k.nextSibling),Gt=i,It=!0,Mi=null,wn=!1,t!==null&&dn(i,t),i=gf(i,c.children),i.flags|=4096);return i}return p?(Hr(),k=c.fallback,p=i.mode,U=t.child,G=U.sibling,c=Kn(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,G!==null?k=Kn(G,k):(k=Xi(k,p,o,null),k.flags|=2),k.return=i,c.return=i,c.sibling=k,i.child=c,Cl(null,c),c=i.child,k=t.child.memoizedState,k===null?k=pf(o):(p=k.cachePool,p!==null?(U=Me._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=Bg(),k={baseLanes:k.baseLanes|o,cachePool:p}),c.memoizedState=k,c.childLanes=mf(t,T,o),i.memoizedState=ff,Cl(t.child,c)):(Vr(i),o=t.child,t=o.sibling,o=Kn(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=o,i.memoizedState=null,o)}function gf(t,i){return i=Ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ac(t,i){return t=sn(22,t,null,i),t.lanes=0,t}function yf(t,i,o){return Ks(i,t.child,null,o),t=gf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yy(t,i,o){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),kd(t.return,i,o)}function vf(t,i,o,c,p,v){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:v}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=p,T.treeForkCount=v)}function Xy(t,i,o){var c=i.pendingProps,p=c.revealOrder,v=c.tail;c=c.children;var T=Ae.current,k=(T&2)!==0;if(k?(T=T&1|2,i.flags|=128):T&=1,ct(Ae,T),Je(t,i,c,o),c=It?A:0,!k&&t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,o,i);else if(t.tag===19)Yy(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)t=o.alternate,t!==null&&mc(t)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),vf(i,!1,p,o,v,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&mc(t)===null){i.child=p;break}t=p.sibling,p.sibling=o,o=p,p=t}vf(i,!0,o,null,v,c);break;case"together":vf(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function nr(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),$r|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(Ha(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,o=Kn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Kn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function _f(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function kS(t,i,o){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Br(i,Me,t.memoizedState.cache),Ji();break;case 27:case 5:Ge(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Br(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Vr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ky(t,i,o):(Vr(i),t=nr(t,i,o),t!==null?t.sibling:null);Vr(i);break;case 19:var p=(t.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Ha(t,i,o,!1),c=(o&i.childLanes)!==0),p){if(c)return Xy(t,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ct(Ae,Ae.current),c)break;return null;case 22:return i.lanes=0,qy(t,i,o,i.pendingProps);case 24:Br(i,Me,t.memoizedState.cache)}return nr(t,i,o)}function Jy(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pe=!0;else{if(!_f(t,o)&&(i.flags&128)===0)return Pe=!1,kS(t,i,o);Pe=(t.flags&131072)!==0}else Pe=!1,It&&(i.flags&1048576)!==0&&Bt(i,A,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(t=Zs(i.elementType),i.type=t,typeof t=="function")Ua(t)?(c=Xs(t,c),i.tag=1,i=Zy(null,i,t,c,o)):(i.tag=0,i=df(null,i,t,c,o));else{if(t!=null){var p=t.$$typeof;if(p===V){i.tag=11,i=Iy(null,i,t,c,o);break t}else if(p===Q){i.tag=14,i=Vy(null,i,t,c,o);break t}}throw i=Wt(t)||t,Error(a(306,i,""))}}return i;case 0:return df(t,i,i.type,i.pendingProps,o);case 1:return c=i.type,p=Xs(c,i.pendingProps),Zy(t,i,c,p,o);case 3:t:{if(Zt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));c=i.pendingProps;var v=i.memoizedState;p=v.element,Nd(t,i),bl(i,c,null,o);var T=i.memoizedState;if(c=T.cache,Br(i,Me,c),c!==v.cache&&Md(i,[Me],o,!0),xl(),c=T.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Gy(t,i,c,o);break t}else if(c!==p){p=u(Error(a(424)),i),qs(p),i=Gy(t,i,c,o);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Kt=Xn(t.firstChild),Gt=i,It=!0,Mi=null,wn=!0,o=qg(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ji(),c===p){i=nr(t,i,o);break t}Je(t,i,c,o)}i=i.child}return i;case 26:return Cc(t,i),t===null?(o=u0(i.type,null,i.pendingProps,null))?i.memoizedState=o:It||(o=i.type,t=i.pendingProps,c=qc(ht.current).createElement(o),c[Oe]=i,c[Fe]=t,Qe(c,o,t),ke(c),i.stateNode=c):i.memoizedState=u0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ge(i),t===null&&It&&(c=i.stateNode=a0(i.type,i.pendingProps,ht.current),Gt=i,wn=!0,p=Kt,Yr(i.type)?(Jf=p,Kt=Xn(c.firstChild)):Kt=p),Je(t,i,i.pendingProps.children,o),Cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&It&&((p=c=Kt)&&(c=oT(c,i.type,i.pendingProps,wn),c!==null?(i.stateNode=c,Gt=i,Kt=Xn(c.firstChild),wn=!1,p=!0):p=!1),p||Li(i)),Ge(i),p=i.type,v=i.pendingProps,T=t!==null?t.memoizedProps:null,c=v.children,Zf(p,v)?c=null:T!==null&&Zf(p,T)&&(i.flags|=32),i.memoizedState!==null&&(p=$d(t,i,wS,null,null,o),Vl._currentValue=p),Cc(t,i),Je(t,i,c,o),i.child;case 6:return t===null&&It&&((t=o=Kt)&&(o=lT(o,i.pendingProps,wn),o!==null?(i.stateNode=o,Gt=i,Kt=null,t=!0):t=!1),t||Li(i)),null;case 13:return Ky(t,i,o);case 4:return Zt(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Ks(i,null,c,o):Je(t,i,c,o),i.child;case 11:return Iy(t,i,i.type,i.pendingProps,o);case 7:return Je(t,i,i.pendingProps,o),i.child;case 8:return Je(t,i,i.pendingProps.children,o),i.child;case 12:return Je(t,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Br(i,i.type,c.value),Je(t,i,c.children,o),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,$s(i),p=Xe(p),c=c(p),i.flags|=1,Je(t,i,c,o),i.child;case 14:return Vy(t,i,i.type,i.pendingProps,o);case 15:return Hy(t,i,i.type,i.pendingProps,o);case 19:return Xy(t,i,o);case 31:return OS(t,i,o);case 22:return qy(t,i,o,i.pendingProps);case 24:return $s(i),c=Xe(Me),t===null?(p=Dd(),p===null&&(p=ue,v=Ld(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),i.memoizedState={parent:c,cache:p},Bd(i),Br(i,Me,p)):((t.lanes&o)!==0&&(Nd(t,i),bl(i,null,null,o),xl()),p=t.memoizedState,v=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Br(i,Me,c)):(c=v.cache,Br(i,Me,c),c!==p.cache&&Md(i,[Me],o,!0))),Je(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ir(t){t.flags|=4}function xf(t,i,o,c,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(Ev())t.flags|=8192;else throw Gs=hc,zd}else t.flags&=-16777217}function Qy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p0(i))if(Ev())t.flags|=8192;else throw Gs=hc,zd}function jc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Mu():536870912,t.lanes|=i,to|=i)}function Al(t,i){if(!It)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function fe(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(i)for(var p=t.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=o,i}function MS(t,i,o){var c=i.pendingProps;switch(Se(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(i),null;case 1:return fe(i),null;case 3:return o=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Qi(Me),ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(hi(i)?ir(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pl())),fe(i),null;case 26:var p=i.type,v=i.memoizedState;return t===null?(ir(i),v!==null?(fe(i),Qy(i,v)):(fe(i),xf(i,p,null,c,o))):v?v!==t.memoizedState?(ir(i),fe(i),Qy(i,v)):(fe(i),i.flags&=-16777217):(t=t.memoizedProps,t!==c&&ir(i),fe(i),xf(i,p,t,c,o)),null;case 27:if(mn(i),o=ht.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&ir(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return fe(i),null}t=W.current,hi(i)?fl(i):(t=a0(p,c,o),i.stateNode=t,ir(i))}return fe(i),null;case 5:if(mn(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&ir(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return fe(i),null}if(v=W.current,hi(i))fl(i);else{var T=qc(ht.current);switch(v){case 1:v=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=T.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}v[Oe]=i,v[Fe]=c;t:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)v.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break t;for(;T.sibling===null;){if(T.return===null||T.return===i)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=v;t:switch(Qe(v,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&ir(i)}}return fe(i),xf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,o),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&ir(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(t=ht.current,hi(i)){if(t=i.stateNode,o=i.memoizedProps,c=null,p=Gt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[Oe]=i,t=!!(t.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Kv(t.nodeValue,o)),t||Li(i,!0)}else t=qc(t).createTextNode(c),t[Oe]=i,i.stateNode=t}return fe(i),null;case 31:if(o=i.memoizedState,t===null||t.memoizedState!==null){if(c=hi(i),o!==null){if(t===null){if(!c)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Oe]=i}else Ji(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;fe(i),t=!1}else o=pl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return i.flags&256?(zn(i),i):(zn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return fe(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=hi(i),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Oe]=i}else Ji(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;fe(i),p=!1}else p=pl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(zn(i),i):(zn(i),null)}return zn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,t=t!==null&&t.memoizedState!==null,o&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048)),o!==t&&o&&(i.child.flags|=8192),jc(i,i.updateQueue),fe(i),null);case 4:return ee(),t===null&&Hf(i.stateNode.containerInfo),fe(i),null;case 10:return Qi(i.type),fe(i),null;case 19:if(Y(Ae),c=i.memoizedState,c===null)return fe(i),null;if(p=(i.flags&128)!==0,v=c.rendering,v===null)if(p)Al(c,!1);else{if(Ee!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=mc(t),v!==null){for(i.flags|=128,Al(c,!1),t=v.updateQueue,i.updateQueue=t,jc(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)cl(o,t),o=o.sibling;return ct(Ae,Ae.current&1|2),It&&Et(i,c.treeForkCount),i.child}t=t.sibling}c.tail!==null&&un()>Lc&&(i.flags|=128,p=!0,Al(c,!1),i.lanes=4194304)}else{if(!p)if(t=mc(v),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,jc(i,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!It)return fe(i),null}else 2*un()-c.renderingStartTime>Lc&&o!==536870912&&(i.flags|=128,p=!0,Al(c,!1),i.lanes=4194304);c.isBackwards?(v.sibling=i.child,i.child=v):(t=c.last,t!==null?t.sibling=v:i.child=v,c.last=v)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=un(),t.sibling=null,o=Ae.current,ct(Ae,p?o&1|2:o&1),It&&Et(i,c.treeForkCount),t):(fe(i),null);case 22:case 23:return zn(i),Hd(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(fe(i),i.subtreeFlags&6&&(i.flags|=8192)):fe(i),o=i.updateQueue,o!==null&&jc(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),t!==null&&Y(Ws),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Qi(Me),fe(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function LS(t,i){switch(Se(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qi(Me),ee(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return mn(i),null;case 31:if(i.memoizedState!==null){if(zn(i),i.alternate===null)throw Error(a(340));Ji()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(zn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ji()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(Ae),null;case 4:return ee(),null;case 10:return Qi(i.type),null;case 22:case 23:return zn(i),Hd(),t!==null&&Y(Ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qi(Me),null;case 25:return null;default:return null}}function tv(t,i){switch(Se(i),i.tag){case 3:Qi(Me),ee();break;case 26:case 27:case 5:mn(i);break;case 4:ee();break;case 31:i.memoizedState!==null&&zn(i);break;case 13:zn(i);break;case 19:Y(Ae);break;case 10:Qi(i.type);break;case 22:case 23:zn(i),Hd(),t!==null&&Y(Ws);break;case 24:Qi(Me)}}function jl(t,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&t)===t){c=void 0;var v=o.create,T=o.inst;c=v(),T.destroy=c}o=o.next}while(o!==p)}}catch(k){ie(i,i.return,k)}}function qr(t,i,o){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var v=p.next;c=v;do{if((c.tag&t)===t){var T=c.inst,k=T.destroy;if(k!==void 0){T.destroy=void 0,p=i;var U=o,G=k;try{G()}catch(et){ie(p,U,et)}}}c=c.next}while(c!==v)}}catch(et){ie(i,i.return,et)}}function ev(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{$g(i,o)}catch(c){ie(t,t.return,c)}}}function nv(t,i,o){o.props=Xs(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(c){ie(t,i,c)}}function Rl(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof o=="function"?t.refCleanup=o(c):o.current=c}}catch(p){ie(t,i,p)}}function Di(t,i){var o=t.ref,c=t.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){ie(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){ie(t,i,p)}else o.current=null}function iv(t){var i=t.type,o=t.memoizedProps,c=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){ie(t,t.return,p)}}function bf(t,i,o){try{var c=t.stateNode;eT(c,t.type,o,i),c[Fe]=i}catch(p){ie(t,t.return,p)}}function rv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function wf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sf(t,i,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=vn));else if(c!==4&&(c===27&&Yr(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(Sf(t,i,o),t=t.sibling;t!==null;)Sf(t,i,o),t=t.sibling}function Rc(t,i,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(c!==4&&(c===27&&Yr(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Rc(t,i,o),t=t.sibling;t!==null;)Rc(t,i,o),t=t.sibling}function sv(t){var i=t.stateNode,o=t.memoizedProps;try{for(var c=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Qe(i,c,o),i[Oe]=t,i[Fe]=o}catch(v){ie(t,t.return,v)}}var rr=!1,De=!1,Tf=!1,av=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function PS(t,i){if(t=t.containerInfo,$f=Yc,t=Ds(t),Ai(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else t:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var T=0,k=-1,U=-1,G=0,et=0,at=t,J=null;e:for(;;){for(var tt;at!==o||p!==0&&at.nodeType!==3||(k=T+p),at!==v||c!==0&&at.nodeType!==3||(U=T+c),at.nodeType===3&&(T+=at.nodeValue.length),(tt=at.firstChild)!==null;)J=at,at=tt;for(;;){if(at===t)break e;if(J===o&&++G===p&&(k=T),J===v&&++et===c&&(U=T),(tt=at.nextSibling)!==null)break;at=J,J=at.parentNode}at=tt}o=k===-1||U===-1?null:{start:k,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wf={focusedElem:t,selectionRange:o},Yc=!1,Ze=i;Ze!==null;)if(i=Ze,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ze=t;else for(;Ze!==null;){switch(i=Ze,v=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)p=t[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,o=i,p=v.memoizedProps,v=v.memoizedState,c=o.stateNode;try{var bt=Xs(o.type,p);t=c.getSnapshotBeforeUpdate(bt,v),c.__reactInternalSnapshotBeforeUpdate=t}catch(At){ie(o,o.return,At)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)Kf(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Ze=t;break}Ze=i.return}}function ov(t,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ar(t,o),c&4&&jl(5,o);break;case 1:if(ar(t,o),c&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(T){ie(o,o.return,T)}else{var p=Xs(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){ie(o,o.return,T)}}c&64&&ev(o),c&512&&Rl(o,o.return);break;case 3:if(ar(t,o),c&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{$g(t,i)}catch(T){ie(o,o.return,T)}}break;case 27:i===null&&c&4&&sv(o);case 26:case 5:ar(t,o),i===null&&c&4&&iv(o),c&512&&Rl(o,o.return);break;case 12:ar(t,o);break;case 31:ar(t,o),c&4&&cv(t,o);break;case 13:ar(t,o),c&4&&hv(t,o),c&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=qS.bind(null,o),uT(t,o))));break;case 22:if(c=o.memoizedState!==null||rr,!c){i=i!==null&&i.memoizedState!==null||De,p=rr;var v=De;rr=c,(De=i)&&!v?or(t,o,(o.subtreeFlags&8772)!==0):ar(t,o),rr=p,De=v}break;case 30:break;default:ar(t,o)}}function lv(t){var i=t.alternate;i!==null&&(t.alternate=null,lv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Wo(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,Sn=!1;function sr(t,i,o){for(o=o.child;o!==null;)uv(t,i,o),o=o.sibling}function uv(t,i,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(vr,o)}catch{}switch(o.tag){case 26:De||Di(o,i),sr(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:De||Di(o,i);var c=me,p=Sn;Yr(o.type)&&(me=o.stateNode,Sn=!1),sr(t,i,o),Nl(o.stateNode),me=c,Sn=p;break;case 5:De||Di(o,i);case 6:if(c=me,p=Sn,me=null,sr(t,i,o),me=c,Sn=p,me!==null)if(Sn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(o.stateNode)}catch(v){ie(o,i,v)}else try{me.removeChild(o.stateNode)}catch(v){ie(o,i,v)}break;case 18:me!==null&&(Sn?(t=me,e0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),lo(t)):e0(me,o.stateNode));break;case 4:c=me,p=Sn,me=o.stateNode.containerInfo,Sn=!0,sr(t,i,o),me=c,Sn=p;break;case 0:case 11:case 14:case 15:qr(2,o,i),De||qr(4,o,i),sr(t,i,o);break;case 1:De||(Di(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&nv(o,i,c)),sr(t,i,o);break;case 21:sr(t,i,o);break;case 22:De=(c=De)||o.memoizedState!==null,sr(t,i,o),De=c;break;default:sr(t,i,o)}}function cv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(o){ie(i,i.return,o)}}}function hv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(o){ie(i,i.return,o)}}function DS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new av),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new av),i;default:throw Error(a(435,t.tag))}}function Oc(t,i){var o=DS(t);i.forEach(function(c){if(!o.has(c)){o.add(c);var p=FS.bind(null,t,c);c.then(p,p)}})}function Tn(t,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],v=t,T=i,k=T;t:for(;k!==null;){switch(k.tag){case 27:if(Yr(k.type)){me=k.stateNode,Sn=!1;break t}break;case 5:me=k.stateNode,Sn=!1;break t;case 3:case 4:me=k.stateNode.containerInfo,Sn=!0;break t}k=k.return}if(me===null)throw Error(a(160));uv(v,T,p),me=null,Sn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)dv(i,t),i=i.sibling}var fi=null;function dv(t,i){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(i,t),En(t),c&4&&(qr(3,t,t.return),jl(3,t),qr(5,t,t.return));break;case 1:Tn(i,t),En(t),c&512&&(De||o===null||Di(o,o.return)),c&64&&rr&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=fi;if(Tn(i,t),En(t),c&512&&(De||o===null||Di(o,o.return)),c&4){var v=o!==null?o.memoizedState:null;if(c=t.memoizedState,o===null)if(c===null)if(t.stateNode===null){t:{c=t.type,o=t.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":v=p.getElementsByTagName("title")[0],(!v||v[_s]||v[Oe]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(c),p.head.insertBefore(v,p.querySelector("head > title"))),Qe(v,c,o),v[Oe]=t,ke(v),c=v;break t;case"link":var T=d0("link","href",p).get(c+(o.href||""));if(T){for(var k=0;k<T.length;k++)if(v=T[k],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(k,1);break e}}v=p.createElement(c),Qe(v,c,o),p.head.appendChild(v);break;case"meta":if(T=d0("meta","content",p).get(c+(o.content||""))){for(k=0;k<T.length;k++)if(v=T[k],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(k,1);break e}}v=p.createElement(c),Qe(v,c,o),p.head.appendChild(v);break;default:throw Error(a(468,c))}v[Oe]=t,ke(v),c=v}t.stateNode=c}else f0(p,t.type,t.stateNode);else t.stateNode=h0(p,c,t.memoizedProps);else v!==c?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,c===null?f0(p,t.type,t.stateNode):h0(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&bf(t,t.memoizedProps,o.memoizedProps)}break;case 27:Tn(i,t),En(t),c&512&&(De||o===null||Di(o,o.return)),o!==null&&c&4&&bf(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Tn(i,t),En(t),c&512&&(De||o===null||Di(o,o.return)),t.flags&32){p=t.stateNode;try{Hn(p,"")}catch(bt){ie(t,t.return,bt)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,bf(t,p,o!==null?o.memoizedProps:p)),c&1024&&(Tf=!0);break;case 6:if(Tn(i,t),En(t),c&4){if(t.stateNode===null)throw Error(a(162));c=t.memoizedProps,o=t.stateNode;try{o.nodeValue=c}catch(bt){ie(t,t.return,bt)}}break;case 3:if(Wc=null,p=fi,fi=Fc(i.containerInfo),Tn(i,t),fi=p,En(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{lo(i.containerInfo)}catch(bt){ie(t,t.return,bt)}Tf&&(Tf=!1,fv(t));break;case 4:c=fi,fi=Fc(t.stateNode.containerInfo),Tn(i,t),En(t),fi=c;break;case 12:Tn(i,t),En(t);break;case 31:Tn(i,t),En(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Oc(t,c)));break;case 13:Tn(i,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Mc=un()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Oc(t,c)));break;case 22:p=t.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,G=rr,et=De;if(rr=G||p,De=et||U,Tn(i,t),De=et,rr=G,En(t),c&8192)t:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||U||rr||De||Js(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(v=U.stateNode,p)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{k=U.stateNode;var at=U.memoizedProps.style,J=at!=null&&at.hasOwnProperty("display")?at.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(bt){ie(U,U.return,bt)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(bt){ie(U,U.return,bt)}}}else if(i.tag===18){if(o===null){U=i;try{var tt=U.stateNode;p?n0(tt,!0):n0(U.stateNode,!1)}catch(bt){ie(U,U.return,bt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Oc(t,o))));break;case 19:Tn(i,t),En(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Oc(t,c)));break;case 30:break;case 21:break;default:Tn(i,t),En(t)}}function En(t){var i=t.flags;if(i&2){try{for(var o,c=t.return;c!==null;){if(rv(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,v=wf(t);Rc(t,v,p);break;case 5:var T=o.stateNode;o.flags&32&&(Hn(T,""),o.flags&=-33);var k=wf(t);Rc(t,k,T);break;case 3:case 4:var U=o.stateNode.containerInfo,G=wf(t);Sf(t,G,U);break;default:throw Error(a(161))}}catch(et){ie(t,t.return,et)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function fv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;fv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ar(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ov(t,i.alternate,i),i=i.sibling}function Js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),Js(i);break;case 1:Di(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&nv(i,i.return,o),Js(i);break;case 27:Nl(i.stateNode);case 26:case 5:Di(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}t=t.sibling}}function or(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=t,v=i,T=v.flags;switch(v.tag){case 0:case 11:case 15:or(p,v,o),jl(4,v);break;case 1:if(or(p,v,o),c=v,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){ie(c,c.return,G)}if(c=v,p=c.updateQueue,p!==null){var k=c.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)Fg(U[p],k)}catch(G){ie(c,c.return,G)}}o&&T&64&&ev(v),Rl(v,v.return);break;case 27:sv(v);case 26:case 5:or(p,v,o),o&&c===null&&T&4&&iv(v),Rl(v,v.return);break;case 12:or(p,v,o);break;case 31:or(p,v,o),o&&T&4&&cv(p,v);break;case 13:or(p,v,o),o&&T&4&&hv(p,v);break;case 22:v.memoizedState===null&&or(p,v,o),Rl(v,v.return);break;case 30:break;default:or(p,v,o)}i=i.sibling}}function Ef(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&ml(o))}function Cf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t))}function pi(t,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pv(t,i,o,c),i=i.sibling}function pv(t,i,o,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:pi(t,i,o,c),p&2048&&jl(9,i);break;case 1:pi(t,i,o,c);break;case 3:pi(t,i,o,c),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t)));break;case 12:if(p&2048){pi(t,i,o,c),t=i.stateNode;try{var v=i.memoizedProps,T=v.id,k=v.onPostCommit;typeof k=="function"&&k(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(U){ie(i,i.return,U)}}else pi(t,i,o,c);break;case 31:pi(t,i,o,c);break;case 13:pi(t,i,o,c);break;case 23:break;case 22:v=i.stateNode,T=i.alternate,i.memoizedState!==null?v._visibility&2?pi(t,i,o,c):Ol(t,i):v._visibility&2?pi(t,i,o,c):(v._visibility|=2,Xa(t,i,o,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Ef(T,i);break;case 24:pi(t,i,o,c),p&2048&&Cf(i.alternate,i);break;default:pi(t,i,o,c)}}function Xa(t,i,o,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=t,T=i,k=o,U=c,G=T.flags;switch(T.tag){case 0:case 11:case 15:Xa(v,T,k,U,p),jl(8,T);break;case 23:break;case 22:var et=T.stateNode;T.memoizedState!==null?et._visibility&2?Xa(v,T,k,U,p):Ol(v,T):(et._visibility|=2,Xa(v,T,k,U,p)),p&&G&2048&&Ef(T.alternate,T);break;case 24:Xa(v,T,k,U,p),p&&G&2048&&Cf(T.alternate,T);break;default:Xa(v,T,k,U,p)}i=i.sibling}}function Ol(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,c=i,p=c.flags;switch(c.tag){case 22:Ol(o,c),p&2048&&Ef(c.alternate,c);break;case 24:Ol(o,c),p&2048&&Cf(c.alternate,c);break;default:Ol(o,c)}i=i.sibling}}var kl=8192;function Ja(t,i,o){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)mv(t,i,o),t=t.sibling}function mv(t,i,o){switch(t.tag){case 26:Ja(t,i,o),t.flags&kl&&t.memoizedState!==null&&bT(o,fi,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,i,o);break;case 3:case 4:var c=fi;fi=Fc(t.stateNode.containerInfo),Ja(t,i,o),fi=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=kl,kl=16777216,Ja(t,i,o),kl=c):Ja(t,i,o));break;default:Ja(t,i,o)}}function gv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Ze=c,vv(c,t)}gv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yv(t),t=t.sibling}function yv(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&qr(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,kc(t)):Ml(t);break;default:Ml(t)}}function kc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Ze=c,vv(c,t)}gv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qr(8,i,i.return),kc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,kc(i));break;default:kc(i)}t=t.sibling}}function vv(t,i){for(;Ze!==null;){var o=Ze;switch(o.tag){case 0:case 11:case 15:qr(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ml(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Ze=c;else t:for(o=t;Ze!==null;){c=Ze;var p=c.sibling,v=c.return;if(lv(c),c===o){Ze=null;break t}if(p!==null){p.return=v,Ze=p;break t}Ze=v}}}var zS={getCacheForType:function(t){var i=Xe(Me),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o},cacheSignal:function(){return Xe(Me).controller.signal}},BS=typeof WeakMap=="function"?WeakMap:Map,Jt=0,ue=null,Vt=null,Ft=0,ne=0,Bn=null,Fr=!1,Qa=!1,Af=!1,lr=0,Ee=0,$r=0,Qs=0,jf=0,Nn=0,to=0,Ll=null,Cn=null,Rf=!1,Mc=0,_v=0,Lc=1/0,Pc=null,Wr=null,Ve=0,Zr=null,eo=null,ur=0,Of=0,kf=null,xv=null,Pl=0,Mf=null;function Un(){return(Jt&2)!==0&&Ft!==0?Ft&-Ft:$.T!==null?Nf():Fo()}function bv(){if(Nn===0)if((Ft&536870912)===0||It){var t=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),Nn=t}else Nn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),Nn}function An(t,i,o){(t===ue&&(ne===2||ne===9)||t.cancelPendingCommit!==null)&&(no(t,0),Gr(t,Ft,Nn,!1)),Hi(t,o),((Jt&2)===0||t!==ue)&&(t===ue&&((Jt&2)===0&&(Qs|=o),Ee===4&&Gr(t,Ft,Nn,!1)),zi(t))}function wv(t,i,o){if((Jt&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&t.expiredLanes)===0||vs(t,i),p=c?IS(t,i):Pf(t,i,!0),v=c;do{if(p===0){Qa&&!c&&Gr(t,i,0,!1);break}else{if(o=t.current.alternate,v&&!NS(o)){p=Pf(t,i,!1),v=!1;continue}if(p===2){if(v=i,t.errorRecoveryDisabledLanes&v)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var k=t;p=Ll;var U=k.current.memoizedState.isDehydrated;if(U&&(no(k,T).flags|=256),T=Pf(k,T,!1),T!==2){if(Af&&!U){k.errorRecoveryDisabledLanes|=v,Qs|=v,p=4;break t}v=Cn,Cn=p,v!==null&&(Cn===null?Cn=v:Cn.push.apply(Cn,v))}p=T}if(v=!1,p!==2)continue}}if(p===1){no(t,0),Gr(t,i,0,!0);break}t:{switch(c=t,v=p,v){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Gr(c,i,Nn,!Fr);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=Mc+300-un(),10<p)){if(Gr(c,i,Nn,!Fr),wa(c,0,!0)!==0)break t;ur=i,c.timeoutHandle=Qv(Sv.bind(null,c,o,Cn,Pc,Rf,i,Nn,Qs,to,Fr,v,"Throttled",-0,0),p);break t}Sv(c,o,Cn,Pc,Rf,i,Nn,Qs,to,Fr,v,null,-0,0)}}break}while(!0);zi(t)}function Sv(t,i,o,c,p,v,T,k,U,G,et,at,J,tt){if(t.timeoutHandle=-1,at=i.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},mv(i,v,at);var bt=(v&62914560)===v?Mc-un():(v&4194048)===v?_v-un():0;if(bt=wT(at,bt),bt!==null){ur=v,t.cancelPendingCommit=bt(kv.bind(null,t,i,v,o,c,p,T,k,U,et,at,null,J,tt)),Gr(t,v,T,!G);return}}kv(t,i,v,o,c,p,T,k,U)}function NS(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],v=p.getSnapshot;p=p.value;try{if(!$e(v(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(t,i,o,c){i&=~jf,i&=~Qs,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var p=i;0<p;){var v=31-cn(p),T=1<<v;c[v]=-1,p&=~T}o!==0&&Lu(t,o,i)}function Dc(){return(Jt&6)===0?(Dl(0),!1):!0}function Lf(){if(Vt!==null){if(ne===0)var t=Vt.return;else t=Vt,di=Pi=null,Gd(t),Wa=null,yl=0,t=Vt;for(;t!==null;)tv(t.alternate,t),t=t.return;Vt=null}}function no(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,rT(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),ur=0,Lf(),ue=t,Vt=o=Kn(t.current,null),Ft=i,ne=0,Bn=null,Fr=!1,Qa=vs(t,i),Af=!1,to=Nn=jf=Qs=$r=Ee=0,Cn=Ll=null,Rf=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var p=31-cn(c),v=1<<p;i|=t[p],c&=~v}return lr=i,Is(),o}function Tv(t,i){zt=null,$.H=El,i===$a||i===cc?(i=Ig(),ne=3):i===zd?(i=Ig(),ne=4):ne=i===hf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Bn=i,Vt===null&&(Ee=1,Tc(t,u(i,t.current)))}function Ev(){var t=Dn.current;return t===null?!0:(Ft&4194048)===Ft?Yn===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?t===Yn:!1}function Cv(){var t=$.H;return $.H=El,t===null?El:t}function Av(){var t=$.A;return $.A=zS,t}function zc(){Ee=4,Fr||(Ft&4194048)!==Ft&&Dn.current!==null||(Qa=!0),($r&134217727)===0&&(Qs&134217727)===0||ue===null||Gr(ue,Ft,Nn,!1)}function Pf(t,i,o){var c=Jt;Jt|=2;var p=Cv(),v=Av();(ue!==t||Ft!==i)&&(Pc=null,no(t,i)),i=!1;var T=Ee;t:do try{if(ne!==0&&Vt!==null){var k=Vt,U=Bn;switch(ne){case 8:Lf(),T=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var G=ne;if(ne=0,Bn=null,io(t,k,U,G),o&&Qa){T=0;break t}break;default:G=ne,ne=0,Bn=null,io(t,k,U,G)}}US(),T=Ee;break}catch(et){Tv(t,et)}while(!0);return i&&t.shellSuspendCounter++,di=Pi=null,Jt=c,$.H=p,$.A=v,Vt===null&&(ue=null,Ft=0,Is()),T}function US(){for(;Vt!==null;)jv(Vt)}function IS(t,i){var o=Jt;Jt|=2;var c=Cv(),p=Av();ue!==t||Ft!==i?(Pc=null,Lc=un()+500,no(t,i)):Qa=vs(t,i);t:do try{if(ne!==0&&Vt!==null){i=Vt;var v=Bn;e:switch(ne){case 1:ne=0,Bn=null,io(t,i,v,1);break;case 2:case 9:if(Ng(v)){ne=0,Bn=null,Rv(i);break}i=function(){ne!==2&&ne!==9||ue!==t||(ne=7),zi(t)},v.then(i,i);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:Ng(v)?(ne=0,Bn=null,Rv(i)):(ne=0,Bn=null,io(t,i,v,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var k=Vt;if(T?p0(T):k.stateNode.complete){ne=0,Bn=null;var U=k.sibling;if(U!==null)Vt=U;else{var G=k.return;G!==null?(Vt=G,Bc(G)):Vt=null}break e}}ne=0,Bn=null,io(t,i,v,5);break;case 6:ne=0,Bn=null,io(t,i,v,6);break;case 8:Lf(),Ee=6;break t;default:throw Error(a(462))}}VS();break}catch(et){Tv(t,et)}while(!0);return di=Pi=null,$.H=c,$.A=p,Jt=o,Vt!==null?0:(ue=null,Ft=0,Is(),Ee)}function VS(){for(;Vt!==null&&!Ru();)jv(Vt)}function jv(t){var i=Jy(t.alternate,t,lr);t.memoizedProps=t.pendingProps,i===null?Bc(t):Vt=i}function Rv(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=Wy(o,i,i.pendingProps,i.type,void 0,Ft);break;case 11:i=Wy(o,i,i.pendingProps,i.type.render,i.ref,Ft);break;case 5:Gd(i);default:tv(o,i),i=Vt=cl(i,lr),i=Jy(o,i,lr)}t.memoizedProps=t.pendingProps,i===null?Bc(t):Vt=i}function io(t,i,o,c){di=Pi=null,Gd(i),Wa=null,yl=0;var p=i.return;try{if(RS(t,p,i,o,Ft)){Ee=1,Tc(t,u(o,t.current)),Vt=null;return}}catch(v){if(p!==null)throw Vt=p,v;Ee=1,Tc(t,u(o,t.current)),Vt=null;return}i.flags&32768?(It||c===1?t=!0:Qa||(Ft&536870912)!==0?t=!1:(Fr=t=!0,(c===2||c===9||c===3||c===6)&&(c=Dn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ov(i,t)):Bc(i)}function Bc(t){var i=t;do{if((i.flags&32768)!==0){Ov(i,Fr);return}t=i.return;var o=MS(i.alternate,i,lr);if(o!==null){Vt=o;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=t}while(i!==null);Ee===0&&(Ee=5)}function Ov(t,i){do{var o=LS(t.alternate,t);if(o!==null){o.flags&=32767,Vt=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=o}while(t!==null);Ee=6,Vt=null}function kv(t,i,o,c,p,v,T,k,U){t.cancelPendingCommit=null;do Nc();while(Ve!==0);if((Jt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(v=i.lanes|i.childLanes,v|=Na,md(t,o,v,T,k,U),t===ue&&(Vt=ue=null,Ft=0),eo=i,Zr=t,ur=o,Of=v,kf=p,xv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$S(fs,function(){return zv(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,p=rt.p,rt.p=2,T=Jt,Jt|=4;try{PS(t,i,o)}finally{Jt=T,rt.p=p,$.T=c}}Ve=1,Mv(),Lv(),Pv()}}function Mv(){if(Ve===1){Ve=0;var t=Zr,i=eo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=rt.p;rt.p=2;var p=Jt;Jt|=4;try{dv(i,t);var v=Wf,T=Ds(t.containerInfo),k=v.focusedElem,U=v.selectionRange;if(T!==k&&k&&k.ownerDocument&&Pa(k.ownerDocument.documentElement,k)){if(U!==null&&Ai(k)){var G=U.start,et=U.end;if(et===void 0&&(et=G),"selectionStart"in k)k.selectionStart=G,k.selectionEnd=Math.min(et,k.value.length);else{var at=k.ownerDocument||document,J=at&&at.defaultView||window;if(J.getSelection){var tt=J.getSelection(),bt=k.textContent.length,At=Math.min(U.start,bt),oe=U.end===void 0?At:Math.min(U.end,bt);!tt.extend&&At>oe&&(T=oe,oe=At,At=T);var H=Ps(k,At),I=Ps(k,oe);if(H&&I&&(tt.rangeCount!==1||tt.anchorNode!==H.node||tt.anchorOffset!==H.offset||tt.focusNode!==I.node||tt.focusOffset!==I.offset)){var Z=at.createRange();Z.setStart(H.node,H.offset),tt.removeAllRanges(),At>oe?(tt.addRange(Z),tt.extend(I.node,I.offset)):(Z.setEnd(I.node,I.offset),tt.addRange(Z))}}}}for(at=[],tt=k;tt=tt.parentNode;)tt.nodeType===1&&at.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<at.length;k++){var it=at[k];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Yc=!!$f,Wf=$f=null}finally{Jt=p,rt.p=c,$.T=o}}t.current=i,Ve=2}}function Lv(){if(Ve===2){Ve=0;var t=Zr,i=eo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=rt.p;rt.p=2;var p=Jt;Jt|=4;try{ov(t,i.alternate,i)}finally{Jt=p,rt.p=c,$.T=o}}Ve=3}}function Pv(){if(Ve===4||Ve===3){Ve=0,Ou();var t=Zr,i=eo,o=ur,c=xv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,eo=Zr=null,Dv(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Wr=null),St(o),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(vr,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,p=rt.p,rt.p=2,$.T=null;try{for(var v=t.onRecoverableError,T=0;T<c.length;T++){var k=c[T];v(k.value,{componentStack:k.stack})}}finally{$.T=i,rt.p=p}}(ur&3)!==0&&Nc(),zi(t),p=t.pendingLanes,(o&261930)!==0&&(p&42)!==0?t===Mf?Pl++:(Pl=0,Mf=t):Pl=0,Dl(0)}}function Dv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ml(i)))}function Nc(){return Mv(),Lv(),Pv(),zv()}function zv(){if(Ve!==5)return!1;var t=Zr,i=Of;Of=0;var o=St(ur),c=$.T,p=rt.p;try{rt.p=32>o?32:o,$.T=null,o=kf,kf=null;var v=Zr,T=ur;if(Ve=0,eo=Zr=null,ur=0,(Jt&6)!==0)throw Error(a(331));var k=Jt;if(Jt|=4,yv(v.current),pv(v,v.current,T,o),Jt=k,Dl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(vr,v)}catch{}return!0}finally{rt.p=p,$.T=c,Dv(t,i)}}function Bv(t,i,o){i=u(o,i),i=cf(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(Hi(t,2),zi(t))}function ie(t,i,o){if(t.tag===3)Bv(t,t,o);else for(;i!==null;){if(i.tag===3){Bv(i,t,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wr===null||!Wr.has(c))){t=u(o,t),o=Ny(2),c=Ir(i,o,2),c!==null&&(Uy(o,c,i,t),Hi(c,2),zi(c));break}}i=i.return}}function Df(t,i,o){var c=t.pingCache;if(c===null){c=t.pingCache=new BS;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(o)||(Af=!0,p.add(o),t=HS.bind(null,t,i,o),i.then(t,t))}function HS(t,i,o){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,ue===t&&(Ft&o)===o&&(Ee===4||Ee===3&&(Ft&62914560)===Ft&&300>un()-Mc?(Jt&2)===0&&no(t,0):jf|=o,to===Ft&&(to=0)),zi(t)}function Nv(t,i){i===0&&(i=Mu()),t=Gn(t,i),t!==null&&(Hi(t,i),zi(t))}function qS(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Nv(t,o)}function FS(t,i){var o=0;switch(t.tag){case 31:case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Nv(t,o)}function $S(t,i){return xa(t,i)}var Uc=null,ro=null,zf=!1,Ic=!1,Bf=!1,Kr=0;function zi(t){t!==ro&&t.next===null&&(ro===null?Uc=ro=t:ro=ro.next=t),Ic=!0,zf||(zf=!0,ZS())}function Dl(t,i){if(!Bf&&Ic){Bf=!0;do for(var o=!1,c=Uc;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var v=0;else{var T=c.suspendedLanes,k=c.pingedLanes;v=(1<<31-cn(42|t)+1)-1,v&=p&~(T&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Hv(c,v))}else v=Ft,v=wa(c,c===ue?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||vs(c,v)||(o=!0,Hv(c,v));c=c.next}while(o);Bf=!1}}function WS(){Uv()}function Uv(){Ic=zf=!1;var t=0;Kr!==0&&iT()&&(t=Kr);for(var i=un(),o=null,c=Uc;c!==null;){var p=c.next,v=Iv(c,i);v===0?(c.next=null,o===null?Uc=p:o.next=p,p===null&&(ro=o)):(o=c,(t!==0||(v&3)!==0)&&(Ic=!0)),c=p}Ve!==0&&Ve!==5||Dl(t),Kr!==0&&(Kr=0)}function Iv(t,i){for(var o=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var T=31-cn(v),k=1<<T,U=p[T];U===-1?((k&o)===0||(k&c)!==0)&&(p[T]=pd(k,i)):U<=i&&(t.expiredLanes|=k),v&=~k}if(i=ue,o=Ft,o=wa(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,o===0||t===i&&(ne===2||ne===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&ds(c),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||vs(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(c!==null&&ds(c),St(o)){case 2:case 8:o=Vo;break;case 32:o=fs;break;case 268435456:o=Ho;break;default:o=fs}return c=Vv.bind(null,t),o=xa(o,c),t.callbackPriority=i,t.callbackNode=o,i}return c!==null&&c!==null&&ds(c),t.callbackPriority=2,t.callbackNode=null,2}function Vv(t,i){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Nc()&&t.callbackNode!==o)return null;var c=Ft;return c=wa(t,t===ue?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(wv(t,c,i),Iv(t,un()),t.callbackNode!=null&&t.callbackNode===o?Vv.bind(null,t):null)}function Hv(t,i){if(Nc())return null;wv(t,i,!0)}function ZS(){sT(function(){(Jt&6)!==0?xa(ba,WS):Uv()})}function Nf(){if(Kr===0){var t=qa;t===0&&(t=ms,ms<<=1,(ms&261888)===0&&(ms=256)),Kr=t}return Kr}function qv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Tr(""+t)}function Fv(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function GS(t,i,o,c,p){if(i==="submit"&&o&&o.stateNode===p){var v=qv((p[Fe]||null).action),T=c.submitter;T&&(i=(i=T[Fe]||null)?qv(i.formAction):T.getAttribute("formAction"),i!==null&&(v=i,T=null));var k=new Aa("action","action",null,c,p);t.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Kr!==0){var U=T?Fv(p,T):new FormData(p);rf(o,{pending:!0,data:U,method:p.method,action:v},null,U)}}else typeof v=="function"&&(k.preventDefault(),U=T?Fv(p,T):new FormData(p),rf(o,{pending:!0,data:U,method:p.method,action:v},v,U))},currentTarget:p}]})}}for(var Uf=0;Uf<Oi.length;Uf++){var If=Oi[Uf],KS=If.toLowerCase(),YS=If[0].toUpperCase()+If.slice(1);xn(KS,"on"+YS)}xn(Bs,"onAnimationEnd"),xn(rc,"onAnimationIteration"),xn(Ns,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(jd,"onTransitionRun"),xn(sc,"onTransitionStart"),xn(Rd,"onTransitionCancel"),xn(Dr,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function $v(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],p=c.event;c=c.listeners;t:{var v=void 0;if(i)for(var T=c.length-1;0<=T;T--){var k=c[T],U=k.instance,G=k.currentTarget;if(k=k.listener,U!==v&&p.isPropagationStopped())break t;v=k,p.currentTarget=G;try{v(p)}catch(et){Us(et)}p.currentTarget=null,v=U}else for(T=0;T<c.length;T++){if(k=c[T],U=k.instance,G=k.currentTarget,k=k.listener,U!==v&&p.isPropagationStopped())break t;v=k,p.currentTarget=G;try{v(p)}catch(et){Us(et)}p.currentTarget=null,v=U}}}}function Ht(t,i){var o=i[bi];o===void 0&&(o=i[bi]=new Set);var c=t+"__bubble";o.has(c)||(Wv(i,t,2,!1),o.add(c))}function Vf(t,i,o){var c=0;i&&(c|=4),Wv(o,t,c,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Hf(t){if(!t[Vc]){t[Vc]=!0,Nu.forEach(function(o){o!=="selectionchange"&&(XS.has(o)||Vf(o,!1,t),Vf(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Vf("selectionchange",!1,i))}}function Wv(t,i,o,c){switch(b0(i)){case 2:var p=ET;break;case 8:p=CT;break;default:p=ip}o=p.bind(null,i,o,t),p=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(i,o,{capture:!0,passive:p}):t.addEventListener(i,o,!0):p!==void 0?t.addEventListener(i,o,{passive:p}):t.addEventListener(i,o,!1)}function qf(t,i,o,c,p){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var k=c.stateNode.containerInfo;if(k===p)break;if(T===4)for(T=c.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;k!==null;){if(T=Fi(k),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){c=v=T;continue t}k=k.parentNode}}c=c.return}Qo(function(){var G=v,et=Ts(o),at=[];t:{var J=ac.get(t);if(J!==void 0){var tt=Aa,bt=t;switch(t){case"keypress":if(Cs(o)===0)break t;case"keydown":case"keyup":tt=Wu;break;case"focusin":bt="focus",tt=nl;break;case"focusout":bt="blur",tt=nl;break;case"beforeblur":case"afterblur":tt=nl;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=wd;break;case Bs:case rc:case Ns:tt=il;break;case Dr:tt=Ku;break;case"scroll":case"scrollend":tt=qt;break;case"wheel":tt=Ki;break;case"copy":case"cut":case"paste":tt=Fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Zu;break;case"toggle":case"beforetoggle":tt=Rs}var At=(i&4)!==0,oe=!At&&(t==="scroll"||t==="scrollend"),H=At?J!==null?J+"Capture":null:J;At=[];for(var I=G,Z;I!==null;){var it=I;if(Z=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Z===null||H===null||(it=Zi(I,H),it!=null&&At.push(Bl(I,it,Z))),oe)break;I=I.return}0<At.length&&(J=new tt(J,bt,null,o,et),at.push({event:J,listeners:At}))}}if((i&7)===0){t:{if(J=t==="mouseover"||t==="pointerover",tt=t==="mouseout"||t==="pointerout",J&&o!==Ca&&(bt=o.relatedTarget||o.fromElement)&&(Fi(bt)||bt[qi]))break t;if((tt||J)&&(J=et.window===et?et:(J=et.ownerDocument)?J.defaultView||J.parentWindow:window,tt?(bt=o.relatedTarget||o.toElement,tt=G,bt=bt?Fi(bt):null,bt!==null&&(oe=h(bt),At=bt.tag,bt!==oe||At!==5&&At!==27&&At!==6)&&(bt=null)):(tt=null,bt=G),tt!==bt)){if(At=Vu,it="onMouseLeave",H="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(At=Zu,it="onPointerLeave",H="onPointerEnter",I="pointer"),oe=tt==null?J:wi(tt),Z=bt==null?J:wi(bt),J=new At(it,I+"leave",tt,o,et),J.target=oe,J.relatedTarget=Z,it=null,Fi(et)===G&&(At=new At(H,I+"enter",bt,o,et),At.target=Z,At.relatedTarget=oe,it=At),oe=it,tt&&bt)e:{for(At=JS,H=tt,I=bt,Z=0,it=H;it;it=At(it))Z++;it=0;for(var Ct=I;Ct;Ct=At(Ct))it++;for(;0<Z-it;)H=At(H),Z--;for(;0<it-Z;)I=At(I),it--;for(;Z--;){if(H===I||I!==null&&H===I.alternate){At=H;break e}H=At(H),I=At(I)}At=null}else At=null;tt!==null&&Zv(at,J,tt,At,!1),bt!==null&&oe!==null&&Zv(at,oe,bt,At,!0)}}t:{if(J=G?wi(G):window,tt=J.nodeName&&J.nodeName.toLowerCase(),tt==="select"||tt==="input"&&J.type==="file")var Yt=Ls;else if($n(J))if(Qu)Yt=Ad;else{Yt=Cd;var wt=ui}else tt=J.nodeName,!tt||tt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?G&&Ss(G.elementType)&&(Yt=Ls):Yt=kr;if(Yt&&(Yt=Yt(t,G))){Ju(at,Yt,o,et);break t}wt&&wt(t,J,G),t==="focusout"&&G&&J.type==="number"&&G.memoizedProps.value!=null&&ai(J,"number",J.value)}switch(wt=G?wi(G):window,t){case"focusin":($n(wt)||wt.contentEditable==="true")&&(ji=wt,za=G,zs=null);break;case"focusout":zs=za=ji=null;break;case"mousedown":Lr=!0;break;case"contextmenu":case"mouseup":case"dragend":Lr=!1,nc(at,o,et);break;case"selectionchange":if(Da)break;case"keydown":case"keyup":nc(at,o,et)}var Nt;if(Ra)t:{switch(t){case"compositionstart":var $t="onCompositionStart";break t;case"compositionend":$t="onCompositionEnd";break t;case"compositionupdate":$t="onCompositionUpdate";break t}$t=void 0}else jr?Xu(t,o)&&($t="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&($t="onCompositionStart");$t&&(Oa&&o.locale!=="ko"&&(jr||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&jr&&(Nt=Ei()):(qn=et,Gi="value"in qn?qn.value:qn.textContent,jr=!0)),wt=Hc(G,$t),0<wt.length&&($t=new rl($t,t,null,o,et),at.push({event:$t,listeners:wt}),Nt?$t.data=Nt:(Nt=ll(o),Nt!==null&&($t.data=Nt)))),(Nt=Td?Pn(t,o):Rr(t,o))&&($t=Hc(G,"onBeforeInput"),0<$t.length&&(wt=new rl("onBeforeInput","beforeinput",null,o,et),at.push({event:wt,listeners:$t}),wt.data=Nt)),GS(at,t,G,o,et)}$v(at,i)})}function Bl(t,i,o){return{instance:t,listener:i,currentTarget:o}}function Hc(t,i){for(var o=i+"Capture",c=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Zi(t,o),p!=null&&c.unshift(Bl(t,p,v)),p=Zi(t,i),p!=null&&c.push(Bl(t,p,v))),t.tag===3)return c;t=t.return}return[]}function JS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zv(t,i,o,c,p){for(var v=i._reactName,T=[];o!==null&&o!==c;){var k=o,U=k.alternate,G=k.stateNode;if(k=k.tag,U!==null&&U===c)break;k!==5&&k!==26&&k!==27||G===null||(U=G,p?(G=Zi(o,v),G!=null&&T.unshift(Bl(o,G,U))):p||(G=Zi(o,v),G!=null&&T.push(Bl(o,G,U)))),o=o.return}T.length!==0&&t.push({event:i,listeners:T})}var QS=/\r\n?/g,tT=/\u0000|\uFFFD/g;function Gv(t){return(typeof t=="string"?t:""+t).replace(QS,`
`).replace(tT,"")}function Kv(t,i){return i=Gv(i),Gv(t)===i}function ae(t,i,o,c,p,v){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Hn(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Hn(t,""+c);break;case"className":re(t,"class",c);break;case"tabIndex":re(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":re(t,o,c);break;case"style":Ta(t,c,v);break;case"data":if(i!=="object"){re(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=Tr(""+c),t.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(i!=="input"&&ae(t,i,"name",p.name,p,null),ae(t,i,"formEncType",p.formEncType,p,null),ae(t,i,"formMethod",p.formMethod,p,null),ae(t,i,"formTarget",p.formTarget,p,null)):(ae(t,i,"encType",p.encType,p,null),ae(t,i,"method",p.method,p,null),ae(t,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=Tr(""+c),t.setAttribute(o,c);break;case"onClick":c!=null&&(t.onclick=vn);break;case"onScroll":c!=null&&Ht("scroll",t);break;case"onScrollEnd":c!=null&&Ht("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}o=Tr(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""+c):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":c===!0?t.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,c):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(o,c):t.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(o):t.setAttribute(o,c);break;case"popover":Ht("beforetoggle",t),Ht("toggle",t),Ut(t,"popover",c);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ut(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ea.get(o)||o,Ut(t,o,c))}}function Ff(t,i,o,c,p,v){switch(o){case"style":Ta(t,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof c=="string"?Hn(t,c):(typeof c=="number"||typeof c=="bigint")&&Hn(t,""+c);break;case"onScroll":c!=null&&Ht("scroll",t);break;case"onScrollEnd":c!=null&&Ht("scrollend",t);break;case"onClick":c!=null&&(t.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),v=t[Fe]||null,v=v!=null?v[o]:null,typeof v=="function"&&t.removeEventListener(i,v,p),typeof c=="function")){typeof v!="function"&&v!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,c,p);break t}o in t?t[o]=c:c===!0?t.setAttribute(o,""):Ut(t,o,c)}}}function Qe(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",t),Ht("load",t);var c=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var T=o[v];if(T!=null)switch(v){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ae(t,i,v,T,o,null)}}p&&ae(t,i,"srcSet",o.srcSet,o,null),c&&ae(t,i,"src",o.src,o,null);return;case"input":Ht("invalid",t);var k=v=T=p=null,U=null,G=null;for(c in o)if(o.hasOwnProperty(c)){var et=o[c];if(et!=null)switch(c){case"name":p=et;break;case"type":T=et;break;case"checked":U=et;break;case"defaultChecked":G=et;break;case"value":v=et;break;case"defaultValue":k=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,i));break;default:ae(t,i,c,et,o,null)}}ws(t,v,k,U,G,T,p,!1);return;case"select":Ht("invalid",t),c=T=v=null;for(p in o)if(o.hasOwnProperty(p)&&(k=o[p],k!=null))switch(p){case"value":v=k;break;case"defaultValue":T=k;break;case"multiple":c=k;default:ae(t,i,p,k,o,null)}i=v,o=T,t.multiple=!!c,i!=null?le(t,!!c,i,!1):o!=null&&le(t,!!c,o,!0);return;case"textarea":Ht("invalid",t),v=p=c=null;for(T in o)if(o.hasOwnProperty(T)&&(k=o[T],k!=null))switch(T){case"value":c=k;break;case"defaultValue":p=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(91));break;default:ae(t,i,T,k,o,null)}wr(t,c,p,v);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(c=o[U],c!=null))switch(U){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ae(t,i,U,c,o,null)}return;case"dialog":Ht("beforetoggle",t),Ht("toggle",t),Ht("cancel",t),Ht("close",t);break;case"iframe":case"object":Ht("load",t);break;case"video":case"audio":for(c=0;c<zl.length;c++)Ht(zl[c],t);break;case"image":Ht("error",t),Ht("load",t);break;case"details":Ht("toggle",t);break;case"embed":case"source":case"link":Ht("error",t),Ht("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(c=o[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ae(t,i,G,c,o,null)}return;default:if(Ss(i)){for(et in o)o.hasOwnProperty(et)&&(c=o[et],c!==void 0&&Ff(t,i,et,c,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(c=o[k],c!=null&&ae(t,i,k,c,o,null))}function eT(t,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,T=null,k=null,U=null,G=null,et=null;for(tt in o){var at=o[tt];if(o.hasOwnProperty(tt)&&at!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":U=at;default:c.hasOwnProperty(tt)||ae(t,i,tt,null,c,at)}}for(var J in c){var tt=c[J];if(at=o[J],c.hasOwnProperty(J)&&(tt!=null||at!=null))switch(J){case"type":v=tt;break;case"name":p=tt;break;case"checked":G=tt;break;case"defaultChecked":et=tt;break;case"value":T=tt;break;case"defaultValue":k=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,i));break;default:tt!==at&&ae(t,i,J,tt,c,at)}}Yo(t,T,k,U,G,et,v,p);return;case"select":tt=T=k=J=null;for(v in o)if(U=o[v],o.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":tt=U;default:c.hasOwnProperty(v)||ae(t,i,v,null,c,U)}for(p in c)if(v=c[p],U=o[p],c.hasOwnProperty(p)&&(v!=null||U!=null))switch(p){case"value":J=v;break;case"defaultValue":k=v;break;case"multiple":T=v;default:v!==U&&ae(t,i,p,v,c,U)}i=k,o=T,c=tt,J!=null?le(t,!!o,J,!1):!!c!=!!o&&(i!=null?le(t,!!o,i,!0):le(t,!!o,o?[]:"",!1));return;case"textarea":tt=J=null;for(k in o)if(p=o[k],o.hasOwnProperty(k)&&p!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ae(t,i,k,null,c,p)}for(T in c)if(p=c[T],v=o[T],c.hasOwnProperty(T)&&(p!=null||v!=null))switch(T){case"value":J=p;break;case"defaultValue":tt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==v&&ae(t,i,T,p,c,v)}Ti(t,J,tt);return;case"option":for(var bt in o)if(J=o[bt],o.hasOwnProperty(bt)&&J!=null&&!c.hasOwnProperty(bt))switch(bt){case"selected":t.selected=!1;break;default:ae(t,i,bt,null,c,J)}for(U in c)if(J=c[U],tt=o[U],c.hasOwnProperty(U)&&J!==tt&&(J!=null||tt!=null))switch(U){case"selected":t.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ae(t,i,U,J,c,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in o)J=o[At],o.hasOwnProperty(At)&&J!=null&&!c.hasOwnProperty(At)&&ae(t,i,At,null,c,J);for(G in c)if(J=c[G],tt=o[G],c.hasOwnProperty(G)&&J!==tt&&(J!=null||tt!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:ae(t,i,G,J,c,tt)}return;default:if(Ss(i)){for(var oe in o)J=o[oe],o.hasOwnProperty(oe)&&J!==void 0&&!c.hasOwnProperty(oe)&&Ff(t,i,oe,void 0,c,J);for(et in c)J=c[et],tt=o[et],!c.hasOwnProperty(et)||J===tt||J===void 0&&tt===void 0||Ff(t,i,et,J,c,tt);return}}for(var H in o)J=o[H],o.hasOwnProperty(H)&&J!=null&&!c.hasOwnProperty(H)&&ae(t,i,H,null,c,J);for(at in c)J=c[at],tt=o[at],!c.hasOwnProperty(at)||J===tt||J==null&&tt==null||ae(t,i,at,J,c,tt)}function Yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],v=p.transferSize,T=p.initiatorType,k=p.duration;if(v&&k&&Yv(T)){for(T=0,k=p.responseEnd,c+=1;c<o.length;c++){var U=o[c],G=U.startTime;if(G>k)break;var et=U.transferSize,at=U.initiatorType;et&&Yv(at)&&(U=U.responseEnd,T+=et*(U<k?1:(k-G)/(U-G)))}if(--c,i+=8*(v+T)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $f=null,Wf=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function Xv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gf=null;function iT(){var t=window.event;return t&&t.type==="popstate"?t===Gf?!1:(Gf=t,!0):(Gf=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,sT=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(t){return t0.resolve(null).then(t).catch(aT)}:Qv;function aT(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function e0(t,i){var o=i,c=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){t.removeChild(p),lo(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Nl(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,Nl(o);for(var v=o.firstChild;v;){var T=v.nextSibling,k=v.nodeName;v[_s]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=T}}else o==="body"&&Nl(t.ownerDocument.body);o=p}while(o);lo(i)}function n0(t,i){var o=t;t=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=c}while(o)}function Kf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kf(o),Wo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function oT(t,i,o,c){for(;t.nodeType===1;){var p=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[_s])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function lT(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Xn(t.nextSibling),t===null))return null;return t}function i0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Xn(t.nextSibling),t===null))return null;return t}function Yf(t){return t.data==="$?"||t.data==="$~"}function Xf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function uT(t,i){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Xn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Jf=null;function r0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(i===0)return Xn(t.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}t=t.nextSibling}return null}function s0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return t;i--}else o!=="/$"&&o!=="/&"||i++}t=t.previousSibling}return null}function a0(t,i,o){switch(i=qc(o),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Wo(t)}var Jn=new Map,o0=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=rt.d;rt.d={f:cT,r:hT,D:dT,C:fT,L:pT,m:mT,X:yT,S:gT,M:vT};function cT(){var t=cr.f(),i=Dc();return t||i}function hT(t){var i=_r(t);i!==null&&i.tag===5&&i.type==="form"?Ty(i):cr.r(t)}var so=typeof document>"u"?null:document;function l0(t,i,o){var c=so;if(c&&typeof i=="string"&&i){var p=de(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),o0.has(p)||(o0.add(p),t={rel:t,crossOrigin:o,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Qe(i,"link",t),ke(i),c.head.appendChild(i)))}}function dT(t){cr.D(t),l0("dns-prefetch",t,null)}function fT(t,i){cr.C(t,i),l0("preconnect",t,i)}function pT(t,i,o){cr.L(t,i,o);var c=so;if(c&&t&&i){var p='link[rel="preload"][as="'+de(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+de(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+de(o.imageSizes)+'"]')):p+='[href="'+de(t)+'"]';var v=p;switch(i){case"style":v=ao(t);break;case"script":v=oo(t)}Jn.has(v)||(t=w({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Jn.set(v,t),c.querySelector(p)!==null||i==="style"&&c.querySelector(Ul(v))||i==="script"&&c.querySelector(Il(v))||(i=c.createElement("link"),Qe(i,"link",t),ke(i),c.head.appendChild(i)))}}function mT(t,i){cr.m(t,i);var o=so;if(o&&t){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+de(c)+'"][href="'+de(t)+'"]',v=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=oo(t)}if(!Jn.has(v)&&(t=w({rel:"modulepreload",href:t},i),Jn.set(v,t),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Il(v)))return}c=o.createElement("link"),Qe(c,"link",t),ke(c),o.head.appendChild(c)}}}function gT(t,i,o){cr.S(t,i,o);var c=so;if(c&&t){var p=xr(c).hoistableStyles,v=ao(t);i=i||"default";var T=p.get(v);if(!T){var k={loading:0,preload:null};if(T=c.querySelector(Ul(v)))k.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Jn.get(v))&&Qf(t,o);var U=T=c.createElement("link");ke(U),Qe(U,"link",t),U._p=new Promise(function(G,et){U.onload=G,U.onerror=et}),U.addEventListener("load",function(){k.loading|=1}),U.addEventListener("error",function(){k.loading|=2}),k.loading|=4,$c(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:k},p.set(v,T)}}}function yT(t,i){cr.X(t,i);var o=so;if(o&&t){var c=xr(o).hoistableScripts,p=oo(t),v=c.get(p);v||(v=o.querySelector(Il(p)),v||(t=w({src:t,async:!0},i),(i=Jn.get(p))&&tp(t,i),v=o.createElement("script"),ke(v),Qe(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function vT(t,i){cr.M(t,i);var o=so;if(o&&t){var c=xr(o).hoistableScripts,p=oo(t),v=c.get(p);v||(v=o.querySelector(Il(p)),v||(t=w({src:t,async:!0,type:"module"},i),(i=Jn.get(p))&&tp(t,i),v=o.createElement("script"),ke(v),Qe(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function u0(t,i,o,c){var p=(p=ht.current)?Fc(p):null;if(!p)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ao(o.href),o=xr(p).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=ao(o.href);var v=xr(p).hoistableStyles,T=v.get(t);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,T),(v=p.querySelector(Ul(t)))&&!v._p&&(T.instance=v,T.state.loading=5),Jn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(t,o),v||_T(p,t,o,T.state))),i&&c===null)throw Error(a(528,""));return T}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(o),o=xr(p).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ao(t){return'href="'+de(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function c0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function _T(t,i,o,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Qe(i,"link",o),ke(i),t.head.appendChild(i))}function oo(t){return'[src="'+de(t)+'"]'}function Il(t){return"script[async]"+t}function h0(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+de(o.href)+'"]');if(c)return i.instance=c,ke(c),c;var p=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ke(c),Qe(c,"style",p),$c(c,o.precedence,t),i.instance=c;case"stylesheet":p=ao(o.href);var v=t.querySelector(Ul(p));if(v)return i.state.loading|=4,i.instance=v,ke(v),v;c=c0(o),(p=Jn.get(p))&&Qf(c,p),v=(t.ownerDocument||t).createElement("link"),ke(v);var T=v;return T._p=new Promise(function(k,U){T.onload=k,T.onerror=U}),Qe(v,"link",c),i.state.loading|=4,$c(v,o.precedence,t),i.instance=v;case"script":return v=oo(o.src),(p=t.querySelector(Il(v)))?(i.instance=p,ke(p),p):(c=o,(p=Jn.get(v))&&(c=w({},o),tp(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),ke(p),Qe(p,"link",c),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,$c(c,o.precedence,t));return i.instance}function $c(t,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,v=p,T=0;T<c.length;T++){var k=c[T];if(k.dataset.precedence===i)v=k;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Qf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function tp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Wc=null;function d0(t,i,o){if(Wc===null){var c=new Map,p=Wc=new Map;p.set(o,c)}else p=Wc,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(t))return c;for(c.set(t,null),o=o.getElementsByTagName(t),p=0;p<o.length;p++){var v=o[p];if(!(v[_s]||v[Oe]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(i)||"";T=t+T;var k=c.get(T);k?k.push(v):c.set(T,[v])}}return c}function f0(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function xT(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function p0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bT(t,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=ao(c.href),v=i.querySelector(Ul(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Zc.bind(t),i.then(t,t)),o.state.loading|=4,o.instance=v,ke(v);return}v=i.ownerDocument||i,c=c0(c),(p=Jn.get(p))&&Qf(c,p),v=v.createElement("link"),ke(v);var T=v;T._p=new Promise(function(k,U){T.onload=k,T.onerror=U}),Qe(v,"link",c),o.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Zc.bind(t),i.addEventListener("load",o),i.addEventListener("error",o))}}var ep=0;function wT(t,i){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var c=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+i);0<t.imgBytes&&ep===0&&(ep=62500*nT());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>ep?50:800)+i);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(ST,t),Gc=null,Zc.call(t))}function ST(t,i){if(!(i.state.loading&4)){var o=Gc.get(t);if(o)var c=o.get(null);else{o=new Map,Gc.set(t,o);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var T=p[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}p=i.instance,T=p.getAttribute("data-precedence"),v=o.get(T)||c,v===c&&o.set(null,p),o.set(T,p),this.count++,c=Zc.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var Vl={$$typeof:D,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function TT(t,i,o,c,p,v,T,k,U){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.hiddenUpdates=qo(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function m0(t,i,o,c,p,v,T,k,U,G,et,at){return t=new TT(t,i,o,T,U,G,et,at,k),i=1,v===!0&&(i|=24),v=sn(3,null,null,i),t.current=v,v.stateNode=t,i=Ld(),i.refCount++,t.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:o,cache:i},Bd(v),t}function g0(t){return t?(t=Yi,t):Yi}function y0(t,i,o,c,p,v){p=g0(p),c.context===null?c.context=p:c.pendingContext=p,c=Ur(i),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=Ir(t,c,i),o!==null&&(An(o,t,i),_l(o,t,i))}function v0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function np(t,i){v0(t,i),(t=t.alternate)&&v0(t,i)}function _0(t){if(t.tag===13||t.tag===31){var i=Gn(t,67108864);i!==null&&An(i,t,67108864),np(t,67108864)}}function x0(t){if(t.tag===13||t.tag===31){var i=Un();i=gn(i);var o=Gn(t,i);o!==null&&An(o,t,i),np(t,i)}}var Yc=!0;function ET(t,i,o,c){var p=$.T;$.T=null;var v=rt.p;try{rt.p=2,ip(t,i,o,c)}finally{rt.p=v,$.T=p}}function CT(t,i,o,c){var p=$.T;$.T=null;var v=rt.p;try{rt.p=8,ip(t,i,o,c)}finally{rt.p=v,$.T=p}}function ip(t,i,o,c){if(Yc){var p=rp(c);if(p===null)qf(t,i,c,Xc,o),w0(t,c);else if(jT(p,t,i,o,c))c.stopPropagation();else if(w0(t,c),i&4&&-1<AT.indexOf(t)){for(;p!==null;){var v=_r(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=Vi(v.pendingLanes);if(T!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;T;){var U=1<<31-cn(T);k.entanglements[1]|=U,T&=~U}zi(v),(Jt&6)===0&&(Lc=un()+500,Dl(0))}}break;case 31:case 13:k=Gn(v,2),k!==null&&An(k,v,2),Dc(),np(v,2)}if(v=rp(c),v===null&&qf(t,i,c,Xc,o),v===p)break;p=v}p!==null&&c.stopPropagation()}else qf(t,i,c,null,o)}}function rp(t){return t=Ts(t),sp(t)}var Xc=null;function sp(t){if(Xc=null,t=Fi(t),t!==null){var i=h(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=d(i),t!==null)return t;t=null}else if(o===31){if(t=m(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function b0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ud()){case ba:return 2;case Vo:return 8;case fs:case cd:return 32;case Ho:return 268435456;default:return 32}default:return 32}}var ap=!1,Xr=null,Jr=null,Qr=null,Hl=new Map,ql=new Map,ts=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(t,i){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(i.pointerId)}}function Fl(t,i,o,c,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},i!==null&&(i=_r(i),i!==null&&_0(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function jT(t,i,o,c,p){switch(i){case"focusin":return Xr=Fl(Xr,t,i,o,c,p),!0;case"dragenter":return Jr=Fl(Jr,t,i,o,c,p),!0;case"mouseover":return Qr=Fl(Qr,t,i,o,c,p),!0;case"pointerover":var v=p.pointerId;return Hl.set(v,Fl(Hl.get(v)||null,t,i,o,c,p)),!0;case"gotpointercapture":return v=p.pointerId,ql.set(v,Fl(ql.get(v)||null,t,i,o,c,p)),!0}return!1}function S0(t){var i=Fi(t.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){t.blockedOn=i,$o(t.priority,function(){x0(o)});return}}else if(i===31){if(i=m(o),i!==null){t.blockedOn=i,$o(t.priority,function(){x0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=rp(t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Ca=c,o.target.dispatchEvent(c),Ca=null}else return i=_r(o),i!==null&&_0(i),t.blockedOn=o,!1;i.shift()}return!0}function T0(t,i,o){Jc(t)&&o.delete(i)}function RT(){ap=!1,Xr!==null&&Jc(Xr)&&(Xr=null),Jr!==null&&Jc(Jr)&&(Jr=null),Qr!==null&&Jc(Qr)&&(Qr=null),Hl.forEach(T0),ql.forEach(T0)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,ap||(ap=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RT)))}var th=null;function E0(t){th!==t&&(th=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){th===t&&(th=null);for(var i=0;i<t.length;i+=3){var o=t[i],c=t[i+1],p=t[i+2];if(typeof c!="function"){if(sp(c||o)===null)continue;break}var v=_r(o);v!==null&&(t.splice(i,3),i-=3,rf(v,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function lo(t){function i(U){return Qc(U,t)}Xr!==null&&Qc(Xr,t),Jr!==null&&Qc(Jr,t),Qr!==null&&Qc(Qr,t),Hl.forEach(i),ql.forEach(i);for(var o=0;o<ts.length;o++){var c=ts[o];c.blockedOn===t&&(c.blockedOn=null)}for(;0<ts.length&&(o=ts[0],o.blockedOn===null);)S0(o),o.blockedOn===null&&ts.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],T=p[Fe]||null;if(typeof v=="function")T||E0(o);else if(T){var k=null;if(v&&v.hasAttribute("formAction")){if(p=v,T=v[Fe]||null)k=T.formAction;else if(sp(p)!==null)continue}else k=T.action;typeof k=="function"?o[c+1]=k:(o.splice(c,3),c-=3),E0(o)}}}function C0(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function op(t){this._internalRoot=t}eh.prototype.render=op.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Un();y0(o,c,t,i,null,null)},eh.prototype.unmount=op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;y0(t.current,2,null,t,null,null),Dc(),i[qi]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Fo();t={blockedOn:null,target:t,priority:i};for(var o=0;o<ts.length&&i!==0&&i<ts[o].priority;o++);ts.splice(o,0,t),o===0&&S0(t)}};var A0=e.version;if(A0!=="19.2.1")throw Error(a(527,A0,"19.2.1"));rt.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var OT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{vr=nh.inject(OT),Ke=nh}catch{}}return Wl.createRoot=function(t,i){if(!l(t))throw Error(a(299));var o=!1,c="",p=Py,v=Dy,T=zy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=m0(t,1,!1,null,null,o,c,null,p,v,T,C0),t[qi]=i.current,Hf(t),new op(i)},Wl.hydrateRoot=function(t,i,o){if(!l(t))throw Error(a(299));var c=!1,p="",v=Py,T=Dy,k=zy,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=m0(t,1,!0,i,o??null,c,p,U,v,T,k,C0),i.context=g0(null),o=i.current,c=Un(),c=gn(c),p=Ur(c),p.callback=null,Ir(o,p,c),o=c,i.current.lanes=o,Hi(i,o),zi(i),t[qi]=i.current,Hf(t),new eh(i)},Wl.version="19.2.1",Wl}var B0;function IT(){if(B0)return cp.exports;B0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cp.exports=UT(),cp.exports}var VT=IT();const HT=Wh(VT);var N0="popstate";function qT(n={}){function e(l,h){let{pathname:d="/",search:m="",hash:g=""}=ma(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Ip("",{pathname:d,search:m,hash:g},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function r(l,h){let d=l.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let g=l.location.href,_=g.indexOf("#");m=_===-1?g:g.slice(0,_)}return m+"#"+(typeof h=="string"?h:uu(h))}function a(l,h){Vn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return $T(e,r,a,n)}function ve(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Vn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FT(){return Math.random().toString(36).substring(2,10)}function U0(n,e){return{usr:n.state,key:n.key,idx:e}}function Ip(n,e,r=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:r,key:e&&e.key||a||FT()}}function uu({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function ma(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function $T(n,e,r,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,d=l.history,m="POP",g=null,_=b();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function b(){return(d.state||{idx:null}).idx}function w(){m="POP";let R=b(),z=R==null?null:R-_;_=R,g&&g({action:m,location:O.location,delta:z})}function E(R,z){m="PUSH";let N=Ip(O.location,R,z);r&&r(N,R),_=b()+1;let D=U0(N,_),V=O.createHref(N);try{d.pushState(D,"",V)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(V)}h&&g&&g({action:m,location:O.location,delta:1})}function C(R,z){m="REPLACE";let N=Ip(O.location,R,z);r&&r(N,R),_=b();let D=U0(N,_),V=O.createHref(N);d.replaceState(D,"",V),h&&g&&g({action:m,location:O.location,delta:0})}function M(R){return WT(R)}let O={get action(){return m},get location(){return n(l,d)},listen(R){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(N0,w),g=R,()=>{l.removeEventListener(N0,w),g=null}},createHref(R){return e(l,R)},createURL:M,encodeLocation(R){let z=M(R);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:C,go(R){return d.go(R)}};return O}function WT(n,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ve(r,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:uu(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Vx(n,e,r="/"){return ZT(n,e,r,!1)}function ZT(n,e,r,a){let l=typeof e=="string"?ma(e):e,h=pr(l.pathname||"/",r);if(h==null)return null;let d=Hx(n);GT(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let _=s2(h);m=i2(d[g],_,a)}return m}function Hx(n,e=[],r=[],a="",l=!1){let h=(d,m,g=l,_)=>{let b={relativePath:_===void 0?d.path||"":_,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(a)&&g)return;ve(b.relativePath.startsWith(a),`Absolute route path "${b.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(a.length)}let w=fr([a,b.relativePath]),E=r.concat(b);d.children&&d.children.length>0&&(ve(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Hx(d.children,e,E,w,g)),!(d.path==null&&!d.index)&&e.push({path:w,score:e2(w,d.index),routesMeta:E})};return n.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))h(d,m);else for(let g of qx(d.path))h(d,m,!0,g)}),e}function qx(n){let e=n.split("/");if(e.length===0)return[];let[r,...a]=e,l=r.endsWith("?"),h=r.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let d=qx(a.join("/")),m=[];return m.push(...d.map(g=>g===""?h:[h,g].join("/"))),l&&m.push(...d),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function GT(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:n2(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var KT=/^:[\w-]+$/,YT=3,XT=2,JT=1,QT=10,t2=-2,I0=n=>n==="*";function e2(n,e){let r=n.split("/"),a=r.length;return r.some(I0)&&(a+=t2),e&&(a+=XT),r.filter(l=>!I0(l)).reduce((l,h)=>l+(KT.test(h)?YT:h===""?JT:QT),a)}function n2(n,e){return n.length===e.length&&n.slice(0,-1).every((a,l)=>a===e[l])?n[n.length-1]-e[e.length-1]:0}function i2(n,e,r=!1){let{routesMeta:a}=n,l={},h="/",d=[];for(let m=0;m<a.length;++m){let g=a[m],_=m===a.length-1,b=h==="/"?e:e.slice(h.length)||"/",w=Rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},b),E=g.route;if(!w&&_&&r&&!a[a.length-1].route.index&&(w=Rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:fr([h,w.pathname]),pathnameBase:c2(fr([h,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(h=fr([h,w.pathnameBase]))}return d}function Rh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,a]=r2(n.path,n.caseSensitive,n.end),l=e.match(r);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((_,{paramName:b,isOptional:w},E)=>{if(b==="*"){let M=m[E]||"";d=h.slice(0,h.length-M.length).replace(/(.)\/+$/,"$1")}const C=m[E];return w&&!C?_[b]=void 0:_[b]=(C||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:d,pattern:n}}function r2(n,e=!1,r=!0){Vn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function s2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function pr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=n.charAt(r);return a&&a!=="/"?null:n.slice(r)||"/"}var a2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o2=n=>a2.test(n);function l2(n,e="/"){let{pathname:r,search:a="",hash:l=""}=typeof n=="string"?ma(n):n,h;if(r)if(o2(r))h=r;else{if(r.includes("//")){let d=r;r=r.replace(/\/\/+/g,"/"),Vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${r}`)}r.startsWith("/")?h=V0(r.substring(1),"/"):h=V0(r,e)}else h=e;return{pathname:h,search:h2(a),hash:d2(l)}}function V0(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function pp(n,e,r,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u2(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Om(n){let e=u2(n);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function km(n,e,r,a=!1){let l;typeof n=="string"?l=ma(n):(l={...n},ve(!l.pathname||!l.pathname.includes("?"),pp("?","pathname","search",l)),ve(!l.pathname||!l.pathname.includes("#"),pp("#","pathname","hash",l)),ve(!l.search||!l.search.includes("#"),pp("#","search","hash",l)));let h=n===""||l.pathname==="",d=h?"/":l.pathname,m;if(d==null)m=r;else{let w=e.length-1;if(!a&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),w-=1;l.pathname=E.join("/")}m=w>=0?e[w]:"/"}let g=l2(l,m),_=d&&d!=="/"&&d.endsWith("/"),b=(h||d===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(_||b)&&(g.pathname+="/"),g}var fr=n=>n.join("/").replace(/\/\/+/g,"/"),c2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),h2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,d2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function f2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function p2(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fx=["POST","PUT","PATCH","DELETE"];new Set(Fx);var m2=["GET",...Fx];new Set(m2);var ko=j.createContext(null);ko.displayName="DataRouter";var Zh=j.createContext(null);Zh.displayName="DataRouterState";j.createContext(!1);var $x=j.createContext({isTransitioning:!1});$x.displayName="ViewTransition";var g2=j.createContext(new Map);g2.displayName="Fetchers";var y2=j.createContext(null);y2.displayName="Await";var ni=j.createContext(null);ni.displayName="Navigation";var vu=j.createContext(null);vu.displayName="Location";var ii=j.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Mm=j.createContext(null);Mm.displayName="RouteError";function v2(n,{relative:e}={}){ve(Mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=j.useContext(ni),{hash:l,pathname:h,search:d}=_u(n,{relative:e}),m=h;return r!=="/"&&(m=h==="/"?r:fr([r,h])),a.createHref({pathname:m,search:d,hash:l})}function Mo(){return j.useContext(vu)!=null}function xi(){return ve(Mo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(vu).location}var Wx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zx(n){j.useContext(ni).static||j.useLayoutEffect(n)}function Re(){let{isDataRoute:n}=j.useContext(ii);return n?L2():_2()}function _2(){ve(Mo(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(ko),{basename:e,navigator:r}=j.useContext(ni),{matches:a}=j.useContext(ii),{pathname:l}=xi(),h=JSON.stringify(Om(a)),d=j.useRef(!1);return Zx(()=>{d.current=!0}),j.useCallback((g,_={})=>{if(Vn(d.current,Wx),!d.current)return;if(typeof g=="number"){r.go(g);return}let b=km(g,JSON.parse(h),l,_.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:fr([e,b.pathname])),(_.replace?r.replace:r.push)(b,_.state,_)},[e,r,h,l,n])}var x2=j.createContext(null);function b2(n){let e=j.useContext(ii).outlet;return j.useMemo(()=>e&&j.createElement(x2.Provider,{value:n},e),[e,n])}function Lm(){let{matches:n}=j.useContext(ii),e=n[n.length-1];return e?e.params:{}}function _u(n,{relative:e}={}){let{matches:r}=j.useContext(ii),{pathname:a}=xi(),l=JSON.stringify(Om(r));return j.useMemo(()=>km(n,JSON.parse(l),a,e==="path"),[n,l,a,e])}function w2(n,e){return Gx(n,e)}function Gx(n,e,r,a,l){ve(Mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=j.useContext(ni),{matches:d}=j.useContext(ii),m=d[d.length-1],g=m?m.params:{},_=m?m.pathname:"/",b=m?m.pathnameBase:"/",w=m&&m.route;{let N=w&&w.path||"";Kx(_,!w||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let E=xi(),C;if(e){let N=typeof e=="string"?ma(e):e;ve(b==="/"||N.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${N.pathname}" was given in the \`location\` prop.`),C=N}else C=E;let M=C.pathname||"/",O=M;if(b!=="/"){let N=b.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice(N.length).join("/")}let R=Vx(n,{pathname:O});Vn(w||R!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Vn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=A2(R&&R.map(N=>Object.assign({},N,{params:Object.assign({},g,N.params),pathname:fr([b,h.encodeLocation?h.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?b:fr([b,h.encodeLocation?h.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),d,r,a,l);return e&&z?j.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},z):z}function S2(){let n=M2(),e=f2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:h},"ErrorBoundary")," or"," ",j.createElement("code",{style:h},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:l},r):null,d)}var T2=j.createElement(S2,null),E2=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?j.createElement(ii.Provider,{value:this.props.routeContext},j.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function C2({routeContext:n,match:e,children:r}){let a=j.useContext(ko);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ii.Provider,{value:n},r)}function A2(n,e=[],r=null,a=null,l=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let h=n,d=r?.errors;if(d!=null){let b=h.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);ve(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),h=h.slice(0,Math.min(h.length,b+1))}let m=!1,g=-1;if(r)for(let b=0;b<h.length;b++){let w=h[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=b),w.route.id){let{loaderData:E,errors:C}=r,M=w.route.loader&&!E.hasOwnProperty(w.route.id)&&(!C||C[w.route.id]===void 0);if(w.route.lazy||M){m=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}let _=r&&a?(b,w)=>{a(b,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:p2(r.matches),errorInfo:w})}:void 0;return h.reduceRight((b,w,E)=>{let C,M=!1,O=null,R=null;r&&(C=d&&w.route.id?d[w.route.id]:void 0,O=w.route.errorElement||T2,m&&(g<0&&E===0?(Kx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,R=null):g===E&&(M=!0,R=w.route.hydrateFallbackElement||null)));let z=e.concat(h.slice(0,E+1)),N=()=>{let D;return C?D=O:M?D=R:w.route.Component?D=j.createElement(w.route.Component,null):w.route.element?D=w.route.element:D=b,j.createElement(C2,{match:w,routeContext:{outlet:b,matches:z,isDataRoute:r!=null},children:D})};return r&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?j.createElement(E2,{location:r.location,revalidation:r.revalidation,component:O,error:C,children:N(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:_}):N()},null)}function Pm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j2(n){let e=j.useContext(ko);return ve(e,Pm(n)),e}function R2(n){let e=j.useContext(Zh);return ve(e,Pm(n)),e}function O2(n){let e=j.useContext(ii);return ve(e,Pm(n)),e}function Dm(n){let e=O2(n),r=e.matches[e.matches.length-1];return ve(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function k2(){return Dm("useRouteId")}function M2(){let n=j.useContext(Mm),e=R2("useRouteError"),r=Dm("useRouteError");return n!==void 0?n:e.errors?.[r]}function L2(){let{router:n}=j2("useNavigate"),e=Dm("useNavigate"),r=j.useRef(!1);return Zx(()=>{r.current=!0}),j.useCallback(async(l,h={})=>{Vn(r.current,Wx),r.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:e,...h}))},[n,e])}var H0={};function Kx(n,e,r){!e&&!H0[n]&&(H0[n]=!0,Vn(!1,r))}j.memo(P2);function P2({routes:n,future:e,state:r,unstable_onError:a}){return Gx(n,void 0,r,a,e)}function Yx({to:n,replace:e,state:r,relative:a}){ve(Mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=j.useContext(ni);Vn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=j.useContext(ii),{pathname:d}=xi(),m=Re(),g=km(n,Om(h),d,a==="path"),_=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(_),{replace:e,state:r,relative:a})},[m,_,a,e,r]),null}function D2(n){return b2(n.context)}function xe(n){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z2({basename:n="/",children:e=null,location:r,navigationType:a="POP",navigator:l,static:h=!1,unstable_useTransitions:d}){ve(!Mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:l,static:h,unstable_useTransitions:d,future:{}}),[m,l,h,d]);typeof r=="string"&&(r=ma(r));let{pathname:_="/",search:b="",hash:w="",state:E=null,key:C="default"}=r,M=j.useMemo(()=>{let O=pr(_,m);return O==null?null:{location:{pathname:O,search:b,hash:w,state:E,key:C},navigationType:a}},[m,_,b,w,E,C,a]);return Vn(M!=null,`<Router basename="${m}"> is not able to match the URL "${_}${b}${w}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:j.createElement(ni.Provider,{value:g},j.createElement(vu.Provider,{children:e,value:M}))}function Xx({children:n,location:e}){return w2(Vp(n),e)}function Vp(n,e=[]){let r=[];return j.Children.forEach(n,(a,l)=>{if(!j.isValidElement(a))return;let h=[...e,l];if(a.type===j.Fragment){r.push.apply(r,Vp(a.props.children,h));return}ve(a.type===xe,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Vp(a.props.children,h)),r.push(d)}),r}var vh="get",_h="application/x-www-form-urlencoded";function Gh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function B2(n){return Gh(n)&&n.tagName.toLowerCase()==="button"}function N2(n){return Gh(n)&&n.tagName.toLowerCase()==="form"}function U2(n){return Gh(n)&&n.tagName.toLowerCase()==="input"}function I2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function V2(n,e){return n.button===0&&(!e||e==="_self")&&!I2(n)}var ih=null;function H2(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var q2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(n){return n!=null&&!q2.has(n)?(Vn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_h}"`),null):n}function F2(n,e){let r,a,l,h,d;if(N2(n)){let m=n.getAttribute("action");a=m?pr(m,e):null,r=n.getAttribute("method")||vh,l=mp(n.getAttribute("enctype"))||_h,h=new FormData(n)}else if(B2(n)||U2(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(a=g?pr(g,e):null,r=n.getAttribute("formmethod")||m.getAttribute("method")||vh,l=mp(n.getAttribute("formenctype"))||mp(m.getAttribute("enctype"))||_h,h=new FormData(m,n),!H2()){let{name:_,type:b,value:w}=n;if(b==="image"){let E=_?`${_}.`:"";h.append(`${E}x`,"0"),h.append(`${E}y`,"0")}else _&&h.append(_,w)}}else{if(Gh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vh,a=null,l=_h,d=n}return h&&l==="text/plain"&&(d=h,h=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $2(n,e,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&pr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function W2(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function G2(n,e,r){let a=await Promise.all(n.map(async l=>{let h=e.routes[l.route.id];if(h){let d=await W2(h,r);return d.links?d.links():[]}return[]}));return J2(a.flat(1).filter(Z2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function q0(n,e,r,a,l,h){let d=(g,_)=>r[_]?g.route.id!==r[_].route.id:!0,m=(g,_)=>r[_].pathname!==g.pathname||r[_].route.path?.endsWith("*")&&r[_].params["*"]!==g.params["*"];return h==="assets"?e.filter((g,_)=>d(g,_)||m(g,_)):h==="data"?e.filter((g,_)=>{let b=a.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(d(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function K2(n,e,{includeHydrateFallback:r}={}){return Y2(n.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function Y2(n){return[...new Set(n)]}function X2(n){let e={},r=Object.keys(n).sort();for(let a of r)e[a]=n[a];return e}function J2(n,e){let r=new Set;return new Set(e),n.reduce((a,l)=>{let h=JSON.stringify(X2(l));return r.has(h)||(r.add(h),a.push({key:h,link:l})),a},[])}function Jx(){let n=j.useContext(ko);return zm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Q2(){let n=j.useContext(Zh);return zm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bm=j.createContext(void 0);Bm.displayName="FrameworkContext";function Qx(){let n=j.useContext(Bm);return zm(n,"You must render this element inside a <HydratedRouter> element"),n}function tE(n,e){let r=j.useContext(Bm),[a,l]=j.useState(!1),[h,d]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:b,onTouchStart:w}=e,E=j.useRef(null);j.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let O=z=>{z.forEach(N=>{d(N.isIntersecting)})},R=new IntersectionObserver(O,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[n]),j.useEffect(()=>{if(a){let O=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(O)}}},[a]);let C=()=>{l(!0)},M=()=>{l(!1),d(!1)};return r?n!=="intent"?[h,E,{}]:[h,E,{onFocus:Zl(m,C),onBlur:Zl(g,M),onMouseEnter:Zl(_,C),onMouseLeave:Zl(b,M),onTouchStart:Zl(w,C)}]:[!1,E,{}]}function Zl(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function eE({page:n,...e}){let{router:r}=Jx(),a=j.useMemo(()=>Vx(r.routes,n,r.basename),[r.routes,n,r.basename]);return a?j.createElement(iE,{page:n,matches:a,...e}):null}function nE(n){let{manifest:e,routeModules:r}=Qx(),[a,l]=j.useState([]);return j.useEffect(()=>{let h=!1;return G2(n,e,r).then(d=>{h||l(d)}),()=>{h=!0}},[n,e,r]),a}function iE({page:n,matches:e,...r}){let a=xi(),{manifest:l,routeModules:h}=Qx(),{basename:d}=Jx(),{loaderData:m,matches:g}=Q2(),_=j.useMemo(()=>q0(n,e,g,l,a,"data"),[n,e,g,l,a]),b=j.useMemo(()=>q0(n,e,g,l,a,"assets"),[n,e,g,l,a]),w=j.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let M=new Set,O=!1;if(e.forEach(z=>{let N=l.routes[z.route.id];!N||!N.hasLoader||(!_.some(D=>D.route.id===z.route.id)&&z.route.id in m&&h[z.route.id]?.shouldRevalidate||N.hasClientLoader?O=!0:M.add(z.route.id))}),M.size===0)return[];let R=$2(n,d,"data");return O&&M.size>0&&R.searchParams.set("_routes",e.filter(z=>M.has(z.route.id)).map(z=>z.route.id).join(",")),[R.pathname+R.search]},[d,m,a,l,_,e,n,h]),E=j.useMemo(()=>K2(b,l),[b,l]),C=nE(b);return j.createElement(j.Fragment,null,w.map(M=>j.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...r})),E.map(M=>j.createElement("link",{key:M,rel:"modulepreload",href:M,...r})),C.map(({key:M,link:O})=>j.createElement("link",{key:M,nonce:r.nonce,...O})))}function rE(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tb&&(window.__reactRouterVersion="7.10.1")}catch{}function sE({basename:n,children:e,unstable_useTransitions:r,window:a}){let l=j.useRef();l.current==null&&(l.current=qT({window:a,v5Compat:!0}));let h=l.current,[d,m]=j.useState({action:h.action,location:h.location}),g=j.useCallback(_=>{r===!1?m(_):j.startTransition(()=>m(_))},[r]);return j.useLayoutEffect(()=>h.listen(g),[h,g]),j.createElement(z2,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:h,unstable_useTransitions:r===!0})}var eb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nb=j.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:l,reloadDocument:h,replace:d,state:m,target:g,to:_,preventScrollReset:b,viewTransition:w,...E},C){let{basename:M,unstable_useTransitions:O}=j.useContext(ni),R=typeof _=="string"&&eb.test(_),z,N=!1;if(typeof _=="string"&&R&&(z=_,tb))try{let lt=new URL(window.location.href),dt=_.startsWith("//")?new URL(lt.protocol+_):new URL(_),yt=pr(dt.pathname,M);dt.origin===lt.origin&&yt!=null?_=yt+dt.search+dt.hash:N=!0}catch{Vn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=v2(_,{relative:l}),[V,F,K]=tE(a,E),Q=lE(_,{replace:d,state:m,target:g,preventScrollReset:b,relative:l,viewTransition:w,unstable_useTransitions:O});function ft(lt){e&&e(lt),lt.defaultPrevented||Q(lt)}let vt=j.createElement("a",{...E,...K,href:z||D,onClick:N||h?e:ft,ref:rE(C,F),target:g,"data-discover":!R&&r==="render"?"true":void 0});return V&&!R?j.createElement(j.Fragment,null,vt,j.createElement(eE,{page:D})):vt});nb.displayName="Link";var Hp=j.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:l=!1,style:h,to:d,viewTransition:m,children:g,..._},b){let w=_u(d,{relative:_.relative}),E=xi(),C=j.useContext(Zh),{navigator:M,basename:O}=j.useContext(ni),R=C!=null&&fE(w)&&m===!0,z=M.encodeLocation?M.encodeLocation(w).pathname:w.pathname,N=E.pathname,D=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(N=N.toLowerCase(),D=D?D.toLowerCase():null,z=z.toLowerCase()),D&&O&&(D=pr(D,O)||D);const V=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let F=N===z||!l&&N.startsWith(z)&&N.charAt(V)==="/",K=D!=null&&(D===z||!l&&D.startsWith(z)&&D.charAt(z.length)==="/"),Q={isActive:F,isPending:K,isTransitioning:R},ft=F?e:void 0,vt;typeof a=="function"?vt=a(Q):vt=[a,F?"active":null,K?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let lt=typeof h=="function"?h(Q):h;return j.createElement(nb,{..._,"aria-current":ft,className:vt,ref:b,style:lt,to:d,viewTransition:m},typeof g=="function"?g(Q):g)});Hp.displayName="NavLink";var aE=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:l,state:h,method:d=vh,action:m,onSubmit:g,relative:_,preventScrollReset:b,viewTransition:w,...E},C)=>{let{unstable_useTransitions:M}=j.useContext(ni),O=hE(),R=dE(m,{relative:_}),z=d.toLowerCase()==="get"?"get":"post",N=typeof m=="string"&&eb.test(m),D=V=>{if(g&&g(V),V.defaultPrevented)return;V.preventDefault();let F=V.nativeEvent.submitter,K=F?.getAttribute("formmethod")||d,Q=()=>O(F||V.currentTarget,{fetcherKey:e,method:K,navigate:r,replace:l,state:h,relative:_,preventScrollReset:b,viewTransition:w});M&&r!==!1?j.startTransition(()=>Q()):Q()};return j.createElement("form",{ref:C,method:z,action:R,onSubmit:a?g:D,...E,"data-discover":!N&&n==="render"?"true":void 0})});aE.displayName="Form";function oE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ib(n){let e=j.useContext(ko);return ve(e,oE(n)),e}function lE(n,{target:e,replace:r,state:a,preventScrollReset:l,relative:h,viewTransition:d,unstable_useTransitions:m}={}){let g=Re(),_=xi(),b=_u(n,{relative:h});return j.useCallback(w=>{if(V2(w,e)){w.preventDefault();let E=r!==void 0?r:uu(_)===uu(b),C=()=>g(n,{replace:E,state:a,preventScrollReset:l,relative:h,viewTransition:d});m?j.startTransition(()=>C()):C()}},[_,g,b,r,a,e,n,l,h,d,m])}var uE=0,cE=()=>`__${String(++uE)}__`;function hE(){let{router:n}=ib("useSubmit"),{basename:e}=j.useContext(ni),r=k2(),a=n.fetch,l=n.navigate;return j.useCallback(async(h,d={})=>{let{action:m,method:g,encType:_,formData:b,body:w}=F2(h,e);if(d.navigate===!1){let E=d.fetcherKey||cE();await a(E,r,d.action||m,{preventScrollReset:d.preventScrollReset,formData:b,body:w,formMethod:d.method||g,formEncType:d.encType||_,flushSync:d.flushSync})}else await l(d.action||m,{preventScrollReset:d.preventScrollReset,formData:b,body:w,formMethod:d.method||g,formEncType:d.encType||_,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,l,e,r])}function dE(n,{relative:e}={}){let{basename:r}=j.useContext(ni),a=j.useContext(ii);ve(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={..._u(n||".",{relative:e})},d=xi();if(n==null){h.search=d.search;let m=new URLSearchParams(h.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let b=m.toString();h.search=b?`?${b}`:""}}return(!n||n===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(h.pathname=h.pathname==="/"?r:fr([r,h.pathname])),uu(h)}function fE(n,{relative:e}={}){let r=j.useContext($x);ve(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ib("useViewTransitionState"),l=_u(n,{relative:e});if(!r.isTransitioning)return!1;let h=pr(r.currentLocation.pathname,a)||r.currentLocation.pathname,d=pr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Rh(l.pathname,d)!=null||Rh(l.pathname,h)!=null}var pE=Ix(),hr={},rh={},qp=function(n,e){return qp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},qp(n,e)};function rb(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qp(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Oh=function(){return Oh=Object.assign||function(e){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&(e[h]=r[h])}return e},Oh.apply(this,arguments)};function Lo(n,e){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(r[a[l]]=n[a[l]]);return r}function sb(n,e,r,a){var l=arguments.length,h=l<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(n,e,r,a);else for(var m=n.length-1;m>=0;m--)(d=n[m])&&(h=(l<3?d(h):l>3?d(e,r,h):d(e,r))||h);return l>3&&h&&Object.defineProperty(e,r,h),h}function ab(n,e){return function(r,a){e(r,a,n)}}function ob(n,e,r,a,l,h){function d(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var m=a.kind,g=m==="getter"?"get":m==="setter"?"set":"value",_=!e&&n?a.static?n:n.prototype:null,b=e||(_?Object.getOwnPropertyDescriptor(_,a.name):{}),w,E=!1,C=r.length-1;C>=0;C--){var M={};for(var O in a)M[O]=O==="access"?{}:a[O];for(var O in a.access)M.access[O]=a.access[O];M.addInitializer=function(z){if(E)throw new TypeError("Cannot add initializers after decoration has completed");h.push(d(z||null))};var R=(0,r[C])(m==="accessor"?{get:b.get,set:b.set}:b[g],M);if(m==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(w=d(R.get))&&(b.get=w),(w=d(R.set))&&(b.set=w),(w=d(R.init))&&l.unshift(w)}else(w=d(R))&&(m==="field"?l.unshift(w):b[g]=w)}_&&Object.defineProperty(_,a.name,b),E=!0}function lb(n,e,r){for(var a=arguments.length>2,l=0;l<e.length;l++)r=a?e[l].call(n,r):e[l].call(n);return a?r:void 0}function ub(n){return typeof n=="symbol"?n:"".concat(n)}function cb(n,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function hb(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function xt(n,e,r,a){function l(h){return h instanceof r?h:new r(function(d){d(h)})}return new(r||(r=Promise))(function(h,d){function m(b){try{_(a.next(b))}catch(w){d(w)}}function g(b){try{_(a.throw(b))}catch(w){d(w)}}function _(b){b.done?h(b.value):l(b.value).then(m,g)}_((a=a.apply(n,e||[])).next())})}function db(n,e){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,l,h,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=m(0),d.throw=m(1),d.return=m(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(_){return function(b){return g([_,b])}}function g(_){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,_[0]&&(r=0)),r;)try{if(a=1,l&&(h=_[0]&2?l.return:_[0]?l.throw||((h=l.return)&&h.call(l),0):l.next)&&!(h=h.call(l,_[1])).done)return h;switch(l=0,h&&(_=[_[0]&2,h.value]),_[0]){case 0:case 1:h=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,l=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){r.label=_[1];break}if(_[0]===6&&r.label<h[1]){r.label=h[1],h=_;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(_);break}h[2]&&r.ops.pop(),r.trys.pop();continue}_=e.call(n,r)}catch(b){_=[6,b],l=0}finally{a=h=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}var Kh=Object.create?(function(n,e,r,a){a===void 0&&(a=r);var l=Object.getOwnPropertyDescriptor(e,r);(!l||("get"in l?!e.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(n,a,l)}):(function(n,e,r,a){a===void 0&&(a=r),n[a]=e[r]});function fb(n,e){for(var r in n)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Kh(e,n,r)}function kh(n){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&n[e],a=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nm(n,e){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var a=r.call(n),l,h=[],d;try{for(;(e===void 0||e-- >0)&&!(l=a.next()).done;)h.push(l.value)}catch(m){d={error:m}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(d)throw d.error}}return h}function pb(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Nm(arguments[e]));return n}function mb(){for(var n=0,e=0,r=arguments.length;e<r;e++)n+=arguments[e].length;for(var a=Array(n),l=0,e=0;e<r;e++)for(var h=arguments[e],d=0,m=h.length;d<m;d++,l++)a[l]=h[d];return a}function gb(n,e,r){if(r||arguments.length===2)for(var a=0,l=e.length,h;a<l;a++)(h||!(a in e))&&(h||(h=Array.prototype.slice.call(e,0,a)),h[a]=e[a]);return n.concat(h||Array.prototype.slice.call(e))}function Eo(n){return this instanceof Eo?(this.v=n,this):new Eo(n)}function yb(n,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(n,e||[]),l,h=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(C){return function(M){return Promise.resolve(M).then(C,w)}}function m(C,M){a[C]&&(l[C]=function(O){return new Promise(function(R,z){h.push([C,O,R,z])>1||g(C,O)})},M&&(l[C]=M(l[C])))}function g(C,M){try{_(a[C](M))}catch(O){E(h[0][3],O)}}function _(C){C.value instanceof Eo?Promise.resolve(C.value.v).then(b,w):E(h[0][2],C)}function b(C){g("next",C)}function w(C){g("throw",C)}function E(C,M){C(M),h.shift(),h.length&&g(h[0][0],h[0][1])}}function vb(n){var e,r;return e={},a("next"),a("throw",function(l){throw l}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(l,h){e[l]=n[l]?function(d){return(r=!r)?{value:Eo(n[l](d)),done:!1}:h?h(d):d}:h}}function _b(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],r;return e?e.call(n):(n=typeof kh=="function"?kh(n):n[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(h){r[h]=n[h]&&function(d){return new Promise(function(m,g){d=n[h](d),l(m,g,d.done,d.value)})}}function l(h,d,m,g){Promise.resolve(g).then(function(_){h({value:_,done:m})},d)}}function xb(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var mE=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},Fp=function(n){return Fp=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},Fp(n)};function bb(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var r=Fp(n),a=0;a<r.length;a++)r[a]!=="default"&&Kh(e,n,r[a]);return mE(e,n),e}function wb(n){return n&&n.__esModule?n:{default:n}}function Sb(n,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(n):a?a.value:e.get(n)}function Tb(n,e,r,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!l:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(n,r):l?l.value=r:e.set(n,r),r}function Eb(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Cb(n,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,l;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(l=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");l&&(a=function(){try{l.call(this)}catch(h){return Promise.reject(h)}}),n.stack.push({value:e,dispose:a,async:r})}else r&&n.stack.push({async:!0});return e}var gE=typeof SuppressedError=="function"?SuppressedError:function(n,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=n,a.suppressed=e,a};function Ab(n){function e(h){n.error=n.hasError?new gE(h,n.error,"An error was suppressed during disposal."):h,n.hasError=!0}var r,a=0;function l(){for(;r=n.stack.pop();)try{if(!r.async&&a===1)return a=0,n.stack.push(r),Promise.resolve().then(l);if(r.dispose){var h=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(h).then(l,function(d){return e(d),l()})}else a|=1}catch(d){e(d)}if(a===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return l()}function jb(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,l,h,d){return a?e?".jsx":".js":l&&(!h||!d)?r:l+h+"."+d.toLowerCase()+"js"}):n}const yE={__extends:rb,__assign:Oh,__rest:Lo,__decorate:sb,__param:ab,__esDecorate:ob,__runInitializers:lb,__propKey:ub,__setFunctionName:cb,__metadata:hb,__awaiter:xt,__generator:db,__createBinding:Kh,__exportStar:fb,__values:kh,__read:Nm,__spread:pb,__spreadArrays:mb,__spreadArray:gb,__await:Eo,__asyncGenerator:yb,__asyncDelegator:vb,__asyncValues:_b,__makeTemplateObject:xb,__importStar:bb,__importDefault:wb,__classPrivateFieldGet:Sb,__classPrivateFieldSet:Tb,__classPrivateFieldIn:Eb,__addDisposableResource:Cb,__disposeResources:Ab,__rewriteRelativeImportExtension:jb},vE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Cb,get __assign(){return Oh},__asyncDelegator:vb,__asyncGenerator:yb,__asyncValues:_b,__await:Eo,__awaiter:xt,__classPrivateFieldGet:Sb,__classPrivateFieldIn:Eb,__classPrivateFieldSet:Tb,__createBinding:Kh,__decorate:sb,__disposeResources:Ab,__esDecorate:ob,__exportStar:fb,__extends:rb,__generator:db,__importDefault:wb,__importStar:bb,__makeTemplateObject:xb,__metadata:hb,__param:ab,__propKey:ub,__read:Nm,__rest:Lo,__rewriteRelativeImportExtension:jb,__runInitializers:lb,__setFunctionName:cb,__spread:pb,__spreadArray:gb,__spreadArrays:mb,__values:kh,default:yE},Symbol.toStringTag,{value:"Module"})),_E=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);let Yh=class extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}},Rb=class extends Yh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},$p=class extends Yh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Wp=class extends Yh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Mh;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Mh||(Mh={}));class xE{constructor(e,{headers:r={},customFetch:a,region:l=Mh.Any}={}){this.url=e,this.headers=r,this.region=l,this.fetch=_E(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xt(this,arguments,void 0,function*(r,a={}){var l;let h,d;try{const{headers:m,method:g,body:_,signal:b,timeout:w}=a;let E={},{region:C}=a;C||(C=this.region);const M=new URL(`${this.url}/${r}`);C&&C!=="any"&&(E["x-region"]=C,M.searchParams.set("forceFunctionRegion",C));let O;_&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&_ instanceof Blob||_ instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",O=_):typeof _=="string"?(E["Content-Type"]="text/plain",O=_):typeof FormData<"u"&&_ instanceof FormData?O=_:(E["Content-Type"]="application/json",O=JSON.stringify(_)):O=_;let R=b;w&&(d=new AbortController,h=setTimeout(()=>d.abort(),w),b?(R=d.signal,b.addEventListener("abort",()=>d.abort())):R=d.signal);const z=yield this.fetch(M.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),m),body:O,signal:R}).catch(F=>{throw new Rb(F)}),N=z.headers.get("x-relay-error");if(N&&N==="true")throw new $p(z);if(!z.ok)throw new Wp(z);let D=((l=z.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),V;return D==="application/json"?V=yield z.json():D==="application/octet-stream"||D==="application/pdf"?V=yield z.blob():D==="text/event-stream"?V=z:D==="multipart/form-data"?V=yield z.formData():V=yield z.text(),{data:V,error:null,response:z}}catch(m){return{data:null,error:m,response:m instanceof Wp||m instanceof $p?m.context:void 0}}finally{h&&clearTimeout(h)}})}}const bE=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Mh},FunctionsClient:xE,FunctionsError:Yh,FunctionsFetchError:Rb,FunctionsHttpError:Wp,FunctionsRelayError:$p},Symbol.toStringTag,{value:"Module"})),Ob=yu(bE);var on={};const Po=yu(vE);var sh={},ah={},oh={},lh={},uh={},ch={},F0;function kb(){if(F0)return ch;F0=1,Object.defineProperty(ch,"__esModule",{value:!0});class n extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ch.default=n,ch}var $0;function Mb(){if($0)return uh;$0=1,Object.defineProperty(uh,"__esModule",{value:!0});const e=Po.__importDefault(kb());let r=class{constructor(l){var h,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(h=l.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,h){return this.headers=new Headers(this.headers),this.headers.set(l,h),this}then(l,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let m=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var _,b,w,E;let C=null,M=null,O=null,R=g.status,z=g.statusText;if(g.ok){if(this.method!=="HEAD"){const F=await g.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((_=this.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?M=F:M=JSON.parse(F))}const D=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),V=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");D&&V&&V.length>1&&(O=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(M)&&(M.length>1?(C={code:"PGRST116",details:`Results contain ${M.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},M=null,O=null,R=406,z="Not Acceptable"):M.length===1?M=M[0]:M=null)}else{const D=await g.text();try{C=JSON.parse(D),Array.isArray(C)&&g.status===404&&(M=[],C=null,R=200,z="OK")}catch{g.status===404&&D===""?(R=204,z="No Content"):C={message:D}}if(C&&this.isMaybeSingle&&(!((E=C?.details)===null||E===void 0)&&E.includes("0 rows"))&&(C=null,R=200,z="OK"),C&&this.shouldThrowOnError)throw new e.default(C)}return{error:C,data:M,count:O,status:R,statusText:z}});return this.shouldThrowOnError||(m=m.catch(g=>{var _,b,w,E,C,M;let O="";const R=g?.cause;if(R){const z=(_=R?.message)!==null&&_!==void 0?_:"",N=(b=R?.code)!==null&&b!==void 0?b:"";O=`${(w=g?.name)!==null&&w!==void 0?w:"FetchError"}: ${g?.message}`,O+=`

Caused by: ${(E=R?.name)!==null&&E!==void 0?E:"Error"}: ${z}`,N&&(O+=` (${N})`),R?.stack&&(O+=`
${R.stack}`)}else O=(C=g?.stack)!==null&&C!==void 0?C:"";return{error:{message:`${(M=g?.name)!==null&&M!==void 0?M:"FetchError"}: ${g?.message}`,details:O,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(l,h)}returns(){return this}overrideTypes(){return this}};return uh.default=r,uh}var W0;function Lb(){if(W0)return lh;W0=1,Object.defineProperty(lh,"__esModule",{value:!0});const e=Po.__importDefault(Mb());let r=class extends e.default{select(l){let h=!1;const d=(l??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:h=!0,nullsFirst:d,foreignTable:m,referencedTable:g=m}={}){const _=g?`${g}.order`:"order",b=this.url.searchParams.get(_);return this.url.searchParams.set(_,`${b?`${b},`:""}${l}.${h?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:h,referencedTable:d=h}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${l}`),this}range(l,h,{foreignTable:d,referencedTable:m=d}={}){const g=typeof m>"u"?"offset":`${m}.offset`,_=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${l}`),this.url.searchParams.set(_,`${h-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:h=!1,settings:d=!1,buffers:m=!1,wal:g=!1,format:_="text"}={}){var b;const w=[l?"analyze":null,h?"verbose":null,d?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),E=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${_}; for="${E}"; options=${w};`),_==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};return lh.default=r,lh}var Z0;function Um(){if(Z0)return oh;Z0=1,Object.defineProperty(oh,"__esModule",{value:!0});const e=Po.__importDefault(Lb()),r=new RegExp("[,()]");let a=class extends e.default{eq(h,d){return this.url.searchParams.append(h,`eq.${d}`),this}neq(h,d){return this.url.searchParams.append(h,`neq.${d}`),this}gt(h,d){return this.url.searchParams.append(h,`gt.${d}`),this}gte(h,d){return this.url.searchParams.append(h,`gte.${d}`),this}lt(h,d){return this.url.searchParams.append(h,`lt.${d}`),this}lte(h,d){return this.url.searchParams.append(h,`lte.${d}`),this}like(h,d){return this.url.searchParams.append(h,`like.${d}`),this}likeAllOf(h,d){return this.url.searchParams.append(h,`like(all).{${d.join(",")}}`),this}likeAnyOf(h,d){return this.url.searchParams.append(h,`like(any).{${d.join(",")}}`),this}ilike(h,d){return this.url.searchParams.append(h,`ilike.${d}`),this}ilikeAllOf(h,d){return this.url.searchParams.append(h,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(h,d){return this.url.searchParams.append(h,`ilike(any).{${d.join(",")}}`),this}regexMatch(h,d){return this.url.searchParams.append(h,`match.${d}`),this}regexIMatch(h,d){return this.url.searchParams.append(h,`imatch.${d}`),this}is(h,d){return this.url.searchParams.append(h,`is.${d}`),this}isDistinct(h,d){return this.url.searchParams.append(h,`isdistinct.${d}`),this}in(h,d){const m=Array.from(new Set(d)).map(g=>typeof g=="string"&&r.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(h,`in.(${m})`),this}contains(h,d){return typeof d=="string"?this.url.searchParams.append(h,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(h,`cs.{${d.join(",")}}`):this.url.searchParams.append(h,`cs.${JSON.stringify(d)}`),this}containedBy(h,d){return typeof d=="string"?this.url.searchParams.append(h,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(h,`cd.{${d.join(",")}}`):this.url.searchParams.append(h,`cd.${JSON.stringify(d)}`),this}rangeGt(h,d){return this.url.searchParams.append(h,`sr.${d}`),this}rangeGte(h,d){return this.url.searchParams.append(h,`nxl.${d}`),this}rangeLt(h,d){return this.url.searchParams.append(h,`sl.${d}`),this}rangeLte(h,d){return this.url.searchParams.append(h,`nxr.${d}`),this}rangeAdjacent(h,d){return this.url.searchParams.append(h,`adj.${d}`),this}overlaps(h,d){return typeof d=="string"?this.url.searchParams.append(h,`ov.${d}`):this.url.searchParams.append(h,`ov.{${d.join(",")}}`),this}textSearch(h,d,{config:m,type:g}={}){let _="";g==="plain"?_="pl":g==="phrase"?_="ph":g==="websearch"&&(_="w");const b=m===void 0?"":`(${m})`;return this.url.searchParams.append(h,`${_}fts${b}.${d}`),this}match(h){return Object.entries(h).forEach(([d,m])=>{this.url.searchParams.append(d,`eq.${m}`)}),this}not(h,d,m){return this.url.searchParams.append(h,`not.${d}.${m}`),this}or(h,{foreignTable:d,referencedTable:m=d}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${h})`),this}filter(h,d,m){return this.url.searchParams.append(h,`${d}.${m}`),this}};return oh.default=a,oh}var G0;function Pb(){if(G0)return ah;G0=1,Object.defineProperty(ah,"__esModule",{value:!0});const e=Po.__importDefault(Um());let r=class{constructor(l,{headers:h={},schema:d,fetch:m}){this.url=l,this.headers=new Headers(h),this.schema=d,this.fetch=m}select(l,h){const{head:d=!1,count:m}=h??{},g=d?"HEAD":"GET";let _=!1;const b=(l??"*").split("").map(w=>/\s/.test(w)&&!_?"":(w==='"'&&(_=!_),w)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer",`count=${m}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:h,defaultToNull:d=!0}={}){var m;const g="POST";if(h&&this.headers.append("Prefer",`count=${h}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const _=l.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(_.length>0){const b=[...new Set(_)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(l,{onConflict:h,ignoreDuplicates:d=!1,count:m,defaultToNull:g=!0}={}){var _;const b="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),h!==void 0&&this.url.searchParams.set("on_conflict",h),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((E,C)=>E.concat(Object.keys(C)),[]);if(w.length>0){const E=[...new Set(w)].map(C=>`"${C}"`);this.url.searchParams.set("columns",E.join(","))}}return new e.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}update(l,{count:h}={}){var d;const m="PATCH";return h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var h;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return ah.default=r,ah}var K0;function wE(){if(K0)return sh;K0=1,Object.defineProperty(sh,"__esModule",{value:!0});const n=Po,e=n.__importDefault(Pb()),r=n.__importDefault(Um());let a=class Db{constructor(h,{headers:d={},schema:m,fetch:g}={}){this.url=h,this.headers=new Headers(d),this.schemaName=m,this.fetch=g}from(h){if(!h||typeof h!="string"||h.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${h}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new Db(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,d={},{head:m=!1,get:g=!1,count:_}={}){var b;let w;const E=new URL(`${this.url}/rpc/${h}`);let C;m||g?(w=m?"HEAD":"GET",Object.entries(d).filter(([O,R])=>R!==void 0).map(([O,R])=>[O,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([O,R])=>{E.searchParams.append(O,R)})):(w="POST",C=d);const M=new Headers(this.headers);return _&&M.set("Prefer",`count=${_}`),new r.default({method:w,url:E,headers:M,schema:this.schemaName,body:C,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}};return sh.default=a,sh}var Y0;function zb(){if(Y0)return on;Y0=1,Object.defineProperty(on,"__esModule",{value:!0}),on.PostgrestError=on.PostgrestBuilder=on.PostgrestTransformBuilder=on.PostgrestFilterBuilder=on.PostgrestQueryBuilder=on.PostgrestClient=void 0;const n=Po,e=n.__importDefault(wE());on.PostgrestClient=e.default;const r=n.__importDefault(Pb());on.PostgrestQueryBuilder=r.default;const a=n.__importDefault(Um());on.PostgrestFilterBuilder=a.default;const l=n.__importDefault(Lb());on.PostgrestTransformBuilder=l.default;const h=n.__importDefault(Mb());on.PostgrestBuilder=h.default;const d=n.__importDefault(kb());return on.PostgrestError=d.default,on.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:h.default,PostgrestError:d.default},on}class Bb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const SE="2.87.1",TE=`realtime-js/${SE}`,Nb="1.0.0",EE="2.0.0",X0=Nb,Zp=1e4,CE=1e3,AE=100;var oa;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(oa||(oa={}));var ze;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ze||(ze={}));var _i;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(_i||(_i={}));var Gp;(function(n){n.websocket="websocket"})(Gp||(Gp={}));var la;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(la||(la={}));class jE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const l=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(e){var r,a;const l=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(e,r,a){var l,h;const d=e.topic,m=(l=e.ref)!==null&&l!==void 0?l:"",g=(h=e.join_ref)!==null&&h!==void 0?h:"",_=e.payload.event,b=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`userEvent length ${_.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+d.length+_.length+w.length,C=new ArrayBuffer(this.HEADER_LENGTH+E);let M=new DataView(C),O=0;M.setUint8(O++,this.KINDS.userBroadcastPush),M.setUint8(O++,g.length),M.setUint8(O++,m.length),M.setUint8(O++,d.length),M.setUint8(O++,_.length),M.setUint8(O++,w.length),M.setUint8(O++,r),Array.from(g,z=>M.setUint8(O++,z.charCodeAt(0))),Array.from(m,z=>M.setUint8(O++,z.charCodeAt(0))),Array.from(d,z=>M.setUint8(O++,z.charCodeAt(0))),Array.from(_,z=>M.setUint8(O++,z.charCodeAt(0))),Array.from(w,z=>M.setUint8(O++,z.charCodeAt(0)));var R=new Uint8Array(C.byteLength+a.byteLength);return R.set(new Uint8Array(C),0),R.set(new Uint8Array(a),C.byteLength),R.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[l,h,d,m,g]=a;return r({join_ref:l,ref:h,topic:d,event:m,payload:g})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,l)}}_decodeUserBroadcast(e,r,a){const l=r.getUint8(1),h=r.getUint8(2),d=r.getUint8(3),m=r.getUint8(4);let g=this.HEADER_LENGTH+4;const _=a.decode(e.slice(g,g+l));g=g+l;const b=a.decode(e.slice(g,g+h));g=g+h;const w=a.decode(e.slice(g,g+d));g=g+d;const E=e.slice(g,e.byteLength),C=m===this.JSON_ENCODING?JSON.parse(a.decode(E)):E,M={type:this.BROADCAST_EVENT,event:b,payload:C};return d>0&&(M.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:_,event:this.BROADCAST_EVENT,payload:M}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class Ub{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(he||(he={}));const J0=(n,e,r={})=>{var a;const l=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((h,d)=>(h[d]=RE(d,n,e,l),h),{}):{}},RE=(n,e,r,a)=>{const l=e.find(m=>m.name===n),h=l?.type,d=r[n];return h&&!a.includes(h)?Ib(h,d):Kp(d)},Ib=(n,e)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return LE(e,r)}switch(n){case he.bool:return OE(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return kE(e);case he.json:case he.jsonb:return ME(e);case he.timestamp:return PE(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return Kp(e);default:return Kp(e)}},Kp=n=>n,OE=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},kE=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},ME=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},LE=(n,e)=>{if(typeof n!="string")return n;const r=n.length-1,a=n[r];if(n[0]==="{"&&a==="}"){let h;const d=n.slice(1,r);try{h=JSON.parse("["+d+"]")}catch{h=d?d.split(","):[]}return h.map(m=>Ib(e,m))}return n},PE=n=>typeof n=="string"?n.replace(" ","T"):n,Vb=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gp{constructor(e,r,a={},l=Zp){this.channel=e,this.event=r,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Yp||(Yp={}));let Hb=class xh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:h,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xh.syncState(this.state,l,h,d),this.pendingDiffs.forEach(g=>{this.state=xh.syncDiff(this.state,g,h,d)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},l=>{const{onJoin:h,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=xh.syncDiff(this.state,l,h,d),m())}),this.onJoin((l,h,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:h,newPresences:d})}),this.onLeave((l,h,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:h,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,l){const h=this.cloneDeep(e),d=this.transformState(r),m={},g={};return this.map(h,(_,b)=>{d[_]||(g[_]=b)}),this.map(d,(_,b)=>{const w=h[_];if(w){const E=b.map(R=>R.presence_ref),C=w.map(R=>R.presence_ref),M=b.filter(R=>C.indexOf(R.presence_ref)<0),O=w.filter(R=>E.indexOf(R.presence_ref)<0);M.length>0&&(m[_]=M),O.length>0&&(g[_]=O)}else m[_]=b}),this.syncDiff(h,{joins:m,leaves:g},a,l)}static syncDiff(e,r,a,l){const{joins:h,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(h,(m,g)=>{var _;const b=(_=e[m])!==null&&_!==void 0?_:[];if(e[m]=this.cloneDeep(g),b.length>0){const w=e[m].map(C=>C.presence_ref),E=b.filter(C=>w.indexOf(C.presence_ref)<0);e[m].unshift(...E)}a(m,b,g)}),this.map(d,(m,g)=>{let _=e[m];if(!_)return;const b=g.map(w=>w.presence_ref);_=_.filter(w=>b.indexOf(w.presence_ref)<0),e[m]=_,l(m,_,g),_.length===0&&delete e[m]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const l=e[a];return"metas"in l?r[a]=l.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[a]=l,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Xp;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Xp||(Xp={}));var wo;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(wo||(wo={}));var Bi;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Bi||(Bi={}));const DE=ze;let qb=class Ql{constructor(e,r={config:{}},a){var l,h;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gp(this,_i.join,this.params,this.timeout),this.rejoinTimer=new Ub(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_i.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new Hb(this),this.broadcastEndpointURL=Vb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,l,h;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:d,presence:m,private:g}}=this.params,_=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(C=>C.filter))!==null&&l!==void 0?l:[],b=!!this.bindings[wo.PRESENCE]&&this.bindings[wo.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,w={},E={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:_,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(C=>e?.(Bi.CHANNEL_ERROR,C)),this._onClose(()=>e?.(Bi.CLOSED)),this.updateJoinPayload(Object.assign({config:E},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:C})=>{var M;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){e?.(Bi.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,R=(M=O?.length)!==null&&M!==void 0?M:0,z=[];for(let N=0;N<R;N++){const D=O[N],{filter:{event:V,schema:F,table:K,filter:Q}}=D,ft=C&&C[N];if(ft&&ft.event===V&&Ql.isFilterValueEqual(ft.schema,F)&&Ql.isFilterValueEqual(ft.table,K)&&Ql.isFilterValueEqual(ft.filter,Q))z.push(Object.assign(Object.assign({},D),{id:ft.id}));else{this.unsubscribe(),this.state=ze.errored,e?.(Bi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,e&&e(Bi.SUBSCRIBED);return}}).receive("error",C=>{this.state=ze.errored,e?.(Bi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e?.(Bi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===ze.joined&&e===wo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var l;const h=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:h,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const _=await m.json();g=_.error||_.message||g}catch{}return Promise.reject(new Error(g))}async send(e,r={}){var a,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:d}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:d,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=_.body)===null||l===void 0?void 0:l.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var d,m,g;const _=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&h("ok"),_.receive("ok",()=>h("ok")),_.receive("error",()=>h("error")),_.receive("timeout",()=>h("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ze.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_i.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new gp(this,_i.leave,{},e),a.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ze.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const l=new AbortController,h=setTimeout(()=>l.abort(),a),d=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(h),d}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new gp(this,e,r,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>AE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var l,h;const d=e.toLocaleLowerCase(),{close:m,error:g,leave:_,join:b}=_i;if(a&&[m,g,_,b].indexOf(d)>=0&&a!==this._joinRef())return;let E=this._onMessage(d,r,a);if(r&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(C=>{var M,O,R;return((M=C.filter)===null||M===void 0?void 0:M.event)==="*"||((R=(O=C.filter)===null||O===void 0?void 0:O.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===d}).map(C=>C.callback(E,a)):(h=this.bindings[d])===null||h===void 0||h.filter(C=>{var M,O,R,z,N,D;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in C){const V=C.id,F=(M=C.filter)===null||M===void 0?void 0:M.event;return V&&((O=r.ids)===null||O===void 0?void 0:O.includes(V))&&(F==="*"||F?.toLocaleLowerCase()===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const V=(N=(z=C?.filter)===null||z===void 0?void 0:z.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return V==="*"||V===((D=r?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===d}).map(C=>{if(typeof E=="object"&&"ids"in E){const M=E.data,{schema:O,table:R,commit_timestamp:z,type:N,errors:D}=M;E=Object.assign(Object.assign({},{schema:O,table:R,commit_timestamp:z,eventType:N,new:{},old:{},errors:D}),this._getPayloadRecords(M))}C.callback(E,a)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const l=e.toLocaleLowerCase(),h={type:l,filter:r,callback:a};return this.bindings[l]?this.bindings[l].push(h):this.bindings[l]=[h],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var h;return!(((h=l.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===a&&Ql.isEqual(l.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_i.close,{},e)}_onError(e){this._on(_i.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=J0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=J0(e.columns,e.old_record)),r}};const yp=()=>{},hh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zE=[1e3,2e3,5e3,1e4],BE=1e4,NE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let UE=class{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zp,this.transport=null,this.heartbeatIntervalMs=hh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yp,this.ref=0,this.reconnectTimer=null,this.vsn=X0,this.logger=yp,this.conn=null,this.sendBuffer=[],this.serializer=new jE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...h)=>l(...h):(...h)=>fetch(...h),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Gp.websocket}`,this.httpEndpoint=Vb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case oa.connecting:return la.Connecting;case oa.open:return la.Open;case oa.closing:return la.Closing;default:return la.Closed}}isConnected(){return this.connectionState()===la.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,l=this.getChannels().find(h=>h.topic===a);if(l)return l;{const h=new qb(`realtime:${e}`,r,this);return this.channels.push(h),h}}push(e){const{topic:r,event:a,payload:l,ref:h}=e,d=()=>{this.encode(e,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${a} (${h})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(CE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(_){this.log("error","error in heartbeat callback",_)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:h,ref:d}=r,m=d?`(${d})`:"",g=h.status||"";this.log("receive",`${g} ${a} ${l} ${m}`.trim(),h),this.channels.filter(_=>_._isMember(a)).forEach(_=>_._trigger(l,h,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===oa.open||this.conn.readyState===oa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_i.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${e}${a}${l}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([NE],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const h={access_token:r,version:TE};r&&l.updateJoinPayload(h),l.joinedOnce&&l._isJoined()&&l._push(_i.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Ub(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,l,h,d,m,g,_,b,w,E,C;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Zp,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:hh.HEARTBEAT_INTERVAL,this.worker=(h=e?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=e?.heartbeatCallback)!==null&&m!==void 0?m:yp,this.vsn=(g=e?.vsn)!==null&&g!==void 0?g:X0,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=e?.reconnectAfterMs)!==null&&_!==void 0?_:(M=>zE[M-1]||BE),this.vsn){case Nb:this.encode=(b=e?.encode)!==null&&b!==void 0?b:((M,O)=>O(JSON.stringify(M))),this.decode=(w=e?.decode)!==null&&w!==void 0?w:((M,O)=>O(JSON.parse(M)));break;case EE:this.encode=(E=e?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(C=e?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const IE=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:DE,get REALTIME_LISTEN_TYPES(){return wo},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Xp},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Yp},get REALTIME_SUBSCRIBE_STATES(){return Bi},RealtimeChannel:qb,RealtimeClient:UE,RealtimePresence:Hb,WebSocketFactory:Bb},Symbol.toStringTag,{value:"Module"})),Fb=yu(IE);class xu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class $b extends xu{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lh extends xu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Im=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),VE=()=>Response,Jp=n=>{if(Array.isArray(n))return n.map(r=>Jp(r));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([r,a])=>{const l=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));e[l]=Jp(a)}),e},HE=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},qE=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),vp=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},FE=(n,e,r)=>xt(void 0,void 0,void 0,function*(){const a=yield VE();n instanceof a&&!r?.noResolveJson?n.json().then(l=>{const h=n.status||500,d=l?.statusCode||h+"";e(new $b(vp(l),h,d))}).catch(l=>{e(new Lh(vp(l),l))}):e(new Lh(vp(n),n))}),$E=(n,e,r,a)=>{const l={method:n,headers:e?.headers||{}};return n==="GET"||!a?l:(HE(a)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,e?.duplex&&(l.duplex=e.duplex),Object.assign(Object.assign({},l),r))};function bu(n,e,r,a,l,h){return xt(this,void 0,void 0,function*(){return new Promise((d,m)=>{n(r,$E(e,a,l,h)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>FE(g,m,a))})})}function cu(n,e,r,a){return xt(this,void 0,void 0,function*(){return bu(n,"GET",e,r,a)})}function vi(n,e,r,a,l){return xt(this,void 0,void 0,function*(){return bu(n,"POST",e,a,l,r)})}function Qp(n,e,r,a,l){return xt(this,void 0,void 0,function*(){return bu(n,"PUT",e,a,l,r)})}function WE(n,e,r,a){return xt(this,void 0,void 0,function*(){return bu(n,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Vm(n,e,r,a,l){return xt(this,void 0,void 0,function*(){return bu(n,"DELETE",e,a,l,r)})}class ZE{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return xt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}var Wb;class GE{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Wb]="BlobDownloadBuilder",this.promise=null}asStream(){return new ZE(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ge(e))return{data:null,error:e};throw e}})}}Wb=Symbol.toStringTag;const KE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class YE{constructor(e,r={},a,l){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=Im(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,l){return xt(this,void 0,void 0,function*(){try{let h;const d=Object.assign(Object.assign({},Q0),l);let m=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),g&&h.append("metadata",this.encodeMetadata(g)),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.has("cacheControl")||h.append("cacheControl",d.cacheControl),g&&!h.has("metadata")&&h.append("metadata",this.encodeMetadata(g))):(h=a,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(m=Object.assign(Object.assign({},m),l.headers));const _=this._removeEmptyFolders(r),b=this._getFinalPath(_),w=yield(e=="PUT"?Qp:vi)(this.fetch,`${this.url}/object/${b}`,h,Object.assign({headers:m},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:_,id:w.Id,fullPath:w.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(ge(h))return{data:null,error:h};throw h}})}upload(e,r,a){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,l){return xt(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(e),d=this._getFinalPath(h),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",r);try{let g;const _=Object.assign({upsert:Q0.upsert},l),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(_.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",_.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",_.cacheControl)):(g=a,b["cache-control"]=`max-age=${_.cacheControl}`,b["content-type"]=_.contentType);const w=yield Qp(this.fetch,m.toString(),g,{headers:b});return{data:{path:h,fullPath:w.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(ge(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,r){return xt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const l=Object.assign({},this.headers);r?.upsert&&(l["x-upsert"]="true");const h=yield vi(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),d=new URL(this.url+h.url),m=d.searchParams.get("token");if(!m)throw new xu("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:m},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ge(a))return{data:null,error:a};throw a}})}update(e,r,a){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return xt(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ge(l))return{data:null,error:l};throw l}})}copy(e,r,a){return xt(this,void 0,void 0,function*(){try{return{data:{path:(yield vi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ge(l))return{data:null,error:l};throw l}})}createSignedUrl(e,r,a){return xt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),h=yield vi(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a?.download?`&download=${a.download===!0?"":a.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${d}`)},{data:h,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ge(l))return{data:null,error:l};throw l}})}createSignedUrls(e,r,a){return xt(this,void 0,void 0,function*(){try{const l=yield vi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),h=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${h}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ge(l))return{data:null,error:l};throw l}})}download(e,r){const l=typeof r?.transform<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString(r?.transform||{}),d=h?`?${h}`:"",m=this._getFinalPath(e),g=()=>cu(this.fetch,`${this.url}/${l}/${m}${d}`,{headers:this.headers,noResolveJson:!0});return new GE(g,this.shouldThrowOnError)}info(e){return xt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield cu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jp(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ge(a))return{data:null,error:a};throw a}})}exists(e){return xt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield WE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ge(a)&&a instanceof Lh){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),l=[],h=r?.download?`download=${r.download===!0?"":r.download}`:"";h!==""&&l.push(h);const m=typeof r?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(r?.transform||{});g!==""&&l.push(g);let _=l.join("&");return _!==""&&(_=`?${_}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${a}${_}`)}}}remove(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}list(e,r,a){return xt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},KE),r),{prefix:e||""});return{data:yield vi(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ge(l))return{data:null,error:l};throw l}})}listV2(e,r){return xt(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield vi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ge(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Zb="2.87.1",Gb={"X-Client-Info":`storage-js/${Zb}`};class XE{constructor(e,r={},a,l){this.shouldThrowOnError=!1;const h=new URL(e);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gb),r),this.fetch=Im(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return xt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield cu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}getBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}createBucket(e){return xt(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ge(l))return{data:null,error:l};throw l}})}updateBucket(e,r){return xt(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ge(a))return{data:null,error:a};throw a}})}emptyBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var hu=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function JE(n,e,r){const a=new URL(e,n);if(r)for(const[l,h]of Object.entries(r))h!==void 0&&a.searchParams.set(l,h);return a.toString()}async function QE(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function tC(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:l,body:h,headers:d}){const m=JE(n.baseUrl,a,l),g=await QE(n.auth),_=await e(m,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...g,...d},body:h?JSON.stringify(h):void 0}),b=await _.text(),w=(_.headers.get("content-type")||"").includes("application/json"),E=w&&b?JSON.parse(b):b;if(!_.ok){const C=w?E:void 0,M=C?.error;throw new hu(M?.message??`Request failed with status ${_.status}`,{status:_.status,icebergType:M?.type,icebergCode:M?.code,details:C})}return{status:_.status,headers:_.headers,data:E}}}}function dh(n){return n.join("")}var eC=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:dh(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(n,e){const r={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${dh(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dh(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${dh(n.namespace)}`}),!0}catch(e){if(e instanceof hu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(r){if(r instanceof hu&&r.status===409)return;throw r}}};function uo(n){return n.join("")}var nC=class{constructor(n,e="",r){this.client=n,this.prefix=e,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(n,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(r){if(r instanceof hu&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(r){if(r instanceof hu&&r.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw r}}},iC=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=tC({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new eC(this.client,e),this.tableOps=new nC(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}};class Kb{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gb),r),this.fetch=Im(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}listBuckets(e){return xt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),l=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield cu(this.fetch,l,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}})}from(e){if(!qE(e))throw new xu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new iC({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>xt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(h,d){const m=h[d];return typeof m!="function"?m:(...g)=>xt(this,void 0,void 0,function*(){try{return{data:yield m.apply(h,g),error:null}}catch(_){if(a)throw _;return{data:null,error:_}}})}})}}const Hm={"X-Client-Info":`storage-js/${Zb}`,"Content-Type":"application/json"};class qm extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class bh extends qm{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yb extends qm{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var tm;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(tm||(tm={}));const Xh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),rC=()=>Response,Xb=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},sC=n=>Array.from(new Float32Array(n)),aC=(n,e)=>{if(e!==void 0&&n.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${n.float32.length}`)},t_=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),oC=(n,e,r)=>xt(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const l=n.status||500,h=n;if(typeof h.json=="function")h.json().then(d=>{const m=d?.statusCode||d?.code||l+"";e(new bh(t_(d),l,m))}).catch(()=>{const d=l+"",m=h.statusText||`HTTP ${l} error`;e(new bh(m,l,d))});else{const d=l+"",m=h.statusText||`HTTP ${l} error`;e(new bh(m,l,d))}}else e(new Yb(t_(n),n))}),lC=(n,e,r,a)=>{const l={method:n,headers:e?.headers||{}};return a?(Xb(a)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),r)):l};function uC(n,e,r,a,l,h){return xt(this,void 0,void 0,function*(){return new Promise((d,m)=>{n(r,lC(e,a,l,h)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;const _=g.headers.get("content-type");return!_||!_.includes("application/json")?{}:g.json()}).then(g=>d(g)).catch(g=>oC(g,m,a))})})}function In(n,e,r,a,l){return xt(this,void 0,void 0,function*(){return uC(n,"POST",e,a,l,r)})}class Jb{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hm),r),this.fetch=Xh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return xt(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return xt(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Rn(a))return{data:null,error:a};throw a}})}listIndexes(e){return xt(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return xt(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Rn(a))return{data:null,error:a};throw a}})}}class Qb{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hm),r),this.fetch=Xh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return xt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield In(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}getVectors(e){return xt(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}listVectors(e){return xt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield In(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}queryVectors(e){return xt(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return xt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield In(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}}class tw{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hm),r),this.fetch=Xh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}getBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}listBuckets(){return xt(this,arguments,void 0,function*(e={}){try{return{data:yield In(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rn(r))return{data:null,error:r};throw r}})}}class ew extends tw{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new nw(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return xt(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return xt(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return xt(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return xt(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class nw extends Jb{constructor(e,r,a,l){super(e,r,l),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new iw(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class iw extends Qb{constructor(e,r,a,l,h){super(e,r,h),this.vectorBucketName=a,this.indexName=l}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class cC extends XE{constructor(e,r={},a,l){super(e,r,a,l)}from(e){return new YE(this.url,this.headers,e,this.fetch)}get vectors(){return new ew(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kb(this.url+"/iceberg",this.headers,this.fetch)}}const hC=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Kb,StorageApiError:$b,StorageClient:cC,StorageError:xu,StorageUnknownError:Lh,StorageVectorsApiError:bh,StorageVectorsClient:ew,StorageVectorsError:qm,get StorageVectorsErrorCode(){return tm},StorageVectorsUnknownError:Yb,VectorBucketApi:tw,VectorBucketScope:nw,VectorDataApi:Qb,VectorIndexApi:Jb,VectorIndexScope:iw,isPlainObject:Xb,isStorageError:ge,isStorageVectorsError:Rn,normalizeToFloat32:sC,resolveFetch:Xh,resolveResponse:rC,validateVectorDimension:aC},Symbol.toStringTag,{value:"Module"})),dC=yu(hC);var _p={},Gl={},e_;function fC(){return e_||(e_=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.version=void 0,Gl.version="2.87.1"),Gl}var n_;function pC(){return n_||(n_=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_REALTIME_OPTIONS=n.DEFAULT_AUTH_OPTIONS=n.DEFAULT_DB_OPTIONS=n.DEFAULT_GLOBAL_OPTIONS=n.DEFAULT_HEADERS=void 0;const e=fC();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",n.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},n.DEFAULT_GLOBAL_OPTIONS={headers:n.DEFAULT_HEADERS},n.DEFAULT_DB_OPTIONS={schema:"public"},n.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n.DEFAULT_REALTIME_OPTIONS={}})(_p)),_p}var xp={},i_;function mC(){return i_||(i_=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchWithAuth=n.resolveHeadersConstructor=n.resolveFetch=void 0;const e=l=>l?(...h)=>l(...h):(...h)=>fetch(...h);n.resolveFetch=e;const r=()=>Headers;n.resolveHeadersConstructor=r;const a=(l,h,d)=>{const m=(0,n.resolveFetch)(d),g=(0,n.resolveHeadersConstructor)();return async(_,b)=>{var w;const E=(w=await h())!==null&&w!==void 0?w:l;let C=new g(b?.headers);return C.has("apikey")||C.set("apikey",l),C.has("Authorization")||C.set("Authorization",`Bearer ${E}`),m(_,Object.assign(Object.assign({},b),{headers:C}))}};n.fetchWithAuth=a})(xp)),xp}var dr={},r_;function gC(){if(r_)return dr;r_=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.isBrowser=void 0,dr.uuid=n,dr.ensureTrailingSlash=e,dr.applySettingDefaults=a,dr.validateSupabaseUrl=l;function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(h){var d=Math.random()*16|0,m=h=="x"?d:d&3|8;return m.toString(16)})}function e(h){return h.endsWith("/")?h:h+"/"}const r=()=>typeof window<"u";dr.isBrowser=r;function a(h,d){var m,g;const{db:_,auth:b,realtime:w,global:E}=h,{db:C,auth:M,realtime:O,global:R}=d,z={db:Object.assign(Object.assign({},C),_),auth:Object.assign(Object.assign({},M),b),realtime:Object.assign(Object.assign({},O),w),storage:{},global:Object.assign(Object.assign(Object.assign({},R),E),{headers:Object.assign(Object.assign({},(m=R?.headers)!==null&&m!==void 0?m:{}),(g=E?.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return h.accessToken?z.accessToken=h.accessToken:delete z.accessToken,z}function l(h){const d=h?.trim();if(!d)throw new Error("supabaseUrl is required.");if(!d.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(d))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return dr}var Kl={};const rw="2.87.1",po=30*1e3,em=3,bp=em*po,yC="http://localhost:9999",vC="supabase.auth.token",_C={"X-Client-Info":`gotrue-js/${rw}`},nm="X-Supabase-Api-Version",sw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bC=600*1e3;let Co=class extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function Tt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}let aw=class extends Co{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function ow(n){return Tt(n)&&n.name==="AuthApiError"}let is=class extends Co{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},yr=class extends Co{constructor(e,r,a,l){super(e,a,l),this.name=r,this.status=a}},jn=class extends yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function lw(n){return Tt(n)&&n.name==="AuthSessionMissingError"}let ia=class extends yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},tu=class extends yr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},eu=class extends yr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function uw(n){return Tt(n)&&n.name==="AuthImplicitGrantRedirectError"}let im=class extends yr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ph=class extends yr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function wh(n){return Tt(n)&&n.name==="AuthRetryableFetchError"}let rm=class extends yr{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function wC(n){return Tt(n)&&n.name==="AuthWeakPasswordError"}let Dh=class extends yr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const zh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),s_=` 	
\r=`.split(""),SC=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<s_.length;e+=1)n[s_[e].charCodeAt(0)]=-2;for(let e=0;e<zh.length;e+=1)n[zh[e].charCodeAt(0)]=e;return n})();function a_(n,e,r){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(zh[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(zh[a]),e.queuedBits-=6}}function cw(n,e,r){const a=SC[n];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function o_(n){const e=[],r=d=>{e.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},h=d=>{CC(d,a,r)};for(let d=0;d<n.length;d+=1)cw(n.charCodeAt(d),l,h);return e.join("")}function TC(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function EC(n,e){for(let r=0;r<n.length;r+=1){let a=n.charCodeAt(r);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(n.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}TC(a,e)}}function CC(n,e,r){if(e.utf8seq===0){if(n<=127){r(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function So(n){const e=[],r={queue:0,queuedBits:0},a=l=>{e.push(l)};for(let l=0;l<n.length;l+=1)cw(n.charCodeAt(l),r,a);return new Uint8Array(e)}function AC(n){const e=[];return EC(n,r=>e.push(r)),new Uint8Array(e)}function ua(n){const e=[],r={queue:0,queuedBits:0},a=l=>{e.push(l)};return n.forEach(l=>a_(l,r,a)),a_(null,r,a),e.join("")}function jC(n){return Math.round(Date.now()/1e3)+n}function RC(){return Symbol("auth-callback")}const en=()=>typeof window<"u"&&typeof document<"u",ta={tested:!1,writable:!1},hw=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ta.tested)return ta.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ta.tested=!0,ta.writable=!0}catch{ta.tested=!0,ta.writable=!1}return ta.writable};function OC(n){const e={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,h)=>{e[h]=l})}catch{}return r.searchParams.forEach((a,l)=>{e[l]=a}),e}const dw=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),kC=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",mo=async(n,e,r)=>{await n.setItem(e,JSON.stringify(r))},ea=async(n,e)=>{const r=await n.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},tn=async(n,e)=>{await n.removeItem(e)};class Jh{constructor(){this.promise=new Jh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Jh.promiseConstructor=Promise;function wp(n){const e=n.split(".");if(e.length!==3)throw new Dh("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!xC.test(e[a]))throw new Dh("JWT not in base64url format");return{header:JSON.parse(o_(e[0])),payload:JSON.parse(o_(e[1])),signature:So(e[2]),raw:{header:e[0],payload:e[1]}}}async function MC(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function LC(n,e){return new Promise((a,l)=>{(async()=>{for(let h=0;h<1/0;h++)try{const d=await n(h);if(!e(h,null,d)){a(d);return}}catch(d){if(!e(h,d)){l(d);return}}})()})}function PC(n){return("0"+n.toString(16)).substr(-2)}function DC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let l="";for(let h=0;h<56;h++)l+=r.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(e),Array.from(e,PC).join("")}async function zC(n){const r=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(a);return Array.from(l).map(h=>String.fromCharCode(h)).join("")}async function BC(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await zC(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function co(n,e,r=!1){const a=DC();let l=a;r&&(l+="/PASSWORD_RECOVERY"),await mo(n,`${e}-code-verifier`,l);const h=await BC(a);return[h,a===h?"plain":"s256"]}const NC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UC(n){const e=n.headers.get(nm);if(!e||!e.match(NC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function IC(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function VC(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ho(n){if(!HC.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sp(){const n={};return new Proxy(n,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qC(n,e){return new Proxy(n,{get:(r,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const h=a.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,l)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,l)}})}function l_(n){return JSON.parse(JSON.stringify(n))}const ra=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),FC=[502,503,504];async function u_(n){var e;if(!kC(n))throw new Ph(ra(n),0);if(FC.includes(n.status))throw new Ph(ra(n),n.status);let r;try{r=await n.json()}catch(h){throw new is(ra(h),h)}let a;const l=UC(n);if(l&&l.getTime()>=sw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new rm(ra(r),n.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new jn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,d)=>h&&typeof d=="string",!0))throw new rm(ra(r),n.status,r.weak_password.reasons);throw new aw(ra(r),n.status||500,a)}const $C=(n,e,r,a)=>{const l={method:n,headers:e?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),r))};async function Rt(n,e,r,a){var l;const h=Object.assign({},a?.headers);h[nm]||(h[nm]=sw["2024-01-01"].name),a?.jwt&&(h.Authorization=`Bearer ${a.jwt}`);const d=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(d.redirect_to=a.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await WC(n,e,r+m,{headers:h,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function WC(n,e,r,a,l,h){const d=$C(e,a,l,h);let m;try{m=await n(r,Object.assign({},d))}catch(g){throw console.error(g),new Ph(ra(g),0)}if(m.ok||await u_(m),a?.noResolveJson)return m;try{return await m.json()}catch(g){await u_(g)}}function gi(n){var e;let r=null;KC(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=jC(n.expires_in)));const a=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:r,user:a},error:null}}function c_(n){const e=gi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=n.weak_password),e}function rs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function ZC(n){return{data:n,error:null}}function GC(n){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:l,verification_type:h}=n,d=Lo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:r,hashed_token:a,redirect_to:l,verification_type:h},g=Object.assign({},d);return{data:{properties:m,user:g},error:null}}function h_(n){return n}function KC(n){return n.access_token&&n.refresh_token&&n.expires_in}const Sh=["global","local","others"];let Fm=class{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=dw(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Sh[0]){if(Sh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sh.join(", ")}`);try{return await Rt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await Rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:rs})}catch(a){if(Tt(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=Lo(e,["options"]),l=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await Rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:GC,redirectTo:r?.redirectTo})}catch(r){if(Tt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rs})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,l,h,d,m,g;try{const _={nextPage:null,lastPage:0,total:0},b=await Rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(h=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&h!==void 0?h:""},xform:h_});if(b.error)throw b.error;const w=await b.json(),E=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(M=>{const O=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(M.split(";")[1].split("=")[1]);_[`${R}Page`]=O}),_.total=parseInt(E)),{data:Object.assign(Object.assign({},w),_),error:null}}catch(_){if(Tt(_))return{data:{users:[]},error:_};throw _}}async getUserById(e){ho(e);try{return await Rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rs})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ho(e);try{return await Rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:rs})}catch(a){if(Tt(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){ho(e);try{return await Rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:rs})}catch(a){if(Tt(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){ho(e.userId);try{const{data:r,error:a}=await Rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:a}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ho(e.userId),ho(e.id);try{return{data:await Rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,l,h,d,m,g;try{const _={nextPage:null,lastPage:0,total:0},b=await Rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(h=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&h!==void 0?h:""},xform:h_});if(b.error)throw b.error;const w=await b.json(),E=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(M=>{const O=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(M.split(";")[1].split("=")[1]);_[`${R}Page`]=O}),_.total=parseInt(E)),{data:Object.assign(Object.assign({},w),_),error:null}}catch(_){if(Tt(_))return{data:{clients:[]},error:_};throw _}}async _createOAuthClient(e){try{return await Rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Rt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Tt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Tt(r))return{data:null,error:r};throw r}}};function d_(n={}){return{getItem:e=>n[e]||null,setItem:(e,r)=>{n[e]=r},removeItem:e=>{delete n[e]}}}const sa={debug:!!(globalThis&&hw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $m extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let fw=class extends $m{};class YC extends $m{}async function pw(n,e,r){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await r()}finally{sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(e===0)throw sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new fw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(sa.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const f_={};async function XC(n,e,r){var a;const l=(a=f_[n])!==null&&a!==void 0?a:Promise.resolve(),h=Promise.race([l.catch(()=>null),e>=0?new Promise((d,m)=>{setTimeout(()=>{m(new YC(`Acquring process lock with name "${n}" timed out`))},e)}):null].filter(d=>d)).catch(d=>{if(d&&d.isAcquireTimeout)throw d;return null}).then(async()=>await r());return f_[n]=h.catch(async d=>{if(d&&d.isAcquireTimeout)return await l,null;throw d}),await h}function JC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mw(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function QC(n){return parseInt(n,16)}function tA(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function eA(n){var e;const{chainId:r,domain:a,expirationTime:l,issuedAt:h=new Date,nonce:d,notBefore:m,requestId:g,resources:_,scheme:b,uri:w,version:E}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const C=mw(n.address),M=b?`${b}://${a}`:a,O=n.statement?`${n.statement}
`:"",R=`${M} wants you to sign in with your Ethereum account:
${C}

${O}`;let z=`URI: ${w}
Version: ${E}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${h.toISOString()}`;if(l&&(z+=`
Expiration Time: ${l.toISOString()}`),m&&(z+=`
Not Before: ${m.toISOString()}`),g&&(z+=`
Request ID: ${g}`),_){let N=`
Resources:`;for(const D of _){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);N+=`
- ${D}`}z+=N}return`${R}
${z}`}class Be extends Error{constructor({message:e,code:r,cause:a,name:l}){var h;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(h=l??(a instanceof Error?a.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class Bh extends Be{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function nA({error:n,options:e}){var r,a,l;const{publicKey:h}=e;if(!h)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((a=h.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Be({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return h.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(gw(d)){if(h.rp.id!==d)return new Be({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function iA({error:n,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Be({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(gw(a)){if(r.rpId!==a)return new Be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class rA{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const sA=new rA;function aA(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:r,excludeCredentials:a}=n,l=Lo(n,["challenge","user","excludeCredentials"]),h=So(e).buffer,d=Object.assign(Object.assign({},r),{id:So(r.id).buffer}),m=Object.assign(Object.assign({},l),{challenge:h,user:d});if(a&&a.length>0){m.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const _=a[g];m.excludeCredentials[g]=Object.assign(Object.assign({},_),{id:So(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return m}function oA(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:r}=n,a=Lo(n,["challenge","allowCredentials"]),l=So(e).buffer,h=Object.assign(Object.assign({},a),{challenge:l});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const m=r[d];h.allowCredentials[d]=Object.assign(Object.assign({},m),{id:So(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function lA(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:ua(new Uint8Array(n.response.attestationObject)),clientDataJSON:ua(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function uA(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,a=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ua(new Uint8Array(l.authenticatorData)),clientDataJSON:ua(new Uint8Array(l.clientDataJSON)),signature:ua(new Uint8Array(l.signature)),userHandle:l.userHandle?ua(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function gw(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function p_(){var n,e;return!!(en()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function cA(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bh("Browser returned unexpected credential type",e)}:{data:null,error:new Bh("Empty credential response",e)}}catch(e){return{data:null,error:nA({error:e,options:n})}}}async function hA(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bh("Browser returned unexpected credential type",e)}:{data:null,error:new Bh("Empty credential response",e)}}catch(e){return{data:null,error:iA({error:e,options:n})}}}const dA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nh(...n){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),r=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of n)if(l)for(const h in l){const d=l[h];if(d!==void 0)if(Array.isArray(d))a[h]=d;else if(r(d))a[h]=d;else if(e(d)){const m=a[h];e(m)?a[h]=Nh(m,d):a[h]=Nh(d)}else a[h]=d}return a}function pA(n,e){return Nh(dA,n,e||{})}function mA(n,e){return Nh(fA,n,e||{})}class gA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:l},h){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!d)return{data:null,error:m};const g=l??sA.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:_}=d.webauthn.credential_options.publicKey;_.name||(_.name=`${_.id}:${a}`),_.displayName||(_.displayName=_.name)}switch(d.webauthn.type){case"create":{const _=pA(d.webauthn.credential_options.publicKey,h?.create),{data:b,error:w}=await cA({publicKey:_,signal:g});return b?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const _=mA(d.webauthn.credential_options.publicKey,h?.request),{data:b,error:w}=await hA(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:_,signal:g}));return b?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(d){return Tt(d)?{data:null,error:d}:{data:null,error:new is("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},h){if(!r)return{data:null,error:new Co("rpId is required for WebAuthn authentication")};try{if(!p_())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:l},{request:h});if(!d)return{data:null,error:m};const{webauthn:g}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:a,credential_response:g.credential_response}})}catch(d){return Tt(d)?{data:null,error:d}:{data:null,error:new is("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},h){if(!r)return{data:null,error:new Co("rpId is required for WebAuthn registration")};try{if(!p_())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:g,error:_}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:l},{create:h});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:_}}catch(d){return Tt(d)?{data:null,error:d}:{data:null,error:new is("Unexpected error in register",d)}}}}JC();const yA={url:yC,storageKey:vC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_C,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function m_(n,e,r){return await r()}const fo={};let Wm=class sm{get jwks(){var e,r;return(r=(e=fo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=fo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},yA),e);if(this.storageKey=h.storageKey,this.instanceID=(r=sm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,sm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&en()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new Fm({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=dw(h.fetch),this.lock=h.lock||m_,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&en()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=pw:this.lock=m_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:hw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=d_(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=d_(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(en()&&(r=OC(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),en()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:h}=await this._getSessionFromURL(r,a);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),uw(h)){const g=(e=h.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:d,redirectType:m}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Tt(r)?this._returnResult({error:r}):this._returnResult({error:new is("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,l;try{const h=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:gi}),{data:d,error:m}=h;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const g=d.session,_=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:_,session:g},error:null})}catch(h){if(Tt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(e){var r,a,l;try{let h;if("email"in e){const{email:b,password:w,options:E}=e;let C=null,M=null;this.flowType==="pkce"&&([C,M]=await co(this.storage,this.storageKey)),h=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:b,password:w,data:(r=E?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:C,code_challenge_method:M},xform:gi})}else if("phone"in e){const{phone:b,password:w,options:E}=e;h=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(a=E?.data)!==null&&a!==void 0?a:{},channel:(l=E?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:gi})}else throw new tu("You must provide either an email or phone number and a password");const{data:d,error:m}=h;if(m||!d)return await tn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=d.session,_=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:_,session:g},error:null})}catch(h){if(await tn(this.storage,`${this.storageKey}-code-verifier`),Tt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(e){try{let r;if("email"in e){const{email:h,password:d,options:m}=e;r=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:c_})}else if("phone"in e){const{phone:h,password:d,options:m}=e;r=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:c_})}else throw new tu("You must provide either an email or phone number and a password");const{data:a,error:l}=r;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const h=new ia;return this._returnResult({data:{user:null,session:null},error:h})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,l,h;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(h=e.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,l,h,d,m,g,_,b,w,E;let C,M;if("message"in e)C=e.message,M=e.signature;else{const{chain:O,wallet:R,statement:z,options:N}=e;let D;if(en())if(typeof R=="object")D=R;else{const vt=window;if("ethereum"in vt&&typeof vt.ethereum=="object"&&"request"in vt.ethereum&&typeof vt.ethereum.request=="function")D=vt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=R}const V=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),F=await D.request({method:"eth_requestAccounts"}).then(vt=>vt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=mw(F[0]);let Q=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Q){const vt=await D.request({method:"eth_chainId"});Q=QC(vt)}const ft={domain:V.host,address:K,statement:z,uri:V.href,version:"1",chainId:Q,nonce:(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(_=N?.signInWithEthereum)===null||_===void 0?void 0:_.requestId,resources:(b=N?.signInWithEthereum)===null||b===void 0?void 0:b.resources};C=eA(ft),M=await D.request({method:"personal_sign",params:[tA(C),K]})}try{const{data:O,error:R}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:M},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:gi});if(R)throw R;if(!O||!O.session||!O.user){const z=new ia;return this._returnResult({data:{user:null,session:null},error:z})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:R})}catch(O){if(Tt(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(e){var r,a,l,h,d,m,g,_,b,w,E,C;let M,O;if("message"in e)M=e.message,O=e.signature;else{const{chain:R,wallet:z,statement:N,options:D}=e;let V;if(en())if(typeof z=="object")V=z;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))V=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=z}const F=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in V&&V.signIn){const K=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),N?{statement:N}:null));let Q;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")Q=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)Q=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)M=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),O=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${F.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(l=(a=D?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((h=D?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((_=D?.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((w=(b=D?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...D.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const K=await V.signMessage(new TextEncoder().encode(M),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=K}}try{const{data:R,error:z}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:ua(O)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:gi});if(z)throw z;if(!R||!R.session||!R.user){const N=new ia;return this._returnResult({data:{user:null,session:null},error:N})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:z})}catch(R){if(Tt(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(e){const r=await ea(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(r??"").split("/");try{const{data:h,error:d}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:gi});if(await tn(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!h||!h.session||!h.user){const m=new ia;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:l??null}),error:d})}catch(h){if(await tn(this.storage,`${this.storageKey}-code-verifier`),Tt(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(e){try{const{options:r,provider:a,token:l,access_token:h,nonce:d}=e,m=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:h,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:gi}),{data:g,error:_}=m;if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!g||!g.session||!g.user){const b=new ia;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:_})}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,l,h,d;try{if("email"in e){const{email:m,options:g}=e;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await co(this.storage,this.storageKey));const{error:w}=await Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:_,code_challenge_method:b},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:m,options:g}=e,{data:_,error:b}=await Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(h=g?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(d=g?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:b})}throw new tu("You must provide either an email or phone number.")}catch(m){if(await tn(this.storage,`${this.storageKey}-code-verifier`),Tt(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(e){var r,a;try{let l,h;"options"in e&&(l=(r=e.options)===null||r===void 0?void 0:r.redirectTo,h=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:m}=await Rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:h}}),redirectTo:l,xform:gi});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,_=d.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:_,session:g},error:null})}catch(l){if(Tt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var r,a,l,h,d;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await co(this.storage,this.storageKey));const _=await Rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:ZC});return!((h=_.data)===null||h===void 0)&&h.url&&en()&&!(!((d=e.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(_.data.url),this._returnResult(_)}catch(m){if(await tn(this.storage,`${this.storageKey}-code-verifier`),Tt(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new jn;const{error:l}=await Rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(Tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:l,options:h}=e,{error:d}=await Rt(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in e){const{phone:a,type:l,options:h}=e,{data:d,error:m}=await Rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:m})}throw new tu("You must provide either an email or phone number and a type")}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<bp:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const d=await ea(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=Sp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=qC(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:h}=await this._callRefreshToken(e.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rs}):await this._useSession(async r=>{var a,l,h;const{data:d,error:m}=r;if(m)throw m;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jn}:await Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&h!==void 0?h:void 0,xform:rs})})}catch(r){if(Tt(r))return lw(r)&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:l,error:h}=a;if(h)throw h;if(!l.session)throw new jn;const d=l.session;let m=null,g=null;this.flowType==="pkce"&&e.email!=null&&([m,g]=await co(this.storage,this.storageKey));const{data:_,error:b}=await Rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:g}),jwt:d.access_token,xform:rs});if(b)throw b;return d.user=_.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(a){if(await tn(this.storage,`${this.storageKey}-code-verifier`),Tt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jn;const r=Date.now()/1e3;let a=r,l=!0,h=null;const{payload:d}=wp(e.access_token);if(d.exp&&(a=d.exp,l=a<=r),l){const{data:m,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};h=m}else{const{data:m,error:g}=await this._getUser(e.access_token);if(g)throw g;h={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(Tt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:d,error:m}=r;if(m)throw m;e=(a=d.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new jn;const{data:l,error:h}=await this._callRefreshToken(e.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!en())throw new eu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new eu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new im("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new im("No code detected.");const{data:N,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:h,refresh_token:d,expires_in:m,expires_at:g,token_type:_}=e;if(!h||!m||!d||!_)throw new eu("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(m);let E=b+w;g&&(E=parseInt(g));const C=E-b;C*1e3<=po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${w}s`);const M=E-w;b-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,E,b):b-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,E,b);const{data:O,error:R}=await this._getUser(h);if(R)throw R;const z={provider_token:a,provider_refresh_token:l,access_token:h,expires_in:w,expires_at:E,refresh_token:d,token_type:_,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:e.type},error:null})}catch(a){if(Tt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ea(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:l,error:h}=r;if(h)return this._returnResult({error:h});const d=(a=l.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:m}=await this.admin.signOut(d,e);if(m&&!(ow(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return e!=="others"&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=RC(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,l;try{const{data:{session:h},error:d}=r;if(d)throw d;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",e,"session",h)}catch(h){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",h),console.error(h)}})}async resetPasswordForEmail(e,r={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await co(this.storage,this.storageKey,!0));try{return await Rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await tn(this.storage,`${this.storageKey}-code-verifier`),Tt(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:l}=await this._useSession(async h=>{var d,m,g,_,b;const{data:w,error:E}=h;if(E)throw E;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Rt(this.fetch,"GET",C,{headers:this.headers,jwt:(b=(_=w.session)===null||_===void 0?void 0:_.access_token)!==null&&b!==void 0?b:void 0})});if(l)throw l;return en()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(Tt(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:l,data:{session:h}}=r;if(l)throw l;const{options:d,provider:m,token:g,access_token:_,nonce:b}=e,w=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=h?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:m,id_token:g,access_token:_,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:gi}),{data:E,error:C}=w;return C?this._returnResult({data:{user:null,session:null},error:C}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new ia}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:C}))}catch(l){if(await tn(this.storage,`${this.storageKey}-code-verifier`),Tt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,l;const{data:h,error:d}=r;if(d)throw d;return await Rt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(a=h.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await LC(async l=>(l>0&&await MC(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await Rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gi})),(l,h)=>{const d=200*Math.pow(2,l);return h&&wh(h)&&Date.now()+d-a<po})}catch(a){if(this._debug(r,"error",a),Tt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),en()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await ea(this.storage,this.storageKey);if(l&&this.userStorage){let d=await ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await mo(this.userStorage,this.storageKey+"-user",d)),l.user=(e=d?.user)!==null&&e!==void 0?e:Sp()}else if(l&&!l.user&&!l.user){const d=await ea(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await tn(this.storage,this.storageKey+"-user"),await mo(this.storage,this.storageKey,l)):l.user=Sp()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const h=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<bp;if(this._debug(a,`session has${h?"":" not"} expired with margin of ${bp}s`),h){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),wh(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(l.access_token);!m&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Jh;const{data:h,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!h.session)throw new jn;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const m={data:h.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(h){if(this._debug(l,"error",h),Tt(h)){const d={data:null,error:h};return wh(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(h),h}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,r,a=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const h=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,r)}catch(g){h.push(g)}});if(await Promise.all(d),h.length>0){for(let m=0;m<h.length;m+=1)console.error(h[m]);throw h[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await mo(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const h=l_(l);await mo(this.storage,this.storageKey,h)}else{const l=l_(r);await mo(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tn(this.storage,this.storageKey),await tn(this.storage,this.storageKey+"-code-verifier"),await tn(this.storage,this.storageKey+"-user"),this.userStorage&&await tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&en()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),po);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-e)/po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${po}ms, refresh threshold is ${em} ticks`),l<=em&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $m)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const l=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[h,d]=await co(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(m.toString())}if(a?.queryParams){const h=new URLSearchParams(a.queryParams);l.push(h.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:l,error:h}=r;return h?this._returnResult({data:null,error:h}):await Rt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,l;const{data:h,error:d}=r;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:_}=await Rt(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(a=h?.session)===null||a===void 0?void 0:a.access_token});return _?this._returnResult({data:null,error:_}):(e.factorType==="totp"&&g.type==="totp"&&(!((l=g?.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:h}=r;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?lA(e.webauthn.credential_response):uA(e.webauthn.credential_response)})}:{code:e.code}),{data:m,error:g}=await Rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:h}=r;if(h)return this._returnResult({data:null,error:h});const d=await Rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:aA(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:oA(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const h of(e=r?.factors)!==null&&e!==void 0?e:[])l.all.push(h),h.status==="verified"&&l[h.factor_type].push(h);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=wp(a.access_token);let d=null;h.aal&&(d=h.aal);let m=d;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const _=h.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;return l?this._returnResult({data:null,error:l}):a?await Rt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new jn})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:l},error:h}=a;if(h)return this._returnResult({data:null,error:h});if(!l)return this._returnResult({data:null,error:new jn});const d=await Rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&en()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(Tt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:l},error:h}=a;if(h)return this._returnResult({data:null,error:h});if(!l)return this._returnResult({data:null,error:new jn});const d=await Rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&en()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(Tt(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await Rt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new jn})})}catch(e){if(Tt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;return l?this._returnResult({data:null,error:l}):a?(await Rt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jn})})}catch(r){if(Tt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(m=>m.kid===e);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(m=>m.kid===e),a&&this.jwks_cached_at+bC>l)return a;const{data:h,error:d}=await Rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=l,a=h.keys.find(m=>m.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:C,error:M}=await this.getSession();if(M||!C.session)return this._returnResult({data:null,error:M});a=C.session.access_token}const{header:l,payload:h,signature:d,raw:{header:m,payload:g}}=wp(a);r?.allowExpired||IC(h.exp);const _=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!_){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:h,header:l,signature:d},error:null}}const b=VC(l.alg),w=await crypto.subtle.importKey("jwk",_,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,d,AC(`${m}.${g}`)))throw new Dh("Invalid JWT signature");return{data:{claims:h,header:l,signature:d},error:null}}catch(a){if(Tt(a))return this._returnResult({data:null,error:a});throw a}}};Wm.nextInstanceID={};const vA=Fm,_A=Wm,xA=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:vA,AuthApiError:aw,AuthClient:_A,AuthError:Co,AuthImplicitGrantRedirectError:eu,AuthInvalidCredentialsError:tu,AuthInvalidJwtError:Dh,AuthInvalidTokenResponseError:ia,AuthPKCEGrantCodeExchangeError:im,AuthRetryableFetchError:Ph,AuthSessionMissingError:jn,AuthUnknownError:is,AuthWeakPasswordError:rm,CustomAuthError:yr,GoTrueAdminApi:Fm,GoTrueClient:Wm,NavigatorLockAcquireTimeoutError:fw,SIGN_OUT_SCOPES:Sh,isAuthApiError:ow,isAuthError:Tt,isAuthImplicitGrantRedirectError:uw,isAuthRetryableFetchError:wh,isAuthSessionMissingError:lw,isAuthWeakPasswordError:wC,lockInternals:sa,navigatorLock:pw,processLock:XC},Symbol.toStringTag,{value:"Module"})),yw=yu(xA);var g_;function bA(){if(g_)return Kl;g_=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.SupabaseAuthClient=void 0;const n=yw;let e=class extends n.AuthClient{constructor(a){super(a)}};return Kl.SupabaseAuthClient=e,Kl}var y_;function v_(){if(y_)return rh;y_=1,Object.defineProperty(rh,"__esModule",{value:!0});const n=Ob,e=zb(),r=Fb,a=dC,l=pC(),h=mC(),d=gC(),m=bA();class g{constructor(b,w,E){var C,M,O;this.supabaseUrl=b,this.supabaseKey=w;const R=(0,d.validateSupabaseUrl)(b);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",R),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",R),this.storageUrl=new URL("storage/v1",R),this.functionsUrl=new URL("functions/v1",R);const z=`sb-${R.hostname.split(".")[0]}-auth-token`,N={db:l.DEFAULT_DB_OPTIONS,realtime:l.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},l.DEFAULT_AUTH_OPTIONS),{storageKey:z}),global:l.DEFAULT_GLOBAL_OPTIONS},D=(0,d.applySettingDefaults)(E??{},N);this.storageKey=(C=D.auth.storageKey)!==null&&C!==void 0?C:"",this.headers=(M=D.global.headers)!==null&&M!==void 0?M:{},D.accessToken?(this.accessToken=D.accessToken,this.auth=new Proxy({},{get:(V,F)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(F)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((O=D.auth)!==null&&O!==void 0?O:{},this.headers,D.global.fetch),this.fetch=(0,h.fetchWithAuth)(w,this._getAccessToken.bind(this),D.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},D.realtime)),this.accessToken&&this.accessToken().then(V=>this.realtime.setAuth(V)).catch(V=>console.warn("Failed to set initial Realtime auth token:",V)),this.rest=new e.PostgrestClient(new URL("rest/v1",R).href,{headers:this.headers,schema:D.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,E?.storage),D.accessToken||this._listenForAuthEvents()}get functions(){return new n.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(b){return this.rest.from(b)}schema(b){return this.rest.schema(b)}rpc(b,w={},E={head:!1,get:!1,count:void 0}){return this.rest.rpc(b,w,E)}channel(b,w={config:{}}){return this.realtime.channel(b,w)}getChannels(){return this.realtime.getChannels()}removeChannel(b){return this.realtime.removeChannel(b)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var b,w;if(this.accessToken)return await this.accessToken();const{data:E}=await this.auth.getSession();return(w=(b=E.session)===null||b===void 0?void 0:b.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:b,persistSession:w,detectSessionInUrl:E,storage:C,userStorage:M,storageKey:O,flowType:R,lock:z,debug:N,throwOnError:D},V,F){const K={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},K),V),storageKey:O,autoRefreshToken:b,persistSession:w,detectSessionInUrl:E,storage:C,userStorage:M,flowType:R,lock:z,debug:N,throwOnError:D,fetch:F,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Q=>Q.toLowerCase()==="authorization")})}_initRealtimeClient(b){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},b),{params:Object.assign({apikey:this.supabaseKey},b?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,E)=>{this._handleTokenChanged(w,"CLIENT",E?.access_token)})}_handleTokenChanged(b,w,E){(b==="TOKEN_REFRESHED"||b==="SIGNED_IN")&&this.changedAccessToken!==E?(this.changedAccessToken=E,this.realtime.setAuth(E)):b==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return rh.default=g,rh}var __;function wA(){return __||(__=1,(function(n){var e=hr&&hr.__createBinding||(Object.create?(function(b,w,E,C){C===void 0&&(C=E);var M=Object.getOwnPropertyDescriptor(w,E);(!M||("get"in M?!w.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(b,C,M)}):(function(b,w,E,C){C===void 0&&(C=E),b[C]=w[E]})),r=hr&&hr.__exportStar||function(b,w){for(var E in b)E!=="default"&&!Object.prototype.hasOwnProperty.call(w,E)&&e(w,b,E)},a=hr&&hr.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(n,"__esModule",{value:!0}),n.createClient=n.SupabaseClient=n.FunctionRegion=n.FunctionsError=n.FunctionsRelayError=n.FunctionsFetchError=n.FunctionsHttpError=n.PostgrestError=void 0;const l=a(v_());r(yw,n);var h=zb();Object.defineProperty(n,"PostgrestError",{enumerable:!0,get:function(){return h.PostgrestError}});var d=Ob;Object.defineProperty(n,"FunctionsHttpError",{enumerable:!0,get:function(){return d.FunctionsHttpError}}),Object.defineProperty(n,"FunctionsFetchError",{enumerable:!0,get:function(){return d.FunctionsFetchError}}),Object.defineProperty(n,"FunctionsRelayError",{enumerable:!0,get:function(){return d.FunctionsRelayError}}),Object.defineProperty(n,"FunctionsError",{enumerable:!0,get:function(){return d.FunctionsError}}),Object.defineProperty(n,"FunctionRegion",{enumerable:!0,get:function(){return d.FunctionRegion}}),r(Fb,n);var m=v_();Object.defineProperty(n,"SupabaseClient",{enumerable:!0,get:function(){return a(m).default}});const g=(b,w,E)=>new l.default(b,w,E);n.createClient=g;function _(){if(typeof window<"u"||typeof process>"u")return!1;const b=process.version;if(b==null)return!1;const w=b.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(hr)),hr}var vw=wA();const _w=Wh(vw),SA=MT({__proto__:null,default:_w},[vw]),{PostgrestError:KD,FunctionsHttpError:YD,FunctionsFetchError:XD,FunctionsRelayError:JD,FunctionsError:QD,FunctionRegion:tz,SupabaseClient:ez,createClient:TA,GoTrueAdminApi:nz,GoTrueClient:iz,AuthAdminApi:rz,AuthClient:sz,navigatorLock:az,NavigatorLockAcquireTimeoutError:oz,lockInternals:lz,processLock:uz,SIGN_OUT_SCOPES:cz,AuthError:hz,AuthApiError:dz,AuthUnknownError:fz,CustomAuthError:pz,AuthSessionMissingError:mz,AuthInvalidTokenResponseError:gz,AuthInvalidCredentialsError:yz,AuthImplicitGrantRedirectError:vz,AuthPKCEGrantCodeExchangeError:_z,AuthRetryableFetchError:xz,AuthWeakPasswordError:bz,AuthInvalidJwtError:wz,isAuthError:Sz,isAuthApiError:Tz,isAuthSessionMissingError:Ez,isAuthImplicitGrantRedirectError:Cz,isAuthRetryableFetchError:Az,isAuthWeakPasswordError:jz,RealtimePresence:Rz,RealtimeChannel:Oz,RealtimeClient:kz,REALTIME_LISTEN_TYPES:Mz,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Lz,REALTIME_PRESENCE_LISTEN_EVENTS:Pz,REALTIME_SUBSCRIBE_STATES:Dz,REALTIME_CHANNEL_STATES:zz}=_w||SA,EA="https://upisshnwndbiaiffladc.supabase.co",CA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVwaXNzaG53bmRiaWFpZmZsYWRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzNDI4MDMsImV4cCI6MjA4MDkxODgwM30.1tmdQA5HFxlJBxUNbIlOUnW2rBvLdiVtOKALOEEyQAA",pt=TA(EA,CA),xw=j.createContext({}),qe=()=>j.useContext(xw),AA=({children:n})=>{const[e,r]=j.useState(null),[a,l]=j.useState(!0);j.useEffect(()=>{pt.auth.getSession().then(({data:{session:m}})=>{r(m?.user??null),l(!1)}).catch(m=>{console.error("Error getting session:",m),l(!1)});const{data:{subscription:d}}=pt.auth.onAuthStateChange((m,g)=>{r(g?.user??null),l(!1)});return()=>{d&&d.unsubscribe()}},[]);const h={user:e,loading:a,signInWithGoogle:async()=>{const{error:d}=await pt.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+window.location.pathname}});if(d)throw d},signOut:async()=>{const{error:d}=await pt.auth.signOut();if(d)throw d}};return y.jsx(xw.Provider,{value:h,children:n})},Zm=j.createContext({});function Gm(n){const e=j.useRef(null);return e.current===null&&(e.current=n()),e.current}const Km=typeof window<"u",bw=Km?j.useLayoutEffect:j.useEffect,Qh=j.createContext(null);function Ym(n,e){n.indexOf(e)===-1&&n.push(e)}function Xm(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}const mr=(n,e,r)=>r>e?e:r<n?n:r;let Jm=()=>{};const gr={},ww=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Sw(n){return typeof n=="object"&&n!==null}const Tw=n=>/^0[^.\s]+$/u.test(n);function Qm(n){let e;return()=>(e===void 0&&(e=n()),e)}const ei=n=>n,jA=(n,e)=>r=>e(n(r)),wu=(...n)=>n.reduce(jA),du=(n,e,r)=>{const a=e-n;return a===0?1:(r-n)/a};class tg{constructor(){this.subscriptions=[]}add(e){return Ym(this.subscriptions,e),()=>Xm(this.subscriptions,e)}notify(e,r,a){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,r,a);else for(let h=0;h<l;h++){const d=this.subscriptions[h];d&&d(e,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ni=n=>n*1e3,ti=n=>n/1e3;function Ew(n,e){return e?n*(1e3/e):0}const Cw=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,RA=1e-7,OA=12;function kA(n,e,r,a,l){let h,d,m=0;do d=e+(r-e)/2,h=Cw(d,a,l)-n,h>0?r=d:e=d;while(Math.abs(h)>RA&&++m<OA);return d}function Su(n,e,r,a){if(n===e&&r===a)return ei;const l=h=>kA(h,0,1,n,r);return h=>h===0||h===1?h:Cw(l(h),e,a)}const Aw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,jw=n=>e=>1-n(1-e),Rw=Su(.33,1.53,.69,.99),eg=jw(Rw),Ow=Aw(eg),kw=n=>(n*=2)<1?.5*eg(n):.5*(2-Math.pow(2,-10*(n-1))),ng=n=>1-Math.sin(Math.acos(n)),Mw=jw(ng),Lw=Aw(ng),MA=Su(.42,0,1,1),LA=Su(0,0,.58,1),Pw=Su(.42,0,.58,1),PA=n=>Array.isArray(n)&&typeof n[0]!="number",Dw=n=>Array.isArray(n)&&typeof n[0]=="number",DA={linear:ei,easeIn:MA,easeInOut:Pw,easeOut:LA,circIn:ng,circInOut:Lw,circOut:Mw,backIn:eg,backInOut:Ow,backOut:Rw,anticipate:kw},zA=n=>typeof n=="string",x_=n=>{if(Dw(n)){Jm(n.length===4);const[e,r,a,l]=n;return Su(e,r,a,l)}else if(zA(n))return DA[n];return n},fh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function BA(n,e){let r=new Set,a=new Set,l=!1,h=!1;const d=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(b){d.has(b)&&(_.schedule(b),n()),b(m)}const _={schedule:(b,w=!1,E=!1)=>{const M=E&&l?r:a;return w&&d.add(b),M.has(b)||M.add(b),b},cancel:b=>{a.delete(b),d.delete(b)},process:b=>{if(m=b,l){h=!0;return}l=!0,[r,a]=[a,r],r.forEach(g),r.clear(),l=!1,h&&(h=!1,_.process(b))}};return _}const NA=40;function zw(n,e){let r=!1,a=!0;const l={delta:0,timestamp:0,isProcessing:!1},h=()=>r=!0,d=fh.reduce((D,V)=>(D[V]=BA(h),D),{}),{setup:m,read:g,resolveKeyframes:_,preUpdate:b,update:w,preRender:E,render:C,postRender:M}=d,O=()=>{const D=gr.useManualTiming?l.timestamp:performance.now();r=!1,gr.useManualTiming||(l.delta=a?1e3/60:Math.max(Math.min(D-l.timestamp,NA),1)),l.timestamp=D,l.isProcessing=!0,m.process(l),g.process(l),_.process(l),b.process(l),w.process(l),E.process(l),C.process(l),M.process(l),l.isProcessing=!1,r&&e&&(a=!1,n(O))},R=()=>{r=!0,a=!0,l.isProcessing||n(O)};return{schedule:fh.reduce((D,V)=>{const F=d[V];return D[V]=(K,Q=!1,ft=!1)=>(r||R(),F.schedule(K,Q,ft)),D},{}),cancel:D=>{for(let V=0;V<fh.length;V++)d[fh[V]].cancel(D)},state:l,steps:d}}const{schedule:ye,cancel:as,state:nn,steps:Tp}=zw(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let Th;function UA(){Th=void 0}const On={now:()=>(Th===void 0&&On.set(nn.isProcessing||gr.useManualTiming?nn.timestamp:performance.now()),Th),set:n=>{Th=n,queueMicrotask(UA)}},Bw=n=>e=>typeof e=="string"&&e.startsWith(n),Nw=Bw("--"),IA=Bw("var(--"),ig=n=>IA(n)?VA.test(n.split("/*")[0].trim()):!1,VA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Do={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},fu={...Do,transform:n=>mr(0,1,n)},ph={...Do,default:1},ru=n=>Math.round(n*1e5)/1e5,rg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HA(n){return n==null}const qA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sg=(n,e)=>r=>!!(typeof r=="string"&&qA.test(r)&&r.startsWith(n)||e&&!HA(r)&&Object.prototype.hasOwnProperty.call(r,e)),Uw=(n,e,r)=>a=>{if(typeof a!="string")return a;const[l,h,d,m]=a.match(rg);return{[n]:parseFloat(l),[e]:parseFloat(h),[r]:parseFloat(d),alpha:m!==void 0?parseFloat(m):1}},FA=n=>mr(0,255,n),Ep={...Do,transform:n=>Math.round(FA(n))},ca={test:sg("rgb","red"),parse:Uw("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:a=1})=>"rgba("+Ep.transform(n)+", "+Ep.transform(e)+", "+Ep.transform(r)+", "+ru(fu.transform(a))+")"};function $A(n){let e="",r="",a="",l="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),a=n.substring(5,7),l=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),a=n.substring(3,4),l=n.substring(4,5),e+=e,r+=r,a+=a,l+=l),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:l?parseInt(l,16)/255:1}}const am={test:sg("#"),parse:$A,transform:ca.transform},Tu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ns=Tu("deg"),Ui=Tu("%"),Mt=Tu("px"),WA=Tu("vh"),ZA=Tu("vw"),b_={...Ui,parse:n=>Ui.parse(n)/100,transform:n=>Ui.transform(n*100)},yo={test:sg("hsl","hue"),parse:Uw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:a=1})=>"hsla("+Math.round(n)+", "+Ui.transform(ru(e))+", "+Ui.transform(ru(r))+", "+ru(fu.transform(a))+")"},Ne={test:n=>ca.test(n)||am.test(n)||yo.test(n),parse:n=>ca.test(n)?ca.parse(n):yo.test(n)?yo.parse(n):am.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ca.transform(n):yo.transform(n),getAnimatableNone:n=>{const e=Ne.parse(n);return e.alpha=0,Ne.transform(e)}},GA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KA(n){return isNaN(n)&&typeof n=="string"&&(n.match(rg)?.length||0)+(n.match(GA)?.length||0)>0}const Iw="number",Vw="color",YA="var",XA="var(",w_="${}",JA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pu(n){const e=n.toString(),r=[],a={color:[],number:[],var:[]},l=[];let h=0;const m=e.replace(JA,g=>(Ne.test(g)?(a.color.push(h),l.push(Vw),r.push(Ne.parse(g))):g.startsWith(XA)?(a.var.push(h),l.push(YA),r.push(g)):(a.number.push(h),l.push(Iw),r.push(parseFloat(g))),++h,w_)).split(w_);return{values:r,split:m,indexes:a,types:l}}function Hw(n){return pu(n).values}function qw(n){const{split:e,types:r}=pu(n),a=e.length;return l=>{let h="";for(let d=0;d<a;d++)if(h+=e[d],l[d]!==void 0){const m=r[d];m===Iw?h+=ru(l[d]):m===Vw?h+=Ne.transform(l[d]):h+=l[d]}return h}}const QA=n=>typeof n=="number"?0:Ne.test(n)?Ne.getAnimatableNone(n):n;function tj(n){const e=Hw(n);return qw(n)(e.map(QA))}const os={test:KA,parse:Hw,createTransformer:qw,getAnimatableNone:tj};function Cp(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function ej({hue:n,saturation:e,lightness:r,alpha:a}){n/=360,e/=100,r/=100;let l=0,h=0,d=0;if(!e)l=h=d=r;else{const m=r<.5?r*(1+e):r+e-r*e,g=2*r-m;l=Cp(g,m,n+1/3),h=Cp(g,m,n),d=Cp(g,m,n-1/3)}return{red:Math.round(l*255),green:Math.round(h*255),blue:Math.round(d*255),alpha:a}}function Uh(n,e){return r=>r>0?e:n}const be=(n,e,r)=>n+(e-n)*r,Ap=(n,e,r)=>{const a=n*n,l=r*(e*e-a)+a;return l<0?0:Math.sqrt(l)},nj=[am,ca,yo],ij=n=>nj.find(e=>e.test(n));function S_(n){const e=ij(n);if(!e)return!1;let r=e.parse(n);return e===yo&&(r=ej(r)),r}const T_=(n,e)=>{const r=S_(n),a=S_(e);if(!r||!a)return Uh(n,e);const l={...r};return h=>(l.red=Ap(r.red,a.red,h),l.green=Ap(r.green,a.green,h),l.blue=Ap(r.blue,a.blue,h),l.alpha=be(r.alpha,a.alpha,h),ca.transform(l))},om=new Set(["none","hidden"]);function rj(n,e){return om.has(n)?r=>r<=0?n:e:r=>r>=1?e:n}function sj(n,e){return r=>be(n,e,r)}function ag(n){return typeof n=="number"?sj:typeof n=="string"?ig(n)?Uh:Ne.test(n)?T_:lj:Array.isArray(n)?Fw:typeof n=="object"?Ne.test(n)?T_:aj:Uh}function Fw(n,e){const r=[...n],a=r.length,l=n.map((h,d)=>ag(h)(h,e[d]));return h=>{for(let d=0;d<a;d++)r[d]=l[d](h);return r}}function aj(n,e){const r={...n,...e},a={};for(const l in r)n[l]!==void 0&&e[l]!==void 0&&(a[l]=ag(n[l])(n[l],e[l]));return l=>{for(const h in a)r[h]=a[h](l);return r}}function oj(n,e){const r=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const h=e.types[l],d=n.indexes[h][a[h]],m=n.values[d]??0;r[l]=m,a[h]++}return r}const lj=(n,e)=>{const r=os.createTransformer(e),a=pu(n),l=pu(e);return a.indexes.var.length===l.indexes.var.length&&a.indexes.color.length===l.indexes.color.length&&a.indexes.number.length>=l.indexes.number.length?om.has(n)&&!l.values.length||om.has(e)&&!a.values.length?rj(n,e):wu(Fw(oj(a,l),l.values),r):Uh(n,e)};function $w(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?be(n,e,r):ag(n)(n,e)}const uj=n=>{const e=({timestamp:r})=>n(r);return{start:(r=!0)=>ye.update(e,r),stop:()=>as(e),now:()=>nn.isProcessing?nn.timestamp:On.now()}},Ww=(n,e,r=10)=>{let a="";const l=Math.max(Math.round(e/r),2);for(let h=0;h<l;h++)a+=Math.round(n(h/(l-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Ih=2e4;function og(n){let e=0;const r=50;let a=n.next(e);for(;!a.done&&e<Ih;)e+=r,a=n.next(e);return e>=Ih?1/0:e}function cj(n,e=100,r){const a=r({...n,keyframes:[0,e]}),l=Math.min(og(a),Ih);return{type:"keyframes",ease:h=>a.next(l*h).value/e,duration:ti(l)}}const hj=5;function Zw(n,e,r){const a=Math.max(e-hj,0);return Ew(r-n(a),e-a)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jp=.001;function dj({duration:n=Ce.duration,bounce:e=Ce.bounce,velocity:r=Ce.velocity,mass:a=Ce.mass}){let l,h,d=1-e;d=mr(Ce.minDamping,Ce.maxDamping,d),n=mr(Ce.minDuration,Ce.maxDuration,ti(n)),d<1?(l=_=>{const b=_*d,w=b*n,E=b-r,C=lm(_,d),M=Math.exp(-w);return jp-E/C*M},h=_=>{const w=_*d*n,E=w*r+r,C=Math.pow(d,2)*Math.pow(_,2)*n,M=Math.exp(-w),O=lm(Math.pow(_,2),d);return(-l(_)+jp>0?-1:1)*((E-C)*M)/O}):(l=_=>{const b=Math.exp(-_*n),w=(_-r)*n+1;return-jp+b*w},h=_=>{const b=Math.exp(-_*n),w=(r-_)*(n*n);return b*w});const m=5/n,g=pj(l,h,m);if(n=Ni(n),isNaN(g))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:n};{const _=Math.pow(g,2)*a;return{stiffness:_,damping:d*2*Math.sqrt(a*_),duration:n}}}const fj=12;function pj(n,e,r){let a=r;for(let l=1;l<fj;l++)a=a-n(a)/e(a);return a}function lm(n,e){return n*Math.sqrt(1-e*e)}const mj=["duration","bounce"],gj=["stiffness","damping","mass"];function E_(n,e){return e.some(r=>n[r]!==void 0)}function yj(n){let e={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...n};if(!E_(n,gj)&&E_(n,mj))if(n.visualDuration){const r=n.visualDuration,a=2*Math.PI/(r*1.2),l=a*a,h=2*mr(.05,1,1-(n.bounce||0))*Math.sqrt(l);e={...e,mass:Ce.mass,stiffness:l,damping:h}}else{const r=dj(n);e={...e,...r,mass:Ce.mass},e.isResolvedFromDuration=!0}return e}function Vh(n=Ce.visualDuration,e=Ce.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:a,restDelta:l}=r;const h=r.keyframes[0],d=r.keyframes[r.keyframes.length-1],m={done:!1,value:h},{stiffness:g,damping:_,mass:b,duration:w,velocity:E,isResolvedFromDuration:C}=yj({...r,velocity:-ti(r.velocity||0)}),M=E||0,O=_/(2*Math.sqrt(g*b)),R=d-h,z=ti(Math.sqrt(g/b)),N=Math.abs(R)<5;a||(a=N?Ce.restSpeed.granular:Ce.restSpeed.default),l||(l=N?Ce.restDelta.granular:Ce.restDelta.default);let D;if(O<1){const F=lm(z,O);D=K=>{const Q=Math.exp(-O*z*K);return d-Q*((M+O*z*R)/F*Math.sin(F*K)+R*Math.cos(F*K))}}else if(O===1)D=F=>d-Math.exp(-z*F)*(R+(M+z*R)*F);else{const F=z*Math.sqrt(O*O-1);D=K=>{const Q=Math.exp(-O*z*K),ft=Math.min(F*K,300);return d-Q*((M+O*z*R)*Math.sinh(ft)+F*R*Math.cosh(ft))/F}}const V={calculatedDuration:C&&w||null,next:F=>{const K=D(F);if(C)m.done=F>=w;else{let Q=F===0?M:0;O<1&&(Q=F===0?Ni(M):Zw(D,F,K));const ft=Math.abs(Q)<=a,vt=Math.abs(d-K)<=l;m.done=ft&&vt}return m.value=m.done?d:K,m},toString:()=>{const F=Math.min(og(V),Ih),K=Ww(Q=>V.next(F*Q).value,F,30);return F+"ms "+K},toTransition:()=>{}};return V}Vh.applyToOptions=n=>{const e=cj(n,100,Vh);return n.ease=e.ease,n.duration=Ni(e.duration),n.type="keyframes",n};function um({keyframes:n,velocity:e=0,power:r=.8,timeConstant:a=325,bounceDamping:l=10,bounceStiffness:h=500,modifyTarget:d,min:m,max:g,restDelta:_=.5,restSpeed:b}){const w=n[0],E={done:!1,value:w},C=ft=>m!==void 0&&ft<m||g!==void 0&&ft>g,M=ft=>m===void 0?g:g===void 0||Math.abs(m-ft)<Math.abs(g-ft)?m:g;let O=r*e;const R=w+O,z=d===void 0?R:d(R);z!==R&&(O=z-w);const N=ft=>-O*Math.exp(-ft/a),D=ft=>z+N(ft),V=ft=>{const vt=N(ft),lt=D(ft);E.done=Math.abs(vt)<=_,E.value=E.done?z:lt};let F,K;const Q=ft=>{C(E.value)&&(F=ft,K=Vh({keyframes:[E.value,M(E.value)],velocity:Zw(D,ft,E.value),damping:l,stiffness:h,restDelta:_,restSpeed:b}))};return Q(0),{calculatedDuration:null,next:ft=>{let vt=!1;return!K&&F===void 0&&(vt=!0,V(ft),Q(ft)),F!==void 0&&ft>=F?K.next(ft-F):(!vt&&V(ft),E)}}}function vj(n,e,r){const a=[],l=r||gr.mix||$w,h=n.length-1;for(let d=0;d<h;d++){let m=l(n[d],n[d+1]);if(e){const g=Array.isArray(e)?e[d]||ei:e;m=wu(g,m)}a.push(m)}return a}function _j(n,e,{clamp:r=!0,ease:a,mixer:l}={}){const h=n.length;if(Jm(h===e.length),h===1)return()=>e[0];if(h===2&&e[0]===e[1])return()=>e[1];const d=n[0]===n[1];n[0]>n[h-1]&&(n=[...n].reverse(),e=[...e].reverse());const m=vj(e,a,l),g=m.length,_=b=>{if(d&&b<n[0])return e[0];let w=0;if(g>1)for(;w<n.length-2&&!(b<n[w+1]);w++);const E=du(n[w],n[w+1],b);return m[w](E)};return r?b=>_(mr(n[0],n[h-1],b)):_}function xj(n,e){const r=n[n.length-1];for(let a=1;a<=e;a++){const l=du(0,e,a);n.push(be(r,1,l))}}function bj(n){const e=[0];return xj(e,n.length-1),e}function wj(n,e){return n.map(r=>r*e)}function Sj(n,e){return n.map(()=>e||Pw).splice(0,n.length-1)}function su({duration:n=300,keyframes:e,times:r,ease:a="easeInOut"}){const l=PA(a)?a.map(x_):x_(a),h={done:!1,value:e[0]},d=wj(r&&r.length===e.length?r:bj(e),n),m=_j(d,e,{ease:Array.isArray(l)?l:Sj(e,l)});return{calculatedDuration:n,next:g=>(h.value=m(g),h.done=g>=n,h)}}const Tj=n=>n!==null;function lg(n,{repeat:e,repeatType:r="loop"},a,l=1){const h=n.filter(Tj),m=l<0||e&&r!=="loop"&&e%2===1?0:h.length-1;return!m||a===void 0?h[m]:a}const Ej={decay:um,inertia:um,tween:su,keyframes:su,spring:Vh};function Gw(n){typeof n.type=="string"&&(n.type=Ej[n.type])}class ug{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Cj=n=>n/100;class cg extends ug{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==On.now()&&this.tick(On.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Gw(e);const{type:r=su,repeat:a=0,repeatDelay:l=0,repeatType:h,velocity:d=0}=e;let{keyframes:m}=e;const g=r||su;g!==su&&typeof m[0]!="number"&&(this.mixKeyframes=wu(Cj,$w(m[0],m[1])),m=[0,100]);const _=g({...e,keyframes:m});h==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...m].reverse(),velocity:-d})),_.calculatedDuration===null&&(_.calculatedDuration=og(_));const{calculatedDuration:b}=_;this.calculatedDuration=b,this.resolvedDuration=b+l,this.totalDuration=this.resolvedDuration*(a+1)-l,this.generator=_}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:a,totalDuration:l,mixKeyframes:h,mirroredGenerator:d,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return a.next(0);const{delay:_=0,keyframes:b,repeat:w,repeatType:E,repeatDelay:C,type:M,onUpdate:O,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const z=this.currentTime-_*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?z<0:z>l;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let D=this.currentTime,V=a;if(w){const ft=Math.min(this.currentTime,l)/m;let vt=Math.floor(ft),lt=ft%1;!lt&&ft>=1&&(lt=1),lt===1&&vt--,vt=Math.min(vt,w+1),!!(vt%2)&&(E==="reverse"?(lt=1-lt,C&&(lt-=C/m)):E==="mirror"&&(V=d)),D=mr(0,1,lt)*m}const F=N?{done:!1,value:b[0]}:V.next(D);h&&(F.value=h(F.value));let{done:K}=F;!N&&g!==null&&(K=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return Q&&M!==um&&(F.value=lg(b,this.options,R,this.speed)),O&&O(F.value),Q&&this.finish(),F}then(e,r){return this.finished.then(e,r)}get duration(){return ti(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(this.currentTime)}set time(e){e=Ni(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(On.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=uj,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(On.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Aj(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ha=n=>n*180/Math.PI,cm=n=>{const e=ha(Math.atan2(n[1],n[0]));return hm(e)},jj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:cm,rotateZ:cm,skewX:n=>ha(Math.atan(n[1])),skewY:n=>ha(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},hm=n=>(n=n%360,n<0&&(n+=360),n),C_=cm,A_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),j_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Rj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:A_,scaleY:j_,scale:n=>(A_(n)+j_(n))/2,rotateX:n=>hm(ha(Math.atan2(n[6],n[5]))),rotateY:n=>hm(ha(Math.atan2(-n[2],n[0]))),rotateZ:C_,rotate:C_,skewX:n=>ha(Math.atan(n[4])),skewY:n=>ha(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function dm(n){return n.includes("scale")?1:0}function fm(n,e){if(!n||n==="none")return dm(e);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,l;if(r)a=Rj,l=r;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=jj,l=m}if(!l)return dm(e);const h=a[e],d=l[1].split(",").map(kj);return typeof h=="function"?h(d):d[h]}const Oj=(n,e)=>{const{transform:r="none"}=getComputedStyle(n);return fm(r,e)};function kj(n){return parseFloat(n.trim())}const zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bo=new Set(zo),R_=n=>n===Do||n===Mt,Mj=new Set(["x","y","z"]),Lj=zo.filter(n=>!Mj.has(n));function Pj(n){const e=[];return Lj.forEach(r=>{const a=n.getValue(r);a!==void 0&&(e.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),e}const da={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>fm(e,"x"),y:(n,{transform:e})=>fm(e,"y")};da.translateX=da.x;da.translateY=da.y;const fa=new Set;let pm=!1,mm=!1,gm=!1;function Kw(){if(mm){const n=Array.from(fa).filter(a=>a.needsMeasurement),e=new Set(n.map(a=>a.element)),r=new Map;e.forEach(a=>{const l=Pj(a);l.length&&(r.set(a,l),a.render())}),n.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const l=r.get(a);l&&l.forEach(([h,d])=>{a.getValue(h)?.set(d)})}),n.forEach(a=>a.measureEndState()),n.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}mm=!1,pm=!1,fa.forEach(n=>n.complete(gm)),fa.clear()}function Yw(){fa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(mm=!0)})}function Dj(){gm=!0,Yw(),Kw(),gm=!1}class hg{constructor(e,r,a,l,h,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=a,this.motionValue=l,this.element=h,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(fa.add(this),pm||(pm=!0,ye.read(Yw),ye.resolveKeyframes(Kw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:a,motionValue:l}=this;if(e[0]===null){const h=l?.get(),d=e[e.length-1];if(h!==void 0)e[0]=h;else if(a&&r){const m=a.readValue(r,d);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=d),l&&h===void 0&&l.set(e[0])}Aj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fa.delete(this)}cancel(){this.state==="scheduled"&&(fa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zj=n=>n.startsWith("--");function Bj(n,e,r){zj(e)?n.style.setProperty(e,r):n.style[e]=r}const Nj=Qm(()=>window.ScrollTimeline!==void 0),Uj={};function Ij(n,e){const r=Qm(n);return()=>Uj[e]??r()}const Xw=Ij(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nu=([n,e,r,a])=>`cubic-bezier(${n}, ${e}, ${r}, ${a})`,O_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nu([0,.65,.55,1]),circOut:nu([.55,0,1,.45]),backIn:nu([.31,.01,.66,-.59]),backOut:nu([.33,1.53,.69,.99])};function Jw(n,e){if(n)return typeof n=="function"?Xw()?Ww(n,e):"ease-out":Dw(n)?nu(n):Array.isArray(n)?n.map(r=>Jw(r,e)||O_.easeOut):O_[n]}function Vj(n,e,r,{delay:a=0,duration:l=300,repeat:h=0,repeatType:d="loop",ease:m="easeOut",times:g}={},_=void 0){const b={[e]:r};g&&(b.offset=g);const w=Jw(m,l);Array.isArray(w)&&(b.easing=w);const E={delay:a,duration:l,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:h+1,direction:d==="reverse"?"alternate":"normal"};return _&&(E.pseudoElement=_),n.animate(b,E)}function Qw(n){return typeof n=="function"&&"applyToOptions"in n}function Hj({type:n,...e}){return Qw(n)&&Xw()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class qj extends ug{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:a,keyframes:l,pseudoElement:h,allowFlatten:d=!1,finalKeyframe:m,onComplete:g}=e;this.isPseudoElement=!!h,this.allowFlatten=d,this.options=e,Jm(typeof e.type!="string");const _=Hj(e);this.animation=Vj(r,a,l,_,h),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const b=lg(l,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(b):Bj(r,a,b),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ti(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ni(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Nj()?(this.animation.timeline=e,ei):r(this)}}const t1={anticipate:kw,backInOut:Ow,circInOut:Lw};function Fj(n){return n in t1}function $j(n){typeof n.ease=="string"&&Fj(n.ease)&&(n.ease=t1[n.ease])}const k_=10;class Wj extends qj{constructor(e){$j(e),Gw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:a,onComplete:l,element:h,...d}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const m=new cg({...d,autoplay:!1}),g=Ni(this.finishedTime??this.time);r.setWithVelocity(m.sample(g-k_).value,m.sample(g).value,k_),m.stop()}}const M_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(os.test(n)||n==="0")&&!n.startsWith("url("));function Zj(n){const e=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==e)return!0}function Gj(n,e,r,a){const l=n[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const h=n[n.length-1],d=M_(l,e),m=M_(h,e);return!d||!m?!1:Zj(n)||(r==="spring"||Qw(r))&&a}function ym(n){n.duration=0,n.type="keyframes"}const Kj=new Set(["opacity","clipPath","filter","transform"]),Yj=Qm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Xj(n){const{motionValue:e,name:r,repeatDelay:a,repeatType:l,damping:h,type:d}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:_}=e.owner.getProps();return Yj()&&r&&Kj.has(r)&&(r!=="transform"||!_)&&!g&&!a&&l!=="mirror"&&h!==0&&d!=="inertia"}const Jj=40;class Qj extends ug{constructor({autoplay:e=!0,delay:r=0,type:a="keyframes",repeat:l=0,repeatDelay:h=0,repeatType:d="loop",keyframes:m,name:g,motionValue:_,element:b,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=On.now();const E={autoplay:e,delay:r,type:a,repeat:l,repeatDelay:h,repeatType:d,name:g,motionValue:_,element:b,...w},C=b?.KeyframeResolver||hg;this.keyframeResolver=new C(m,(M,O,R)=>this.onKeyframesResolved(M,O,E,!R),g,_,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,a,l){this.keyframeResolver=void 0;const{name:h,type:d,velocity:m,delay:g,isHandoff:_,onUpdate:b}=a;this.resolvedAt=On.now(),Gj(e,h,d,m)||((gr.instantAnimations||!g)&&b?.(lg(e,a,r)),e[0]=e[e.length-1],ym(a),a.repeat=0);const E={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>Jj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:e},C=!_&&Xj(E)?new Wj({...E,element:E.motionValue.owner.current}):new cg(E);C.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Dj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const tR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eR(n){const e=tR.exec(n);if(!e)return[,];const[,r,a,l]=e;return[`--${r??a}`,l]}function e1(n,e,r=1){const[a,l]=eR(n);if(!a)return;const h=window.getComputedStyle(e).getPropertyValue(a);if(h){const d=h.trim();return ww(d)?parseFloat(d):d}return ig(l)?e1(l,e,r+1):l}function dg(n,e){return n?.[e]??n?.default??n}const n1=new Set(["width","height","top","left","right","bottom",...zo]),nR={test:n=>n==="auto",parse:n=>n},i1=n=>e=>e.test(n),r1=[Do,Mt,Ui,ns,ZA,WA,nR],L_=n=>r1.find(i1(n));function iR(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Tw(n):!0}const rR=new Set(["brightness","contrast","saturate","opacity"]);function sR(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[a]=r.match(rg)||[];if(!a)return n;const l=r.replace(a,"");let h=rR.has(e)?1:0;return a!==r&&(h*=100),e+"("+h+l+")"}const aR=/\b([a-z-]*)\(.*?\)/gu,vm={...os,getAnimatableNone:n=>{const e=n.match(aR);return e?e.map(sR).join(" "):n}},P_={...Do,transform:Math.round},oR={rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:ph,scaleX:ph,scaleY:ph,scaleZ:ph,skew:ns,skewX:ns,skewY:ns,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:fu,originX:b_,originY:b_,originZ:Mt},fg={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,backgroundPositionX:Mt,backgroundPositionY:Mt,...oR,zIndex:P_,fillOpacity:fu,strokeOpacity:fu,numOctaves:P_},lR={...fg,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:vm,WebkitFilter:vm},s1=n=>lR[n];function a1(n,e){let r=s1(n);return r!==vm&&(r=os),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const uR=new Set(["auto","none","0"]);function cR(n,e,r){let a=0,l;for(;a<n.length&&!l;){const h=n[a];typeof h=="string"&&!uR.has(h)&&pu(h).values.length&&(l=n[a]),a++}if(l&&r)for(const h of e)n[h]=a1(r,l)}class hR extends hg{constructor(e,r,a,l,h){super(e,r,a,l,h,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let _=e[g];if(typeof _=="string"&&(_=_.trim(),ig(_))){const b=e1(_,r.current);b!==void 0&&(e[g]=b),g===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!n1.has(a)||e.length!==2)return;const[l,h]=e,d=L_(l),m=L_(h);if(d!==m)if(R_(d)&&R_(m))for(let g=0;g<e.length;g++){const _=e[g];typeof _=="string"&&(e[g]=parseFloat(_))}else da[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,a=[];for(let l=0;l<e.length;l++)(e[l]===null||iR(e[l]))&&a.push(l);a.length&&cR(e,a,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=da[a](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const l=r[r.length-1];l!==void 0&&e.getValue(a,l).jump(l,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const l=e.getValue(r);l&&l.jump(this.measuredOrigin,!1);const h=a.length-1,d=a[h];a[h]=da[r](e.measureViewportBox(),window.getComputedStyle(e.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function dR(n,e,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const l=r?.[n]??a.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}const o1=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function l1(n){return Sw(n)&&"offsetHeight"in n}const D_=30,fR=n=>!isNaN(parseFloat(n));class pR{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const l=On.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=On.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new tg);const a=this.events[e].add(r);return e==="change"?()=>{a(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>D_)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,D_);return Ew(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ao(n,e){return new pR(n,e)}const{schedule:pg}=zw(queueMicrotask,!1),yi={x:!1,y:!1};function u1(){return yi.x||yi.y}function mR(n){return n==="x"||n==="y"?yi[n]?null:(yi[n]=!0,()=>{yi[n]=!1}):yi.x||yi.y?null:(yi.x=yi.y=!0,()=>{yi.x=yi.y=!1})}function c1(n,e){const r=dR(n),a=new AbortController,l={passive:!0,...e,signal:a.signal};return[r,l,()=>a.abort()]}function z_(n){return!(n.pointerType==="touch"||u1())}function gR(n,e,r={}){const[a,l,h]=c1(n,r),d=m=>{if(!z_(m))return;const{target:g}=m,_=e(g,m);if(typeof _!="function"||!g)return;const b=w=>{z_(w)&&(_(w),g.removeEventListener("pointerleave",b))};g.addEventListener("pointerleave",b,l)};return a.forEach(m=>{m.addEventListener("pointerenter",d,l)}),h}const h1=(n,e)=>e?n===e?!0:h1(n,e.parentElement):!1,mg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,yR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vR(n){return yR.has(n.tagName)||n.tabIndex!==-1}const Eh=new WeakSet;function B_(n){return e=>{e.key==="Enter"&&n(e)}}function Rp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _R=(n,e)=>{const r=n.currentTarget;if(!r)return;const a=B_(()=>{if(Eh.has(r))return;Rp(r,"down");const l=B_(()=>{Rp(r,"up")}),h=()=>Rp(r,"cancel");r.addEventListener("keyup",l,e),r.addEventListener("blur",h,e)});r.addEventListener("keydown",a,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),e)};function N_(n){return mg(n)&&!u1()}function xR(n,e,r={}){const[a,l,h]=c1(n,r),d=m=>{const g=m.currentTarget;if(!N_(m))return;Eh.add(g);const _=e(g,m),b=(C,M)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),Eh.has(g)&&Eh.delete(g),N_(C)&&typeof _=="function"&&_(C,{success:M})},w=C=>{b(C,g===window||g===document||r.useGlobalTarget||h1(g,C.target))},E=C=>{b(C,!1)};window.addEventListener("pointerup",w,l),window.addEventListener("pointercancel",E,l)};return a.forEach(m=>{(r.useGlobalTarget?window:m).addEventListener("pointerdown",d,l),l1(m)&&(m.addEventListener("focus",_=>_R(_,l)),!vR(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),h}function d1(n){return Sw(n)&&"ownerSVGElement"in n}function bR(n){return d1(n)&&n.tagName==="svg"}const ln=n=>!!(n&&n.getVelocity),wR=[...r1,Ne,os],SR=n=>wR.find(i1(n)),gg=j.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function U_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function TR(...n){return e=>{let r=!1;const a=n.map(l=>{const h=U_(l,e);return!r&&typeof h=="function"&&(r=!0),h});if(r)return()=>{for(let l=0;l<a.length;l++){const h=a[l];typeof h=="function"?h():U_(n[l],null)}}}}function ER(...n){return j.useCallback(TR(...n),n)}class CR extends j.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const a=r.offsetParent,l=l1(a)&&a.offsetWidth||0,h=this.props.sizeRef.current;h.height=r.offsetHeight||0,h.width=r.offsetWidth||0,h.top=r.offsetTop,h.left=r.offsetLeft,h.right=l-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AR({children:n,isPresent:e,anchorX:r,root:a}){const l=j.useId(),h=j.useRef(null),d=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=j.useContext(gg),g=ER(h,n?.ref);return j.useInsertionEffect(()=>{const{width:_,height:b,top:w,left:E,right:C}=d.current;if(e||!h.current||!_||!b)return;const M=r==="left"?`left: ${E}`:`right: ${C}`;h.current.dataset.motionPopId=l;const O=document.createElement("style");m&&(O.nonce=m);const R=a??document.head;return R.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${b}px !important;
            ${M}px !important;
            top: ${w}px !important;
          }
        `),()=>{R.contains(O)&&R.removeChild(O)}},[e]),y.jsx(CR,{isPresent:e,childRef:h,sizeRef:d,children:j.cloneElement(n,{ref:g})})}const jR=({children:n,initial:e,isPresent:r,onExitComplete:a,custom:l,presenceAffectsLayout:h,mode:d,anchorX:m,root:g})=>{const _=Gm(RR),b=j.useId();let w=!0,E=j.useMemo(()=>(w=!1,{id:b,initial:e,isPresent:r,custom:l,onExitComplete:C=>{_.set(C,!0);for(const M of _.values())if(!M)return;a&&a()},register:C=>(_.set(C,!1),()=>_.delete(C))}),[r,_,a]);return h&&w&&(E={...E}),j.useMemo(()=>{_.forEach((C,M)=>_.set(M,!1))},[r]),j.useEffect(()=>{!r&&!_.size&&a&&a()},[r]),d==="popLayout"&&(n=y.jsx(AR,{isPresent:r,anchorX:m,root:g,children:n})),y.jsx(Qh.Provider,{value:E,children:n})};function RR(){return new Map}function f1(n=!0){const e=j.useContext(Qh);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:l}=e,h=j.useId();j.useEffect(()=>{if(n)return l(h)},[n]);const d=j.useCallback(()=>n&&a&&a(h),[h,a,n]);return!r&&a?[!1,d]:[!0]}const mh=n=>n.key||"";function I_(n){const e=[];return j.Children.forEach(n,r=>{j.isValidElement(r)&&e.push(r)}),e}const yg=({children:n,custom:e,initial:r=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:h="sync",propagate:d=!1,anchorX:m="left",root:g})=>{const[_,b]=f1(d),w=j.useMemo(()=>I_(n),[n]),E=d&&!_?[]:w.map(mh),C=j.useRef(!0),M=j.useRef(w),O=Gm(()=>new Map),[R,z]=j.useState(w),[N,D]=j.useState(w);bw(()=>{C.current=!1,M.current=w;for(let K=0;K<N.length;K++){const Q=mh(N[K]);E.includes(Q)?O.delete(Q):O.get(Q)!==!0&&O.set(Q,!1)}},[N,E.length,E.join("-")]);const V=[];if(w!==R){let K=[...w];for(let Q=0;Q<N.length;Q++){const ft=N[Q],vt=mh(ft);E.includes(vt)||(K.splice(Q,0,ft),V.push(ft))}return h==="wait"&&V.length&&(K=V),D(I_(K)),z(w),null}const{forceRender:F}=j.useContext(Zm);return y.jsx(y.Fragment,{children:N.map(K=>{const Q=mh(K),ft=d&&!_?!1:w===N||E.includes(Q),vt=()=>{if(O.has(Q))O.set(Q,!0);else return;let lt=!0;O.forEach(dt=>{dt||(lt=!1)}),lt&&(F?.(),D(M.current),d&&b?.(),a&&a())};return y.jsx(jR,{isPresent:ft,initial:!C.current||r?void 0:!1,custom:e,presenceAffectsLayout:l,mode:h,root:g,onExitComplete:ft?void 0:vt,anchorX:m,children:K},Q)})})},p1=j.createContext({strict:!1}),V_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const n in V_)jo[n]={isEnabled:e=>V_[n].some(r=>!!e[r])};function OR(n){for(const e in n)jo[e]={...jo[e],...n[e]}}const kR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||kR.has(n)}let m1=n=>!Hh(n);function MR(n){typeof n=="function"&&(m1=e=>e.startsWith("on")?!Hh(e):n(e))}try{MR(require("@emotion/is-prop-valid").default)}catch{}function LR(n,e,r){const a={};for(const l in n)l==="values"&&typeof n.values=="object"||(m1(l)||r===!0&&Hh(l)||!e&&!Hh(l)||n.draggable&&l.startsWith("onDrag"))&&(a[l]=n[l]);return a}const td=j.createContext({});function ed(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function mu(n){return typeof n=="string"||Array.isArray(n)}const vg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_g=["initial",...vg];function nd(n){return ed(n.animate)||_g.some(e=>mu(n[e]))}function g1(n){return!!(nd(n)||n.variants)}function PR(n,e){if(nd(n)){const{initial:r,animate:a}=n;return{initial:r===!1||mu(r)?r:void 0,animate:mu(a)?a:void 0}}return n.inherit!==!1?e:{}}function DR(n){const{initial:e,animate:r}=PR(n,j.useContext(td));return j.useMemo(()=>({initial:e,animate:r}),[H_(e),H_(r)])}function H_(n){return Array.isArray(n)?n.join(" "):n}function q_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Yl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Mt.test(n))n=parseFloat(n);else return n;const r=q_(n,e.target.x),a=q_(n,e.target.y);return`${r}% ${a}%`}},zR={correct:(n,{treeScale:e,projectionDelta:r})=>{const a=n,l=os.parse(n);if(l.length>5)return a;const h=os.createTransformer(n),d=typeof l[0]!="number"?1:0,m=r.x.scale*e.x,g=r.y.scale*e.y;l[0+d]/=m,l[1+d]/=g;const _=be(m,g,.5);return typeof l[2+d]=="number"&&(l[2+d]/=_),typeof l[3+d]=="number"&&(l[3+d]/=_),h(l)}},_m={borderRadius:{...Yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yl,borderTopRightRadius:Yl,borderBottomLeftRadius:Yl,borderBottomRightRadius:Yl,boxShadow:zR};function y1(n,{layout:e,layoutId:r}){return Bo.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!_m[n]||n==="opacity")}const BR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NR=zo.length;function UR(n,e,r){let a="",l=!0;for(let h=0;h<NR;h++){const d=zo[h],m=n[d];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(d.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||r){const _=o1(m,fg[d]);if(!g){l=!1;const b=BR[d]||d;a+=`${b}(${_}) `}r&&(e[d]=_)}}return a=a.trim(),r?a=r(e,l?"":a):l&&(a="none"),a}function xg(n,e,r){const{style:a,vars:l,transformOrigin:h}=n;let d=!1,m=!1;for(const g in e){const _=e[g];if(Bo.has(g)){d=!0;continue}else if(Nw(g)){l[g]=_;continue}else{const b=o1(_,fg[g]);g.startsWith("origin")?(m=!0,h[g]=b):a[g]=b}}if(e.transform||(d||r?a.transform=UR(e,n.transform,r):a.transform&&(a.transform="none")),m){const{originX:g="50%",originY:_="50%",originZ:b=0}=h;a.transformOrigin=`${g} ${_} ${b}`}}const bg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function v1(n,e,r){for(const a in e)!ln(e[a])&&!y1(a,r)&&(n[a]=e[a])}function IR({transformTemplate:n},e){return j.useMemo(()=>{const r=bg();return xg(r,e,n),Object.assign({},r.vars,r.style)},[e])}function VR(n,e){const r=n.style||{},a={};return v1(a,r,n),Object.assign(a,IR(n,e)),a}function HR(n,e){const r={},a=VR(n,e);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=a,r}const qR={offset:"stroke-dashoffset",array:"stroke-dasharray"},FR={offset:"strokeDashoffset",array:"strokeDasharray"};function $R(n,e,r=1,a=0,l=!0){n.pathLength=1;const h=l?qR:FR;n[h.offset]=Mt.transform(-a);const d=Mt.transform(e),m=Mt.transform(r);n[h.array]=`${d} ${m}`}function _1(n,{attrX:e,attrY:r,attrScale:a,pathLength:l,pathSpacing:h=1,pathOffset:d=0,...m},g,_,b){if(xg(n,m,_),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:E}=n;w.transform&&(E.transform=w.transform,delete w.transform),(E.transform||w.transformOrigin)&&(E.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),E.transform&&(E.transformBox=b?.transformBox??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),a!==void 0&&(w.scale=a),l!==void 0&&$R(w,l,h,d,!1)}const x1=()=>({...bg(),attrs:{}}),b1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function WR(n,e,r,a){const l=j.useMemo(()=>{const h=x1();return _1(h,e,b1(a),n.transformTemplate,n.style),{...h.attrs,style:{...h.style}}},[e]);if(n.style){const h={};v1(h,n.style,n),l.style={...h,...l.style}}return l}const ZR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wg(n){return typeof n!="string"||n.includes("-")?!1:!!(ZR.indexOf(n)>-1||/[A-Z]/u.test(n))}function GR(n,e,r,{latestValues:a},l,h=!1){const m=(wg(n)?WR:HR)(e,a,l,n),g=LR(e,typeof n=="string",h),_=n!==j.Fragment?{...g,...m,ref:r}:{},{children:b}=e,w=j.useMemo(()=>ln(b)?b.get():b,[b]);return j.createElement(n,{..._,children:w})}function F_(n){const e=[{},{}];return n?.values.forEach((r,a)=>{e[0][a]=r.get(),e[1][a]=r.getVelocity()}),e}function Sg(n,e,r,a){if(typeof e=="function"){const[l,h]=F_(a);e=e(r!==void 0?r:n.custom,l,h)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[l,h]=F_(a);e=e(r!==void 0?r:n.custom,l,h)}return e}function Ch(n){return ln(n)?n.get():n}function KR({scrapeMotionValuesFromProps:n,createRenderState:e},r,a,l){return{latestValues:YR(r,a,l,n),renderState:e()}}function YR(n,e,r,a){const l={},h=a(n,{});for(const E in h)l[E]=Ch(h[E]);let{initial:d,animate:m}=n;const g=nd(n),_=g1(n);e&&_&&!g&&n.inherit!==!1&&(d===void 0&&(d=e.initial),m===void 0&&(m=e.animate));let b=r?r.initial===!1:!1;b=b||d===!1;const w=b?m:d;if(w&&typeof w!="boolean"&&!ed(w)){const E=Array.isArray(w)?w:[w];for(let C=0;C<E.length;C++){const M=Sg(n,E[C]);if(M){const{transitionEnd:O,transition:R,...z}=M;for(const N in z){let D=z[N];if(Array.isArray(D)){const V=b?D.length-1:0;D=D[V]}D!==null&&(l[N]=D)}for(const N in O)l[N]=O[N]}}}return l}const w1=n=>(e,r)=>{const a=j.useContext(td),l=j.useContext(Qh),h=()=>KR(n,e,a,l);return r?h():Gm(h)};function Tg(n,e,r){const{style:a}=n,l={};for(const h in a)(ln(a[h])||e.style&&ln(e.style[h])||y1(h,n)||r?.getValue(h)?.liveStyle!==void 0)&&(l[h]=a[h]);return l}const XR=w1({scrapeMotionValuesFromProps:Tg,createRenderState:bg});function S1(n,e,r){const a=Tg(n,e,r);for(const l in n)if(ln(n[l])||ln(e[l])){const h=zo.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;a[h]=n[l]}return a}const JR=w1({scrapeMotionValuesFromProps:S1,createRenderState:x1}),QR=Symbol.for("motionComponentSymbol");function vo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function tO(n,e,r){return j.useCallback(a=>{a&&n.onMount&&n.onMount(a),e&&(a?e.mount(a):e.unmount()),r&&(typeof r=="function"?r(a):vo(r)&&(r.current=a))},[e])}const Eg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eO="framerAppearId",T1="data-"+Eg(eO),E1=j.createContext({});function nO(n,e,r,a,l){const{visualElement:h}=j.useContext(td),d=j.useContext(p1),m=j.useContext(Qh),g=j.useContext(gg).reducedMotion,_=j.useRef(null);a=a||d.renderer,!_.current&&a&&(_.current=a(n,{visualState:e,parent:h,props:r,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const b=_.current,w=j.useContext(E1);b&&!b.projection&&l&&(b.type==="html"||b.type==="svg")&&iO(_.current,r,l,w);const E=j.useRef(!1);j.useInsertionEffect(()=>{b&&E.current&&b.update(r,m)});const C=r[T1],M=j.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return bw(()=>{b&&(E.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),M.current&&b.animationState&&b.animationState.animateChanges())}),j.useEffect(()=>{b&&(!M.current&&b.animationState&&b.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),M.current=!1),b.enteringChildren=void 0)}),b}function iO(n,e,r,a){const{layoutId:l,layout:h,drag:d,dragConstraints:m,layoutScroll:g,layoutRoot:_,layoutCrossfade:b}=e;n.projection=new r(n.latestValues,e["data-framer-portal-id"]?void 0:C1(n.parent)),n.projection.setOptions({layoutId:l,layout:h,alwaysMeasureLayout:!!d||m&&vo(m),visualElement:n,animationType:typeof h=="string"?h:"both",initialPromotionConfig:a,crossfade:b,layoutScroll:g,layoutRoot:_})}function C1(n){if(n)return n.options.allowProjection!==!1?n.projection:C1(n.parent)}function Op(n,{forwardMotionProps:e=!1}={},r,a){r&&OR(r);const l=wg(n)?JR:XR;function h(m,g){let _;const b={...j.useContext(gg),...m,layoutId:rO(m)},{isStatic:w}=b,E=DR(m),C=l(m,w);if(!w&&Km){sO();const M=aO(b);_=M.MeasureLayout,E.visualElement=nO(n,C,b,a,M.ProjectionNode)}return y.jsxs(td.Provider,{value:E,children:[_&&E.visualElement?y.jsx(_,{visualElement:E.visualElement,...b}):null,GR(n,m,tO(C,E.visualElement,g),C,w,e)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=j.forwardRef(h);return d[QR]=n,d}function rO({layoutId:n}){const e=j.useContext(Zm).id;return e&&n!==void 0?e+"-"+n:n}function sO(n,e){j.useContext(p1).strict}function aO(n){const{drag:e,layout:r}=jo;if(!e&&!r)return{};const a={...e,...r};return{MeasureLayout:e?.isEnabled(n)||r?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function oO(n,e){if(typeof Proxy>"u")return Op;const r=new Map,a=(h,d)=>Op(h,d,n,e),l=(h,d)=>a(h,d);return new Proxy(l,{get:(h,d)=>d==="create"?a:(r.has(d)||r.set(d,Op(d,void 0,n,e)),r.get(d))})}function A1({top:n,left:e,right:r,bottom:a}){return{x:{min:e,max:r},y:{min:n,max:a}}}function lO({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function uO(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),a=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function kp(n){return n===void 0||n===1}function xm({scale:n,scaleX:e,scaleY:r}){return!kp(n)||!kp(e)||!kp(r)}function aa(n){return xm(n)||j1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function j1(n){return $_(n.x)||$_(n.y)}function $_(n){return n&&n!=="0%"}function qh(n,e,r){const a=n-r,l=e*a;return r+l}function W_(n,e,r,a,l){return l!==void 0&&(n=qh(n,l,a)),qh(n,r,a)+e}function bm(n,e=0,r=1,a,l){n.min=W_(n.min,e,r,a,l),n.max=W_(n.max,e,r,a,l)}function R1(n,{x:e,y:r}){bm(n.x,e.translate,e.scale,e.originPoint),bm(n.y,r.translate,r.scale,r.originPoint)}const Z_=.999999999999,G_=1.0000000000001;function cO(n,e,r,a=!1){const l=r.length;if(!l)return;e.x=e.y=1;let h,d;for(let m=0;m<l;m++){h=r[m],d=h.projectionDelta;const{visualElement:g}=h.options;g&&g.props.style&&g.props.style.display==="contents"||(a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&xo(n,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,R1(n,d)),a&&aa(h.latestValues)&&xo(n,h.latestValues))}e.x<G_&&e.x>Z_&&(e.x=1),e.y<G_&&e.y>Z_&&(e.y=1)}function _o(n,e){n.min=n.min+e,n.max=n.max+e}function K_(n,e,r,a,l=.5){const h=be(n.min,n.max,l);bm(n,e,r,h,a)}function xo(n,e){K_(n.x,e.x,e.scaleX,e.scale,e.originX),K_(n.y,e.y,e.scaleY,e.scale,e.originY)}function O1(n,e){return A1(uO(n.getBoundingClientRect(),e))}function hO(n,e,r){const a=O1(n,r),{scroll:l}=e;return l&&(_o(a.x,l.offset.x),_o(a.y,l.offset.y)),a}const Y_=()=>({translate:0,scale:1,origin:0,originPoint:0}),bo=()=>({x:Y_(),y:Y_()}),X_=()=>({min:0,max:0}),He=()=>({x:X_(),y:X_()}),wm={current:null},k1={current:!1};function dO(){if(k1.current=!0,!!Km)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>wm.current=n.matches;n.addEventListener("change",e),e()}else wm.current=!1}const fO=new WeakMap;function pO(n,e,r){for(const a in e){const l=e[a],h=r[a];if(ln(l))n.addValue(a,l);else if(ln(h))n.addValue(a,Ao(l,{owner:n}));else if(h!==l)if(n.hasValue(a)){const d=n.getValue(a);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=n.getStaticValue(a);n.addValue(a,Ao(d!==void 0?d:l,{owner:n}))}}for(const a in r)e[a]===void 0&&n.removeValue(a);return e}const J_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mO{scrapeMotionValuesFromProps(e,r,a){return{}}constructor({parent:e,props:r,presenceContext:a,reducedMotionConfig:l,blockInitialAnimation:h,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=On.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ye.render(this.render,!1,!0))};const{latestValues:g,renderState:_}=d;this.latestValues=g,this.baseTarget={...g},this.initialValues=r.initial?{...g}:{},this.renderState=_,this.parent=e,this.props=r,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!h,this.isControllingVariants=nd(r),this.isVariantNode=g1(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const E in w){const C=w[E];g[E]!==void 0&&ln(C)&&C.set(g[E])}}mount(e){this.current=e,fO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),k1.current||dO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),as(this.notifyUpdate),as(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=Bo.has(e);a&&this.onBindTransform&&this.onBindTransform();const l=r.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&ye.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{l(),h&&h(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jo){const r=jo[e];if(!r)continue;const{isEnabled:a,Feature:l}=r;if(!this.features[e]&&l&&a(this.props)&&(this.features[e]=new l(this)),this.features[e]){const h=this.features[e];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<J_.length;a++){const l=J_[a];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const h="on"+l,d=e[h];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=pO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const a=this.values.get(e);r!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&r!==void 0&&(a=Ao(r===null?void 0:r,{owner:this}),this.addValue(e,a)),a}readValue(e,r){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(ww(a)||Tw(a))?a=parseFloat(a):!SR(a)&&os.test(r)&&(a=a1(e,r)),this.setBaseTarget(e,ln(a)?a.get():a)),ln(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const h=Sg(this.props,r,this.presenceContext?.custom);h&&(a=h[e])}if(r&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!ln(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new tg),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){pg.render(this.render)}}class M1 extends mO{constructor(){super(...arguments),this.KeyframeResolver=hR}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:a}){delete r[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function L1(n,{style:e,vars:r},a,l){const h=n.style;let d;for(d in e)h[d]=e[d];l?.applyProjectionStyles(h,a);for(d in r)h.setProperty(d,r[d])}function gO(n){return window.getComputedStyle(n)}class yO extends M1{constructor(){super(...arguments),this.type="html",this.renderInstance=L1}readValueFromInstance(e,r){if(Bo.has(r))return this.projection?.isProjecting?dm(r):Oj(e,r);{const a=gO(e),l=(Nw(r)?a.getPropertyValue(r):a[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:r}){return O1(e,r)}build(e,r,a){xg(e,r,a.transformTemplate)}scrapeMotionValuesFromProps(e,r,a){return Tg(e,r,a)}}const P1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vO(n,e,r,a){L1(n,e,void 0,a);for(const l in e.attrs)n.setAttribute(P1.has(l)?l:Eg(l),e.attrs[l])}class _O extends M1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=He}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Bo.has(r)){const a=s1(r);return a&&a.default||0}return r=P1.has(r)?r:Eg(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,a){return S1(e,r,a)}build(e,r,a){_1(e,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(e,r,a,l){vO(e,r,a,l)}mount(e){this.isSVGTag=b1(e.tagName),super.mount(e)}}const xO=(n,e)=>wg(n)?new _O(e):new yO(e,{allowProjection:n!==j.Fragment});function To(n,e,r){const a=n.getProps();return Sg(a,e,r!==void 0?r:a.custom,n)}const Sm=n=>Array.isArray(n);function bO(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,Ao(r))}function wO(n){return Sm(n)?n[n.length-1]||0:n}function SO(n,e){const r=To(n,e);let{transitionEnd:a={},transition:l={},...h}=r||{};h={...h,...a};for(const d in h){const m=wO(h[d]);bO(n,d,m)}}function TO(n){return!!(ln(n)&&n.add)}function Tm(n,e){const r=n.getValue("willChange");if(TO(r))return r.add(e);if(!r&&gr.WillChange){const a=new gr.WillChange("auto");n.addValue("willChange",a),a.add(e)}}function D1(n){return n.props[T1]}const EO=n=>n!==null;function CO(n,{repeat:e,repeatType:r="loop"},a){const l=n.filter(EO),h=e&&r!=="loop"&&e%2===1?0:l.length-1;return l[h]}const AO={type:"spring",stiffness:500,damping:25,restSpeed:10},jO=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),RO={type:"keyframes",duration:.8},OO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kO=(n,{keyframes:e})=>e.length>2?RO:Bo.has(n)?n.startsWith("scale")?jO(e[1]):AO:OO;function MO({when:n,delay:e,delayChildren:r,staggerChildren:a,staggerDirection:l,repeat:h,repeatType:d,repeatDelay:m,from:g,elapsed:_,...b}){return!!Object.keys(b).length}const Cg=(n,e,r,a={},l,h)=>d=>{const m=dg(a,n)||{},g=m.delay||a.delay||0;let{elapsed:_=0}=a;_=_-Ni(g);const b={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-_,onUpdate:E=>{e.set(E),m.onUpdate&&m.onUpdate(E)},onComplete:()=>{d(),m.onComplete&&m.onComplete()},name:n,motionValue:e,element:h?void 0:l};MO(m)||Object.assign(b,kO(n,b)),b.duration&&(b.duration=Ni(b.duration)),b.repeatDelay&&(b.repeatDelay=Ni(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let w=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(ym(b),b.delay===0&&(w=!0)),(gr.instantAnimations||gr.skipAnimations)&&(w=!0,ym(b),b.delay=0),b.allowFlatten=!m.type&&!m.ease,w&&!h&&e.get()!==void 0){const E=CO(b.keyframes,m);if(E!==void 0){ye.update(()=>{b.onUpdate(E),b.onComplete()});return}}return m.isSync?new cg(b):new Qj(b)};function LO({protectedKeys:n,needsAnimating:e},r){const a=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,a}function z1(n,e,{delay:r=0,transitionOverride:a,type:l}={}){let{transition:h=n.getDefaultTransition(),transitionEnd:d,...m}=e;a&&(h=a);const g=[],_=l&&n.animationState&&n.animationState.getState()[l];for(const b in m){const w=n.getValue(b,n.latestValues[b]??null),E=m[b];if(E===void 0||_&&LO(_,b))continue;const C={delay:r,...dg(h||{},b)},M=w.get();if(M!==void 0&&!w.isAnimating&&!Array.isArray(E)&&E===M&&!C.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const z=D1(n);if(z){const N=window.MotionHandoffAnimation(z,b,ye);N!==null&&(C.startTime=N,O=!0)}}Tm(n,b),w.start(Cg(b,w,E,n.shouldReduceMotion&&n1.has(b)?{type:!1}:C,n,O));const R=w.animation;R&&g.push(R)}return d&&Promise.all(g).then(()=>{ye.update(()=>{d&&SO(n,d)})}),g}function B1(n,e,r,a=0,l=1){const h=Array.from(n).sort((_,b)=>_.sortNodePosition(b)).indexOf(e),d=n.size,m=(d-1)*a;return typeof r=="function"?r(h,d):l===1?h*a:m-h*a}function Em(n,e,r={}){const a=To(n,e,r.type==="exit"?n.presenceContext?.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(l=r.transitionOverride);const h=a?()=>Promise.all(z1(n,a,r)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:_=0,staggerChildren:b,staggerDirection:w}=l;return PO(n,e,g,_,b,w,r)}:()=>Promise.resolve(),{when:m}=l;if(m){const[g,_]=m==="beforeChildren"?[h,d]:[d,h];return g().then(()=>_())}else return Promise.all([h(),d(r.delay)])}function PO(n,e,r=0,a=0,l=0,h=1,d){const m=[];for(const g of n.variantChildren)g.notify("AnimationStart",e),m.push(Em(g,e,{...d,delay:r+(typeof a=="function"?0:a)+B1(n.variantChildren,g,a,l,h)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(m)}function DO(n,e,r={}){n.notify("AnimationStart",e);let a;if(Array.isArray(e)){const l=e.map(h=>Em(n,h,r));a=Promise.all(l)}else if(typeof e=="string")a=Em(n,e,r);else{const l=typeof e=="function"?To(n,e,r.custom):e;a=Promise.all(z1(n,l,r))}return a.then(()=>{n.notify("AnimationComplete",e)})}function N1(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let a=0;a<r;a++)if(e[a]!==n[a])return!1;return!0}const zO=_g.length;function U1(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?U1(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const e={};for(let r=0;r<zO;r++){const a=_g[r],l=n.props[a];(mu(l)||l===!1)&&(e[a]=l)}return e}const BO=[...vg].reverse(),NO=vg.length;function UO(n){return e=>Promise.all(e.map(({animation:r,options:a})=>DO(n,r,a)))}function IO(n){let e=UO(n),r=Q_(),a=!0;const l=g=>(_,b)=>{const w=To(n,b,g==="exit"?n.presenceContext?.custom:void 0);if(w){const{transition:E,transitionEnd:C,...M}=w;_={..._,...M,...C}}return _};function h(g){e=g(n)}function d(g){const{props:_}=n,b=U1(n.parent)||{},w=[],E=new Set;let C={},M=1/0;for(let R=0;R<NO;R++){const z=BO[R],N=r[z],D=_[z]!==void 0?_[z]:b[z],V=mu(D),F=z===g?N.isActive:null;F===!1&&(M=R);let K=D===b[z]&&D!==_[z]&&V;if(K&&a&&n.manuallyAnimateOnMount&&(K=!1),N.protectedKeys={...C},!N.isActive&&F===null||!D&&!N.prevProp||ed(D)||typeof D=="boolean")continue;const Q=VO(N.prevProp,D);let ft=Q||z===g&&N.isActive&&!K&&V||R>M&&V,vt=!1;const lt=Array.isArray(D)?D:[D];let dt=lt.reduce(l(z),{});F===!1&&(dt={});const{prevResolvedValues:yt={}}=N,Qt={...yt,...dt},Wt=rt=>{ft=!0,E.has(rt)&&(vt=!0,E.delete(rt)),N.needsAnimating[rt]=!0;const nt=n.getValue(rt);nt&&(nt.liveStyle=!1)};for(const rt in Qt){const nt=dt[rt],Lt=yt[rt];if(C.hasOwnProperty(rt))continue;let mt=!1;Sm(nt)&&Sm(Lt)?mt=!N1(nt,Lt):mt=nt!==Lt,mt?nt!=null?Wt(rt):E.add(rt):nt!==void 0&&E.has(rt)?Wt(rt):N.protectedKeys[rt]=!0}N.prevProp=D,N.prevResolvedValues=dt,N.isActive&&(C={...C,...dt}),a&&n.blockInitialAnimation&&(ft=!1);const ut=K&&Q;ft&&(!ut||vt)&&w.push(...lt.map(rt=>{const nt={type:z};if(typeof rt=="string"&&a&&!ut&&n.manuallyAnimateOnMount&&n.parent){const{parent:Lt}=n,mt=To(Lt,rt);if(Lt.enteringChildren&&mt){const{delayChildren:P}=mt.transition||{};nt.delay=B1(Lt.enteringChildren,n,P)}}return{animation:rt,options:nt}}))}if(E.size){const R={};if(typeof _.initial!="boolean"){const z=To(n,Array.isArray(_.initial)?_.initial[0]:_.initial);z&&z.transition&&(R.transition=z.transition)}E.forEach(z=>{const N=n.getBaseTarget(z),D=n.getValue(z);D&&(D.liveStyle=!0),R[z]=N??null}),w.push({animation:R})}let O=!!w.length;return a&&(_.initial===!1||_.initial===_.animate)&&!n.manuallyAnimateOnMount&&(O=!1),a=!1,O?e(w):Promise.resolve()}function m(g,_){if(r[g].isActive===_)return Promise.resolve();n.variantChildren?.forEach(w=>w.animationState?.setActive(g,_)),r[g].isActive=_;const b=d(g);for(const w in r)r[w].protectedKeys={};return b}return{animateChanges:d,setActive:m,setAnimateFunction:h,getState:()=>r,reset:()=>{r=Q_()}}}function VO(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!N1(e,n):!1}function na(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Q_(){return{animate:na(!0),whileInView:na(),whileHover:na(),whileTap:na(),whileDrag:na(),whileFocus:na(),exit:na()}}class us{constructor(e){this.isMounted=!1,this.node=e}update(){}}class HO extends us{constructor(e){super(e),e.animationState||(e.animationState=IO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ed(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let qO=0;class FO extends us{constructor(){super(...arguments),this.id=qO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const l=this.node.animationState.setActive("exit",!e);r&&!e&&l.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $O={animation:{Feature:HO},exit:{Feature:FO}};function gu(n,e,r,a={passive:!0}){return n.addEventListener(e,r,a),()=>n.removeEventListener(e,r)}function Eu(n){return{point:{x:n.pageX,y:n.pageY}}}const WO=n=>e=>mg(e)&&n(e,Eu(e));function au(n,e,r,a){return gu(n,e,WO(r),a)}const I1=1e-4,ZO=1-I1,GO=1+I1,V1=.01,KO=0-V1,YO=0+V1;function pn(n){return n.max-n.min}function XO(n,e,r){return Math.abs(n-e)<=r}function tx(n,e,r,a=.5){n.origin=a,n.originPoint=be(e.min,e.max,n.origin),n.scale=pn(r)/pn(e),n.translate=be(r.min,r.max,n.origin)-n.originPoint,(n.scale>=ZO&&n.scale<=GO||isNaN(n.scale))&&(n.scale=1),(n.translate>=KO&&n.translate<=YO||isNaN(n.translate))&&(n.translate=0)}function ou(n,e,r,a){tx(n.x,e.x,r.x,a?a.originX:void 0),tx(n.y,e.y,r.y,a?a.originY:void 0)}function ex(n,e,r){n.min=r.min+e.min,n.max=n.min+pn(e)}function JO(n,e,r){ex(n.x,e.x,r.x),ex(n.y,e.y,r.y)}function nx(n,e,r){n.min=e.min-r.min,n.max=n.min+pn(e)}function Fh(n,e,r){nx(n.x,e.x,r.x),nx(n.y,e.y,r.y)}function Qn(n){return[n("x"),n("y")]}const H1=({current:n})=>n?n.ownerDocument.defaultView:null,ix=(n,e)=>Math.abs(n-e);function QO(n,e){const r=ix(n.x,e.x),a=ix(n.y,e.y);return Math.sqrt(r**2+a**2)}class q1{constructor(e,r,{transformPagePoint:a,contextWindow:l=window,dragSnapToOrigin:h=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Lp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,M=QO(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!M)return;const{point:O}=E,{timestamp:R}=nn;this.history.push({...O,timestamp:R});const{onStart:z,onMove:N}=this.handlers;C||(z&&z(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Mp(C,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:M,onSessionEnd:O,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Lp(E.type==="pointercancel"?this.lastMoveEventInfo:Mp(C,this.transformPagePoint),this.history);this.startEvent&&M&&M(E,z),O&&O(E,z)},!mg(e))return;this.dragSnapToOrigin=h,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=d,this.contextWindow=l||window;const m=Eu(e),g=Mp(m,this.transformPagePoint),{point:_}=g,{timestamp:b}=nn;this.history=[{..._,timestamp:b}];const{onSessionStart:w}=r;w&&w(e,Lp(g,this.history)),this.removeListeners=wu(au(this.contextWindow,"pointermove",this.handlePointerMove),au(this.contextWindow,"pointerup",this.handlePointerUp),au(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),as(this.updatePoint)}}function Mp(n,e){return e?{point:e(n.point)}:n}function rx(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Lp({point:n},e){return{point:n,delta:rx(n,F1(e)),offset:rx(n,tk(e)),velocity:ek(e,.1)}}function tk(n){return n[0]}function F1(n){return n[n.length-1]}function ek(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,a=null;const l=F1(n);for(;r>=0&&(a=n[r],!(l.timestamp-a.timestamp>Ni(e)));)r--;if(!a)return{x:0,y:0};const h=ti(l.timestamp-a.timestamp);if(h===0)return{x:0,y:0};const d={x:(l.x-a.x)/h,y:(l.y-a.y)/h};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function nk(n,{min:e,max:r},a){return e!==void 0&&n<e?n=a?be(e,n,a.min):Math.max(n,e):r!==void 0&&n>r&&(n=a?be(r,n,a.max):Math.min(n,r)),n}function sx(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function ik(n,{top:e,left:r,bottom:a,right:l}){return{x:sx(n.x,r,l),y:sx(n.y,e,a)}}function ax(n,e){let r=e.min-n.min,a=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,a]=[a,r]),{min:r,max:a}}function rk(n,e){return{x:ax(n.x,e.x),y:ax(n.y,e.y)}}function sk(n,e){let r=.5;const a=pn(n),l=pn(e);return l>a?r=du(e.min,e.max-a,n.min):a>l&&(r=du(n.min,n.max-l,e.min)),mr(0,1,r)}function ak(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const Cm=.35;function ok(n=Cm){return n===!1?n=0:n===!0&&(n=Cm),{x:ox(n,"left","right"),y:ox(n,"top","bottom")}}function ox(n,e,r){return{min:lx(n,e),max:lx(n,r)}}function lx(n,e){return typeof n=="number"?n:n[e]||0}const lk=new WeakMap;class uk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const h=w=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Eu(w).point)},d=(w,E)=>{const{drag:C,dragPropagation:M,onDragStart:O}=this.getProps();if(C&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mR(C),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(z=>{let N=this.getAxisMotionValue(z).get()||0;if(Ui.test(N)){const{projection:D}=this.visualElement;if(D&&D.layout){const V=D.layout.layoutBox[z];V&&(N=pn(V)*(parseFloat(N)/100))}}this.originPoint[z]=N}),O&&ye.postRender(()=>O(w,E)),Tm(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},m=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:M,onDirectionLock:O,onDrag:R}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:z}=E;if(M&&this.currentDirection===null){this.currentDirection=ck(z),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",E.point,z),this.updateAxis("y",E.point,z),this.visualElement.render(),R&&R(w,E)},g=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E,this.stop(w,E),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>Qn(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new q1(e,{onSessionStart:h,onStart:d,onMove:m,onSessionEnd:g,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:a,contextWindow:H1(this.visualElement)})}stop(e,r){const a=e||this.latestPointerEvent,l=r||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!l||!a)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:m}=this.getProps();m&&ye.postRender(()=>m(a,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,a){const{drag:l}=this.getProps();if(!a||!gh(e,l,this.currentDirection))return;const h=this.getAxisMotionValue(e);let d=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(d=nk(d,this.constraints[e],this.elastic[e])),h.set(d)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;e&&vo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=ik(a.layoutBox,e):this.constraints=!1,this.elastic=ok(r),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Qn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=ak(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!vo(e))return!1;const a=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const h=hO(a,l.root,this.visualElement.getTransformPagePoint());let d=rk(l.layout.layoutBox,h);if(r){const m=r(lO(d));this.hasMutatedConstraints=!!m,m&&(d=A1(m))}return d}startAnimation(e){const{drag:r,dragMomentum:a,dragElastic:l,dragTransition:h,dragSnapToOrigin:d,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},_=Qn(b=>{if(!gh(b,r,this.currentDirection))return;let w=g&&g[b]||{};d&&(w={min:0,max:0});const E=l?200:1e6,C=l?40:1e7,M={type:"inertia",velocity:a?e[b]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...h,...w};return this.startAxisValueAnimation(b,M)});return Promise.all(_).then(m)}startAxisValueAnimation(e,r){const a=this.getAxisMotionValue(e);return Tm(this.visualElement,e),a.start(Cg(e,a,0,r,this.visualElement,!1))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),l=a[r];return l||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){Qn(r=>{const{drag:a}=this.getProps();if(!gh(r,a,this.currentDirection))return;const{projection:l}=this.visualElement,h=this.getAxisMotionValue(r);if(l&&l.layout){const{min:d,max:m}=l.layout.layoutBox[r];h.set(e[r]-be(d,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!vo(r)||!a||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Qn(d=>{const m=this.getAxisMotionValue(d);if(m&&this.constraints!==!1){const g=m.get();l[d]=sk({min:g,max:g},this.constraints[d])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Qn(d=>{if(!gh(d,e,null))return;const m=this.getAxisMotionValue(d),{min:g,max:_}=this.constraints[d];m.set(be(g,_,l[d]))})}addListeners(){if(!this.visualElement.current)return;lk.set(this.visualElement,this);const e=this.visualElement.current,r=au(e,"pointerdown",g=>{const{drag:_,dragListener:b=!0}=this.getProps();_&&b&&this.start(g)}),a=()=>{const{dragConstraints:g}=this.getProps();vo(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,h=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ye.read(a);const d=gu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:_})=>{this.isDragging&&_&&(Qn(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=g[b].translate,w.set(w.get()+g[b].translate))}),this.visualElement.render())}));return()=>{d(),r(),h(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:h=!1,dragElastic:d=Cm,dragMomentum:m=!0}=e;return{...e,drag:r,dragDirectionLock:a,dragPropagation:l,dragConstraints:h,dragElastic:d,dragMomentum:m}}}function gh(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function ck(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class hk extends us{constructor(e){super(e),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new uk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const ux=n=>(e,r)=>{n&&ye.postRender(()=>n(e,r))};class dk extends us{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(e){this.session=new q1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:H1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:a,onPanEnd:l}=this.node.getProps();return{onSessionStart:ux(e),onStart:ux(r),onMove:a,onEnd:(h,d)=>{delete this.session,l&&ye.postRender(()=>l(h,d))}}}mount(){this.removePointerDownListener=au(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Pp=!1;class fk extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:a,layoutId:l}=this.props,{projection:h}=e;h&&(r.group&&r.group.add(h),a&&a.register&&l&&a.register(h),Pp&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:a,drag:l,isPresent:h}=this.props,{projection:d}=a;return d&&(d.isPresent=h,Pp=!0,l||e.layoutDependency!==r||r===void 0||e.isPresent!==h?d.willUpdate():this.safeToRemove(),e.isPresent!==h&&(h?d.promote():d.relegate()||ye.postRender(()=>{const m=d.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:l}=e;Pp=!0,l&&(l.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(l),a&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $1(n){const[e,r]=f1(),a=j.useContext(Zm);return y.jsx(fk,{...n,layoutGroup:a,switchLayoutGroup:j.useContext(E1),isPresent:e,safeToRemove:r})}function pk(n,e,r){const a=ln(n)?n:Ao(n);return a.start(Cg("",a,e,r)),a.animation}const mk=(n,e)=>n.depth-e.depth;class gk{constructor(){this.children=[],this.isDirty=!1}add(e){Ym(this.children,e),this.isDirty=!0}remove(e){Xm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mk),this.isDirty=!1,this.children.forEach(e)}}function yk(n,e){const r=On.now(),a=({timestamp:l})=>{const h=l-r;h>=e&&(as(a),n(h-e))};return ye.setup(a,!0),()=>as(a)}const W1=["TopLeft","TopRight","BottomLeft","BottomRight"],vk=W1.length,cx=n=>typeof n=="string"?parseFloat(n):n,hx=n=>typeof n=="number"||Mt.test(n);function _k(n,e,r,a,l,h){l?(n.opacity=be(0,r.opacity??1,xk(a)),n.opacityExit=be(e.opacity??1,0,bk(a))):h&&(n.opacity=be(e.opacity??1,r.opacity??1,a));for(let d=0;d<vk;d++){const m=`border${W1[d]}Radius`;let g=dx(e,m),_=dx(r,m);if(g===void 0&&_===void 0)continue;g||(g=0),_||(_=0),g===0||_===0||hx(g)===hx(_)?(n[m]=Math.max(be(cx(g),cx(_),a),0),(Ui.test(_)||Ui.test(g))&&(n[m]+="%")):n[m]=_}(e.rotate||r.rotate)&&(n.rotate=be(e.rotate||0,r.rotate||0,a))}function dx(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const xk=Z1(0,.5,Mw),bk=Z1(.5,.95,ei);function Z1(n,e,r){return a=>a<n?0:a>e?1:r(du(n,e,a))}function fx(n,e){n.min=e.min,n.max=e.max}function mi(n,e){fx(n.x,e.x),fx(n.y,e.y)}function px(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function mx(n,e,r,a,l){return n-=e,n=qh(n,1/r,a),l!==void 0&&(n=qh(n,1/l,a)),n}function wk(n,e=0,r=1,a=.5,l,h=n,d=n){if(Ui.test(e)&&(e=parseFloat(e),e=be(d.min,d.max,e/100)-d.min),typeof e!="number")return;let m=be(h.min,h.max,a);n===h&&(m-=e),n.min=mx(n.min,e,r,m,l),n.max=mx(n.max,e,r,m,l)}function gx(n,e,[r,a,l],h,d){wk(n,e[r],e[a],e[l],e.scale,h,d)}const Sk=["x","scaleX","originX"],Tk=["y","scaleY","originY"];function yx(n,e,r,a){gx(n.x,e,Sk,r?r.x:void 0,a?a.x:void 0),gx(n.y,e,Tk,r?r.y:void 0,a?a.y:void 0)}function vx(n){return n.translate===0&&n.scale===1}function G1(n){return vx(n.x)&&vx(n.y)}function _x(n,e){return n.min===e.min&&n.max===e.max}function Ek(n,e){return _x(n.x,e.x)&&_x(n.y,e.y)}function xx(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function K1(n,e){return xx(n.x,e.x)&&xx(n.y,e.y)}function bx(n){return pn(n.x)/pn(n.y)}function wx(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Ck{constructor(){this.members=[]}add(e){Ym(this.members,e),e.scheduleRender()}remove(e){if(Xm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(l=>e===l);if(r===0)return!1;let a;for(let l=r;l>=0;l--){const h=this.members[l];if(h.isPresent!==!1){a=h;break}}return a?(this.promote(a),!0):!1}promote(e,r){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,r&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:a}=e;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ak(n,e,r){let a="";const l=n.x.translate/e.x,h=n.y.translate/e.y,d=r?.z||0;if((l||h||d)&&(a=`translate3d(${l}px, ${h}px, ${d}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:_,rotate:b,rotateX:w,rotateY:E,skewX:C,skewY:M}=r;_&&(a=`perspective(${_}px) ${a}`),b&&(a+=`rotate(${b}deg) `),w&&(a+=`rotateX(${w}deg) `),E&&(a+=`rotateY(${E}deg) `),C&&(a+=`skewX(${C}deg) `),M&&(a+=`skewY(${M}deg) `)}const m=n.x.scale*e.x,g=n.y.scale*e.y;return(m!==1||g!==1)&&(a+=`scale(${m}, ${g})`),a||"none"}const Dp=["","X","Y","Z"],jk=1e3;let Rk=0;function zp(n,e,r,a){const{latestValues:l}=e;l[n]&&(r[n]=l[n],e.setStaticValue(n,0),a&&(a[n]=0))}function Y1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const r=D1(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:l,layoutId:h}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",ye,!(l||h))}const{parent:a}=n;a&&!a.hasCheckedOptimisedAppear&&Y1(a)}function X1({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:a,resetTransform:l}){return class{constructor(d={},m=e?.()){this.id=Rk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Mk),this.nodes.forEach(zk),this.nodes.forEach(Bk),this.nodes.forEach(Lk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new gk)}addEventListener(d,m){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new tg),this.eventHandlers.get(d).add(m)}notifyListeners(d,...m){const g=this.eventHandlers.get(d);g&&g.notify(...m)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=d1(d)&&!bR(d),this.instance=d;const{layoutId:m,layout:g,visualElement:_}=this.options;if(_&&!_.current&&_.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),n){let b,w=0;const E=()=>this.root.updateBlockedByResize=!1;ye.read(()=>{w=window.innerWidth}),n(d,()=>{const C=window.innerWidth;C!==w&&(w=C,this.root.updateBlockedByResize=!0,b&&b(),b=yk(E,250),Ah.hasAnimatedSinceResize&&(Ah.hasAnimatedSinceResize=!1,this.nodes.forEach(Ex)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&_&&(m||g)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:w,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||_.getDefaultTransition()||Hk,{onLayoutAnimationStart:O,onLayoutAnimationComplete:R}=_.getProps(),z=!this.targetLayout||!K1(this.targetLayout,C),N=!w&&E;if(this.options.layoutRoot||this.resumeFrom||N||w&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...dg(M,"layout"),onPlay:O,onComplete:R};(_.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(b,N)}else w||Ex(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),as(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nk),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Y1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const w=this.path[b];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Tx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Dk),this.nodes.forEach(Ok),this.nodes.forEach(kk)):this.nodes.forEach(Tx),this.clearAllSnapshots();const m=On.now();nn.delta=mr(0,1e3/60,m-nn.timestamp),nn.timestamp=m,nn.isProcessing=!0,Tp.update.process(nn),Tp.preRender.process(nn),Tp.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pk),this.sharedNodes.forEach(Uk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(m=!1),m&&this.instance){const g=a(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:g,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!G1(this.projectionDelta),g=this.getTransformTemplate(),_=g?g(this.latestValues,""):void 0,b=_!==this.prevTransformTemplateValue;d&&this.instance&&(m||aa(this.latestValues)||b)&&(l(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return d&&(g=this.removeTransform(g)),qk(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return He();const m=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Fk))){const{scroll:_}=this.root;_&&(_o(m.x,_.offset.x),_o(m.y,_.offset.y))}return m}removeElementScroll(d){const m=He();if(mi(m,d),this.scroll?.wasRoot)return m;for(let g=0;g<this.path.length;g++){const _=this.path[g],{scroll:b,options:w}=_;_!==this.root&&b&&w.layoutScroll&&(b.wasRoot&&mi(m,d),_o(m.x,b.offset.x),_o(m.y,b.offset.y))}return m}applyTransform(d,m=!1){const g=He();mi(g,d);for(let _=0;_<this.path.length;_++){const b=this.path[_];!m&&b.options.layoutScroll&&b.scroll&&b!==b.root&&xo(g,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),aa(b.latestValues)&&xo(g,b.latestValues)}return aa(this.latestValues)&&xo(g,this.latestValues),g}removeTransform(d){const m=He();mi(m,d);for(let g=0;g<this.path.length;g++){const _=this.path[g];if(!_.instance||!aa(_.latestValues))continue;xm(_.latestValues)&&_.updateSnapshot();const b=He(),w=_.measurePageBox();mi(b,w),yx(m,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,b)}return aa(this.latestValues)&&yx(m,this.latestValues),m}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(d||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:w}=this.options;if(!this.layout||!(b||w))return;this.resolvedRelativeTargetAt=nn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mi(this.target,this.layout.layoutBox),R1(this.target,this.targetDelta)):mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||xm(this.parent.latestValues)||j1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,m,g){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),Fh(this.relativeTargetOrigin,m,g),mi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),m=!!this.resumingFrom||this!==d;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(g=!1),g)return;const{layout:_,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||b))return;mi(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;cO(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=He());const{target:C}=d;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(px(this.prevProjectionDelta.x,this.projectionDelta.x),px(this.prevProjectionDelta.y,this.projectionDelta.y)),ou(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==E||!wx(this.projectionDelta.x,this.prevProjectionDelta.x)||!wx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bo(),this.projectionDelta=bo(),this.projectionDeltaWithTransform=bo()}setAnimationOrigin(d,m=!1){const g=this.snapshot,_=g?g.latestValues:{},b={...this.latestValues},w=bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const E=He(),C=g?g.source:void 0,M=this.layout?this.layout.source:void 0,O=C!==M,R=this.getStack(),z=!R||R.members.length<=1,N=!!(O&&!z&&this.options.crossfade===!0&&!this.path.some(Vk));this.animationProgress=0;let D;this.mixTargetDelta=V=>{const F=V/1e3;Cx(w.x,d.x,F),Cx(w.y,d.y,F),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fh(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ik(this.relativeTarget,this.relativeTargetOrigin,E,F),D&&Ek(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=He()),mi(D,this.relativeTarget)),O&&(this.animationValues=b,_k(b,_,this.latestValues,F,N,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(as(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Ah.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ao(0)),this.currentAnimation=pk(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),d.onUpdate&&d.onUpdate(m)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:m,target:g,layout:_,latestValues:b}=d;if(!(!m||!g||!_)){if(this!==d&&this.layout&&_&&J1(this.options.animationType,this.layout.layoutBox,_.layoutBox)){g=this.target||He();const w=pn(this.layout.layoutBox.x);g.x.min=d.target.x.min,g.x.max=g.x.min+w;const E=pn(this.layout.layoutBox.y);g.y.min=d.target.y.min,g.y.max=g.y.min+E}mi(m,g),xo(m,b),ou(this.projectionDeltaWithTransform,this.layoutCorrected,m,b)}}registerSharedNode(d,m){this.sharedNodes.has(d)||this.sharedNodes.set(d,new Ck),this.sharedNodes.get(d).add(m);const _=m.options.initialPromotionConfig;m.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(m):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:m,preserveFollowOpacity:g}={}){const _=this.getStack();_&&_.promote(this,g),d&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let m=!1;const{latestValues:g}=d;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const _={};g.z&&zp("z",d,_,this.animationValues);for(let b=0;b<Dp.length;b++)zp(`rotate${Dp[b]}`,d,_,this.animationValues),zp(`skew${Dp[b]}`,d,_,this.animationValues);d.render();for(const b in _)d.setStaticValue(b,_[b]),this.animationValues&&(this.animationValues[b]=_[b]);d.scheduleRender()}applyProjectionStyles(d,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Ch(m?.pointerEvents)||"",d.transform=g?g(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Ch(m?.pointerEvents)||""),this.hasProjected&&!aa(this.latestValues)&&(d.transform=g?g({},""):"none",this.hasProjected=!1);return}d.visibility="";const b=_.animationValues||_.latestValues;this.applyTransformsToTarget();let w=Ak(this.projectionDeltaWithTransform,this.treeScale,b);g&&(w=g(b,w)),d.transform=w;const{x:E,y:C}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,_.animationValues?d.opacity=_===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:d.opacity=_===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const M in _m){if(b[M]===void 0)continue;const{correct:O,applyTo:R,isCSSVariable:z}=_m[M],N=w==="none"?b[M]:O(b[M],_);if(R){const D=R.length;for(let V=0;V<D;V++)d[R[V]]=N}else z?this.options.visualElement.renderState.vars[M]=N:d[M]=N}this.options.layoutId&&(d.pointerEvents=_===this?Ch(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(Sx),this.root.sharedNodes.clear()}}}function Ok(n){n.updateLayout()}function kk(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:l}=n.options,h=e.source!==n.layout.source;l==="size"?Qn(b=>{const w=h?e.measuredBox[b]:e.layoutBox[b],E=pn(w);w.min=r[b].min,w.max=w.min+E}):J1(l,e.layoutBox,r)&&Qn(b=>{const w=h?e.measuredBox[b]:e.layoutBox[b],E=pn(r[b]);w.max=w.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[b].max=n.relativeTarget[b].min+E)});const d=bo();ou(d,r,e.layoutBox);const m=bo();h?ou(m,n.applyTransform(a,!0),e.measuredBox):ou(m,r,e.layoutBox);const g=!G1(d);let _=!1;if(!n.resumeFrom){const b=n.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:w,layout:E}=b;if(w&&E){const C=He();Fh(C,e.layoutBox,w.layoutBox);const M=He();Fh(M,r,E.layoutBox),K1(C,M)||(_=!0),b.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=C,n.relativeParent=b)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:_})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Mk(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Lk(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Pk(n){n.clearSnapshot()}function Sx(n){n.clearMeasurements()}function Tx(n){n.isLayoutDirty=!1}function Dk(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Ex(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function zk(n){n.resolveTargetDelta()}function Bk(n){n.calcProjection()}function Nk(n){n.resetSkewAndRotation()}function Uk(n){n.removeLeadSnapshot()}function Cx(n,e,r){n.translate=be(e.translate,0,r),n.scale=be(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function Ax(n,e,r,a){n.min=be(e.min,r.min,a),n.max=be(e.max,r.max,a)}function Ik(n,e,r,a){Ax(n.x,e.x,r.x,a),Ax(n.y,e.y,r.y,a)}function Vk(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Hk={duration:.45,ease:[.4,0,.1,1]},jx=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Rx=jx("applewebkit/")&&!jx("chrome/")?Math.round:ei;function Ox(n){n.min=Rx(n.min),n.max=Rx(n.max)}function qk(n){Ox(n.x),Ox(n.y)}function J1(n,e,r){return n==="position"||n==="preserve-aspect"&&!XO(bx(e),bx(r),.2)}function Fk(n){return n!==n.root&&n.scroll?.wasRoot}const $k=X1({attachResizeListener:(n,e)=>gu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bp={current:void 0},Q1=X1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Bp.current){const n=new $k({});n.mount(window),n.setOptions({layoutScroll:!0}),Bp.current=n}return Bp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Wk={pan:{Feature:dk},drag:{Feature:hk,ProjectionNode:Q1,MeasureLayout:$1}};function kx(n,e,r){const{props:a}=n;n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",r==="Start");const l="onHover"+r,h=a[l];h&&ye.postRender(()=>h(e,Eu(e)))}class Zk extends us{mount(){const{current:e}=this.node;e&&(this.unmount=gR(e,(r,a)=>(kx(this.node,a,"Start"),l=>kx(this.node,l,"End"))))}unmount(){}}class Gk extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wu(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mx(n,e,r){const{props:a}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&a.whileTap&&n.animationState.setActive("whileTap",r==="Start");const l="onTap"+(r==="End"?"":r),h=a[l];h&&ye.postRender(()=>h(e,Eu(e)))}class Kk extends us{mount(){const{current:e}=this.node;e&&(this.unmount=xR(e,(r,a)=>(Mx(this.node,a,"Start"),(l,{success:h})=>Mx(this.node,l,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Am=new WeakMap,Np=new WeakMap,Yk=n=>{const e=Am.get(n.target);e&&e(n)},Xk=n=>{n.forEach(Yk)};function Jk({root:n,...e}){const r=n||document;Np.has(r)||Np.set(r,{});const a=Np.get(r),l=JSON.stringify(e);return a[l]||(a[l]=new IntersectionObserver(Xk,{root:n,...e})),a[l]}function Qk(n,e,r){const a=Jk(e);return Am.set(n,r),a.observe(n),()=>{Am.delete(n),a.unobserve(n)}}const tM={some:0,all:1};class eM extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:a,amount:l="some",once:h}=e,d={root:r?r.current:void 0,rootMargin:a,threshold:typeof l=="number"?l:tM[l]},m=g=>{const{isIntersecting:_}=g;if(this.isInView===_||(this.isInView=_,h&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:b,onViewportLeave:w}=this.node.getProps(),E=_?b:w;E&&E(g)};return Qk(this.node.current,d,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(nM(e,r))&&this.startObserver()}unmount(){}}function nM({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const iM={inView:{Feature:eM},tap:{Feature:Kk},focus:{Feature:Gk},hover:{Feature:Zk}},rM={layout:{ProjectionNode:Q1,MeasureLayout:$1}},sM={...$O,...iM,...Wk,...rM},kt=oO(sM,xO),aM=()=>{const{signInWithGoogle:n,user:e}=qe(),r=Re(),[a,l]=j.useState(!1);j.useEffect(()=>{e&&r("/en/home")},[e,r]);const h=async()=>{l(!0);try{await n()}catch(d){console.error(d),l(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",textAlign:"center"},children:[y.jsxs(kt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:12},style:{marginBottom:"40px"},children:[y.jsx("div",{style:{position:"relative",width:"120px",height:"120px",margin:"0 auto"},children:y.jsx("img",{src:"/chai-in/chai_logo.png",alt:"Chai-in Logo",style:{width:"120px",height:"120px",objectFit:"contain"},onError:d=>{d.target.src="https://ui-avatars.com/api/?name=Chai-in&background=EF2A39&color=fff&rounded=true"}})}),y.jsx("h1",{style:{marginTop:"20px",fontSize:"2.5rem",fontWeight:"900",color:"var(--primary)",letterSpacing:"-1px"},children:"Chai-in"}),y.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.1rem",fontWeight:"600"},children:"Discover Kerala's Best Eats"})]}),y.jsxs(kt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},style:{width:"100%",maxWidth:"350px"},children:[y.jsx("button",{onClick:h,disabled:a,style:{width:"100%",padding:"18px",borderRadius:"24px",background:"var(--primary)",color:"white",border:"none",fontSize:"1.1rem",fontWeight:"800",boxShadow:"var(--shadow-lg)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:a?"Connecting...":y.jsxs(y.Fragment,{children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",width:"20",alt:"Google"}),"Sign in with Google"]})}),y.jsx("p",{style:{marginTop:"24px",color:"var(--text-muted)",fontSize:"0.9rem",lineHeight:"1.5"},children:"By continuing, you agree to discover the most delicious spots in Kerala."})]}),y.jsx("div",{style:{position:"absolute",top:"-100px",right:"-100px",width:"300px",height:"300px",borderRadius:"50%",background:"rgba(239, 42, 57, 0.05)",zIndex:-1}}),y.jsx("div",{style:{position:"absolute",bottom:"-80px",left:"-80px",width:"250px",height:"250px",borderRadius:"50%",background:"rgba(239, 42, 57, 0.05)",zIndex:-1}})]})};const oM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),Lx=n=>{const e=lM(n);return e.charAt(0).toUpperCase()+e.slice(1)},tS=(...n)=>n.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),uM=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hM=j.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:h,iconNode:d,...m},g)=>j.createElement("svg",{ref:g,...cM,width:e,height:e,stroke:n,strokeWidth:a?Number(r)*24/Number(e):r,className:tS("lucide",l),...!h&&!uM(m)&&{"aria-hidden":"true"},...m},[...d.map(([_,b])=>j.createElement(_,b)),...Array.isArray(h)?h:[h]]));const jt=(n,e)=>{const r=j.forwardRef(({className:a,...l},h)=>j.createElement(hM,{ref:h,iconNode:e,className:tS(`lucide-${oM(Lx(n))}`,`lucide-${n}`,a),...l}));return r.displayName=Lx(n),r};const dM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cs=jt("arrow-left",dM);const fM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],pM=jt("award",fM);const mM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$h=jt("bell",mM);const gM=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],id=jt("camera",gM);const yM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vM=jt("check",yM);const _M=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Cu=jt("chevron-left",_M);const xM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],go=jt("chevron-right",xM);const bM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wM=jt("circle-alert",bM);const SM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eS=jt("circle-check-big",SM);const TM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nS=jt("circle-x",TM);const EM=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],CM=jt("coffee",EM);const AM=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],jM=jt("crop",AM);const RM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],OM=jt("crosshair",RM);const kM=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],iS=jt("crown",kM);const MM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LM=jt("eye",MM);const PM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],DM=jt("file-text",PM);const zM=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],BM=jt("flame",zM);const NM=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],pa=jt("heart",NM);const UM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],IM=jt("house",UM);const VM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],HM=jt("info",VM);const qM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],rS=jt("instagram",qM);const FM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$M=jt("layers",FM);const WM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],rd=jt("loader",WM);const ZM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],GM=jt("lock",ZM);const KM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YM=jt("log-out",KM);const XM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],JM=jt("mail",XM);const QM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ga=jt("map-pin",QM);const tL=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ag=jt("map",tL);const eL=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],sd=jt("message-circle",eL);const nL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sS=jt("message-square",nL);const iL=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],rL=jt("navigation",iL);const sL=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],aL=jt("pause",sL);const oL=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lL=jt("phone",oL);const uL=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],cL=jt("pizza",uL);const hL=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],dL=jt("play",hL);const fL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ad=jt("plus",fL);const pL=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],mL=jt("rotate-cw",pL);const gL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aS=jt("search",gL);const yL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oS=jt("send",yL);const vL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_L=jt("settings",vL);const xL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],bL=jt("shield-alert",xL);const wL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jm=jt("shield",wL);const SL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],od=jt("star",SL);const TL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lS=jt("trash-2",TL);const EL=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],CL=jt("trophy",EL);const AL=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jL=jt("user-check",AL);const RL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ro=jt("user",RL);const OL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kL=jt("users",OL);const ML=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oo=jt("x",ML);const LL=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],PL=jt("youtube",LL);const DL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zL=jt("zap",DL),uS=({images:n,interval:e=3e3,showControls:r=!1})=>{const a=n&&n.length>0?n.slice(0,5):["https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&q=80"],[l,h]=j.useState(0),[d,m]=j.useState(!0);j.useEffect(()=>{let _;return d&&a.length>1&&(_=setInterval(()=>{h(b=>(b+1)%a.length)},e)),()=>clearInterval(_)},[d,a.length,e]);const g=_=>{_.stopPropagation(),m(!d)};return a.length===0?null:y.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[a.map((_,b)=>y.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:b===l?1:0,transition:"opacity 0.5s ease-in-out",pointerEvents:"none"},children:y.jsx("img",{src:_,alt:`Slide ${b+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},b)),r&&a.length>1&&y.jsx("button",{onClick:g,style:{position:"absolute",bottom:"20px",left:"20px",background:"rgba(0, 0, 0, 0.5)",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:20,color:"white",backdropFilter:"blur(4px)"},children:d?y.jsx(aL,{size:16,fill:"white"}):y.jsx(dL,{size:16,fill:"white"})}),a.length>1&&y.jsx("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"6px",zIndex:20},children:a.map((_,b)=>y.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:b===l?"white":"rgba(255,255,255,0.4)",transition:"background 0.3s"}},b))})]})},ld=j.memo(({spot:n})=>{const{name:e,rating:r,reviews_count:a,images:l,distance:h,tags:d,price_level:m,id:g,instagram_handle:_,whatsapp_number:b}=n,w=Re(),{user:E}=qe(),[C,M]=ss.useState(!1),[O,R]=ss.useState(!1),[z,N]=ss.useState(0),[D,V]=ss.useState(null);j.useEffect(()=>{let dt=!0;return g&&(vt(dt),F(dt),n.opening_hours?V(ft(n.opening_hours)):V(null)),()=>{dt=!1}},[g,E,n.opening_hours]);const F=async dt=>{if(!E)return;const{data:yt}=await pt.from("user_favorites").select("*").eq("spot_id",g).eq("user_id",E.id).maybeSingle();dt&&R(!!yt)},K=async dt=>{if(dt.stopPropagation(),!E)return;const yt=O;R(!yt);try{yt?await pt.from("user_favorites").delete().eq("spot_id",g).eq("user_id",E.id):await pt.from("user_favorites").insert({spot_id:g,user_id:E.id})}catch{R(yt)}},Q=()=>new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),ft=dt=>{if(!dt||!dt.open||!dt.close)return null;const yt=Q(),[Qt,Wt=0]=dt.open.split(":").map(Number),[ut,$=0]=dt.close.split(":").map(Number),rt=new Date(yt);rt.setHours(Qt,Wt,0,0);const nt=new Date(yt);return nt.setHours(ut,$,0,0),nt<=rt&&(yt<rt?rt.setDate(rt.getDate()-1):nt.setDate(nt.getDate()+1)),yt>=rt&&yt<=nt},vt=async dt=>{try{const{count:yt}=await pt.from("visited_spots").select("*",{count:"exact",head:!0}).eq("spot_id",g);if(dt&&N(yt||0),E){const{data:Qt}=await pt.from("visited_spots").select("user_id").eq("spot_id",g).eq("user_id",E.id).maybeSingle();dt&&M(!!Qt)}}catch(yt){console.error(yt)}},lt=()=>{const dt=window.location.pathname.includes("/ml/")?"ml":"en";w(`/${dt}/spot/${g}`)};return y.jsxs(kt.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},whileHover:{y:-5},transition:{duration:.3},onClick:lt,style:{background:"var(--bg-white)",borderRadius:"var(--radius-lg)",padding:"10px",boxShadow:"var(--shadow-md)",cursor:"pointer",marginBottom:"10px",display:"flex",flexDirection:"column",gap:"8px"},children:[y.jsxs("div",{style:{position:"relative",height:"140px",borderRadius:"24px",overflow:"hidden"},onClick:dt=>dt.stopPropagation(),children:[y.jsx(uS,{images:l,interval:4e3}),y.jsxs("div",{style:{position:"absolute",top:"8px",left:"50%",transform:"translateX(-50%)",background:D===null?"rgba(100, 116, 139, 0.7)":D?"rgba(16, 185, 129, 0.9)":"rgba(239, 68, 68, 0.9)",backdropFilter:"blur(8px)",color:"white",padding:"4px 10px",borderRadius:"20px",fontSize:"0.6rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"4px"},children:[y.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",background:"white"}}),D===null?"HOURS N/A":D?"OPEN":"CLOSED"]}),y.jsxs("div",{style:{position:"absolute",bottom:"8px",left:"8px",background:"white",padding:"3px 7px",borderRadius:"10px",display:"flex",alignItems:"center",gap:"4px",fontSize:"0.7rem",fontWeight:"800"},children:[y.jsx(od,{size:10,fill:"#FFB800",color:"#FFB800"})," ",r]})]}),y.jsxs("div",{style:{padding:"0 4px"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[y.jsxs("div",{style:{flex:1,minWidth:0},children:[y.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:"900",margin:"0 0 2px 0",color:"var(--text-main)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e}),y.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:0},children:[h," km"]})]}),y.jsx(kt.button,{whileTap:{scale:.8},onClick:K,style:{background:"none",border:"none",cursor:"pointer",padding:"2px"},children:y.jsx(pa,{size:20,fill:O?"var(--primary)":"none",color:O?"var(--primary)":"var(--text-muted)"})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[y.jsx("div",{style:{display:"flex",gap:"4px"},children:(d||[]).slice(0,1).map((dt,yt)=>y.jsxs("span",{style:{fontSize:"0.65rem",color:"var(--primary)",fontWeight:"700"},children:["#",dt]},yt))}),y.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"900",color:"var(--primary)"},children:"".repeat(m)})]}),y.jsx("div",{style:{marginTop:"6px",fontSize:"0.7rem",color:"var(--text-muted)",fontWeight:"700"},children:n.opening_hours?.open&&n.opening_hours?.close?`Kerala time: ${n.opening_hours.open} - ${n.opening_hours.close}`:"Hours not set"})]})]})}),No=({message:n="Tasting the flavors..."})=>y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",gap:"20px"},children:[y.jsxs("div",{style:{position:"relative",width:"80px",height:"80px"},children:[y.jsx(kt.div,{animate:{rotate:360},transition:{repeat:1/0,duration:2,ease:"linear"},style:{width:"100%",height:"100%",borderRadius:"50%",border:"4px dashed var(--primary)",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(cL,{size:40,color:"var(--primary)"})}),y.jsx(kt.div,{animate:{scale:[1,1.2,1],opacity:[.3,.7,.3]},transition:{repeat:1/0,duration:1.5},style:{position:"absolute",top:-10,right:-10,background:"white",padding:"4px",borderRadius:"50%",boxShadow:"var(--shadow-sm)"},children:y.jsx(CM,{size:16,color:"var(--primary)"})})]}),y.jsx(kt.p,{animate:{opacity:[.4,1,.4]},transition:{repeat:1/0,duration:2},style:{fontWeight:"800",color:"var(--text-main)",fontSize:"1rem",margin:0},children:n})]}),BL=({lang:n})=>{const e=Re(),{user:r}=qe(),[a,l]=j.useState([]),[h,d]=j.useState(!0),[m,g]=j.useState(""),[_,b]=j.useState(null),[w,E]=j.useState("All Kerala"),[C,M]=j.useState("All");j.useEffect(()=>{O()},[_]);const O=async()=>{d(!0);const{data:N,error:D}=await pt.from("spots").select("*").eq("is_verified",!0).order("created_at",{ascending:!1});if(D)console.error(D);else{let V=N||[];_&&(V=V.filter(F=>z(_.lat,_.lng,F.latitude,F.longitude)<=30)),l(V)}d(!1)},R=j.useMemo(()=>a.filter(N=>{const D=N.name.toLowerCase().includes(m.toLowerCase()),V=C==="All"||N.category===C;return D&&V}),[a,m,C]);function z(N,D,V,F){var K=6371,Q=(V-N)*Math.PI/180,ft=(F-D)*Math.PI/180,vt=Math.sin(Q/2)*Math.sin(Q/2)+Math.cos(N*Math.PI/180)*Math.cos(V*Math.PI/180)*Math.sin(ft/2)*Math.sin(ft/2);return K*(2*Math.atan2(Math.sqrt(vt),Math.sqrt(1-vt)))}return y.jsxs("div",{style:{padding:"20px",paddingBottom:"120px",background:"var(--bg-white)",minHeight:"100vh"},children:[y.jsxs("header",{style:{marginBottom:"24px"},children:[y.jsxs("p",{style:{margin:0,fontSize:"1rem",color:"var(--text-muted)"},children:["Hello ",r?.user_metadata?.full_name?.split(" ")[0]||"Foodie",","]}),y.jsx("h1",{style:{margin:"4px 0",fontSize:"1.6rem",fontWeight:"900",color:"var(--text-main)"},children:"What do you want to eat today?"})]}),y.jsxs("div",{style:{position:"relative",marginBottom:"24px"},children:[y.jsx("input",{type:"text",placeholder:"Search dishes, restaurants...",value:m,onChange:N=>{const D=N.target.value;D==="#admin"?(e(`/${n}/admin`),g("")):g(D)},style:{width:"100%",padding:"16px 20px 16px 50px",borderRadius:"var(--radius-lg)",border:"none",background:"var(--secondary)",fontSize:"1rem",fontWeight:"600"}}),y.jsx(aS,{size:22,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}})]}),y.jsx("div",{className:"hide-scrollbar",style:{display:"flex",gap:"12px",overflowX:"auto",marginBottom:"30px",padding:"4px 0"},children:["All","Trending","Arabian","Burger","Cafes","Desserts"].map(N=>y.jsx(kt.button,{whileTap:{scale:.95},onClick:()=>M(N),style:{padding:"10px 24px",borderRadius:"16px",background:C===N?"var(--primary)":"var(--secondary)",color:C===N?"white":"var(--text-muted)",border:"none",fontWeight:"800",whiteSpace:"nowrap",boxShadow:C===N?"var(--shadow-sm)":"none",transition:"all 0.3s ease"},children:N},N))}),y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:y.jsxs("div",{style:{background:"rgba(239, 42, 57, 0.1)",color:"var(--primary)",padding:"6px 12px",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(ga,{size:16})," ",w]})}),h?y.jsx(No,{message:"Finding delicious spots..."}):y.jsx(kt.div,{layout:!0,style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:y.jsx(yg,{children:R.map(N=>y.jsx(ld,{spot:N},N.id))})}),y.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 0.6; }
                    50% { opacity: 0.3; }
                    100% { opacity: 0.6; }
                }
            `})]})},NL=({lang:n})=>{const{user:e,signOut:r}=qe(),a=Re(),[l,h]=j.useState(!0),[d,m]=j.useState(null),[g,_]=j.useState({spots:0,reviews:0,xp:0}),[b,w]=j.useState("favorites"),[E,C]=j.useState([]),[M,O]=j.useState(!1);j.useEffect(()=>(e&&(R(),window.addEventListener("focus",R),window.addEventListener("userProfileUpdated",R)),()=>{e&&(window.removeEventListener("focus",R),window.removeEventListener("userProfileUpdated",R))}),[e]),j.useEffect(()=>{e&&z()},[b,e]);const R=async()=>{h(!0);const{data:V}=await pt.from("user_preferences").select("*").eq("user_id",e.id).maybeSingle();m(V);const{count:F}=await pt.from("spots").select("*",{count:"exact",head:!0}).eq("created_by",e.id),{count:K}=await pt.from("reviews").select("*",{count:"exact",head:!0}).eq("user_id",e.id),{count:Q}=await pt.from("user_favorites").select("*",{count:"exact",head:!0}).eq("user_id",e.id);_({spots:F||0,reviews:K||0,favorites:Q||0,xp:(F||0)*100+(K||0)*10}),h(!1)},z=async()=>{if(O(!0),b==="favorites"){const{data:V}=await pt.from("user_favorites").select("spot_id").eq("user_id",e.id);if(V&&V.length>0){const F=V.map(Q=>Q.spot_id),{data:K}=await pt.from("spots").select("*").in("id",F);C(K||[])}else C([])}else if(b==="reviews"){const{data:V}=await pt.from("reviews").select("*, spots(name)").eq("user_id",e.id).order("created_at",{ascending:!1});C(V||[])}else if(b==="added"){const{data:V}=await pt.from("spots").select("*").eq("created_by",e.id).order("created_at",{ascending:!1});C(V||[])}O(!1)},N=async()=>{await r(),a(`/${n||"en"}/login`)},D=[{id:"favorites",label:"Favorites",icon:pa,count:g.favorites},{id:"reviews",label:"Reviews",icon:sS,count:g.reviews},{id:"added",label:"Added",icon:ad,count:g.spots}];return y.jsxs("div",{style:{paddingBottom:"120px",background:"var(--bg-white)",minHeight:"100vh"},children:[y.jsx("div",{style:{height:"180px",background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx("div",{style:{position:"absolute",inset:0,opacity:.1,backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"24px 24px"}})}),y.jsxs("div",{style:{marginTop:"-60px",textAlign:"center",padding:"0 20px",position:"relative"},children:[y.jsx(kt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},style:{width:"120px",height:"120px",borderRadius:"40px",background:"white",margin:"0 auto",padding:"6px",boxShadow:"var(--shadow-lg)"},children:y.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"34px",overflow:"hidden",background:"var(--secondary)",display:"flex",alignItems:"center",justifyContent:"center"},children:d?.avatar_url?y.jsx("img",{src:d.avatar_url,style:{width:"100%",height:"100%",objectFit:"cover"}}):y.jsx(Ro,{size:50,color:"var(--text-muted)"})})}),y.jsx("h1",{style:{marginTop:"16px",fontSize:"1.6rem",fontWeight:"900",color:"var(--text-main)",margin:"16px 0 4px 0"},children:d?.display_name||e?.user_metadata?.full_name||"Foodie Voyager"}),y.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",fontWeight:"500"},children:"Elite Level Discoverer  Kerala, IN"})]}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",padding:"24px 20px"},children:[{label:"Visits",value:g.spots,icon:ga},{label:"Reviews",value:g.reviews,icon:od},{label:"XP",value:g.xp,icon:zL}].map((V,F)=>y.jsxs("div",{style:{background:"var(--secondary)",padding:"16px 8px",borderRadius:"24px",textAlign:"center"},children:[y.jsx(V.icon,{size:20,color:"var(--primary)",style:{marginBottom:"8px"}}),y.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"900",color:"var(--text-main)"},children:V.value}),y.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"700",color:"var(--text-muted)",marginTop:"2px"},children:V.label})]},F))}),y.jsx("div",{style:{padding:"0 20px",marginBottom:"20px"},children:y.jsx("div",{style:{display:"flex",gap:"8px",background:"var(--secondary)",padding:"6px",borderRadius:"20px"},children:D.map(V=>y.jsxs("button",{onClick:()=>a(`/${n}/profile/${V.id}`),style:{flex:1,padding:"12px",borderRadius:"16px",background:"transparent",border:"none",fontWeight:"800",fontSize:"0.85rem",color:"var(--text-muted)",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[y.jsx(V.icon,{size:16}),V.label," (",V.count,")"]},V.id))})}),y.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",gap:"12px",marginTop:"20px"},children:[y.jsxs(kt.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/settings`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#EEF2FF"},children:y.jsx(_L,{size:22,color:"#4F46E5"})}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Settings"})]}),y.jsx(go,{size:20,color:"var(--text-muted)"})]}),y.jsxs(kt.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/leaderboard`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#FFFBEB"},children:y.jsx(pM,{size:22,color:"#F59E0B"})}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Leaderboard"})]}),y.jsx(go,{size:20,color:"var(--text-muted)"})]}),y.jsxs(kt.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/privacy-policy`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#F0FDF4"},children:y.jsx(jm,{size:22,color:"#10B981"})}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Privacy Policy"})]}),y.jsx(go,{size:20,color:"var(--text-muted)"})]}),y.jsxs(kt.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/contact-admin`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#FEF2F2"},children:y.jsx(sd,{size:22,color:"#EF4444"})}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Contact Admin"})]}),y.jsx(go,{size:20,color:"var(--text-muted)"})]}),y.jsxs(kt.div,{whileTap:{scale:.98},onClick:N,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#F3F4F6"},children:y.jsx(YM,{size:22,color:"#6B7280"})}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Logout"})]}),y.jsx(go,{size:20,color:"var(--text-muted)"})]})]})]})},lu=({children:n,onClick:e,variant:r="primary",className:a="",...l})=>{const m={...{padding:"12px 24px",borderRadius:"var(--radius-full)",fontWeight:"600",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"transform var(--transition-fast), box-shadow var(--transition-fast)",boxShadow:"var(--shadow-sm)"},...{primary:{background:"var(--primary)",color:"#fff"},secondary:{background:"var(--secondary)",color:"var(--text-main)"},outline:{background:"transparent",border:"2px solid var(--primary)",color:"var(--primary)"}}[r]};return y.jsx("button",{onClick:e,style:m,className:a,onMouseEnter:g=>g.target.style.transform="scale(1.05)",onMouseLeave:g=>g.target.style.transform="scale(1)",...l,children:n})},Au=({message:n,type:e="success",onClose:r})=>(j.useEffect(()=>{const a=setTimeout(()=>{r()},3e3);return()=>clearTimeout(a)},[r]),y.jsxs("div",{className:"animate-fade-in",style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",background:e==="success"?"#2e7d32":"#c62828",color:"white",padding:"12px 24px",borderRadius:"30px",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:2e3,minWidth:"300px",justifyContent:"center"},children:[e==="success"?y.jsx(eS,{size:20}):y.jsx(nS,{size:20}),y.jsx("span",{style:{fontWeight:600},children:n})]})),UL=()=>{const{user:n}=qe(),e=Re(),[r,a]=j.useState(!0),[l,h]=j.useState(!1),[d,m]=j.useState(!1),[g,_]=j.useState(null),[b,w]=j.useState({displayName:"",avatarUrl:"",notificationsEnabled:!0,notifyNewSpots:!0,notifyReviewReplies:!0,notifyWeeklyDigest:!1,lastDisplayNameChange:null});j.useEffect(()=>{n&&E()},[n]);const E=async()=>{a(!0);const{data:O}=await pt.from("user_preferences").select("*").eq("user_id",n.id).single();O&&w({displayName:O.display_name||n.user_metadata?.full_name||"",avatarUrl:O.avatar_url||n.user_metadata?.avatar_url||"",notificationsEnabled:O.notifications_enabled,notifyNewSpots:O.notify_new_spots,notifyReviewReplies:O.notify_review_replies,notifyWeeklyDigest:O.notify_weekly_digest,lastDisplayNameChange:O.last_display_name_change}),a(!1)},C=async O=>{const R=O.target.files[0];if(R){m(!0);try{const z=`${n.id}-${Date.now()}.${R.name.split(".").pop()}`;await pt.storage.from("avatars").upload(`avatars/${z}`,R);const{data:{publicUrl:N}}=pt.storage.from("avatars").getPublicUrl(`avatars/${z}`);w({...b,avatarUrl:N}),_({message:"Avatar updated! Ready to save.",type:"success"})}catch{_({message:"Upload failed",type:"error"})}finally{m(!1)}}},M=async()=>{h(!0);try{const O=new Date,R=b.lastDisplayNameChange?new Date(b.lastDisplayNameChange):null,z=R?(O-R)/(1e3*60*60):25;if(z<24){const V=Math.ceil(24-z);_({message:`You can only change your display name once every 24 hours. Please wait ${V} more hours.`,type:"error"}),h(!1);return}const{data:N}=await pt.from("user_preferences").select("display_name").eq("display_name",b.displayName).not("user_id","eq",n.id).maybeSingle();if(N){_({message:"This display name is already taken.",type:"error"}),h(!1);return}const D={user_id:n.id,display_name:b.displayName,avatar_url:b.avatarUrl,notifications_enabled:b.notificationsEnabled,notify_new_spots:b.notifyNewSpots,notify_review_replies:b.notifyReviewReplies,notify_weekly_digest:b.notifyWeeklyDigest,last_display_name_change:O.toISOString()};await pt.from("user_preferences").upsert(D,{onConflict:"user_id"}),window.dispatchEvent(new CustomEvent("userProfileUpdated",{detail:{displayName:b.displayName,avatarUrl:b.avatarUrl}})),_({message:"Settings saved successfully! ",type:"success"}),setTimeout(()=>e(-1),1500)}catch{_({message:"Failed to save",type:"error"})}finally{h(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[g&&y.jsx(Au,{message:g.message,type:g.type,onClose:()=>_(null)}),y.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",left:"20px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(Cu,{size:24})}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"App Settings"})]}),y.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:r?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(kt.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},children:y.jsx(HM,{size:30,color:"var(--primary)"})})}):y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[y.jsxs("div",{style:{background:"white",borderRadius:"32px",padding:"24px",boxShadow:"var(--shadow-md)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[y.jsx(Ro,{size:20,color:"var(--primary)"}),y.jsx("h2",{style:{fontSize:"1.1rem",fontWeight:"900",color:"var(--text-main)",margin:0},children:"Account Details"})]}),y.jsx("div",{style:{textAlign:"center",marginBottom:"24px"},children:y.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[y.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"32px",border:"4px solid var(--secondary)",overflow:"hidden",boxShadow:"var(--shadow-sm)"},children:b.avatarUrl?y.jsx("img",{src:b.avatarUrl,style:{width:"100%",height:"100%",objectFit:"cover"}}):y.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--secondary)"},children:y.jsx(Ro,{size:40,color:"var(--text-muted)"})})}),y.jsx("label",{htmlFor:"avatar-upload",style:{position:"absolute",bottom:"-5px",right:"-5px",background:"var(--primary)",color:"white",padding:"8px",borderRadius:"12px",cursor:"pointer",boxShadow:"var(--shadow-md)"},children:y.jsx(id,{size:18})}),y.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:C,style:{display:"none"}})]})}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"DISPLAY NAME"}),y.jsx("input",{type:"text",value:b.displayName,onChange:O=>w({...b,displayName:O.target.value}),style:{width:"100%",padding:"14px",borderRadius:"16px",background:"var(--secondary)",border:"none",fontWeight:"700",outline:"none"}})]}),y.jsxs("div",{children:[y.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"EMAIL ADDRESS"}),y.jsx("div",{style:{width:"100%",padding:"14px",borderRadius:"16px",background:"var(--secondary)",color:"var(--text-muted)",fontWeight:"700",opacity:.8},children:n?.email})]})]})]}),y.jsxs("div",{style:{background:"white",borderRadius:"32px",padding:"24px",boxShadow:"var(--shadow-md)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[y.jsx($h,{size:20,color:"var(--primary)"}),y.jsx("h2",{style:{fontSize:"1.1rem",fontWeight:"900",color:"var(--text-main)",margin:0},children:"Notifications"})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[{id:"notificationsEnabled",label:"Push Notifications",desc:"Main alert switch"},{id:"notifyNewSpots",label:"New Spots",desc:"Alerts for nearby additions"},{id:"notifyReviewReplies",label:"Review Replies",desc:"When someone chats back"}].map(O=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{fontWeight:"800",fontSize:"0.95rem"},children:O.label}),y.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",fontWeight:"600"},children:O.desc})]}),y.jsx("input",{type:"checkbox",checked:b[O.id],onChange:R=>w({...b,[O.id]:R.target.checked}),style:{width:"22px",height:"22px",accentColor:"var(--primary)"}})]},O.id))})]}),y.jsx(kt.button,{whileTap:{scale:.95},onClick:M,disabled:l,style:{width:"100%",padding:"20px",borderRadius:"24px",background:"var(--primary)",color:"white",border:"none",fontWeight:"900",fontSize:"1rem",boxShadow:"var(--shadow-md)",opacity:l?.6:1},children:l?"Saving...":"Save Settings "})]})})]})},cS=({isOpen:n,onClose:e,onSelectLocation:r,initialCenter:a=[11.2588,75.7804]})=>{const[l,h]=j.useState(null),[d,m]=j.useState(!1),[g,_]=j.useState(!1),[b,w]=j.useState(""),[E,C]=j.useState(!1),M=j.useRef(null),O=j.useRef(null),R=j.useRef(null),z=j.useRef(null),N=j.useRef(null);j.useEffect(()=>{if(!n)return;(()=>{if(window.L){m(!0);return}if(document.getElementById("leaflet-script")){document.getElementById("leaflet-script").addEventListener("load",()=>m(!0));return}if(!document.getElementById("leaflet-css")){const ft=document.createElement("link");ft.id="leaflet-css",ft.rel="stylesheet",ft.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(ft)}const Q=document.createElement("script");Q.id="leaflet-script",Q.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",Q.async=!0,Q.onload=()=>m(!0),document.body.appendChild(Q)})()},[n]),j.useEffect(()=>{if(!(!n||!d||!M.current)){O.current&&(O.current.remove(),O.current=null);try{const K=window.L.map(M.current).setView(a,13);O.current=K;const Q=window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}),ft=window.L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EBP, and the GIS User Community"});g?ft.addTo(K):Q.addTo(K),z.current=Q,N.current=ft;const vt=window.L.marker(a,{draggable:!0,icon:window.L.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})}).addTo(K);R.current=vt,vt.bindPopup("Drag me to select location!").openPopup(),vt.on("dragend",function(dt){const yt=dt.target.getLatLng();h({lat:yt.lat,lng:yt.lng})}),K.on("click",function(dt){vt.setLatLng(dt.latlng),h({lat:dt.latlng.lat,lng:dt.latlng.lng})});const lt=window.L.Control.extend({options:{position:"bottomright"},onAdd:function(dt){const yt=window.L.DomUtil.create("button","leaflet-bar leaflet-control leaflet-control-custom");return yt.innerHTML="",yt.style.backgroundColor="white",yt.style.width="30px",yt.style.height="30px",yt.style.cursor="pointer",yt.style.border="2px solid rgba(0,0,0,0.2)",yt.style.borderRadius="4px",yt.title="Locate Me",yt.onclick=function(Qt){Qt.preventDefault(),Qt.stopPropagation(),dt.locate({setView:!0,maxZoom:16})},yt}});K.addControl(new lt),K.on("locationfound",function(dt){vt.setLatLng(dt.latlng),h({lat:dt.latlng.lat,lng:dt.latlng.lng})}),setTimeout(()=>{K.invalidateSize()},300),h({lat:a[0],lng:a[1]})}catch(K){console.error("Map initialization error:",K)}return()=>{O.current&&(O.current.remove(),O.current=null)}}},[n,d]);const D=()=>{if(!O.current||!z.current||!N.current)return;const K=O.current;g?(K.removeLayer(N.current),z.current.addTo(K)):(K.removeLayer(z.current),N.current.addTo(K)),_(!g)},V=async()=>{if(!(!b.trim()||E)){C(!0);try{const Q=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(b)}`)).json();if(Q&&Q.length>0){const{lat:ft,lon:vt}=Q[0],lt=[parseFloat(ft),parseFloat(vt)];O.current&&R.current&&(O.current.setView(lt,16),R.current.setLatLng(lt),h({lat:parseFloat(ft),lng:parseFloat(vt)}))}else alert("Location not found.")}catch(K){console.error("Search error:",K)}finally{C(!1)}}},F=()=>{l&&r(l.lat,l.lng)};return n?y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backdropFilter:"blur(4px)"},children:y.jsxs("div",{style:{background:"white",borderRadius:"16px",width:"100%",maxWidth:"600px",height:"80vh",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[y.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"white",zIndex:10},children:[y.jsxs("div",{children:[y.jsx("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:"700",color:"#1a1a1a"},children:" Select Location"}),y.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"0.85rem",color:"#666"},children:"Drag pin or click map to pinpoint spot"})]}),y.jsx("button",{onClick:e,style:{background:"#f5f5f5",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#666",transition:"all 0.2s"},children:y.jsx(Oo,{size:20})})]}),y.jsxs("div",{style:{padding:"0.8rem 1rem",background:"#fff",borderBottom:"1px solid #eee",display:"flex",gap:"8px"},children:[y.jsxs("div",{style:{flex:1,position:"relative"},children:[y.jsx("input",{type:"text",placeholder:"Search location (e.g. Kozhikode)",value:b,onChange:K=>w(K.target.value),onKeyDown:K=>K.key==="Enter"&&V(),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"0.9rem"}}),y.jsx(aS,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}})]}),y.jsx("button",{onClick:V,disabled:E||!b.trim(),style:{padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"10px",fontWeight:"600",fontSize:"0.85rem",cursor:"pointer",opacity:E?.6:1},children:E?"...":"Search"})]}),y.jsxs("div",{style:{flex:1,position:"relative"},children:[!d&&y.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#f8fafc",zIndex:20},children:y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[y.jsx(rd,{className:"animate-spin",size:32,color:"var(--primary)"}),y.jsx("span",{style:{color:"#64748b",fontWeight:"500"},children:"Loading map resources..."})]})}),y.jsxs("button",{onClick:K=>{K.preventDefault(),D()},style:{position:"absolute",top:"12px",right:"12px",zIndex:1e3,background:g?"#10b981":"white",color:g?"white":"#1e293b",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.85rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[y.jsx($M,{size:16}),g?"Satellite":"Map View"]}),y.jsx("div",{ref:M,style:{width:"100%",height:"100%",background:"#e2e8f0",touchAction:"none"}})]}),y.jsxs("div",{style:{padding:"1rem",borderTop:"1px solid #eee",background:"white",zIndex:10},children:[y.jsx("div",{style:{display:"flex",gap:"12px"},children:y.jsx("div",{style:{flex:1},children:l?y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",color:"#0f172a",background:"#f1f5f9",padding:"8px 12px",borderRadius:"8px",marginBottom:"12px"},children:[y.jsx(ga,{size:16,className:"text-primary"}),y.jsxs("span",{children:[l.lat.toFixed(4),", ",l.lng.toFixed(4)]})]}):y.jsx("div",{style:{height:"36px"}})})}),y.jsx("button",{onClick:F,disabled:!l,style:{width:"100%",padding:"14px",background:l?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"#e2e8f0",color:l?"white":"#94a3b8",border:"none",borderRadius:"12px",fontWeight:"700",fontSize:"1rem",cursor:l?"pointer":"not-allowed",transition:"all 0.2s",boxShadow:l?"0 4px 12px rgba(16, 185, 129, 0.2)":"none"},children:"Confirm Location"})]})]})}):null},IL=({lang:n})=>{const e=Re(),{user:r}=qe(),a=j.useRef(null),[l,h]=j.useState(1),[d,m]=j.useState(!1),[g,_]=j.useState(!1),[b,w]=j.useState(!1),[E,C]=j.useState([11.2588,75.7804]),[M,O]=j.useState(null),[R,z]=j.useState({name:"",category:"",price:2,location_text:"",latitude:null,longitude:null,description:"",instagram:"",instagram_link:"",whatsapp:"",opening_time:"10:00",closing_time:"22:00",tags:[],images:[]}),N=["Cafe","Restaurant","Street Food","Bakery","Juice Shop","Tea Stall"],D=(lt,dt="success")=>{O({message:lt,type:dt})},V=()=>{if(l===1&&!R.name)return D("Please enter a name","error");if(l===1&&!R.category)return D("Please select a category","error");if(l===2&&!R.location_text)return D("Please set a location","error");h(lt=>lt+1)},F=()=>h(lt=>lt-1),K=()=>{m(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(lt=>{const dt=lt.coords.latitude,yt=lt.coords.longitude;z({...R,latitude:dt,longitude:yt,location_text:`${dt.toFixed(4)}, ${yt.toFixed(4)}`}),C([dt,yt]),m(!1),D("Location updated!")},lt=>{D("Could not get location.","error"),m(!1)}):(D("Geolocation not supported","error"),m(!1))},Q=(lt,dt)=>{z({...R,latitude:lt,longitude:dt,location_text:`${lt.toFixed(4)}, ${dt.toFixed(4)}`}),w(!1),D("Location selected from map!")},ft=async lt=>{const dt=Array.from(lt.target.files);if(dt.length!==0){if(R.images.length+dt.length>5)return D("Max 5 images allowed","error");_(!0);try{for(const yt of dt){const Qt=`${Math.random()}.${yt.name.split(".").pop()}`;await pt.storage.from("food-images").upload(Qt,yt);const{data:Wt}=pt.storage.from("food-images").getPublicUrl(Qt);z(ut=>({...ut,images:[...ut.images,Wt.publicUrl]}))}D(`${dt.length} images uploaded!`)}catch{D("Error uploading images.","error")}finally{_(!1)}}},vt=async()=>{if(!r)return D("Please login first","error");m(!0);try{const lt={name:R.name,category:R.category,price_level:R.price,location_text:R.location_text,latitude:R.latitude,longitude:R.longitude,description:R.description,instagram_handle:R.instagram,whatsapp_number:R.whatsapp,opening_hours:{open:R.opening_time,close:R.closing_time},tags:R.tags,images:R.images,created_by:r.id},{error:dt}=await pt.from("spots").insert([lt]);if(dt)throw dt;D("Spot shared! Redirecting...","success"),setTimeout(()=>e(`/${n}/home`),2e3)}catch(lt){console.error("Error saving spot:",lt),D(`Error saving spot: ${lt.message}`,"error"),m(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"100px"},children:[M&&y.jsx(Au,{message:M.message,type:M.type,onClose:()=>O(null)}),y.jsx(cS,{isOpen:b,onClose:()=>w(!1),onSelectLocation:Q,initialCenter:E}),y.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:[y.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",left:"20px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(Cu,{size:24})}),y.jsx("h1",{style:{color:"white",fontSize:"1.4rem",fontWeight:"900"},children:"Add New Spot"})]}),y.jsxs("div",{className:"container",style:{marginTop:"-40px",padding:"0 20px"},children:[y.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",justifyContent:"center"},children:[1,2,3,4].map(lt=>y.jsx("div",{style:{width:lt===l?"32px":"10px",height:"10px",borderRadius:"5px",background:lt<=l?"var(--primary)":"#ddd",transition:"all 0.3s"}},lt))}),y.jsxs(kt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{background:"rgba(239, 42, 57, 0.05)",padding:"16px",borderRadius:"20px",marginBottom:"16px",border:"2px dashed var(--primary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"12px"},children:[y.jsx(wM,{size:20,color:"var(--primary)",style:{flexShrink:0,marginTop:"2px"}}),y.jsxs("div",{children:[y.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:"800",color:"var(--primary)",margin:"0 0 4px 0"},children:" Verification Required"}),y.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",margin:0,lineHeight:"1.5"},children:"Your spot will be added to Chai.in only after our admin team verifies it. This helps maintain quality and accuracy!"})]})]}),y.jsxs("a",{href:"https://www.youtube.com/watch?v=PLACEHOLDER_VIDEO_ID",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"8px",background:"#FF0000",color:"white",padding:"10px 16px",borderRadius:"12px",textDecoration:"none",fontWeight:"700",fontSize:"0.85rem",justifyContent:"center"},children:[y.jsx(PL,{size:18}),"Watch Tutorial: How to Add a Spot"]})]}),y.jsx(kt.div,{layout:!0,style:{background:"white",borderRadius:"32px",padding:"24px",boxShadow:"var(--shadow-md)"},children:y.jsxs(yg,{mode:"wait",children:[l===1&&y.jsxs(kt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[y.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"The Basics "}),y.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"SPOT NAME"}),y.jsx("input",{type:"text",placeholder:"Enter spot name...",value:R.name,onChange:lt=>z({...R,name:lt.target.value}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"20px"}}),y.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"12px",display:"block"},children:"CATEGORY"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",marginBottom:"24px"},children:N.map(lt=>y.jsx("button",{onClick:()=>z({...R,category:lt}),style:{padding:"14px",borderRadius:"18px",border:"none",background:R.category===lt?"var(--primary)":"var(--secondary)",color:R.category===lt?"white":"var(--text-main)",fontWeight:"800",transition:"all 0.2s"},children:lt},lt))}),y.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"12px",display:"block"},children:"PRICE LEVEL"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",marginBottom:"24px"},children:[1,2,3,4].map(lt=>y.jsx("button",{onClick:()=>z({...R,price:lt}),style:{padding:"14px",borderRadius:"18px",border:"none",background:R.price===lt?"var(--primary)":"var(--secondary)",color:R.price===lt?"white":"var(--text-main)",fontWeight:"800",transition:"all 0.2s"},children:"".repeat(lt)},lt))}),y.jsx(lu,{onClick:V,style:{width:"100%",padding:"18px",borderRadius:"24px",justifyContent:"center"},children:"Continue"})]},"step1"),l===2&&y.jsxs(kt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[y.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"Location "}),y.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px"},children:[y.jsxs("button",{onClick:K,style:{flex:1,padding:"14px",borderRadius:"18px",border:"none",background:"#ECFDF5",color:"#10B981",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[y.jsx(OM,{size:18})," GPS"]}),y.jsxs("button",{onClick:()=>w(!0),style:{flex:1,padding:"14px",borderRadius:"18px",border:"none",background:"#EFF6FF",color:"#3B82F6",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[y.jsx(Ag,{size:18})," Map"]})]}),y.jsx("input",{type:"text",placeholder:"Location address...",value:R.location_text,onChange:lt=>z({...R,location_text:lt.target.value}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"20px"}}),y.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[y.jsx("button",{onClick:F,style:{flex:1,padding:"18px",borderRadius:"24px",background:"var(--secondary)",border:"none",fontWeight:"800"},children:"Back"}),y.jsx(lu,{onClick:V,style:{flex:2,padding:"18px",borderRadius:"24px",justifyContent:"center"},children:"Next"})]})]},"step2"),l===3&&y.jsxs(kt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[y.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"Socials & Details "}),y.jsx("textarea",{placeholder:"Add a juicy description...",value:R.description,onChange:lt=>z({...R,description:lt.target.value}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"16px",minHeight:"100px"}}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"16px"},children:[y.jsx("input",{placeholder:"WhatsApp Number",value:R.whatsapp,onChange:lt=>z({...R,whatsapp:lt.target.value}),style:{padding:"14px",borderRadius:"16px",background:"var(--secondary)",border:"none",fontWeight:"700"}}),y.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",flex:1},children:[y.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"800",color:"var(--text-muted)"},children:"Opening"}),y.jsx("input",{type:"time",value:R.opening_time,onChange:lt=>z({...R,opening_time:lt.target.value}),style:{padding:"12px",borderRadius:"14px",background:"var(--secondary)",border:"none",fontWeight:"700"}})]}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",flex:1},children:[y.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"800",color:"var(--text-muted)"},children:"Closing"}),y.jsx("input",{type:"time",value:R.closing_time,onChange:lt=>z({...R,closing_time:lt.target.value}),style:{padding:"12px",borderRadius:"14px",background:"var(--secondary)",border:"none",fontWeight:"700"}})]})]})]}),y.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"INSTAGRAM"}),y.jsx("input",{placeholder:"Insta @user or instagram.com/user",value:R.instagram,onChange:lt=>z({...R,instagram:lt.target.value}),style:{width:"100%",padding:"14px",borderRadius:"16px",background:"var(--secondary)",border:"none",fontWeight:"700",marginBottom:"16px"}}),y.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"TAGS"}),y.jsx("input",{type:"text",placeholder:"e.g. burger, spicy, budget-friendly",onChange:lt=>z({...R,tags:lt.target.value.split(",").map(dt=>dt.trim())}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"20px"}}),y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("button",{onClick:F,style:{flex:1,padding:"18px",borderRadius:"24px",background:"var(--secondary)",border:"none",fontWeight:"800"},children:"Back"}),y.jsx(lu,{onClick:V,style:{flex:2,padding:"18px",borderRadius:"24px",justifyContent:"center"},children:"Next"})]})]},"step3"),l===4&&y.jsxs(kt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[y.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"Photos "}),y.jsxs("div",{onClick:()=>a.current.click(),style:{border:"2px dashed #ddd",borderRadius:"24px",padding:"30px",textAlign:"center",background:"var(--secondary)",cursor:"pointer",marginBottom:"20px"},children:[y.jsx("input",{type:"file",multiple:!0,ref:a,onChange:ft,style:{display:"none"}}),g?y.jsx(rd,{className:"animate-spin",size:30,color:"var(--primary)"}):y.jsx(id,{size:40,color:"var(--primary)"}),y.jsx("p",{style:{fontWeight:"800",marginTop:"10px",fontSize:"0.9rem"},children:"Upload up to 5 photos"})]}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"20px"},children:R.images.map((lt,dt)=>y.jsx("div",{style:{width:"100%",paddingTop:"100%",position:"relative",borderRadius:"14px",overflow:"hidden"},children:y.jsx("img",{src:lt,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})},dt))}),y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("button",{onClick:F,style:{flex:1,padding:"18px",borderRadius:"24px",background:"var(--secondary)",border:"none",fontWeight:"800"},children:"Back"}),y.jsx("button",{onClick:vt,disabled:d,style:{flex:2,padding:"18px",borderRadius:"24px",background:"var(--primary)",color:"white",border:"none",fontWeight:"900",fontSize:"1.1rem",boxShadow:"var(--shadow-md)"},children:d?"Submitting...":"Post Spot "})]})]},"step4")]})})]})]})};function hS(n,e){const r=j.useRef(e);j.useEffect(function(){e!==r.current&&n.attributionControl!=null&&(r.current!=null&&n.attributionControl.removeAttribution(r.current),e!=null&&n.attributionControl.addAttribution(e)),r.current=e},[n,e])}const VL=1;function HL(n){return Object.freeze({__version:VL,map:n})}function qL(n,e){return Object.freeze({...n,...e})}const jg=j.createContext(null);function dS(){const n=j.use(jg);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function FL(n){function e(r,a){const{instance:l,context:h}=n(r).current;j.useImperativeHandle(a,()=>l);const{children:d}=r;return d==null?null:ss.createElement(jg,{value:h},d)}return j.forwardRef(e)}function $L(n){function e(r,a){const[l,h]=j.useState(!1),{instance:d}=n(r,h).current;j.useImperativeHandle(a,()=>d),j.useEffect(function(){l&&d.update()},[d,l,r.children]);const m=d._contentNode;return m?pE.createPortal(r.children,m):null}return j.forwardRef(e)}function WL(n){function e(r,a){const{instance:l}=n(r).current;return j.useImperativeHandle(a,()=>l),null}return j.forwardRef(e)}function fS(n,e){const r=j.useRef(void 0);j.useEffect(function(){return e!=null&&n.instance.on(e),r.current=e,function(){r.current!=null&&n.instance.off(r.current),r.current=null}},[n,e])}function Rg(n,e){const r=n.pane??e.pane;return r?{...n,pane:r}:n}function ZL(n,e){return function(a,l){const h=dS(),d=n(Rg(a,h),h);return hS(h.map,a.attribution),fS(d.current,a.eventHandlers),e(d.current,h,a,l),d}}var iu={exports:{}};var GL=iu.exports,Px;function KL(){return Px||(Px=1,(function(n,e){(function(r,a){a(e)})(GL,(function(r){var a="1.9.4";function l(s){var u,f,x,S;for(f=1,x=arguments.length;f<x;f++){S=arguments[f];for(u in S)s[u]=S[u]}return s}var h=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function d(s,u){var f=Array.prototype.slice;if(s.bind)return s.bind.apply(s,f.call(arguments,1));var x=f.call(arguments,2);return function(){return s.apply(u,x.length?x.concat(f.call(arguments)):arguments)}}var m=0;function g(s){return"_leaflet_id"in s||(s._leaflet_id=++m),s._leaflet_id}function _(s,u,f){var x,S,A,B;return B=function(){x=!1,S&&(A.apply(f,S),S=!1)},A=function(){x?S=arguments:(s.apply(f,arguments),setTimeout(B,u),x=!0)},A}function b(s,u,f){var x=u[1],S=u[0],A=x-S;return s===x&&f?s:((s-S)%A+A)%A+S}function w(){return!1}function E(s,u){if(u===!1)return s;var f=Math.pow(10,u===void 0?6:u);return Math.round(s*f)/f}function C(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function M(s){return C(s).split(/\s+/)}function O(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var f in u)s.options[f]=u[f];return s.options}function R(s,u,f){var x=[];for(var S in s)x.push(encodeURIComponent(f?S.toUpperCase():S)+"="+encodeURIComponent(s[S]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function N(s,u){return s.replace(z,function(f,x){var S=u[x];if(S===void 0)throw new Error("No value provided for variable "+f);return typeof S=="function"&&(S=S(u)),S})}var D=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function V(s,u){for(var f=0;f<s.length;f++)if(s[f]===u)return f;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Q=0;function ft(s){var u=+new Date,f=Math.max(0,16-(u-Q));return Q=u+f,window.setTimeout(s,f)}var vt=window.requestAnimationFrame||K("RequestAnimationFrame")||ft,lt=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function dt(s,u,f){if(f&&vt===ft)s.call(u);else return vt.call(window,d(s,u))}function yt(s){s&&lt.call(window,s)}var Qt={__proto__:null,extend:l,create:h,bind:d,get lastId(){return m},stamp:g,throttle:_,wrapNum:b,falseFn:w,formatNum:E,trim:C,splitWords:M,setOptions:O,getParamString:R,template:N,isArray:D,indexOf:V,emptyImageUrl:F,requestFn:vt,cancelFn:lt,requestAnimFrame:dt,cancelAnimFrame:yt};function Wt(){}Wt.extend=function(s){var u=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=u.__super__=this.prototype,x=h(f);x.constructor=u,u.prototype=x;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return s.statics&&l(u,s.statics),s.includes&&(ut(s.includes),l.apply(null,[x].concat(s.includes))),l(x,s),delete x.statics,delete x.includes,x.options&&(x.options=f.options?h(f.options):{},l(x.options,s.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,B=x._initHooks.length;A<B;A++)x._initHooks[A].call(this)}},u},Wt.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},Wt.mergeOptions=function(s){return l(this.prototype.options,s),this},Wt.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),f=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function ut(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=D(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(s,u,f){if(typeof s=="object")for(var x in s)this._on(x,s[x],u);else{s=M(s);for(var S=0,A=s.length;S<A;S++)this._on(s[S],u,f)}return this},off:function(s,u,f){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var x in s)this._off(x,s[x],u);else{s=M(s);for(var S=arguments.length===1,A=0,B=s.length;A<B;A++)S?this._off(s[A]):this._off(s[A],u,f)}return this},_on:function(s,u,f,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,f)===!1){f===this&&(f=void 0);var S={fn:u,ctx:f};x&&(S.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(S)}},_off:function(s,u,f){var x,S,A;if(this._events&&(x=this._events[s],!!x)){if(arguments.length===1){if(this._firingCount)for(S=0,A=x.length;S<A;S++)x[S].fn=w;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var B=this._listens(s,u,f);if(B!==!1){var q=x[B];this._firingCount&&(q.fn=w,this._events[s]=x=x.slice()),x.splice(B,1)}}},fire:function(s,u,f){if(!this.listens(s,f))return this;var x=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[s];if(S){this._firingCount=this._firingCount+1||1;for(var A=0,B=S.length;A<B;A++){var q=S[A],X=q.fn;q.once&&this.off(s,X,q.ctx),X.call(q.ctx||this,x)}this._firingCount--}}return f&&this._propagateEvent(x),this},listens:function(s,u,f,x){typeof s!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(x=!!u,S=void 0,f=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,S,f)!==!1)return!0;if(x){for(var B in this._eventParents)if(this._eventParents[B].listens(s,u,f,x))return!0}return!1},_listens:function(s,u,f){if(!this._events)return!1;var x=this._events[s]||[];if(!u)return!!x.length;f===this&&(f=void 0);for(var S=0,A=x.length;S<A;S++)if(x[S].fn===u&&x[S].ctx===f)return S;return!1},once:function(s,u,f){if(typeof s=="object")for(var x in s)this._on(x,s[x],u,!0);else{s=M(s);for(var S=0,A=s.length;S<A;S++)this._on(s[S],u,f,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[g(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[g(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var rt=Wt.extend($);function nt(s,u,f){this.x=f?Math.round(s):s,this.y=f?Math.round(u):u}var Lt=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};nt.prototype={clone:function(){return new nt(this.x,this.y)},add:function(s){return this.clone()._add(mt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(mt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new nt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new nt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Lt(this.x),this.y=Lt(this.y),this},distanceTo:function(s){s=mt(s);var u=s.x-this.x,f=s.y-this.y;return Math.sqrt(u*u+f*f)},equals:function(s){return s=mt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=mt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function mt(s,u,f){return s instanceof nt?s:D(s)?new nt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new nt(s.x,s.y):new nt(s,u,f)}function P(s,u){if(s)for(var f=u?[s,u]:s,x=0,S=f.length;x<S;x++)this.extend(f[x])}P.prototype={extend:function(s){var u,f;if(!s)return this;if(s instanceof nt||typeof s[0]=="number"||"x"in s)u=f=mt(s);else if(s=Y(s),u=s.min,f=s.max,!u||!f)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=f.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(s){return mt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return mt(this.min.x,this.max.y)},getTopRight:function(){return mt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,f;return typeof s[0]=="number"||s instanceof nt?s=mt(s):s=Y(s),s instanceof P?(u=s.min,f=s.max):u=f=s,u.x>=this.min.x&&f.x<=this.max.x&&u.y>=this.min.y&&f.y<=this.max.y},intersects:function(s){s=Y(s);var u=this.min,f=this.max,x=s.min,S=s.max,A=S.x>=u.x&&x.x<=f.x,B=S.y>=u.y&&x.y<=f.y;return A&&B},overlaps:function(s){s=Y(s);var u=this.min,f=this.max,x=s.min,S=s.max,A=S.x>u.x&&x.x<f.x,B=S.y>u.y&&x.y<f.y;return A&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,f=this.max,x=Math.abs(u.x-f.x)*s,S=Math.abs(u.y-f.y)*s;return Y(mt(u.x-x,u.y-S),mt(f.x+x,f.y+S))},equals:function(s){return s?(s=Y(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Y(s,u){return!s||s instanceof P?s:new P(s,u)}function ct(s,u){if(s)for(var f=u?[s,u]:s,x=0,S=f.length;x<S;x++)this.extend(f[x])}ct.prototype={extend:function(s){var u=this._southWest,f=this._northEast,x,S;if(s instanceof ot)x=s,S=s;else if(s instanceof ct){if(x=s._southWest,S=s._northEast,!x||!S)return this}else return s?this.extend(ht(s)||W(s)):this;return!u&&!f?(this._southWest=new ot(x.lat,x.lng),this._northEast=new ot(S.lat,S.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),f.lat=Math.max(S.lat,f.lat),f.lng=Math.max(S.lng,f.lng)),this},pad:function(s){var u=this._southWest,f=this._northEast,x=Math.abs(u.lat-f.lat)*s,S=Math.abs(u.lng-f.lng)*s;return new ct(new ot(u.lat-x,u.lng-S),new ot(f.lat+x,f.lng+S))},getCenter:function(){return new ot((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ot(this.getNorth(),this.getWest())},getSouthEast:function(){return new ot(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ot||"lat"in s?s=ht(s):s=W(s);var u=this._southWest,f=this._northEast,x,S;return s instanceof ct?(x=s.getSouthWest(),S=s.getNorthEast()):x=S=s,x.lat>=u.lat&&S.lat<=f.lat&&x.lng>=u.lng&&S.lng<=f.lng},intersects:function(s){s=W(s);var u=this._southWest,f=this._northEast,x=s.getSouthWest(),S=s.getNorthEast(),A=S.lat>=u.lat&&x.lat<=f.lat,B=S.lng>=u.lng&&x.lng<=f.lng;return A&&B},overlaps:function(s){s=W(s);var u=this._southWest,f=this._northEast,x=s.getSouthWest(),S=s.getNorthEast(),A=S.lat>u.lat&&x.lat<f.lat,B=S.lng>u.lng&&x.lng<f.lng;return A&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=W(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function W(s,u){return s instanceof ct?s:new ct(s,u)}function ot(s,u,f){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,f!==void 0&&(this.alt=+f)}ot.prototype={equals:function(s,u){if(!s)return!1;s=ht(s);var f=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return f<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+E(this.lat,s)+", "+E(this.lng,s)+")"},distanceTo:function(s){return Zt.distance(this,ht(s))},wrap:function(){return Zt.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,f=u/Math.cos(Math.PI/180*this.lat);return W([this.lat-u,this.lng-f],[this.lat+u,this.lng+f])},clone:function(){return new ot(this.lat,this.lng,this.alt)}};function ht(s,u,f){return s instanceof ot?s:D(s)&&typeof s[0]!="object"?s.length===3?new ot(s[0],s[1],s[2]):s.length===2?new ot(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ot(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new ot(s,u,f)}var _t={latLngToPoint:function(s,u){var f=this.projection.project(s),x=this.scale(u);return this.transformation._transform(f,x)},pointToLatLng:function(s,u){var f=this.scale(u),x=this.transformation.untransform(s,f);return this.projection.unproject(x)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,f=this.scale(s),x=this.transformation.transform(u.min,f),S=this.transformation.transform(u.max,f);return new P(x,S)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?b(s.lng,this.wrapLng,!0):s.lng,f=this.wrapLat?b(s.lat,this.wrapLat,!0):s.lat,x=s.alt;return new ot(f,u,x)},wrapLatLngBounds:function(s){var u=s.getCenter(),f=this.wrapLatLng(u),x=u.lat-f.lat,S=u.lng-f.lng;if(x===0&&S===0)return s;var A=s.getSouthWest(),B=s.getNorthEast(),q=new ot(A.lat-x,A.lng-S),X=new ot(B.lat-x,B.lng-S);return new ct(q,X)}},Zt=l({},_t,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var f=Math.PI/180,x=s.lat*f,S=u.lat*f,A=Math.sin((u.lat-s.lat)*f/2),B=Math.sin((u.lng-s.lng)*f/2),q=A*A+Math.cos(x)*Math.cos(S)*B*B,X=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*X}}),ee=6378137,Ge={R:ee,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,f=this.MAX_LATITUDE,x=Math.max(Math.min(f,s.lat),-f),S=Math.sin(x*u);return new nt(this.R*s.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(s){var u=180/Math.PI;return new ot((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=ee*Math.PI;return new P([-s,-s],[s,s])})()};function mn(s,u,f,x){if(D(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=f,this._d=x}mn.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new nt((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function ce(s,u,f,x){return new mn(s,u,f,x)}var ya=l({},Zt,{code:"EPSG:3857",projection:Ge,transformation:(function(){var s=.5/(Math.PI*Ge.R);return ce(s,.5,-s,.5)})()}),Ii=l({},ya,{code:"EPSG:900913"});function va(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function _a(s,u){var f="",x,S,A,B,q,X;for(x=0,A=s.length;x<A;x++){for(q=s[x],S=0,B=q.length;S<B;S++)X=q[S],f+=(S?"L":"M")+X.x+" "+X.y;f+=u?St.svg?"z":"x":""}return f||"M0 0"}var Uo=document.documentElement.style,hs="ActiveXObject"in window,Io=hs&&!document.addEventListener,xa="msLaunchUri"in navigator&&!("documentMode"in document),ds=gn("webkit"),Ru=gn("android"),Ou=gn("android 2")||gn("android 3"),un=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ud=Ru&&gn("Google")&&un<537&&!("AudioNode"in window),ba=!!window.opera,Vo=!xa&&gn("chrome"),fs=gn("gecko")&&!ds&&!ba&&!hs,cd=!Vo&&gn("safari"),Ho=gn("phantom"),ku="OTransition"in Uo,hd=navigator.platform.indexOf("Win")===0,vr=hs&&"transition"in Uo,Ke="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ou,ri="MozPerspective"in Uo,cn=!window.L_DISABLE_3D&&(vr||Ke||ri)&&!ku&&!Ho,ps=typeof orientation<"u"||gn("mobile"),dd=ps&&ds,fd=ps&&Ke,ms=!window.PointerEvent&&window.MSPointerEvent,gs=!!(window.PointerEvent||ms),ys="ontouchstart"in window||!!window.TouchEvent,Vi=!window.L_NO_TOUCH&&(ys||gs),wa=ps&&ba,vs=ps&&fs,pd=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mu=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return s})(),qo=(function(){return!!document.createElement("canvas").getContext})(),Hi=!!(document.createElementNS&&va("svg").createSVGRect),md=!!Hi&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Lu=!Hi&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Pu=navigator.platform.indexOf("Mac")===0,Du=navigator.platform.indexOf("Linux")===0;function gn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var St={ie:hs,ielt9:Io,edge:xa,webkit:ds,android:Ru,android23:Ou,androidStock:ud,opera:ba,chrome:Vo,gecko:fs,safari:cd,phantom:Ho,opera12:ku,win:hd,ie3d:vr,webkit3d:Ke,gecko3d:ri,any3d:cn,mobile:ps,mobileWebkit:dd,mobileWebkit3d:fd,msPointer:ms,pointer:gs,touch:Vi,touchNative:ys,mobileOpera:wa,mobileGecko:vs,retina:pd,passiveEvents:Mu,canvas:qo,svg:Hi,vml:Lu,inlineSvg:md,mac:Pu,linux:Du},Fo=St.msPointer?"MSPointerDown":"pointerdown",$o=St.msPointer?"MSPointerMove":"pointermove",si=St.msPointer?"MSPointerUp":"pointerup",Oe=St.msPointer?"MSPointerCancel":"pointercancel",Fe={touchstart:Fo,touchmove:$o,touchend:si,touchcancel:Oe},qi={touchstart:xr,touchmove:wi,touchend:wi,touchcancel:wi},bi={},zu=!1;function gd(s,u,f){return u==="touchstart"&&_r(),qi[u]?(f=qi[u].bind(this,f),s.addEventListener(Fe[u],f,!1),f):(console.warn("wrong event specified:",u),w)}function Bu(s,u,f){if(!Fe[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Fe[u],f,!1)}function _s(s){bi[s.pointerId]=s}function Wo(s){bi[s.pointerId]&&(bi[s.pointerId]=s)}function Fi(s){delete bi[s.pointerId]}function _r(){zu||(document.addEventListener(Fo,_s,!0),document.addEventListener($o,Wo,!0),document.addEventListener(si,Fi,!0),document.addEventListener(Oe,Fi,!0),zu=!0)}function wi(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var f in bi)u.touches.push(bi[f]);u.changedTouches=[u],s(u)}}function xr(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&we(u),wi(s,u)}function ke(s){var u={},f,x;for(x in s)f=s[x],u[x]=f&&f.bind?f.bind(s):f;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Nu=200;function Uu(s,u){s.addEventListener("dblclick",u);var f=0,x;function S(A){if(A.detail!==1){x=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var B=Cs(A);if(!(B.some(function(X){return X instanceof HTMLLabelElement&&X.attributes.for})&&!B.some(function(X){return X instanceof HTMLInputElement||X instanceof HTMLSelectElement}))){var q=Date.now();q-f<=Nu?(x++,x===2&&u(ke(A))):x=1,f=q}}}return s.addEventListener("click",S),{dblclick:u,simDblclick:S}}function $i(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var Si=ws(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xs=ws(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zo=xs==="webkitTransition"||xs==="OTransition"?xs+"End":"transitionend";function Go(s){return typeof s=="string"?document.getElementById(s):s}function bs(s,u){var f=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!f||f==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(s,null);f=x?x[u]:null}return f==="auto"?null:f}function Ut(s,u,f){var x=document.createElement(s);return x.className=u||"",f&&f.appendChild(x),x}function re(s){var u=s.parentNode;u&&u.removeChild(s)}function yn(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ue(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Wi(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Ko(s,u){if(s.classList!==void 0)return s.classList.contains(u);var f=Sa(s);return f.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(f)}function Pt(s,u){if(s.classList!==void 0)for(var f=M(u),x=0,S=f.length;x<S;x++)s.classList.add(f[x]);else if(!Ko(s,u)){var A=Sa(s);br(s,(A?A+" ":"")+u)}}function pe(s,u){s.classList!==void 0?s.classList.remove(u):br(s,C((" "+Sa(s)+" ").replace(" "+u+" "," ")))}function br(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Sa(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function de(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Yo(s,u)}function Yo(s,u){var f=!1,x="DXImageTransform.Microsoft.Alpha";try{f=s.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),f?(f.Enabled=u!==100,f.Opacity=u):s.style.filter+=" progid:"+x+"(opacity="+u+")"}function ws(s){for(var u=document.documentElement.style,f=0;f<s.length;f++)if(s[f]in u)return s[f];return!1}function ai(s,u,f){var x=u||new nt(0,0);s.style[Si]=(St.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(f?" scale("+f+")":"")}function le(s,u){s._leaflet_pos=u,St.any3d?ai(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Ti(s){return s._leaflet_pos||new nt(0,0)}var wr,Hn,Xo;if("onselectstart"in document)wr=function(){Ot(window,"selectstart",we)},Hn=function(){te(window,"selectstart",we)};else{var Sr=ws(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wr=function(){if(Sr){var s=document.documentElement.style;Xo=s[Sr],s[Sr]="none"}},Hn=function(){Sr&&(document.documentElement.style[Sr]=Xo,Xo=void 0)}}function Ta(){Ot(window,"dragstart",we)}function Ss(){te(window,"dragstart",we)}var Ea,Jo;function Tr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(vn(),Ea=s,Jo=s.style.outlineStyle,s.style.outlineStyle="none",Ot(window,"keydown",vn))}function vn(){Ea&&(Ea.style.outlineStyle=Jo,Ea=void 0,Jo=void 0,te(window,"keydown",vn))}function Ca(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ts(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var Er={__proto__:null,TRANSFORM:Si,TRANSITION:xs,TRANSITION_END:Zo,get:Go,getStyle:bs,create:Ut,remove:re,empty:yn,toFront:Ue,toBack:Wi,hasClass:Ko,addClass:Pt,removeClass:pe,setClass:br,getClass:Sa,setOpacity:de,testProp:ws,setTransform:ai,setPosition:le,getPosition:Ti,get disableTextSelection(){return wr},get enableTextSelection(){return Hn},disableImageDrag:Ta,enableImageDrag:Ss,preventOutline:Tr,restoreOutline:vn,getSizedParentNode:Ca,getScale:Ts};function Ot(s,u,f,x){if(u&&typeof u=="object")for(var S in u)Mn(s,S,u[S],f);else{u=M(u);for(var A=0,B=u.length;A<B;A++)Mn(s,u[A],f,x)}return this}var kn="_leaflet_events";function te(s,u,f,x){if(arguments.length===1)Qo(s),delete s[kn];else if(u&&typeof u=="object")for(var S in u)Es(s,S,u[S],f);else if(u=M(u),arguments.length===2)Qo(s,function(q){return V(u,q)!==-1});else for(var A=0,B=u.length;A<B;A++)Es(s,u[A],f,x);return this}function Qo(s,u){for(var f in s[kn]){var x=f.split(/\d/)[0];(!u||u(x))&&Es(s,x,null,null,f)}}var Zi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mn(s,u,f,x){var S=u+g(f)+(x?"_"+g(x):"");if(s[kn]&&s[kn][S])return this;var A=function(q){return f.call(x||s,q||window.event)},B=A;!St.touchNative&&St.pointer&&u.indexOf("touch")===0?A=gd(s,u,A):St.touch&&u==="dblclick"?A=Uu(s,A):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Zi[u]||u,A,St.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(q){q=q||window.event,oi(s,q)&&B(q)},s.addEventListener(Zi[u],A,!1)):s.addEventListener(u,B,!1):s.attachEvent("on"+u,A),s[kn]=s[kn]||{},s[kn][S]=A}function Es(s,u,f,x,S){S=S||u+g(f)+(x?"_"+g(x):"");var A=s[kn]&&s[kn][S];if(!A)return this;!St.touchNative&&St.pointer&&u.indexOf("touch")===0?Bu(s,u,A):St.touch&&u==="dblclick"?$i(s,A):"removeEventListener"in s?s.removeEventListener(Zi[u]||u,A,!1):s.detachEvent("on"+u,A),s[kn][S]=null}function Ln(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function qn(s){return Mn(s,"wheel",Ln),this}function Gi(s){return Ot(s,"mousedown touchstart dblclick contextmenu",Ln),s._leaflet_disable_click=!0,this}function we(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ei(s){return we(s),Ln(s),this}function Cs(s){if(s.composedPath)return s.composedPath();for(var u=[],f=s.target;f;)u.push(f),f=f.parentNode;return u}function As(s,u){if(!u)return new nt(s.clientX,s.clientY);var f=Ts(u),x=f.boundingClientRect;return new nt((s.clientX-x.left)/f.x-u.clientLeft,(s.clientY-x.top)/f.y-u.clientTop)}var Iu=St.linux&&St.chrome?window.devicePixelRatio:St.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ye(s){return St.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Iu:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function oi(s,u){var f=u.relatedTarget;if(!f)return!0;try{for(;f&&f!==s;)f=f.parentNode}catch{return!1}return f!==s}var Aa={__proto__:null,on:Ot,off:te,stopPropagation:Ln,disableScrollPropagation:qn,disableClickPropagation:Gi,preventDefault:we,stop:Ei,getPropagationPath:Cs,getMousePosition:As,getWheelDelta:Ye,isExternalTarget:oi,addListener:Ot,removeListener:te},Cr=rt.extend({run:function(s,u,f,x){this.stop(),this._el=s,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Ti(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=dt(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,f=this._duration*1e3;u<f?this._runFrame(this._easeOut(u/f),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var f=this._startPos.add(this._offset.multiplyBy(s));u&&f._round(),le(this._el,f),this.fire("step")},_complete:function(){yt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),qt=rt.extend({options:{crs:ya,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=O(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(ht(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=xs&&St.any3d&&!St.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ot(this._proxy,Zo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,f){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(ht(s),u,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=l({animate:f.animate},f.zoom),f.pan=l({animate:f.animate,duration:f.duration},f.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,f.zoom):this._tryAnimatedPan(s,f.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,f.pan&&f.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,f){var x=this.getZoomScale(u),S=this.getSize().divideBy(2),A=s instanceof nt?s:this.latLngToContainerPoint(s),B=A.subtract(S).multiplyBy(1-1/x),q=this.containerPointToLatLng(S.add(B));return this.setView(q,u,{zoom:f})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():W(s);var f=mt(u.paddingTopLeft||u.padding||[0,0]),x=mt(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(s,!1,f.add(x));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:s.getCenter(),zoom:S};var A=x.subtract(f).divideBy(2),B=this.project(s.getSouthWest(),S),q=this.project(s.getNorthEast(),S),X=this.unproject(B.add(q).divideBy(2).add(A),S);return{center:X,zoom:S}},fitBounds:function(s,u){if(s=W(s),!s.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(s,u);return this.setView(f.center,f.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=mt(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,f,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,f){if(f=f||{},f.animate===!1||!St.any3d)return this.setView(s,u,f);this._stop();var x=this.project(this.getCenter()),S=this.project(s),A=this.getSize(),B=this._zoom;s=ht(s),u=u===void 0?B:u;var q=Math.max(A.x,A.y),X=q*this.getZoomScale(B,u),st=S.distanceTo(x)||1,gt=1.42,Et=gt*gt;function Bt(_e){var hi=_e?-1:1,Ji=_e?X:q,pl=X*X-q*q+hi*Et*Et*st*st,qs=2*Ji*Et*st,Fs=pl/qs,Pi=Math.sqrt(Fs*Fs+1)-Fs,di=Pi<1e-9?-18:Math.log(Pi);return di}function Ie(_e){return(Math.exp(_e)-Math.exp(-_e))/2}function Se(_e){return(Math.exp(_e)+Math.exp(-_e))/2}function dn(_e){return Ie(_e)/Se(_e)}var Gt=Bt(0);function Kt(_e){return q*(Se(Gt)/Se(Gt+gt*_e))}function It(_e){return q*(Se(Gt)*dn(Gt+gt*_e)-Ie(Gt))/Et}function Mi(_e){return 1-Math.pow(1-_e,1.5)}var wn=Date.now(),Va=(Bt(1)-Gt)/gt,Li=f.duration?1e3*f.duration:1e3*Va*.8;function fl(){var _e=(Date.now()-wn)/Li,hi=Mi(_e)*Va;_e<=1?(this._flyToFrame=dt(fl,this),this._move(this.unproject(x.add(S.subtract(x).multiplyBy(It(hi)/st)),B),this.getScaleZoom(q/Kt(hi),B),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),fl.call(this),this},flyToBounds:function(s,u){var f=this._getBoundsCenterZoom(s,u);return this.flyTo(f.center,f.zoom,u)},setMaxBounds:function(s){return s=W(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var f=this.getCenter(),x=this._limitCenter(f,this._zoom,W(s));return f.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var f=mt(u.paddingTopLeft||u.padding||[0,0]),x=mt(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),A=this.project(s),B=this.getPixelBounds(),q=Y([B.min.add(f),B.max.subtract(x)]),X=q.getSize();if(!q.contains(A)){this._enforcingBounds=!0;var st=A.subtract(q.getCenter()),gt=q.extend(A).getSize().subtract(X);S.x+=st.x<0?-gt.x:gt.x,S.y+=st.y<0?-gt.y:gt.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),x=u.divideBy(2).round(),S=f.divideBy(2).round(),A=x.subtract(S);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),f=d(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,f,s):navigator.geolocation.getCurrentPosition(u,f,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,f=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,f=s.coords.longitude,x=new ot(u,f),S=x.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var B=this.getBoundsZoom(S);this.setView(x,A.maxZoom?Math.min(B,A.maxZoom):B)}var q={latlng:x,bounds:S,timestamp:s.timestamp};for(var X in s.coords)typeof s.coords[X]=="number"&&(q[X]=s.coords[X]);this.fire("locationfound",q)}},addHandler:function(s,u){if(!u)return this;var f=this[s]=new u(this);return this._handlers.push(f),this.options[s]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),re(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(yt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)re(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var f="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),x=Ut("div",f,u||this._mapPane);return s&&(this._panes[s]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),f=this.unproject(s.getTopRight());return new ct(u,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,f){s=W(s),f=mt(f||[0,0]);var x=this.getZoom()||0,S=this.getMinZoom(),A=this.getMaxZoom(),B=s.getNorthWest(),q=s.getSouthEast(),X=this.getSize().subtract(f),st=Y(this.project(q,x),this.project(B,x)).getSize(),gt=St.any3d?this.options.zoomSnap:1,Et=X.x/st.x,Bt=X.y/st.y,Ie=u?Math.max(Et,Bt):Math.min(Et,Bt);return x=this.getScaleZoom(Ie,x),gt&&(x=Math.round(x/(gt/100))*(gt/100),x=u?Math.ceil(x/gt)*gt:Math.floor(x/gt)*gt),Math.max(S,Math.min(A,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new nt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var f=this._getTopLeftPoint(s,u);return new P(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var f=this.options.crs;return u=u===void 0?this._zoom:u,f.scale(s)/f.scale(u)},getScaleZoom:function(s,u){var f=this.options.crs;u=u===void 0?this._zoom:u;var x=f.zoom(s*f.scale(u));return isNaN(x)?1/0:x},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(ht(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(mt(s),u)},layerPointToLatLng:function(s){var u=mt(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(ht(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ht(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(W(s))},distance:function(s,u){return this.options.crs.distance(ht(s),ht(u))},containerPointToLayerPoint:function(s){return mt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return mt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(mt(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ht(s)))},mouseEventToContainerPoint:function(s){return As(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Go(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ot(u,"scroll",this._onScroll,this),this._containerId=g(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&St.any3d,Pt(s,"leaflet-container"+(St.touch?" leaflet-touch":"")+(St.retina?" leaflet-retina":"")+(St.ielt9?" leaflet-oldie":"")+(St.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=bs(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),le(this._mapPane,new nt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(s.markerPane,"leaflet-zoom-hide"),Pt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,f){le(this._mapPane,new nt(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,f)._move(s,u)._moveEnd(S),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,f,x){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),x?f&&f.pinch&&this.fire("zoom",f):((S||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return yt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){le(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[g(this._container)]=this;var u=s?te:Ot;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),St.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){yt(this._resizeRequest),this._resizeRequest=dt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var f=[],x,S=u==="mouseout"||u==="mouseover",A=s.target||s.srcElement,B=!1;A;){if(x=this._targets[g(A)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){B=!0;break}if(x&&x.listens(u,!0)&&(S&&!oi(A,s)||(f.push(x),S))||A===this._container)break;A=A.parentNode}return!f.length&&!B&&!S&&this.listens(u,!0)&&(f=[this]),f},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var f=s.type;f==="mousedown"&&Tr(u),this._fireDOMEvent(s,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,f){if(s.type==="click"){var x=l({},s);x.type="preclick",this._fireDOMEvent(x,x.type,f)}var S=this._findEventTargets(s,u);if(f){for(var A=[],B=0;B<f.length;B++)f[B].listens(u,!0)&&A.push(f[B]);S=A.concat(S)}if(S.length){u==="contextmenu"&&we(s);var q=S[0],X={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var st=q.getLatLng&&(!q._radius||q._radius<=10);X.containerPoint=st?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(s),X.layerPoint=this.containerPointToLayerPoint(X.containerPoint),X.latlng=st?q.getLatLng():this.layerPointToLatLng(X.layerPoint)}for(B=0;B<S.length;B++)if(S[B].fire(u,X,!0),X.originalEvent._stopped||S[B].options.bubblingMouseEvents===!1&&V(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Ti(this._mapPane)||new nt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var f=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var f=this.getSize()._divideBy(2);return this.project(s,u)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,f){var x=this._getNewPixelOrigin(f,u);return this.project(s,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(s,u,f){var x=this._getNewPixelOrigin(f,u);return Y([this.project(s.getSouthWest(),u)._subtract(x),this.project(s.getNorthWest(),u)._subtract(x),this.project(s.getSouthEast(),u)._subtract(x),this.project(s.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,f){if(!f)return s;var x=this.project(s,u),S=this.getSize().divideBy(2),A=new P(x.subtract(S),x.add(S)),B=this._getBoundsOffset(A,f,u);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?s:this.unproject(x.add(B),u)},_limitOffset:function(s,u){if(!u)return s;var f=this.getPixelBounds(),x=new P(f.min.add(s),f.max.add(s));return s.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(s,u,f){var x=Y(this.project(u.getNorthEast(),f),this.project(u.getSouthWest(),f)),S=x.min.subtract(s.min),A=x.max.subtract(s.max),B=this._rebound(S.x,-A.x),q=this._rebound(S.y,-A.y);return new nt(B,q)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),f=this.getMaxZoom(),x=St.any3d?this.options.zoomSnap:1;return x&&(s=Math.round(s/x)*x),Math.max(u,Math.min(f,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var f=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,u),!0)},_createAnimProxy:function(){var s=this._proxy=Ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var f=Si,x=this._proxy.style[f];ai(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){re(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();ai(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),S=this._getCenterOffset(s)._divideBy(1-1/x);return f.animate!==!0&&!this.getSize().contains(S)?!1:(dt(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,f,x){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function tl(s,u){return new qt(s,u)}var hn=Wt.extend({options:{position:"topright"},initialize:function(s){O(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),f=this.getPosition(),x=s._controlCorners[f];return Pt(u,"leaflet-control"),f.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(re(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),li=function(s){return new hn(s)};qt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",f=this._controlContainer=Ut("div",u+"control-container",this._container);function x(S,A){var B=u+S+" "+u+A;s[S+A]=Ut("div",B,f)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)re(this._controlCorners[s]);re(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var js=hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,f,x){return f<x?-1:x<f?1:0}},initialize:function(s,u,f){O(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in s)this._addLayer(s[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return hn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(g(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Ut("div",s),f=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Gi(u),qn(u);var x=this._section=Ut("section",s+"-list");f&&(this._map.on("click",this.collapse,this),Ot(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Ut("a",s+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ot(S,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){we(A),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Ut("div",s+"-base",x),this._separator=Ut("div",s+"-separator",x),this._overlaysList=Ut("div",s+"-overlays",x),u.appendChild(x)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&g(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,f){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:f}),this.options.sortLayers&&this._layers.sort(d(function(x,S){return this.options.sortFunction(x.layer,S.layer,x.name,S.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yn(this._baseLayersList),yn(this._overlaysList),this._layerControlInputs=[];var s,u,f,x,S=0;for(f=0;f<this._layers.length;f++)x=this._layers[f],this._addItem(x),u=u||x.overlay,s=s||!x.overlay,S+=x.overlay?0:1;return this.options.hideSingleBase&&(s=s&&S>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(g(s.target)),f=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;f&&this._map.fire(f,u)},_createRadioElement:function(s,u){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=f,x.firstChild},_addItem:function(s){var u=document.createElement("label"),f=this._map.hasLayer(s.layer),x;s.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=f):x=this._createRadioElement("leaflet-base-layers_"+g(this),f),this._layerControlInputs.push(x),x.layerId=g(s.layer),Ot(x,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+s.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(x),A.appendChild(S);var B=s.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,f,x=[],S=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)u=s[A],f=this._getLayer(u.layerId).layer,u.checked?x.push(f):u.checked||S.push(f);for(A=0;A<S.length;A++)this._map.hasLayer(S[A])&&this._map.removeLayer(S[A]);for(A=0;A<x.length;A++)this._map.hasLayer(x[A])||this._map.addLayer(x[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,f,x=this._map.getZoom(),S=s.length-1;S>=0;S--)u=s[S],f=this._getLayer(u.layerId).layer,u.disabled=f.options.minZoom!==void 0&&x<f.options.minZoom||f.options.maxZoom!==void 0&&x>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Ot(s,"click",we),this.expand();var u=this;setTimeout(function(){te(s,"click",we),u._preventClick=!1})}}),Vu=function(s,u,f){return new js(s,u,f)},el=hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",f=Ut("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",f,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,f,x,S){var A=Ut("a",f,x);return A.innerHTML=s,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),Gi(A),Ot(A,"click",Ei),Ot(A,"click",S,this),Ot(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";pe(this._zoomInButton,u),pe(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Pt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Pt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});qt.mergeOptions({zoomControl:!0}),qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new el,this.addControl(this.zoomControl))});var yd=function(s){return new el(s)},Hu=hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",f=Ut("div",u),x=this.options;return this._addScales(x,u+"-line",f),s.on(x.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),f},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,f){s.metric&&(this._mScale=Ut("div",u,f)),s.imperial&&(this._iScale=Ut("div",u,f))},_update:function(){var s=this._map,u=s.getSize().y/2,f=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(f)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),f=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,f,u/s)},_updateImperial:function(s){var u=s*3.2808399,f,x,S;u>5280?(f=u/5280,x=this._getRoundNum(f),this._updateScale(this._iScale,x+" mi",x/f)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(s,u,f){s.style.width=Math.round(this.options.maxWidth*f)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),f=s/u;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,u*f}}),nl=function(s){return new Hu(s)},vd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',il=hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(St.inlineSvg?vd+" ":"")+"Leaflet</a>"},initialize:function(s){O(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Ut("div","leaflet-control-attribution"),Gi(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var f=[];this.options.prefix&&f.push(this.options.prefix),s.length&&f.push(s.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});qt.mergeOptions({attributionControl:!0}),qt.addInitHook(function(){this.options.attributionControl&&new il().addTo(this)});var _d=function(s){return new il(s)};hn.Layers=js,hn.Zoom=el,hn.Scale=Hu,hn.Attribution=il,li.layers=Vu,li.zoom=yd,li.scale=nl,li.attribution=_d;var Fn=Wt.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Fn.addTo=function(s,u){return s.addHandler(u,this),this};var xd={Events:$},rl=St.touch?"touchstart mousedown":"mousedown",Ci=rt.extend({options:{clickTolerance:3},initialize:function(s,u,f,x){O(this,x),this._element=s,this._dragStartTarget=u||s,this._preventOutline=f},enable:function(){this._enabled||(Ot(this._dragStartTarget,rl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ci._dragging===this&&this.finishDrag(!0),te(this._dragStartTarget,rl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ko(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ci._dragging===this&&this.finishDrag();return}if(!(Ci._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ci._dragging=this,this._preventOutline&&Tr(this._element),Ta(),wr(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,f=Ca(this._element);this._startPoint=new nt(u.clientX,u.clientY),this._startPos=Ti(this._element),this._parentScale=Ts(f);var x=s.type==="mousedown";Ot(document,x?"mousemove":"touchmove",this._onMove,this),Ot(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,f=new nt(u.clientX,u.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,we(s),this._moved||(this.fire("dragstart"),this._moved=!0,Pt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),le(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){pe(document.body,"leaflet-dragging"),this._lastTarget&&(pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),te(document,"mousemove touchmove",this._onMove,this),te(document,"mouseup touchend touchcancel",this._onUp,this),Ss(),Hn();var u=this._moved&&this._moving;this._moving=!1,Ci._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function qu(s,u,f){var x,S=[1,4,2,8],A,B,q,X,st,gt,Et,Bt;for(A=0,gt=s.length;A<gt;A++)s[A]._code=Ki(s[A],u);for(q=0;q<4;q++){for(Et=S[q],x=[],A=0,gt=s.length,B=gt-1;A<gt;B=A++)X=s[A],st=s[B],X._code&Et?st._code&Et||(Bt=ja(st,X,Et,u,f),Bt._code=Ki(Bt,u),x.push(Bt)):(st._code&Et&&(Bt=ja(st,X,Et,u,f),Bt._code=Ki(Bt,u),x.push(Bt)),x.push(X));s=x}return s}function Fu(s,u){var f,x,S,A,B,q,X,st,gt;if(!s||s.length===0)throw new Error("latlngs not passed");_n(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Et=ht([0,0]),Bt=W(s),Ie=Bt.getNorthWest().distanceTo(Bt.getSouthWest())*Bt.getNorthEast().distanceTo(Bt.getNorthWest());Ie<1700&&(Et=sl(s));var Se=s.length,dn=[];for(f=0;f<Se;f++){var Gt=ht(s[f]);dn.push(u.project(ht([Gt.lat-Et.lat,Gt.lng-Et.lng])))}for(q=X=st=0,f=0,x=Se-1;f<Se;x=f++)S=dn[f],A=dn[x],B=S.y*A.x-A.y*S.x,X+=(S.x+A.x)*B,st+=(S.y+A.y)*B,q+=B*3;q===0?gt=dn[0]:gt=[X/q,st/q];var Kt=u.unproject(mt(gt));return ht([Kt.lat+Et.lat,Kt.lng+Et.lng])}function sl(s){for(var u=0,f=0,x=0,S=0;S<s.length;S++){var A=ht(s[S]);u+=A.lat,f+=A.lng,x++}return ht([u/x,f/x])}var al={__proto__:null,clipPolygon:qu,polygonCenter:Fu,centroid:sl};function $u(s,u){if(!u||!s.length)return s.slice();var f=u*u;return s=wd(s,f),s=Zu(s,f),s}function Wu(s,u,f){return Math.sqrt(Rs(s,u,f,!0))}function bd(s,u,f){return Rs(s,u,f)}function Zu(s,u){var f=s.length,x=typeof Uint8Array<"u"?Uint8Array:Array,S=new x(f);S[0]=S[f-1]=1,ol(s,S,u,0,f-1);var A,B=[];for(A=0;A<f;A++)S[A]&&B.push(s[A]);return B}function ol(s,u,f,x,S){var A=0,B,q,X;for(q=x+1;q<=S-1;q++)X=Rs(s[q],s[x],s[S],!0),X>A&&(B=q,A=X);A>f&&(u[B]=1,ol(s,u,f,x,B),ol(s,u,f,B,S))}function wd(s,u){for(var f=[s[0]],x=1,S=0,A=s.length;x<A;x++)Sd(s[x],s[S])>u&&(f.push(s[x]),S=x);return S<A-1&&f.push(s[A-1]),f}var Gu;function Ku(s,u,f,x,S){var A=x?Gu:Ki(s,f),B=Ki(u,f),q,X,st;for(Gu=B;;){if(!(A|B))return[s,u];if(A&B)return!1;q=A||B,X=ja(s,u,q,f,S),st=Ki(X,f),q===A?(s=X,A=st):(u=X,B=st)}}function ja(s,u,f,x,S){var A=u.x-s.x,B=u.y-s.y,q=x.min,X=x.max,st,gt;return f&8?(st=s.x+A*(X.y-s.y)/B,gt=X.y):f&4?(st=s.x+A*(q.y-s.y)/B,gt=q.y):f&2?(st=X.x,gt=s.y+B*(X.x-s.x)/A):f&1&&(st=q.x,gt=s.y+B*(q.x-s.x)/A),new nt(st,gt,S)}function Ki(s,u){var f=0;return s.x<u.min.x?f|=1:s.x>u.max.x&&(f|=2),s.y<u.min.y?f|=4:s.y>u.max.y&&(f|=8),f}function Sd(s,u){var f=u.x-s.x,x=u.y-s.y;return f*f+x*x}function Rs(s,u,f,x){var S=u.x,A=u.y,B=f.x-S,q=f.y-A,X=B*B+q*q,st;return X>0&&(st=((s.x-S)*B+(s.y-A)*q)/X,st>1?(S=f.x,A=f.y):st>0&&(S+=B*st,A+=q*st)),B=s.x-S,q=s.y-A,x?B*B+q*q:new nt(S,A)}function _n(s){return!D(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Ra(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_n(s)}function Ar(s,u){var f,x,S,A,B,q,X,st;if(!s||s.length===0)throw new Error("latlngs not passed");_n(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var gt=ht([0,0]),Et=W(s),Bt=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Bt<1700&&(gt=sl(s));var Ie=s.length,Se=[];for(f=0;f<Ie;f++){var dn=ht(s[f]);Se.push(u.project(ht([dn.lat-gt.lat,dn.lng-gt.lng])))}for(f=0,x=0;f<Ie-1;f++)x+=Se[f].distanceTo(Se[f+1])/2;if(x===0)st=Se[0];else for(f=0,A=0;f<Ie-1;f++)if(B=Se[f],q=Se[f+1],S=B.distanceTo(q),A+=S,A>x){X=(A-x)/S,st=[q.x-X*(q.x-B.x),q.y-X*(q.y-B.y)];break}var Gt=u.unproject(mt(st));return ht([Gt.lat+gt.lat,Gt.lng+gt.lng])}var Td={__proto__:null,simplify:$u,pointToSegmentDistance:Wu,closestPointOnSegment:bd,clipSegment:Ku,_getEdgeIntersection:ja,_getBitCode:Ki,_sqClosestPointOnSegment:Rs,isFlat:_n,_flat:Ra,polylineCenter:Ar},Oa={project:function(s){return new nt(s.lng,s.lat)},unproject:function(s){return new ot(s.y,s.x)},bounds:new P([-180,-90],[180,90])},ka={R:6378137,R_MINOR:6356752314245179e-9,bounds:new P([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,f=this.R,x=s.lat*u,S=this.R_MINOR/f,A=Math.sqrt(1-S*S),B=A*Math.sin(x),q=Math.tan(Math.PI/4-x/2)/Math.pow((1-B)/(1+B),A/2);return x=-f*Math.log(Math.max(q,1e-10)),new nt(s.lng*u*f,x)},unproject:function(s){for(var u=180/Math.PI,f=this.R,x=this.R_MINOR/f,S=Math.sqrt(1-x*x),A=Math.exp(-s.y/f),B=Math.PI/2-2*Math.atan(A),q=0,X=.1,st;q<15&&Math.abs(X)>1e-7;q++)st=S*Math.sin(B),st=Math.pow((1-st)/(1+st),S/2),X=Math.PI/2-2*Math.atan(A*st)-B,B+=X;return new ot(B*u,s.x*u/f)}},Yu={__proto__:null,LonLat:Oa,Mercator:ka,SphericalMercator:Ge},Xu=l({},Zt,{code:"EPSG:3395",projection:ka,transformation:(function(){var s=.5/(Math.PI*ka.R);return ce(s,.5,-s,.5)})()}),ll=l({},Zt,{code:"EPSG:4326",projection:Oa,transformation:ce(1/180,1,-1/180,.5)}),jr=l({},_t,{projection:Oa,transformation:ce(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var f=u.lng-s.lng,x=u.lat-s.lat;return Math.sqrt(f*f+x*x)},infinite:!0});_t.Earth=Zt,_t.EPSG3395=Xu,_t.EPSG3857=ya,_t.EPSG900913=Ii,_t.EPSG4326=ll,_t.Simple=jr;var Pn=rt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[g(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[g(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var f=this.getEvents();u.on(f,this),this.once("remove",function(){u.off(f,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});qt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=g(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=g(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return g(s)in this._layers},eachLayer:function(s,u){for(var f in this._layers)s.call(u,this._layers[f]);return this},_addLayers:function(s){s=s?D(s)?s:[s]:[];for(var u=0,f=s.length;u<f;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[g(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=g(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,f=this._getZoomSpan();for(var x in this._zoomBoundLayers){var S=this._zoomBoundLayers[x].options;s=S.minZoom===void 0?s:Math.min(s,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rr=Pn.extend({initialize:function(s,u){O(this,u),this._layers={};var f,x;if(s)for(f=0,x=s.length;f<x;f++)this.addLayer(s[f])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),f,x;for(f in this._layers)x=this._layers[f],x[s]&&x[s].apply(x,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var f in this._layers)s.call(u,this._layers[f]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return g(s)}}),Ed=function(s,u){return new Rr(s,u)},$n=Rr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Rr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Rr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ct;for(var u in this._layers){var f=this._layers[u];s.extend(f.getBounds?f.getBounds():f.getLatLng())}return s}}),Ju=function(s,u){return new $n(s,u)},Wn=Wt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){O(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var f=this._getIconUrl(s);if(!f){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(f,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(s,u){var f=this.options,x=f[u+"Size"];typeof x=="number"&&(x=[x,x]);var S=mt(x),A=mt(u==="shadow"&&f.shadowAnchor||f.iconAnchor||S&&S.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(f.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),S&&(s.style.width=S.x+"px",s.style.height=S.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return St.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Os(s){return new Wn(s)}var ks=Wn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof ks.imagePath!="string"&&(ks.imagePath=this._detectIconPath()),(this.options.imagePath||ks.imagePath)+Wn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(f,x,S){var A=x.exec(f);return A&&A[S]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ut("div","leaflet-default-icon-path",document.body),u=bs(s,"background-image")||bs(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Ms=Fn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ci(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,f=u._map,x=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,A=Ti(u._icon),B=f.getPixelBounds(),q=f.getPixelOrigin(),X=Y(B.min._subtract(q).add(S),B.max._subtract(q).subtract(S));if(!X.contains(A)){var st=mt((Math.max(X.max.x,A.x)-X.max.x)/(B.max.x-X.max.x)-(Math.min(X.min.x,A.x)-X.min.x)/(B.min.x-X.min.x),(Math.max(X.max.y,A.y)-X.max.y)/(B.max.y-X.max.y)-(Math.min(X.min.y,A.y)-X.min.y)/(B.min.y-X.min.y)).multiplyBy(x);f.panBy(st,{animate:!1}),this._draggable._newPos._add(st),this._draggable._startPos._add(st),le(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=dt(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(yt(this._panRequest),this._panRequest=dt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,f=u._shadow,x=Ti(u._icon),S=u._map.layerPointToLatLng(x);f&&le(f,x),u._latlng=S,s.latlng=S,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){yt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Ls=Pn.extend({options:{icon:new ks,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){O(this,u),this._latlng=ht(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=ht(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=s.icon.createIcon(this._icon),x=!1;f!==this._icon&&(this._icon&&this._removeIcon(),x=!0,s.title&&(f.title=s.title),f.tagName==="IMG"&&(f.alt=s.alt||"")),Pt(f,u),s.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(f,"focus",this._panOnFocus,this);var S=s.icon.createShadow(this._shadow),A=!1;S!==this._shadow&&(this._removeShadow(),A=!0),S&&(Pt(S,u),S.alt=""),this._shadow=S,s.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&te(this._icon,"focus",this._panOnFocus,this),re(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&re(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&le(this._icon,s),this._shadow&&le(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ms)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ms(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&de(this._icon,s),this._shadow&&de(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,f=u.iconSize?mt(u.iconSize):mt(0,0),x=u.iconAnchor?mt(u.iconAnchor):mt(0,0);s.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:f.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qu(s,u){return new Ls(s,u)}var Zn=Pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return O(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Or=Zn.extend({options:{fill:!0,radius:10},initialize:function(s,u){O(this,u),this._latlng=ht(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=ht(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Zn.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,f=this._clickTolerance(),x=[s+f,u+f];this._pxBounds=new P(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tc(s,u){return new Or(s,u)}var Ma=Or.extend({initialize:function(s,u,f){if(typeof u=="number"&&(u=l({},f,{radius:u})),O(this,u),this._latlng=ht(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ct(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Zn.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,f=this._map,x=f.options.crs;if(x.distance===Zt.distance){var S=Math.PI/180,A=this._mRadius/Zt.R/S,B=f.project([u+A,s]),q=f.project([u-A,s]),X=B.add(q).divideBy(2),st=f.unproject(X).lat,gt=Math.acos((Math.cos(A*S)-Math.sin(u*S)*Math.sin(st*S))/(Math.cos(u*S)*Math.cos(st*S)))/S;(isNaN(gt)||gt===0)&&(gt=A/Math.cos(Math.PI/180*u)),this._point=X.subtract(f.getPixelOrigin()),this._radius=isNaN(gt)?0:X.x-f.project([st,s-gt]).x,this._radiusY=X.y-B.y}else{var Et=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Et).x}this._updateBounds()}});function ec(s,u,f){return new Ma(s,u,f)}var ui=Zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){O(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,f=null,x=Rs,S,A,B=0,q=this._parts.length;B<q;B++)for(var X=this._parts[B],st=1,gt=X.length;st<gt;st++){S=X[st-1],A=X[st];var Et=x(s,S,A,!0);Et<u&&(u=Et,f=x(s,S,A))}return f&&(f.distance=Math.sqrt(u)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ar(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=ht(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ct,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return _n(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],f=_n(s),x=0,S=s.length;x<S;x++)f?(u[x]=ht(s[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(s[x]);return u},_project:function(){var s=new P;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new nt(s,s);this._rawPxBounds&&(this._pxBounds=new P([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,f){var x=s[0]instanceof ot,S=s.length,A,B;if(x){for(B=[],A=0;A<S;A++)B[A]=this._map.latLngToLayerPoint(s[A]),f.extend(B[A]);u.push(B)}else for(A=0;A<S;A++)this._projectLatlngs(s[A],u,f)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,f,x,S,A,B,q,X;for(f=0,S=0,A=this._rings.length;f<A;f++)for(X=this._rings[f],x=0,B=X.length;x<B-1;x++)q=Ku(X[x],X[x+1],s,x,!0),q&&(u[S]=u[S]||[],u[S].push(q[0]),(q[1]!==X[x+1]||x===B-2)&&(u[S].push(q[1]),S++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,f=0,x=s.length;f<x;f++)s[f]=$u(s[f],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var f,x,S,A,B,q,X=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(f=0,A=this._parts.length;f<A;f++)for(q=this._parts[f],x=0,B=q.length,S=B-1;x<B;S=x++)if(!(!u&&x===0)&&Wu(s,q[S],q[x])<=X)return!0;return!1}});function Cd(s,u){return new ui(s,u)}ui._flat=Ra;var kr=ui.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=ui.prototype._convertLatLngs.call(this,s),f=u.length;return f>=2&&u[0]instanceof ot&&u[0].equals(u[f-1])&&u.pop(),u},_setLatLngs:function(s){ui.prototype._setLatLngs.call(this,s),_n(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _n(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,f=new nt(u,u);if(s=new P(s.min.subtract(f),s.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,S=this._rings.length,A;x<S;x++)A=qu(this._rings[x],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,f,x,S,A,B,q,X,st;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,X=this._parts.length;A<X;A++)for(f=this._parts[A],B=0,st=f.length,q=st-1;B<st;q=B++)x=f[B],S=f[q],x.y>s.y!=S.y>s.y&&s.x<(S.x-x.x)*(s.y-x.y)/(S.y-x.y)+x.x&&(u=!u);return u||ui.prototype._containsPoint.call(this,s,!0)}});function Ad(s,u){return new kr(s,u)}var ci=$n.extend({initialize:function(s,u){O(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=D(s)?s:s.features,f,x,S;if(u){for(f=0,x=u.length;f<x;f++)S=u[f],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var B=$e(s,A);return B?(B.feature=Da(s),B.defaultOptions=B.options,this.resetStyle(B),A.onEachFeature&&A.onEachFeature(s,B),this.addLayer(B)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function $e(s,u){var f=s.type==="Feature"?s.geometry:s,x=f?f.coordinates:null,S=[],A=u&&u.pointToLayer,B=u&&u.coordsToLatLng||La,q,X,st,gt;if(!x&&!f)return null;switch(f.type){case"Point":return q=B(x),Mr(A,s,q,u);case"MultiPoint":for(st=0,gt=x.length;st<gt;st++)q=B(x[st]),S.push(Mr(A,s,q,u));return new $n(S);case"LineString":case"MultiLineString":return X=Ps(x,f.type==="LineString"?0:1,B),new ui(X,u);case"Polygon":case"MultiPolygon":return X=Ps(x,f.type==="Polygon"?1:2,B),new kr(X,u);case"GeometryCollection":for(st=0,gt=f.geometries.length;st<gt;st++){var Et=$e({geometry:f.geometries[st],type:"Feature",properties:s.properties},u);Et&&S.push(Et)}return new $n(S);case"FeatureCollection":for(st=0,gt=f.features.length;st<gt;st++){var Bt=$e(f.features[st],u);Bt&&S.push(Bt)}return new $n(S);default:throw new Error("Invalid GeoJSON object.")}}function Mr(s,u,f,x){return s?s(u,f):new Ls(f,x&&x.markersInheritOptions&&x)}function La(s){return new ot(s[1],s[0],s[2])}function Ps(s,u,f){for(var x=[],S=0,A=s.length,B;S<A;S++)B=u?Ps(s[S],u-1,f):(f||La)(s[S]),x.push(B);return x}function Pa(s,u){return s=ht(s),s.alt!==void 0?[E(s.lng,u),E(s.lat,u),E(s.alt,u)]:[E(s.lng,u),E(s.lat,u)]}function Ds(s,u,f,x){for(var S=[],A=0,B=s.length;A<B;A++)S.push(u?Ds(s[A],_n(s[A])?0:u-1,f,x):Pa(s[A],x));return!u&&f&&S.length>0&&S.push(S[0].slice()),S}function Ai(s,u){return s.feature?l({},s.feature,{geometry:u}):Da(u)}function Da(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ji={toGeoJSON:function(s){return Ai(this,{type:"Point",coordinates:Pa(this.getLatLng(),s)})}};Ls.include(ji),Ma.include(ji),Or.include(ji),ui.include({toGeoJSON:function(s){var u=!_n(this._latlngs),f=Ds(this._latlngs,u?1:0,!1,s);return Ai(this,{type:(u?"Multi":"")+"LineString",coordinates:f})}}),kr.include({toGeoJSON:function(s){var u=!_n(this._latlngs),f=u&&!_n(this._latlngs[0]),x=Ds(this._latlngs,f?2:u?1:0,!0,s);return u||(x=[x]),Ai(this,{type:(f?"Multi":"")+"Polygon",coordinates:x})}}),Rr.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(f){u.push(f.toGeoJSON(s).geometry.coordinates)}),Ai(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var f=u==="GeometryCollection",x=[];return this.eachLayer(function(S){if(S.toGeoJSON){var A=S.toGeoJSON(s);if(f)x.push(A.geometry);else{var B=Da(A);B.type==="FeatureCollection"?x.push.apply(x,B.features):x.push(B)}}}),f?Ai(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function za(s,u){return new ci(s,u)}var zs=za,Lr=Pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,f){this._url=s,this._bounds=W(u),O(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){re(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ue(this._image),this},bringToBack:function(){return this._map&&Wi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=W(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Ut("img");if(Pt(u,"leaflet-image-layer"),this._zoomAnimated&&Pt(u,"leaflet-zoom-animated"),this.options.className&&Pt(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;ai(this._image,f,u)},_reset:function(){var s=this._image,u=new P(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=u.getSize();le(s,u.min),s.style.width=f.x+"px",s.style.height=f.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),nc=function(s,u,f){return new Lr(s,u,f)},Ri=Lr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Ut("video");if(Pt(u,"leaflet-image-layer"),this._zoomAnimated&&Pt(u,"leaflet-zoom-animated"),this.options.className&&Pt(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=d(this.fire,this,"load"),s){for(var f=u.getElementsByTagName("source"),x=[],S=0;S<f.length;S++)x.push(f[S].src);this._url=f.length>0?x:[u.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var B=Ut("source");B.src=this._url[A],u.appendChild(B)}}});function Pr(s,u,f){return new Ri(s,u,f)}var Ba=Lr.extend({_initImage:function(){var s=this._image=this._url;Pt(s,"leaflet-image-layer"),this._zoomAnimated&&Pt(s,"leaflet-zoom-animated"),this.options.className&&Pt(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function ic(s,u,f){return new Ba(s,u,f)}var We=Pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ot||D(s))?(this._latlng=ht(s),O(this,u)):(O(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&de(this._container,1),this.bringToFront(),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(d(re,void 0,this._container),200)):re(this._container),this.options.interactive&&(pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ht(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ue(this._container),this},bringToBack:function(){return this._map&&Wi(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof $n){u=null;var f=this._source._layers;for(var x in f)if(f[x]._map){u=f[x];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=mt(this.options.offset),f=this._getAnchor();this._zoomAnimated?le(this._container,s.add(f)):u=u.add(s).add(f);var x=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});qt.include({_initOverlay:function(s,u,f,x){var S=u;return S instanceof s||(S=new s(x).setContent(u)),f&&S.setLatLng(f),S}}),Pn.include({_initOverlay:function(s,u,f,x){var S=f;return S instanceof s?(O(S,x),S._source=this):(S=u&&!x?u:new s(x,this),S.setContent(f)),S}});var Bs=We.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,We.prototype.openOn.call(this,s)},onAdd:function(s){We.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zn||this._source.on("preclick",Ln))},onRemove:function(s){We.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zn||this._source.off("preclick",Ln))},getEvents:function(){var s=We.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Ut("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Ut("div",s+"-content-wrapper",u);if(this._contentNode=Ut("div",s+"-content",f),Gi(u),qn(this._contentNode),Ot(u,"contextmenu",Ln),this._tipContainer=Ut("div",s+"-tip-container",u),this._tip=Ut("div",s+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=Ut("a",s+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Ot(x,"click",function(S){we(S),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var f=s.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),u.width=f+1+"px",u.whiteSpace="",u.height="";var x=s.offsetHeight,S=this.options.maxHeight,A="leaflet-popup-scrolled";S&&x>S?(u.height=S+"px",Pt(s,A)):pe(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),f=this._getAnchor();le(this._container,u.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(bs(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+u,x=this._containerWidth,S=new nt(this._containerLeft,-f-this._containerBottom);S._add(Ti(this._container));var A=s.layerPointToContainerPoint(S),B=mt(this.options.autoPanPadding),q=mt(this.options.autoPanPaddingTopLeft||B),X=mt(this.options.autoPanPaddingBottomRight||B),st=s.getSize(),gt=0,Et=0;A.x+x+X.x>st.x&&(gt=A.x+x-st.x+X.x),A.x-gt-q.x<0&&(gt=A.x-q.x),A.y+f+X.y>st.y&&(Et=A.y+f-st.y+X.y),A.y-Et-q.y<0&&(Et=A.y-q.y),(gt||Et)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([gt,Et]))}},_getAnchor:function(){return mt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rc=function(s,u){return new Bs(s,u)};qt.mergeOptions({closePopupOnClick:!0}),qt.include({openPopup:function(s,u,f){return this._initOverlay(Bs,s,u,f).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Pn.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Bs,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof $n||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Ei(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Zn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ns=We.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){We.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){We.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=We.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ut("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,f,x=this._map,S=this._container,A=x.latLngToContainerPoint(x.getCenter()),B=x.layerPointToContainerPoint(s),q=this.options.direction,X=S.offsetWidth,st=S.offsetHeight,gt=mt(this.options.offset),Et=this._getAnchor();q==="top"?(u=X/2,f=st):q==="bottom"?(u=X/2,f=0):q==="center"?(u=X/2,f=st/2):q==="right"?(u=0,f=st/2):q==="left"?(u=X,f=st/2):B.x<A.x?(q="right",u=0,f=st/2):(q="left",u=X+(gt.x+Et.x)*2,f=st/2),s=s.subtract(mt(u,f,!0)).add(gt).add(Et),pe(S,"leaflet-tooltip-right"),pe(S,"leaflet-tooltip-left"),pe(S,"leaflet-tooltip-top"),pe(S,"leaflet-tooltip-bottom"),Pt(S,"leaflet-tooltip-"+q),le(S,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&de(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return mt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jd=function(s,u){return new Ns(s,u)};qt.include({openTooltip:function(s,u,f){return this._initOverlay(Ns,s,u,f).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Pn.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ns,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[u](f),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof $n||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Ot(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Ot(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,f,x;this._tooltip.options.sticky&&s.originalEvent&&(f=this._map.mouseEventToContainerPoint(s.originalEvent),x=this._map.containerPointToLayerPoint(f),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var sc=Wn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),f=this.options;if(f.html instanceof Element?(yn(u),u.appendChild(f.html)):u.innerHTML=f.html!==!1?f.html:"",f.bgPos){var x=mt(f.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Rd(s){return new sc(s)}Wn.Default=ks;var Dr=Pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:St.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){O(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),re(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ue(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Wi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof nt?s:new nt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,f=-s(-1/0,1/0),x=0,S=u.length,A;x<S;x++)A=u[x].style.zIndex,u[x]!==this._container&&A&&(f=s(f,+A));isFinite(f)&&(this.options.zIndex=f+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!St.ielt9){de(this._container,this.options.opacity);var s=+new Date,u=!1,f=!1;for(var x in this._tiles){var S=this._tiles[x];if(!(!S.current||!S.loaded)){var A=Math.min(1,(s-S.loaded)/200);de(S.el,A),A<1?u=!0:(S.active?f=!0:this._onOpaqueTile(S),S.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),u&&(yt(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===s?(this._levels[f].el.style.zIndex=u-Math.abs(s-f),this._onUpdateLevel(f)):(re(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var x=this._levels[s],S=this._map;return x||(x=this._levels[s]={},x.el=Ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=S.project(S.unproject(S.getPixelOrigin()),s).round(),x.zoom=s,this._setZoomTransform(x,S.getCenter(),S.getZoom()),w(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,u,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)re(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,f,x){var S=Math.floor(s/2),A=Math.floor(u/2),B=f-1,q=new nt(+S,+A);q.z=+B;var X=this._tileCoordsToKey(q),st=this._tiles[X];return st&&st.active?(st.retain=!0,!0):(st&&st.loaded&&(st.retain=!0),B>x?this._retainParent(S,A,B,x):!1)},_retainChildren:function(s,u,f,x){for(var S=2*s;S<2*s+2;S++)for(var A=2*u;A<2*u+2;A++){var B=new nt(S,A);B.z=f+1;var q=this._tileCoordsToKey(B),X=this._tiles[q];if(X&&X.active){X.retain=!0;continue}else X&&X.loaded&&(X.retain=!0);f+1<x&&this._retainChildren(S,A,f+1,x)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,f,x){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var A=this.options.updateWhenZooming&&S!==this._tileZoom;(!x||A)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(s),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var f in this._levels)this._setZoomTransform(this._levels[f],s,u)},_setZoomTransform:function(s,u,f){var x=this._map.getZoomScale(f,s.zoom),S=s.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,f)).round();St.any3d?ai(s.el,S,x):le(s.el,S)},_resetGrid:function(){var s=this._map,u=s.options.crs,f=this._tileSize=this.getTileSize(),x=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],x).x/f.x),Math.ceil(s.project([0,u.wrapLng[1]],x).x/f.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],x).y/f.x),Math.ceil(s.project([u.wrapLat[1],0],x).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,f=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(f,this._tileZoom),S=u.project(s,this._tileZoom).floor(),A=u.getSize().divideBy(x*2);return new P(S.subtract(A),S.add(A))},_update:function(s){var u=this._map;if(u){var f=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(s),S=this._pxBoundsToTileRange(x),A=S.getCenter(),B=[],q=this.options.keepBuffer,X=new P(S.getBottomLeft().subtract([q,-q]),S.getTopRight().add([q,-q]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var st in this._tiles){var gt=this._tiles[st].coords;(gt.z!==this._tileZoom||!X.contains(new nt(gt.x,gt.y)))&&(this._tiles[st].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(s,f);return}for(var Et=S.min.y;Et<=S.max.y;Et++)for(var Bt=S.min.x;Bt<=S.max.x;Bt++){var Ie=new nt(Bt,Et);if(Ie.z=this._tileZoom,!!this._isValidTile(Ie)){var Se=this._tiles[this._tileCoordsToKey(Ie)];Se?Se.current=!0:B.push(Ie)}}if(B.sort(function(Gt,Kt){return Gt.distanceTo(A)-Kt.distanceTo(A)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var dn=document.createDocumentFragment();for(Bt=0;Bt<B.length;Bt++)this._addTile(B[Bt],dn);this._level.el.appendChild(dn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var f=this._globalTileRange;if(!u.wrapLng&&(s.x<f.min.x||s.x>f.max.x)||!u.wrapLat&&(s.y<f.min.y||s.y>f.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(s);return W(this.options.bounds).overlaps(x)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,f=this.getTileSize(),x=s.scaleBy(f),S=x.add(f),A=u.unproject(x,s.z),B=u.unproject(S,s.z);return[A,B]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),f=new ct(u[0],u[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),f=new nt(+u[0],+u[1]);return f.z=+u[2],f},_removeTile:function(s){var u=this._tiles[s];u&&(re(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Pt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=w,s.onmousemove=w,St.ielt9&&this.options.opacity<1&&de(s,this.options.opacity)},_addTile:function(s,u){var f=this._getTilePos(s),x=this._tileCoordsToKey(s),S=this.createTile(this._wrapCoords(s),d(this._tileReady,this,s));this._initTile(S),this.createTile.length<2&&dt(d(this._tileReady,this,s,null,S)),le(S,f),this._tiles[x]={el:S,coords:s,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:s})},_tileReady:function(s,u,f){u&&this.fire("tileerror",{error:u,tile:f,coords:s});var x=this._tileCoordsToKey(s);f=this._tiles[x],f&&(f.loaded=+new Date,this._map._fadeAnimated?(de(f.el,0),yt(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),u||(Pt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),St.ielt9||!this._map._fadeAnimated?dt(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new nt(this._wrapX?b(s.x,this._wrapX):s.x,this._wrapY?b(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new P(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function ac(s){return new Dr(s)}var Oi=Dr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=O(this,u),u.detectRetina&&St.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var f=document.createElement("img");return Ot(f,"load",d(this._tileOnLoad,this,u,f)),Ot(f,"error",d(this._tileOnError,this,u,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(s),f},getTileUrl:function(s){var u={r:St.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=f),u["-y"]=f}return N(this._url,l(u,this.options))},_tileOnLoad:function(s,u){St.ielt9?setTimeout(d(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,f){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),s(f,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,f=this.options.zoomReverse,x=this.options.zoomOffset;return f&&(s=u-s),s+x},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=w,u.onerror=w,!u.complete)){u.src=F;var f=this._tiles[s].coords;re(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:f})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",F),Dr.prototype._removeTile.call(this,s)},_tileReady:function(s,u,f){if(!(!this._map||f&&f.getAttribute("src")===F))return Dr.prototype._tileReady.call(this,s,u,f)}});function xn(s,u){return new Oi(s,u)}var Us=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var f=l({},this.defaultWmsParams);for(var x in u)x in this.options||(f[x]=u[x]);u=O(this,u);var S=u.detectRetina&&St.retina?2:1,A=this.getTileSize();f.width=A.x*S,f.height=A.y*S,this.wmsParams=f},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Oi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),f=this._crs,x=Y(f.project(u[0]),f.project(u[1])),S=x.min,A=x.max,B=(this._wmsVersion>=1.3&&this._crs===ll?[S.y,S.x,A.y,A.x]:[S.x,S.y,A.x,A.y]).join(","),q=Oi.prototype.getTileUrl.call(this,s);return q+R(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function bn(s,u){return new Us(s,u)}Oi.WMS=Us,xn.wms=bn;var rn=Pn.extend({options:{padding:.1},initialize:function(s){O(this,s),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var f=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),A=x.multiplyBy(-f).add(S).subtract(this._map._getNewPixelOrigin(s,u));St.any3d?ai(this._container,A,f):le(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),f=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new P(f,f.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Na=rn.extend({options:{tolerance:0},getEvents:function(){var s=rn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Ot(s,"mousemove",this._onMouseMove,this),Ot(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ot(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){yt(this._redrawRequest),delete this._ctx,re(this._container),te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rn.prototype._update.call(this);var s=this._bounds,u=this._container,f=s.getSize(),x=St.retina?2:1;le(u,s.min),u.width=x*f.x,u.height=x*f.y,u.style.width=f.x+"px",u.style.height=f.y+"px",St.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){rn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[g(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,f=u.next,x=u.prev;f?f.prev=x:this._drawLast=x,x?x.next=f:this._drawFirst=f,delete s._order,delete this._layers[g(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),f=[],x,S;for(S=0;S<u.length;S++){if(x=Number(u[S]),isNaN(x))return;f.push(x)}s.options._dashArray=f}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||dt(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new P,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var f=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)s=x.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var f,x,S,A,B=s._parts,q=B.length,X=this._ctx;if(q){for(X.beginPath(),f=0;f<q;f++){for(x=0,S=B[f].length;x<S;x++)A=B[f][x],X[x?"lineTo":"moveTo"](A.x,A.y);u&&X.closePath()}this._fillStroke(X,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,f=this._ctx,x=Math.max(Math.round(s._radius),1),S=(Math.max(Math.round(s._radiusY),1)||x)/x;S!==1&&(f.save(),f.scale(1,S)),f.beginPath(),f.arc(u.x,u.y/S,x,0,Math.PI*2,!1),S!==1&&f.restore(),this._fillStroke(f,s)}},_fillStroke:function(s,u){var f=u.options;f.fill&&(s.globalAlpha=f.fillOpacity,s.fillStyle=f.fillColor||f.color,s.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=f.opacity,s.lineWidth=f.weight,s.strokeStyle=f.color,s.lineCap=f.lineCap,s.lineJoin=f.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),f,x,S=this._drawFirst;S;S=S.next)f=S.layer,f.options.interactive&&f._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(f))&&(x=f);this._fireEvent(x?[x]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(pe(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var f,x,S=this._drawFirst;S;S=S.next)f=S.layer,f.options.interactive&&f._containsPoint(u)&&(x=f);x!==this._hoveredLayer&&(this._handleMouseOut(s),x&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([x],s,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,f){this._map._fireDOMEvent(u,f||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var f=u.next,x=u.prev;if(f)f.prev=x;else return;x?x.next=f:f&&(this._drawFirst=f),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var f=u.next,x=u.prev;if(x)x.next=f;else return;f?f.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Is(s){return St.canvas?new Na(s):null}var ki=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ul={_initContainer:function(){this._container=Ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=ki("shape");Pt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=ki("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;re(u),s.removeInteractiveTarget(u),delete this._layers[g(s)]},_updateStyle:function(s){var u=s._stroke,f=s._fill,x=s.options,S=s._container;S.stroked=!!x.stroke,S.filled=!!x.fill,x.stroke?(u||(u=s._stroke=ki("stroke")),S.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=D(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(S.removeChild(u),s._stroke=null),x.fill?(f||(f=s._fill=ki("fill")),S.appendChild(f),f.color=x.fillColor||x.color,f.opacity=x.fillOpacity):f&&(S.removeChild(f),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),f=Math.round(s._radius),x=Math.round(s._radiusY||f);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+f+","+x+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Ue(s._container)},_bringToBack:function(s){Wi(s._container)}},Gn=St.vml?ki:va,zr=rn.extend({_initContainer:function(){this._container=Gn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){re(this._container),te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rn.prototype._update.call(this);var s=this._bounds,u=s.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,f.setAttribute("width",u.x),f.setAttribute("height",u.y)),le(f,s.min),f.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Gn("path");s.options.className&&Pt(u,s.options.className),s.options.interactive&&Pt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){re(s._path),s.removeInteractiveTarget(s._path),delete this._layers[g(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,f=s.options;u&&(f.stroke?(u.setAttribute("stroke",f.color),u.setAttribute("stroke-opacity",f.opacity),u.setAttribute("stroke-width",f.weight),u.setAttribute("stroke-linecap",f.lineCap),u.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?u.setAttribute("stroke-dasharray",f.dashArray):u.removeAttribute("stroke-dasharray"),f.dashOffset?u.setAttribute("stroke-dashoffset",f.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),f.fill?(u.setAttribute("fill",f.fillColor||f.color),u.setAttribute("fill-opacity",f.fillOpacity),u.setAttribute("fill-rule",f.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,_a(s._parts,u))},_updateCircle:function(s){var u=s._point,f=Math.max(Math.round(s._radius),1),x=Math.max(Math.round(s._radiusY),1)||f,S="a"+f+","+x+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(u.x-f)+","+u.y+S+f*2+",0 "+S+-f*2+",0 ";this._setPath(s,A)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Ue(s._path)},_bringToBack:function(s){Wi(s._path)}});St.vml&&zr.include(ul);function Vs(s){return St.svg||St.vml?new zr(s):null}qt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Is(s)||Vs(s)}});var Yi=kr.extend({initialize:function(s,u){kr.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=W(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Od(s,u){return new Yi(s,u)}zr.create=Gn,zr.pointsToPath=_a,ci.geometryToLayer=$e,ci.coordsToLatLng=La,ci.coordsToLatLngs=Ps,ci.latLngToCoords=Pa,ci.latLngsToCoords=Ds,ci.getFeature=Ai,ci.asFeature=Da,qt.mergeOptions({boxZoom:!0});var sn=Fn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){re(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wr(),Ta(),this._startPoint=this._map.mouseEventToContainerPoint(s),Ot(document,{contextmenu:Ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ut("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new P(this._point,this._startPoint),f=u.getSize();le(this._box,u.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(re(this._box),pe(this._container,"leaflet-crosshair")),Hn(),Ss(),te(document,{contextmenu:Ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qt.addInitHook("addHandler","boxZoom",sn),qt.mergeOptions({doubleClickZoom:!0});var Ua=Fn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,f=u.getZoom(),x=u.options.zoomDelta,S=s.originalEvent.shiftKey?f-x:f+x;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(s.containerPoint,S)}});qt.addInitHook("addHandler","doubleClickZoom",Ua),qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Kn=Fn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ci(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pe(this._map._container,"leaflet-grab"),pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=W(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),f=this._initialWorldOffset,x=this._draggable._newPos.x,S=(x-u+f)%s+u-f,A=(x+u+f)%s-u-f,B=Math.abs(S+f)<Math.abs(A+f)?S:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(s){var u=this._map,f=u.options,x=!f.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),x)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,B=f.easeLinearity,q=S.multiplyBy(B/A),X=q.distanceTo([0,0]),st=Math.min(f.inertiaMaxSpeed,X),gt=q.multiplyBy(st/X),Et=st/(f.inertiaDeceleration*B),Bt=gt.multiplyBy(-Et/2).round();!Bt.x&&!Bt.y?u.fire("moveend"):(Bt=u._limitOffset(Bt,u.options.maxBounds),dt(function(){u.panBy(Bt,{duration:Et,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});qt.addInitHook("addHandler","dragging",Kn),qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var cl=Fn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Ot(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,f=s.scrollTop||u.scrollTop,x=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},f=this.keyCodes,x,S;for(x=0,S=f.left.length;x<S;x++)u[f.left[x]]=[-1*s,0];for(x=0,S=f.right.length;x<S;x++)u[f.right[x]]=[s,0];for(x=0,S=f.down.length;x<S;x++)u[f.down[x]]=[0,s];for(x=0,S=f.up.length;x<S;x++)u[f.up[x]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},f=this.keyCodes,x,S;for(x=0,S=f.zoomIn.length;x<S;x++)u[f.zoomIn[x]]=s;for(x=0,S=f.zoomOut.length;x<S;x++)u[f.zoomOut[x]]=-s},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,f=this._map,x;if(u in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(x=this._panKeys[u],s.shiftKey&&(x=mt(x).multiplyBy(3)),f.options.maxBounds&&(x=f._limitOffset(mt(x),f.options.maxBounds)),f.options.worldCopyJump){var S=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(x)));f.panTo(S)}else f.panBy(x)}else if(u in this._zoomKeys)f.setZoom(f.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Ei(s)}}});qt.addInitHook("addHandler","keyboard",cl),qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hs=Fn.extend({addHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=Ye(s),f=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var x=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),x),Ei(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),f=this._map.options.zoomSnap||0;s._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,A=f?Math.ceil(S/f)*f:S,B=s._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,B&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+B):s.setZoomAround(this._lastMousePos,u+B))}});qt.addInitHook("addHandler","scrollWheelZoom",Hs);var Xi=600;qt.mergeOptions({tapHold:St.touchNative&&St.safari&&St.mobile,tapTolerance:15});var Ia=Fn.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new nt(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Ot(document,"touchend",we),Ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Xi),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){te(document,"touchend",we),te(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),te(document,"touchend touchcancel contextmenu",this._cancel,this),te(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new nt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var f=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});f._simulated=!0,u.target.dispatchEvent(f)}});qt.addInitHook("addHandler","tapHold",Ia),qt.mergeOptions({touchZoom:St.touch,bounceAtZoomLimits:!0});var hl=Fn.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var f=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(f.add(x)._divideBy(2))),this._startDist=f.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),we(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,f=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]),S=f.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var A=f._add(x)._divideBy(2)._subtract(this._centerPoint);if(S===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),yt(this._animRequest);var B=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=dt(B,this,!0),we(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,yt(this._animRequest),te(document,"touchmove",this._onTouchMove,this),te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});qt.addInitHook("addHandler","touchZoom",hl),qt.BoxZoom=sn,qt.DoubleClickZoom=Ua,qt.Drag=Kn,qt.Keyboard=cl,qt.ScrollWheelZoom=Hs,qt.TapHold=Ia,qt.TouchZoom=hl,r.Bounds=P,r.Browser=St,r.CRS=_t,r.Canvas=Na,r.Circle=Ma,r.CircleMarker=Or,r.Class=Wt,r.Control=hn,r.DivIcon=sc,r.DivOverlay=We,r.DomEvent=Aa,r.DomUtil=Er,r.Draggable=Ci,r.Evented=rt,r.FeatureGroup=$n,r.GeoJSON=ci,r.GridLayer=Dr,r.Handler=Fn,r.Icon=Wn,r.ImageOverlay=Lr,r.LatLng=ot,r.LatLngBounds=ct,r.Layer=Pn,r.LayerGroup=Rr,r.LineUtil=Td,r.Map=qt,r.Marker=Ls,r.Mixin=xd,r.Path=Zn,r.Point=nt,r.PolyUtil=al,r.Polygon=kr,r.Polyline=ui,r.Popup=Bs,r.PosAnimation=Cr,r.Projection=Yu,r.Rectangle=Yi,r.Renderer=rn,r.SVG=zr,r.SVGOverlay=Ba,r.TileLayer=Oi,r.Tooltip=Ns,r.Transformation=mn,r.Util=Qt,r.VideoOverlay=Ri,r.bind=d,r.bounds=Y,r.canvas=Is,r.circle=ec,r.circleMarker=tc,r.control=li,r.divIcon=Rd,r.extend=l,r.featureGroup=Ju,r.geoJSON=za,r.geoJson=zs,r.gridLayer=ac,r.icon=Os,r.imageOverlay=nc,r.latLng=ht,r.latLngBounds=W,r.layerGroup=Ed,r.map=tl,r.marker=Qu,r.point=mt,r.polygon=Ad,r.polyline=Cd,r.popup=rc,r.rectangle=Od,r.setOptions=O,r.stamp=g,r.svg=Vs,r.svgOverlay=ic,r.tileLayer=xn,r.tooltip=jd,r.transformation=ce,r.version=a,r.videoOverlay=Pr;var dl=window.L;r.noConflict=function(){return window.L=dl,this},window.L=r}))})(iu,iu.exports)),iu.exports}var ju=KL();const YL=Wh(ju);function Og(n,e,r){return Object.freeze({instance:n,context:e,container:r})}function kg(n,e){return e==null?function(a,l){const h=j.useRef(void 0);return h.current||(h.current=n(a,l)),h}:function(a,l){const h=j.useRef(void 0);h.current||(h.current=n(a,l));const d=j.useRef(a),{instance:m}=h.current;return j.useEffect(function(){d.current!==a&&(e(m,a,d.current),d.current=a)},[m,a,e]),h}}function XL(n,e){j.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function pS(n){return function(r){const a=dS(),l=n(Rg(r,a),a);return hS(a.map,r.attribution),fS(l.current,r.eventHandlers),XL(l.current,a),l}}function JL(n,e){const r=kg(n,e),a=pS(r);return FL(a)}function QL(n,e){const r=kg(n),a=ZL(r,e);return $L(a)}function tP(n,e){const r=kg(n,e),a=pS(r);return WL(a)}function eP(n,e,r){const{opacity:a,zIndex:l}=e;a!=null&&a!==r.opacity&&n.setOpacity(a),l!=null&&l!==r.zIndex&&n.setZIndex(l)}function nP({bounds:n,boundsOptions:e,center:r,children:a,className:l,id:h,placeholder:d,style:m,whenReady:g,zoom:_,...b},w){const[E]=j.useState({className:l,id:h,style:m}),[C,M]=j.useState(null),O=j.useRef(void 0);j.useImperativeHandle(w,()=>C?.map??null,[C]);const R=j.useCallback(N=>{if(N!==null&&!O.current){const D=new ju.Map(N,b);O.current=D,r!=null&&_!=null?D.setView(r,_):n!=null&&D.fitBounds(n,e),g!=null&&D.whenReady(g),M(HL(D))}},[]);j.useEffect(()=>()=>{C?.map.remove()},[C]);const z=C?ss.createElement(jg,{value:C},a):d??null;return ss.createElement("div",{...E,ref:R},z)}const iP=j.forwardRef(nP),rP=JL(function({position:e,...r},a){const l=new ju.Marker(e,r);return Og(l,qL(a,{overlayContainer:l}))},function(e,r,a){r.position!==a.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),sP=QL(function(e,r){const a=new ju.Popup(e,r.overlayContainer);return Og(a,r)},function(e,r,{position:a},l){j.useEffect(function(){const{instance:d}=e;function m(_){_.popup===d&&(d.update(),l(!0))}function g(_){_.popup===d&&l(!1)}return r.map.on({popupopen:m,popupclose:g}),r.overlayContainer==null?(a!=null&&d.setLatLng(a),d.openOn(r.map)):r.overlayContainer.bindPopup(d),function(){r.map.off({popupopen:m,popupclose:g}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(d)}},[e,r,l,a])}),aP=tP(function({url:e,...r},a){const l=new ju.TileLayer(e,Rg(r,a));return Og(l,a)},function(e,r,a){eP(e,r,a);const{url:l}=r;l!=null&&l!==a.url&&e.setUrl(l)}),oP=()=>YL.divIcon({html:'<div style="background: var(--primary); width: 32px; height: 32px; border-radius: 12px; border: 3px solid white; display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow-md); transform: rotate(45deg);"><div style="transform: rotate(-45deg);"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg></div></div>',className:"custom-div-icon",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),lP=()=>{const n=Re(),[e,r]=j.useState([]),a=[11.2588,75.7804];return j.useEffect(()=>{(async()=>{const{data:h}=await pt.from("spots").select("*");h&&r(h)})()},[]),y.jsxs("div",{style:{height:"100vh",width:"100%",position:"relative"},children:[y.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3,display:"flex",gap:"12px"},children:[y.jsx(kt.button,{whileTap:{scale:.9},onClick:()=>n(-1),style:{background:"white",border:"none",padding:"12px",borderRadius:"18px",boxShadow:"var(--shadow-md)",cursor:"pointer"},children:y.jsx(Cu,{size:24,color:"var(--text-main)"})}),y.jsxs("div",{style:{background:"white",padding:"12px 24px",borderRadius:"18px",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx(ga,{size:20,color:"var(--primary)"}),y.jsx("span",{style:{fontWeight:"800",fontSize:"0.95rem"},children:"Eats Around You"})]})]}),y.jsxs(iP,{center:a,zoom:13,style:{height:"100%",width:"100%"},children:[y.jsx(aP,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),e.map(l=>y.jsx(rP,{position:[l.latitude||11.2588,l.longitude||75.7804],icon:oP(),children:y.jsx(sP,{className:"chai-in-popup",children:y.jsxs("div",{style:{padding:"4px"},children:[y.jsx("div",{style:{fontWeight:"900",fontSize:"1rem",color:"var(--primary)",marginBottom:"4px"},children:l.name}),y.jsx("div",{style:{fontWeight:"700",fontSize:"0.8rem",color:"var(--text-muted)"},children:l.category}),y.jsx("button",{onClick:()=>n(`/spot/${l.id}`),style:{marginTop:"10px",width:"100%",background:"var(--text-main)",color:"white",border:"none",padding:"8px",borderRadius:"10px",fontWeight:"800",fontSize:"0.8rem",cursor:"pointer"},children:"View Details"})]})})},l.id))]}),y.jsx("style",{children:`
                .chai-in-popup .leaflet-popup-content-wrapper {
                    border-radius: 20px !important;
                    padding: 4px !important;
                }
                .chai-in-popup .leaflet-popup-tip-container {
                    display: none !important;
                }
            `})]})},uP=()=>{const n=Re(),[e,r]=j.useState([]),[a,l]=j.useState(!0);j.useEffect(()=>{h()},[]);const h=async()=>{l(!0);const{data:d}=await pt.from("spots").select("created_by"),{data:m}=await pt.from("reviews").select("user_id"),g={};d?.forEach(M=>{const O=M.created_by;O&&(g[O]||(g[O]={spots:0,reviews:0,xp:0}),g[O].spots+=1,g[O].xp+=100)}),m?.forEach(M=>{const O=M.user_id;O&&(g[O]||(g[O]={spots:0,reviews:0,xp:0}),g[O].reviews+=1,g[O].xp+=10)});const _=Object.keys(g),{data:b}=await pt.from("user_preferences").select("user_id, username, display_name, avatar_url").in("user_id",_),w={};b?.forEach(M=>w[M.user_id]=M);const{data:{user:E}}=await pt.auth.getUser(),C=_.map(M=>{const O=w[M];return{id:M,name:O?.username||O?.display_name||E?.user_metadata?.full_name||"Foodie",avatar:O?.avatar_url,isMe:E&&M===E.id,...g[M]}}).sort((M,O)=>O.xp-M.xp);r(C),l(!1)};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"180px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx("button",{onClick:()=>n(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(Cu,{size:24})}),y.jsx(iS,{size:48,color:"white",style:{marginBottom:"8px"}}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"Top Foodies"}),y.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"Kerala's most active explorers"})]}),y.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-30px"},children:a?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(kt.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},children:y.jsx(CL,{size:40,color:"var(--primary)"})})}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:e.map((d,m)=>y.jsxs(kt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.05},style:{background:"white",padding:"16px",borderRadius:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"var(--shadow-sm)",border:d.isMe?"2px solid var(--primary)":"none"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{width:"28px",fontWeight:"900",color:m<3?"var(--primary)":"var(--text-muted)",fontSize:"1.1rem"},children:m===0?"":m===1?"":m===2?"":`#${m+1}`}),y.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"16px",background:"var(--secondary)",overflow:"hidden"},children:d.avatar?y.jsx("img",{src:d.avatar,style:{width:"100%",height:"100%",objectFit:"cover"}}):y.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(Ro,{size:24,color:"var(--text-muted)"})})}),y.jsxs("div",{children:[y.jsxs("div",{style:{fontWeight:"800",fontSize:"1rem",color:d.isMe?"var(--primary)":"var(--text-main)"},children:[d.name," ",d.isMe&&"(You!)"]}),y.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",fontWeight:"600"},children:[d.spots," Spots shared"]})]})]}),y.jsxs("div",{style:{background:"var(--secondary)",padding:"8px 16px",borderRadius:"14px",fontWeight:"900",color:"var(--primary)",fontSize:"0.9rem"},children:[d.xp," XP"]})]},d.id))})})]})},cP=()=>{const[n,e]=j.useState([]),[r,a]=j.useState(!0),[l,h]=j.useState(null),[d,m]=j.useState("analytics"),[g,_]=j.useState(!1);Re();const[b,w]=j.useState([]),[E,C]=j.useState({title:"",message:""}),[M,O]=j.useState(!1),[R,z]=j.useState({totalUsers:0,totalSpots:0,signupsByMonth:[],topContributors:[],activeAreas:[]}),[N,D]=j.useState(30),[V,F]=j.useState("");j.useEffect(()=>{if(!g)return;a(!0),Q(),lt(),Wt();const ut=()=>{const $=window.location.hash.replace("#","");["analytics","spots","community","reviews","notifications","moderation"].includes($)&&m($)};return ut(),window.addEventListener("hashchange",ut),()=>window.removeEventListener("hashchange",ut)},[N,g]);const K=(ut,$="success")=>{h({message:ut,type:$})},Q=async()=>{const{data:ut,error:$}=await pt.from("spots").select("*").order("created_at",{ascending:!1});ut&&e(ut),$&&K("Failed to fetch spots","error"),a(!1)},ft=async ut=>{if(!confirm("Permanently delete this spot?"))return;const{error:$}=await pt.from("spots").delete().eq("id",ut);$?(console.error($),K("Failed to delete: "+$.message,"error")):(K("Spot deleted","success"),e(n.filter(rt=>rt.id!==ut)))},vt=async(ut,$)=>{const{error:rt}=await pt.from("spots").update({is_verified:!$}).eq("id",ut);rt?K("Failed to update","error"):e(n.map(nt=>nt.id===ut?{...nt,is_verified:!$}:nt))},lt=async()=>{const{data:ut,error:$}=await pt.from("notifications").select("*").order("created_at",{ascending:!1});ut&&w(ut)},dt=async()=>{if(!E.title||!E.message)return;O(!0);const{error:ut}=await pt.from("notifications").insert([{title:E.title,message:E.message,is_active:!0}]);ut?K("Failed to send","error"):(K("Notification Sent!","success"),C({title:"",message:""}),lt()),O(!1)},yt=async ut=>{const{error:$}=await pt.from("notifications").delete().eq("id",ut);$||(w(b.filter(rt=>rt.id!==ut)),K("Notification deleted"))},Qt=async(ut,$)=>{await pt.from("notifications").update({is_active:!$}).eq("id",ut),lt()},Wt=async()=>{try{const{data:ut}=await pt.from("user_preferences").select("created_at, display_name, username, user_id"),{data:$}=await pt.from("spots").select("created_by, location_text, created_at");if(!ut||!$)return;const rt=new Date,nt=new Date;nt.setDate(rt.getDate()-N);const Lt=ut.filter(W=>new Date(W.created_at)>=nt),mt={};Lt.forEach(W=>{const ot=new Date(W.created_at).toLocaleDateString("default",{month:"short",day:"numeric"});mt[ot]=(mt[ot]||0)+1});const P=Object.entries(mt).map(([W,ot])=>({name:W,count:ot})),Y={};$.forEach(W=>{W.created_by&&(Y[W.created_by]=(Y[W.created_by]||0)+1)});const ct=Object.entries(Y).map(([W,ot])=>{const ht=ut.find(_t=>_t.user_id===W);return{name:ht?.username||ht?.display_name||"Anonymous",count:ot}}).sort((W,ot)=>ot.count-W.count).slice(0,5);z({totalUsers:ut.length,totalSpots:$.length,signupsByMonth:P,topContributors:ct,activeAreas:[]})}catch(ut){console.error(ut)}finally{a(!1)}};return g?y.jsxs("div",{style:{padding:"20px 20px 100px 20px",maxWidth:"1200px",margin:"0 auto"},children:[l&&y.jsx(Au,{message:l.message,type:l.type,onClose:()=>h(null)}),y.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:y.jsx("h1",{style:{fontSize:"1.8rem"},children:"Admin Dashboard"})}),y.jsx("div",{style:{display:"flex",gap:"8px",overflowX:"auto",paddingBottom:"10px",marginBottom:"20px"},className:"hide-scrollbar",children:["analytics","spots","community","reviews","notifications","moderation"].map(ut=>y.jsx("button",{onClick:()=>m(ut),style:{padding:"10px 20px",borderRadius:"30px",border:"none",background:d===ut?"var(--primary)":"white",color:d===ut?"white":"#555",fontWeight:"700",textTransform:"capitalize",whiteSpace:"nowrap",boxShadow:d===ut?"0 4px 12px rgba(226, 55, 68, 0.3)":"0 2px 8px rgba(0,0,0,0.05)"},children:ut},ut))}),r&&y.jsx("p",{children:"Loading data..."}),!r&&d==="analytics"&&y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[y.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("p",{style:{color:"#888",margin:0},children:"Total Users"}),y.jsx("h2",{style:{fontSize:"2.5rem",margin:0},children:R.totalUsers})]}),y.jsx(kL,{size:40,color:"var(--primary)"})]}),y.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("p",{style:{color:"#888",margin:0},children:"Total Spots"}),y.jsx("h2",{style:{fontSize:"2.5rem",margin:0},children:R.totalSpots})]}),y.jsx(ga,{size:40,color:"orange"})]}),y.jsxs("div",{className:"glass-card",style:{padding:"20px",gridColumn:"1 / -1"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[y.jsx("h3",{style:{margin:0},children:"Growth Analytics"}),y.jsx("div",{style:{display:"flex",gap:"8px"},children:[30,60,90].map(ut=>y.jsxs("button",{onClick:()=>D(ut),style:{padding:"6px 12px",borderRadius:"8px",border:"1px solid #ddd",background:N===ut?"var(--primary)":"white",color:N===ut?"white":"#666",fontSize:"0.8rem",fontWeight:"700",cursor:"pointer"},children:[ut," Days"]},ut))})]}),y.jsx("div",{style:{width:"100%",height:"250px",position:"relative"},children:R.signupsByMonth.length>0&&y.jsx(fP,{data:R.signupsByMonth})}),y.jsx("p",{style:{textAlign:"center",fontSize:"0.8rem",color:"#888",marginTop:"1rem"},children:"User Signups over time"})]}),y.jsxs("div",{className:"glass-card",style:{padding:"20px"},children:[y.jsx("h3",{children:"Top Contributors"}),R.topContributors.map((ut,$)=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #eee"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx("span",{style:{fontWeight:"bold",width:"20px"},children:$+1}),y.jsx("span",{children:ut.name})]}),y.jsx("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:ut.count})]},$))]})]}),!r&&d==="spots"&&y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.map(ut=>y.jsxs("div",{className:"glass-card",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem"},children:[y.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[y.jsx("img",{src:ut.images?.[0]||"https://via.placeholder.com/100",style:{width:"60px",height:"60px",borderRadius:"8px",objectFit:"cover"}}),y.jsxs("div",{children:[y.jsx("h4",{style:{margin:0,fontWeight:"700"},children:ut.name}),y.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666"},children:ut.location_text}),ut.is_verified&&y.jsx("span",{style:{fontSize:"0.7rem",color:"green",fontWeight:"bold"},children:"Verified"})]})]}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:()=>vt(ut.id,ut.is_verified),style:{padding:"8px",background:"#e8f5e9",color:"#2e7d32",borderRadius:"8px",border:"none"},children:y.jsx(eS,{size:18})}),y.jsx("button",{onClick:()=>ft(ut.id),style:{padding:"8px",background:"#ffebee",color:"#c62828",borderRadius:"8px",border:"none"},children:y.jsx(nS,{size:18})})]})]},ut.id))}),!r&&d==="notifications"&&y.jsxs("div",{children:[y.jsxs("div",{className:"glass-card",style:{padding:"20px",marginBottom:"20px"},children:[y.jsx("h3",{children:"Create Notification"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[y.jsx("input",{type:"text",placeholder:"Notification Title",value:E.title,onChange:ut=>C({...E,title:ut.target.value}),style:{padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}}),y.jsx("textarea",{placeholder:"Message Body",value:E.message,onChange:ut=>C({...E,message:ut.target.value}),style:{padding:"10px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"80px"}}),y.jsxs(lu,{onClick:dt,disabled:M,children:[M?"Sending...":"Send to All Users"," ",y.jsx(oS,{size:16,style:{marginLeft:"8px"}})]})]})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:b.map(ut=>y.jsxs("div",{className:"glass-card",style:{padding:"15px",position:"relative"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[y.jsx("h4",{style:{margin:0},children:ut.title}),y.jsx("span",{style:{fontSize:"0.8rem",color:ut.is_active?"green":"red",fontWeight:"bold"},children:ut.is_active?"ACTIVE":"INACTIVE"})]}),y.jsx("p",{style:{margin:0,color:"#555"},children:ut.message}),y.jsxs("div",{style:{marginTop:"10px",display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:()=>Qt(ut.id,ut.is_active),style:{fontSize:"0.8rem",padding:"4px 8px"},children:"Toggle Active"}),y.jsx("button",{onClick:()=>yt(ut.id),style:{fontSize:"0.8rem",padding:"4px 8px",color:"red"},children:"Delete"})]})]},ut.id))})]}),!r&&d==="community"&&y.jsx(hP,{}),!r&&d==="reviews"&&y.jsx(dP,{}),!r&&d==="moderation"&&y.jsx(pP,{showToast:K})]}):y.jsx("div",{style:{height:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[y.jsx(bL,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),y.jsx("h2",{style:{marginBottom:"10px"},children:"Admin Login"}),y.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Please enter your PIN to access the dashboard."}),y.jsx("input",{type:"password",id:"adminPinInput",placeholder:"Enter PIN",value:V,onChange:ut=>F(ut.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"1px solid #ddd",marginBottom:"20px",textAlign:"center",fontSize:"1.2rem",letterSpacing:"4px"},onKeyDown:ut=>{ut.key==="Enter"&&V==="Sinu@12345"?_(!0):ut.key==="Enter"&&K("Incorrect PIN","error")}}),y.jsx(lu,{onClick:()=>{V==="Sinu@12345"?_(!0):K("Incorrect PIN","error")},style:{width:"100%"},children:"Access Dashboard"})]})})},hP=()=>{const[n,e]=j.useState([]),[r,a]=j.useState(!0);j.useEffect(()=>{l()},[]);const l=async()=>{const{data:d}=await pt.from("community_posts").select("*").order("created_at",{ascending:!1});e(d||[]),a(!1)},h=async d=>{if(!confirm("Delete this post?"))return;const{error:m}=await pt.from("community_posts").delete().eq("id",d);m?(console.error(m),alert("Failed to delete post: "+m.message)):e(n.filter(g=>g.id!==d))};return r?y.jsx("div",{children:"Loading..."}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"15px"},children:n.map(d=>y.jsxs("div",{className:"glass-card",style:{padding:"10px",overflow:"hidden"},children:[y.jsx("img",{src:d.image_url,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px"}}),y.jsx("p",{style:{fontSize:"0.8rem",margin:"8px 0",height:"40px",overflow:"hidden"},children:d.caption}),y.jsxs("button",{onClick:()=>h(d.id),style:{width:"100%",padding:"6px",background:"#ffebee",color:"red",border:"none",borderRadius:"6px",cursor:"pointer"},children:[y.jsx(lS,{size:16})," Delete"]})]},d.id))})},dP=()=>{const[n,e]=j.useState([]);j.useEffect(()=>{r()},[]);const r=async()=>{const{data:l}=await pt.from("reviews").select("*").order("created_at",{ascending:!1}).limit(50);e(l||[])},a=async l=>{if(!confirm("Delete review?"))return;const{error:h}=await pt.from("reviews").delete().eq("id",l);h?(console.error(h),alert("Failed to delete review: "+h.message)):e(n.filter(d=>d.id!==l))};return y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:n.map(l=>y.jsxs("div",{className:"glass-card",style:{padding:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{display:"flex",gap:"4px"},children:[...Array(l.rating)].map((h,d)=>y.jsx("span",{children:""},d))}),y.jsx("p",{style:{marginTop:"5px",marginBottom:"0",fontSize:"0.9rem"},children:l.comment})]}),y.jsx("button",{onClick:()=>a(l.id),style:{background:"#ffebee",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:"red"},children:y.jsx(lS,{size:18})})]},l.id))})},fP=({data:n})=>{const e=Math.max(...n.map(d=>d.count),5),r=200,a=800,l=30,h=n.map((d,m)=>{const g=l+m*(a-l*2)/(n.length-1||1),_=r-l-d.count*(r-l*2)/e;return`${g},${_}`}).join(" ");return y.jsxs("svg",{viewBox:`0 0 ${a} ${r}`,style:{width:"100%",height:"100%"},children:[y.jsx("line",{x1:l,y1:r-l,x2:a-l,y2:r-l,stroke:"#eee"}),y.jsx("line",{x1:l,y1:l,x2:l,y2:r-l,stroke:"#eee"}),y.jsx("text",{x:l-10,y:l,textAnchor:"end",fontSize:"10",fill:"#999",children:e}),y.jsx("text",{x:l-10,y:r-l,textAnchor:"end",fontSize:"10",fill:"#999",children:"0"}),y.jsx("polyline",{fill:"none",stroke:"var(--primary)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:h}),n.map((d,m)=>{const g=l+m*(a-l*2)/(n.length-1||1),_=r-l-d.count*(r-l*2)/e;return y.jsxs("g",{children:[y.jsx("circle",{cx:g,cy:_,r:"4",fill:"white",stroke:"var(--primary)",strokeWidth:"2"}),y.jsx("text",{x:g,y:r-5,textAnchor:"middle",fontSize:"10",fill:"#999",children:d.name}),y.jsx("text",{x:g,y:_-10,textAnchor:"middle",fontSize:"12",fontWeight:"700",fill:"var(--primary)",children:d.count})]},m)})]})},pP=({showToast:n})=>{const[e,r]=j.useState([]),[a,l]=j.useState(!0);j.useEffect(()=>{h()},[]);const h=async()=>{const{data:m}=await pt.from("spot_edits").select("*, spots(name)").eq("status","pending");r(m||[]),l(!1)},d=async(m,g,_,b)=>{try{if(g==="approved"){const{error:E}=await pt.from("spots").update({name:b.name,category:b.category,price_level:b.price,description:b.description,location_text:b.location_text,latitude:b.latitude,longitude:b.longitude,images:b.images}).eq("id",_);if(E)throw E}const{error:w}=await pt.from("spot_edits").update({status:g}).eq("id",m);if(w)throw w;n(`Edit ${g}`,"success"),r(e.filter(E=>E.id!==m))}catch(w){console.error(w),n("Moderation failed","error")}};return a?y.jsx("div",{children:"Loading pendings..."}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:e.length===0?y.jsx("p",{children:"No pending edits to review."}):e.map(m=>y.jsxs("div",{className:"glass-card",style:{padding:"20px"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[y.jsxs("h4",{style:{margin:0},children:["Edit Suggestion for: ",m.spots?.name]}),y.jsx("span",{style:{fontSize:"0.8rem",color:"#888"},children:new Date(m.created_at).toLocaleDateString()})]}),y.jsxs("div",{style:{background:"#f8fafc",padding:"10px",borderRadius:"8px",fontSize:"0.9rem",marginBottom:"15px",color:"#475569"},children:[y.jsx("strong",{children:"Suggested Name:"})," ",m.data.name,y.jsx("br",{}),y.jsx("strong",{children:"Suggested Category:"})," ",m.data.category,y.jsx("br",{}),y.jsx("strong",{children:"New Desc:"})," ",m.data.description?.substring(0,100),"..."]}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:()=>d(m.id,"approved",m.spot_id,m.data),style:{flex:1,padding:"10px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer"},children:"Approve & Apply"}),y.jsx("button",{onClick:()=>d(m.id,"rejected"),style:{flex:1,padding:"10px",background:"#fee2e2",color:"#991b1b",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer"},children:"Reject"})]})]},m.id))})},mP=({lang:n})=>{const{id:e}=Lm(),r=Re(),{user:a}=qe(),[l,h]=j.useState(null),[d,m]=j.useState([]),[g,_]=j.useState(""),[b,w]=j.useState(!1),[E,C]=j.useState(!0),[M,O]=j.useState(null),[R,z]=j.useState(!1),[N,D]=j.useState(""),[V,F]=j.useState(0),[K,Q]=j.useState(0),[ft,vt]=j.useState(!1);j.useEffect(()=>{Wt(),sessionStorage.getItem("refreshSpotDetail")&&(sessionStorage.removeItem("refreshSpotDetail"),Wt(),ut());const P=()=>{ut()};return window.addEventListener("userProfileUpdated",P),()=>{window.removeEventListener("userProfileUpdated",P)}},[e,a]);const lt=P=>P>=1e6?(P/1e6).toFixed(1)+"M":P>=1e3?(P/1e3).toFixed(1)+"K":P.toString(),dt=()=>new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),yt=P=>{if(!P||!P.open||!P.close)return null;const Y=dt(),[ct,W=0]=P.open.split(":").map(Number),[ot,ht=0]=P.close.split(":").map(Number),_t=new Date(Y);_t.setHours(ct,W,0,0);const Zt=new Date(Y);return Zt.setHours(ot,ht,0,0),Zt<=_t&&(Y<_t?_t.setDate(_t.getDate()-1):Zt.setDate(Zt.getDate()+1)),Y>=_t&&Y<=Zt},Qt=P=>{if(!P)return"";const[Y,ct="00"]=P.split(":"),W=new Date;return W.setHours(Number(Y),Number(ct),0,0),W.toLocaleTimeString("en-IN",{hour:"numeric",minute:"2-digit",hour12:!0})},Wt=async()=>{C(!0),D("");try{const{data:P,error:Y}=await pt.from("spots").select("*").eq("id",parseInt(e)).single();if(Y)throw Y;if(!P){D("Spot not found"),C(!1);return}if(h(P),O(yt(P.opening_hours)),ut(),$(),a){const{data:ct}=await pt.from("user_favorites").select("*").eq("spot_id",parseInt(e)).eq("user_id",a.id).maybeSingle();w(!!ct);const{data:W}=await pt.from("visited_spots").select("*").eq("spot_id",parseInt(e)).eq("user_id",a.id).maybeSingle();z(!!W)}}catch(P){console.error("Error fetching spot:",P),D("Unable to load this spot right now. Please try again.")}finally{C(!1)}},ut=async()=>{const{data:P,error:Y}=await pt.from("reviews").select("*").eq("spot_id",e).order("created_at",{ascending:!1});if(Y){console.error("Error loading reviews:",Y),m([]);return}if(P){const ct=[...new Set(P.map(ht=>ht.user_id))],{data:W}=await pt.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",ct),ot={};W?.forEach(ht=>ot[ht.user_id]=ht),m(P.map(ht=>({...ht,user:ot[ht.user_id]||{display_name:"User"}})))}else m([])},$=async()=>{try{const{count:P}=await pt.from("visited_spots").select("*",{count:"exact",head:!0}).eq("spot_id",parseInt(e));F(P||0)}catch(P){console.error("Error fetching visit count:",P)}},rt=async()=>{if(!a)return alert("Please login!");const P=b;w(!P);try{P?await pt.from("user_favorites").delete().eq("spot_id",parseInt(e)).eq("user_id",a.id):await pt.from("user_favorites").insert({spot_id:parseInt(e),user_id:a.id})}catch(Y){console.error("Error toggling favorite:",Y),w(P)}},nt=async()=>{if(!a)return alert("Please login!");const P=R,Y=!P,ct=P?V-1:V+1;z(Y),Q(V),F(ct),P||(vt(!0),setTimeout(()=>vt(!1),600));try{P?await pt.from("visited_spots").delete().eq("spot_id",parseInt(e)).eq("user_id",a.id):await pt.from("visited_spots").insert({spot_id:parseInt(e),user_id:a.id})}catch(W){console.error("Error toggling visit:",W),z(P),F(P?V+1:V-1)}},Lt=async()=>{if(!a)return alert("Please login to submit a review!");if(!g.trim())return;const{error:P}=await pt.from("reviews").insert({spot_id:parseInt(e),user_id:a.id,comment:g,rating:5});P?console.error("Error adding review:",P):(_(""),ut())},mt=()=>{if(!l?.latitude||!l?.longitude){alert("Location coordinates not available for this spot.");return}const P=l.latitude,Y=l.longitude,ct=encodeURIComponent(l.name||"Spot"),W=/iPad|iPhone|iPod/.test(navigator.userAgent),ot=`/${window.location.pathname.includes("/ml/")?"ml":"en"}/directions/${e}`;W?(r(ot),setTimeout(()=>{window.open(`maps://?daddr=${P},${Y}&q=${ct}`,"_blank")},100)):(window.open(`https://www.google.com/maps/dir/?api=1&destination=${P},${Y}&destination_place_id=${ct}`,"_blank"),setTimeout(()=>{r(ot)},100))};return E?y.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Wait a moment..."}):N?y.jsx("div",{style:{padding:"40px",textAlign:"center"},children:N}):l?y.jsxs("div",{style:{background:"var(--bg-white)",minHeight:"100vh",position:"relative",paddingBottom:"140px"},children:[y.jsxs("div",{style:{height:"45vh",position:"relative",background:"#000"},children:[y.jsx(uS,{images:l.images&&l.images.length?l.images:["https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=900&q=80"]}),y.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",padding:"6px 12px",borderRadius:"20px",display:"flex",alignItems:"center",gap:"4px",zIndex:5},children:y.jsxs("span",{style:{color:"white",fontSize:"0.75rem",fontWeight:"700"},children:[lt(V)," visits"]})}),y.jsx(kt.button,{whileTap:{scale:.9},onClick:()=>r(-1),style:{position:"absolute",top:"24px",left:"20px",background:"white",border:"none",borderRadius:"16px",padding:"12px",boxShadow:"var(--shadow-md)",zIndex:10},children:y.jsx(cs,{size:24,color:"var(--text-main)"})}),y.jsx(kt.button,{whileTap:{scale:.9},onClick:rt,style:{position:"absolute",top:"24px",right:"20px",background:"white",border:"none",borderRadius:"16px",padding:"12px",boxShadow:"var(--shadow-md)",zIndex:10},children:y.jsx(pa,{size:24,fill:b?"var(--primary)":"none",color:b?"var(--primary)":"var(--text-main)"})})]}),y.jsxs(kt.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},style:{background:"white",marginTop:"-40px",borderRadius:"40px 40px 0 0",padding:"30px 20px",position:"relative",boxShadow:"0 -10px 30px rgba(0,0,0,0.05)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[y.jsxs("div",{children:[y.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"900",margin:0,color:"var(--text-main)"},children:l.name}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[y.jsx("span",{style:{background:M===null?"#E5E7EB":M?"rgba(16, 185, 129, 0.12)":"rgba(239, 68, 68, 0.12)",color:M===null?"#4B5563":M?"#0F9F6E":"#B91C1C",padding:"6px 12px",borderRadius:"12px",fontWeight:"800",fontSize:"0.8rem"},children:M===null?"HOURS NOT SET":M?"OPEN NOW":"CLOSED"}),y.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"0.85rem",fontWeight:"700"},children:[Qt(l.opening_hours?.open)," - ",Qt(l.opening_hours?.close)," (Kerala)"]})]})]}),y.jsxs("div",{style:{background:"var(--secondary)",padding:"10px 16px",borderRadius:"16px",display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(od,{size:18,fill:"#FFB800",color:"#FFB800"}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.1rem"},children:l.rating||"4.5"})]})]}),y.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"24px"},children:l.tags&&l.tags.map(P=>y.jsxs("span",{style:{background:"var(--secondary)",color:"var(--text-muted)",padding:"6px 14px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"700"},children:["#",P]},P))}),y.jsx("p",{style:{lineHeight:"1.6",color:"var(--text-main)",fontSize:"1rem",marginBottom:"30px"},children:l.description||"Indulge in an exquisite culinary journey at this magnificent location. Known for its exceptional service and vibrant atmosphere."}),y.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"40px"},children:[l.instagram_handle&&y.jsxs("a",{href:`https://instagram.com/${l.instagram_handle}`,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"14px",borderRadius:"16px",background:"linear-gradient(45deg, #f09433 0%, #dc2743 100%)",color:"white",textDecoration:"none",fontWeight:"800"},children:[y.jsx(rS,{size:20})," Instagram"]}),l.whatsapp_number&&y.jsxs("a",{href:`https://wa.me/${l.whatsapp_number}`,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"14px",borderRadius:"16px",background:"#25D366",color:"white",textDecoration:"none",fontWeight:"800"},children:[y.jsx(sd,{size:20})," WhatsApp"]}),y.jsxs(kt.button,{whileTap:{scale:.95},onClick:mt,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"14px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",textDecoration:"none",fontWeight:"800",cursor:"pointer"},children:[y.jsx(rL,{size:20})," Directions"]})]}),y.jsxs("div",{style:{marginBottom:"40px"},children:[y.jsxs("h2",{style:{fontSize:"1.4rem",fontWeight:"900",marginBottom:"20px"},children:["Reviews (",d.length,")"]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:d.map(P=>y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("img",{src:P.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"50%"}}),y.jsxs("div",{children:[y.jsx("p",{style:{fontWeight:"800",margin:0},children:P.user?.display_name||"Anonymous"}),y.jsx("p",{style:{margin:"4px 0 0 0",color:"var(--text-main)"},children:P.comment})]})]},P.id))}),y.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"10px"},children:[y.jsx("input",{type:"text",value:g,onChange:P=>_(P.target.value),placeholder:"Add a review...",style:{flex:1,padding:"14px",borderRadius:"16px",border:"2px solid var(--secondary)",outline:"none",fontWeight:"700"}}),y.jsx("button",{onClick:Lt,style:{padding:"14px 20px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",fontWeight:"800"},children:"Send"})]})]}),y.jsx("div",{style:{position:"sticky",bottom:"20px",left:0,right:0,zIndex:10,padding:"0 4px",marginBottom:"12px"},children:y.jsxs(kt.button,{whileTap:{scale:.95},onClick:nt,style:{width:"100%",padding:"18px",borderRadius:"24px",background:R?"#10B981":"#EF4444",color:"white",border:"none",fontSize:"1.1rem",fontWeight:"900",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"var(--shadow-lg)"},children:[y.jsx(ga,{size:24}),"VISITED"]})})]})]}):y.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Spot disappeared..."})},yh=43200,Dx=1440,zx=Symbol.for("constructDateFrom");function Mg(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&zx in n?n[zx](e):n instanceof Date?new n.constructor(e):new Date(e)}function ls(n,e){return Mg(n,n)}let gP={};function yP(){return gP}function Bx(n){const e=ls(n),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+n-+r}function Lg(n,...e){const r=Mg.bind(null,n||e.find(a=>typeof a=="object"));return e.map(r)}function jh(n,e){const r=+ls(n)-+ls(e);return r<0?-1:r>0?1:r}function vP(n){return Mg(n,Date.now())}function _P(n,e,r){const[a,l]=Lg(r?.in,n,e),h=a.getFullYear()-l.getFullYear(),d=a.getMonth()-l.getMonth();return h*12+d}function xP(n){return e=>{const a=(n?Math[n]:Math.trunc)(e);return a===0?0:a}}function bP(n,e){return+ls(n)-+ls(e)}function wP(n,e){const r=ls(n);return r.setHours(23,59,59,999),r}function SP(n,e){const r=ls(n),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function TP(n,e){const r=ls(n);return+wP(r)==+SP(r)}function EP(n,e,r){const[a,l,h]=Lg(r?.in,n,n,e),d=jh(l,h),m=Math.abs(_P(l,h));if(m<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-d*m);let g=jh(l,h)===-d;TP(a)&&m===1&&jh(a,h)===1&&(g=!1);const _=d*(m-+g);return _===0?0:_}function CP(n,e,r){const a=bP(n,e)/1e3;return xP(r?.roundingMethod)(a)}const AP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jP=(n,e,r)=>{let a;const l=AP[n];return typeof l=="string"?a=l:e===1?a=l.one:a=l.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Up(n){return(e={})=>{const r=e.width?String(e.width):n.defaultWidth;return n.formats[r]||n.formats[n.defaultWidth]}}const RP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MP={date:Up({formats:RP,defaultWidth:"full"}),time:Up({formats:OP,defaultWidth:"full"}),dateTime:Up({formats:kP,defaultWidth:"full"})},LP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PP=(n,e,r,a)=>LP[n];function Xl(n){return(e,r)=>{const a=r?.context?String(r.context):"standalone";let l;if(a==="formatting"&&n.formattingValues){const d=n.defaultFormattingWidth||n.defaultWidth,m=r?.width?String(r.width):d;l=n.formattingValues[m]||n.formattingValues[d]}else{const d=n.defaultWidth,m=r?.width?String(r.width):n.defaultWidth;l=n.values[m]||n.values[d]}const h=n.argumentCallback?n.argumentCallback(e):e;return l[h]}}const DP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VP=(n,e)=>{const r=Number(n),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},HP={ordinalNumber:VP,era:Xl({values:DP,defaultWidth:"wide"}),quarter:Xl({values:zP,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Xl({values:BP,defaultWidth:"wide"}),day:Xl({values:NP,defaultWidth:"wide"}),dayPeriod:Xl({values:UP,defaultWidth:"wide",formattingValues:IP,defaultFormattingWidth:"wide"})};function Jl(n){return(e,r={})=>{const a=r.width,l=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],h=e.match(l);if(!h)return null;const d=h[0],m=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],g=Array.isArray(m)?FP(m,w=>w.test(d)):qP(m,w=>w.test(d));let _;_=n.valueCallback?n.valueCallback(g):g,_=r.valueCallback?r.valueCallback(_):_;const b=e.slice(d.length);return{value:_,rest:b}}}function qP(n,e){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&e(n[r]))return r}function FP(n,e){for(let r=0;r<n.length;r++)if(e(n[r]))return r}function $P(n){return(e,r={})=>{const a=e.match(n.matchPattern);if(!a)return null;const l=a[0],h=e.match(n.parsePattern);if(!h)return null;let d=n.valueCallback?n.valueCallback(h[0]):h[0];d=r.valueCallback?r.valueCallback(d):d;const m=e.slice(l.length);return{value:d,rest:m}}}const WP=/^(\d+)(th|st|nd|rd)?/i,ZP=/\d+/i,GP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KP={any:[/^b/i,/^(a|c)/i]},YP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XP={any:[/1/i,/2/i,/3/i,/4/i]},JP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rD={ordinalNumber:$P({matchPattern:WP,parsePattern:ZP,valueCallback:n=>parseInt(n,10)}),era:Jl({matchPatterns:GP,defaultMatchWidth:"wide",parsePatterns:KP,defaultParseWidth:"any"}),quarter:Jl({matchPatterns:YP,defaultMatchWidth:"wide",parsePatterns:XP,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Jl({matchPatterns:JP,defaultMatchWidth:"wide",parsePatterns:QP,defaultParseWidth:"any"}),day:Jl({matchPatterns:tD,defaultMatchWidth:"wide",parsePatterns:eD,defaultParseWidth:"any"}),dayPeriod:Jl({matchPatterns:nD,defaultMatchWidth:"any",parsePatterns:iD,defaultParseWidth:"any"})},sD={code:"en-US",formatDistance:jP,formatLong:MP,formatRelative:PP,localize:HP,match:rD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aD(n,e,r){const a=yP(),l=r?.locale??a.locale??sD,h=2520,d=jh(n,e);if(isNaN(d))throw new RangeError("Invalid time value");const m=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:d}),[g,_]=Lg(r?.in,...d>0?[e,n]:[n,e]),b=CP(_,g),w=(Bx(_)-Bx(g))/1e3,E=Math.round((b-w)/60);let C;if(E<2)return r?.includeSeconds?b<5?l.formatDistance("lessThanXSeconds",5,m):b<10?l.formatDistance("lessThanXSeconds",10,m):b<20?l.formatDistance("lessThanXSeconds",20,m):b<40?l.formatDistance("halfAMinute",0,m):b<60?l.formatDistance("lessThanXMinutes",1,m):l.formatDistance("xMinutes",1,m):E===0?l.formatDistance("lessThanXMinutes",1,m):l.formatDistance("xMinutes",E,m);if(E<45)return l.formatDistance("xMinutes",E,m);if(E<90)return l.formatDistance("aboutXHours",1,m);if(E<Dx){const M=Math.round(E/60);return l.formatDistance("aboutXHours",M,m)}else{if(E<h)return l.formatDistance("xDays",1,m);if(E<yh){const M=Math.round(E/Dx);return l.formatDistance("xDays",M,m)}else if(E<yh*2)return C=Math.round(E/yh),l.formatDistance("aboutXMonths",C,m)}if(C=EP(_,g),C<12){const M=Math.round(E/yh);return l.formatDistance("xMonths",M,m)}else{const M=C%12,O=Math.trunc(C/12);return M<3?l.formatDistance("aboutXYears",O,m):M<9?l.formatDistance("overXYears",O,m):l.formatDistance("almostXYears",O+1,m)}}function mS(n,e){return aD(n,vP(n),e)}const oD=()=>{const{user:n}=qe(),[e,r]=j.useState([]),[a,l]=j.useState(!0),[h,d]=j.useState(!1),[m,g]=j.useState(null),[_,b]=j.useState(!1),[w,E]=j.useState(null),[C,M]=j.useState(null),[O,R]=j.useState(""),[z,N]=j.useState(null),[D,V]=j.useState(!1),[F,K]=j.useState(null),[Q,ft]=j.useState({x:0,y:0,width:100,height:100}),[vt,lt]=j.useState(1),[dt,yt]=j.useState(0),Qt=j.useRef(null),Wt=j.useRef(null),ut=async()=>{l(!0);const{data:W}=await pt.from("community_posts").select("*").order("created_at",{ascending:!1});if(W){const ot=[...new Set(W.map(ce=>ce.user_id))],{data:ht}=await pt.from("user_preferences").select("user_id, username, display_name, avatar_url").in("user_id",ot),_t={};ht?.forEach(ce=>_t[ce.user_id]=ce);const Zt=W.map(ce=>ce.id),{data:ee}=await pt.from("post_likes").select("post_id, user_id").in("post_id",Zt),Ge={},mn={};ee?.forEach(ce=>{Ge[ce.post_id]=(Ge[ce.post_id]||0)+1,ce.user_id===n?.id&&(mn[ce.post_id]=!0)}),r(W.map(ce=>({...ce,likes_count:Ge[ce.id]||0,author:_t[ce.user_id]||{display_name:"Foodie"},isLikedByUser:!!mn[ce.id]})))}l(!1)};j.useEffect(()=>{ut();const W=()=>{ut()};return window.addEventListener("userProfileUpdated",W),()=>{window.removeEventListener("userProfileUpdated",W)}},[]);const $=W=>{const ot=W.target.files[0];if(ot){K(ot),E(URL.createObjectURL(ot)),V(!0);const ht=new Image;ht.onload=()=>{ht.naturalWidth/ht.naturalHeight;const _t=Math.min(ht.naturalWidth,ht.naturalHeight);ft({x:(ht.naturalWidth-_t)/2,y:(ht.naturalHeight-_t)/2,width:_t,height:_t})},ht.src=URL.createObjectURL(ot)}},rt=()=>{const W=Qt.current,ot=W.getContext("2d"),ht=Wt.current;if(!Q||!W||!ht)return;W.width=Q.width,W.height=Q.height,ot.clearRect(0,0,W.width,W.height),ot.save();const _t=Q.width/2,Zt=Q.height/2;ot.translate(_t,Zt),ot.rotate(dt*Math.PI/180),ot.scale(vt,vt),ot.drawImage(ht,Q.x/vt-_t,Q.y/vt-Zt,Q.width/vt,Q.height/vt),ot.restore();const ee=W.toDataURL("image/jpeg",.9);ee&&fetch(ee).then(Ge=>Ge.blob()).then(Ge=>{const mn=new File([Ge],"cropped-image.jpg",{type:"image/jpeg"});M(mn),E(URL.createObjectURL(mn)),V(!1),K(null)})},nt=()=>{V(!1),K(null)},Lt=()=>{yt(W=>(W+90)%360)},mt=()=>{lt(W=>Math.min(W+.1,3))},P=()=>{lt(W=>Math.max(W-.1,.5))},Y=async()=>{if(!(!C||!O)){b(!0);try{const W=`${n.id}-${Date.now()}.${C.name.split(".").pop()}`;await pt.storage.from("food-images").upload(`community/${W}`,C);const{data:{publicUrl:ot}}=pt.storage.from("food-images").getPublicUrl(`community/${W}`);await pt.from("community_posts").insert([{user_id:n.id,image_url:ot,caption:O,likes_count:0}]),g({message:"Shared with community! ",type:"success"}),d(!1),M(null),E(null),R(""),ut()}catch{g({message:"Failed to post",type:"error"})}finally{b(!1)}}},ct=async(W,ot)=>{if(!n)return;const{data:ht}=await pt.from("post_likes").select("*").eq("post_id",W).eq("user_id",n.id).maybeSingle();ht?(await pt.from("post_likes").delete().eq("id",ht.id),r(e.map(_t=>_t.id===W?{..._t,likes_count:Math.max(0,_t.likes_count-1),isLikedByUser:!1}:_t))):(await pt.from("post_likes").insert({post_id:W,user_id:n.id}),r(e.map(_t=>_t.id===W?{..._t,likes_count:(_t.likes_count||0)+1,isLikedByUser:!0}:_t)))};return y.jsxs("div",{style:{paddingBottom:"120px",background:"var(--secondary)",minHeight:"100vh"},children:[m&&y.jsx(Au,{message:m.message,type:m.type,onClose:()=>g(null)}),y.jsxs("div",{style:{padding:"24px 20px",background:"white",borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"var(--shadow-sm)"},children:[y.jsxs("div",{children:[y.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"900",color:"var(--text-main)",margin:0},children:"Community"}),y.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",fontWeight:"600",margin:0},children:"Discover Kerala's tastes"})]}),y.jsx(kt.button,{whileTap:{scale:.9},onClick:()=>d(!0),style:{background:"var(--primary)",color:"white",border:"none",padding:"12px",borderRadius:"18px",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(ad,{size:24})})]}),y.jsx("div",{className:"container",style:{padding:"20px",maxWidth:"500px",margin:"0 auto"},children:a?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(rd,{className:"animate-spin",color:"var(--primary)"})}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:e.map((W,ot)=>y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ot*.1},style:{background:"white",borderRadius:"32px",overflow:"hidden",boxShadow:"var(--shadow-md)"},children:[y.jsxs("div",{style:{padding:"16px",display:"flex",alignItems:"center",gap:"12px"},children:[y.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"14px",background:"var(--secondary)",overflow:"hidden"},children:W.author.avatar_url?y.jsx("img",{src:W.author.avatar_url,style:{width:"100%",height:"100%",objectFit:"cover"}}):y.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(Ro,{size:20,color:"var(--text-muted)"})})}),y.jsxs("div",{children:[y.jsx("div",{style:{fontWeight:"800",fontSize:"0.95rem"},children:W.author.username||W.author.display_name}),y.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",fontWeight:"600"},children:mS(new Date(W.created_at),{addSuffix:!0})})]})]}),y.jsx("div",{style:{position:"relative",width:"100%",paddingTop:"100%"},children:y.jsx("img",{src:W.image_url,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})}),y.jsxs("div",{style:{padding:"20px"},children:[y.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"12px"},children:[y.jsx(kt.div,{whileTap:{scale:.8},onClick:()=>ct(W.id,W.likes_count),style:{cursor:"pointer"},children:y.jsx(pa,{size:26,color:"var(--primary)",fill:W.isLikedByUser?"var(--primary)":"none"})}),y.jsx(kt.div,{whileTap:{scale:.8},onClick:()=>N(W),style:{cursor:"pointer"},children:y.jsx(sd,{size:26,color:"var(--text-main)"})})]}),y.jsxs("div",{style:{fontWeight:"850",fontSize:"0.9rem",marginBottom:"8px"},children:[W.likes_count||0," likes"]}),y.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.5",color:"var(--text-main)"},children:[y.jsx("span",{style:{fontWeight:"900",marginRight:"6px"},children:W.author.username||W.author.display_name}),W.caption]})]})]},W.id))})}),z&&y.jsx(lD,{post:z,onClose:()=>N(null)}),y.jsx(yg,{children:h&&y.jsx(kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:1100,display:"flex",alignItems:"flex-end"},children:y.jsxs(kt.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},style:{background:"white",width:"100%",borderTopLeftRadius:"40px",borderTopRightRadius:"40px",padding:"24px",maxHeight:"90vh",overflowY:"auto"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[y.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"900",margin:0},children:"New Post"}),y.jsx("button",{onClick:()=>d(!1),style:{background:"var(--secondary)",border:"none",padding:"8px",borderRadius:"12px"},children:y.jsx(Oo,{size:20})})]}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[w&&y.jsxs("div",{style:{width:"100%",borderRadius:"24px",overflow:"hidden",position:"relative"},children:[y.jsx("img",{ref:Wt,src:w,style:{width:"100%",height:"300px",objectFit:"contain",display:D?"none":"block"}}),D&&y.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",gap:"12px"},children:[y.jsx("div",{style:{width:"250px",height:"250px",borderRadius:"12px",overflow:"hidden",border:"2px solid white",position:"relative"},children:y.jsx("img",{ref:Wt,src:w,style:{width:"100%",height:"100%",objectFit:"cover"}})}),y.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"16px"},children:[y.jsx("button",{onClick:P,style:{background:"var(--secondary)",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Zoom -"}),y.jsx("button",{onClick:mt,style:{background:"var(--secondary)",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Zoom +"}),y.jsxs("button",{onClick:Lt,style:{background:"var(--secondary)",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(mL,{size:16}),"Rotate"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[y.jsxs("button",{onClick:rt,style:{background:"var(--primary)",color:"white",border:"none",padding:"12px 24px",borderRadius:"12px",cursor:"pointer",fontSize:"1rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(jM,{size:18}),"Apply Crop"]}),y.jsx("button",{onClick:nt,style:{background:"var(--secondary)",border:"none",padding:"8px 16px",borderRadius:"12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Cancel"})]})]}),!D&&y.jsx("button",{onClick:()=>{E(null),M(null)},style:{position:"absolute",top:"10px",right:"10px",background:"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"50%",padding:"6px"},children:y.jsx(Oo,{size:16})})]})," : (",y.jsxs("label",{style:{width:"100%",height:"200px",border:"3px dashed var(--secondary)",borderRadius:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",background:"var(--secondary)"},children:[y.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:$}),y.jsx(id,{size:40,color:"var(--primary)"}),y.jsx("span",{style:{fontWeight:"800",marginTop:"10px",color:"var(--text-muted)"},children:"Tap to Upload & Crop Photo"})]}),")}",y.jsx("textarea",{placeholder:"Write a caption...",value:O,onChange:W=>R(W.target.value),style:{width:"100%",padding:"20px",borderRadius:"24px",background:"var(--secondary)",border:"none",fontSize:"1rem",fontWeight:"600",minHeight:"120px",outline:"none"}}),y.jsx(kt.button,{whileTap:{scale:.95},onClick:Y,disabled:_||!C,style:{width:"100%",padding:"20px",borderRadius:"24px",background:"var(--primary)",color:"white",border:"none",fontSize:"0.9rem",fontWeight:"900",boxShadow:"var(--shadow-md)",opacity:_||!C?.6:1},children:_?"Sharing...":"Share Post"})]})]})})}),y.jsx("canvas",{ref:Qt,style:{display:"none"}})]})},lD=({post:n,onClose:e})=>{const{user:r}=qe(),[a,l]=j.useState([]),[h,d]=j.useState(""),[m,g]=j.useState(!0),_=async()=>{g(!0);const{data:w}=await pt.from("post_comments").select("*").eq("post_id",n.id).order("created_at",{ascending:!1});if(w){const E=[...new Set(w.map(O=>O.user_id))],{data:C}=await pt.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",E),M={};C?.forEach(O=>M[O.user_id]=O),l(w.map(O=>({...O,user:M[O.user_id]||{display_name:"User"}})))}else l([]);g(!1)};j.useEffect(()=>{_()},[]);const b=async()=>{r&&h.trim()&&(await pt.from("post_comments").insert({post_id:n.id,user_id:r.id,comment:h}),d(""),_())};return y.jsx(kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:1100,display:"flex",alignItems:"flex-end"},onClick:e,children:y.jsxs(kt.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},style:{background:"white",width:"100%",borderTopLeftRadius:"40px",borderTopRightRadius:"40px",padding:"24px",maxHeight:"80vh",overflowY:"auto"},onClick:w=>w.stopPropagation(),children:[y.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"900",margin:"0 0 24px 0",textAlign:"center"},children:"Comments"}),m?y.jsx(rd,{className:"animate-spin"}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginBottom:"24px"},children:a.map(w=>y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("img",{src:w.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"14px"}}),y.jsxs("div",{children:[y.jsx("span",{style:{fontWeight:"800"},children:w.user?.display_name||"User"}),y.jsx("p",{style:{margin:"2px 0 0 0"},children:w.comment})]})]},w.id))}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("input",{type:"text",value:h,onChange:w=>d(w.target.value),placeholder:"Add a comment...",style:{flex:1,padding:"14px",borderRadius:"16px",border:"2px solid var(--secondary)",outline:"none",fontWeight:"700"}}),y.jsx("button",{onClick:b,style:{padding:"14px 20px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",fontWeight:"800"},children:"Send"})]})]})})},uD=({lang:n})=>{const{id:e}=Lm(),r=Re(),{user:a}=qe(),[l,h]=j.useState(1),[d,m]=j.useState(!0),[g,_]=j.useState(!1),[b,w]=j.useState(!1),[E,C]=j.useState(null),[M,O]=j.useState({name:"",category:"",price:1,location_text:"",latitude:null,longitude:null,description:"",images:[]});j.useEffect(()=>{e&&R()},[e]);const R=async()=>{m(!0);const{data:F,error:K}=await pt.from("spots").select("*").eq("id",e).single();if(K){D("Failed to load spot data.","error"),m(!1);return}O({name:F.name,category:F.category||"Cafe",price:F.price_level||1,location_text:F.location_text,latitude:F.latitude,longitude:F.longitude,description:F.description||"",images:F.images||[]}),m(!1)},z=()=>h(F=>F+1),N=()=>h(F=>F-1),D=(F,K="success")=>{C({message:F,type:K})},V=async F=>{if(F.preventDefault(),!a)return D("Please login first","error");m(!0);try{const{error:K}=await pt.from("spot_edits").insert([{spot_id:e,user_id:a.id,data:M,status:"pending"}]);if(K)throw K;D("Edit Suggestion Submitted! Admin will review.","success"),setTimeout(()=>r(`/${n}/home`),2e3)}catch(K){console.error(K),D("Failed to submit edit.","error"),m(!1)}};return d&&l===1?y.jsx("div",{style:{padding:"4rem",textAlign:"center",color:"white"},children:"Loading spot details..."}):y.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",paddingBottom:"100px"},children:[E&&y.jsx(Au,{message:E.message,type:E.type,onClose:()=>C(null)}),y.jsx(cS,{isOpen:b,onClose:()=>w(!1),onSelectLocation:(F,K)=>O({...M,latitude:F,longitude:K,location_text:`${F.toFixed(4)}, ${K.toFixed(4)}`})}),y.jsxs("div",{className:"container",style:{padding:"2rem 1rem",maxWidth:"600px",margin:"0 auto"},children:[y.jsxs("button",{onClick:()=>r(-1),style:{marginBottom:"1.5rem",background:"rgba(255,255,255,0.1)",color:"white",border:"none",padding:"8px 16px",borderRadius:"20px",cursor:"pointer"},children:[y.jsx(Cu,{size:20,style:{verticalAlign:"middle"}})," Back"]}),y.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",color:"white"},children:[y.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"800"},children:"Suggest Changes "}),y.jsxs("p",{style:{opacity:.8},children:["Help keep ",M.name," info up to date"]})]}),y.jsxs("form",{onSubmit:V,className:"glass-card",style:{padding:"2rem",background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.1)",color:"white"},children:[l===1&&y.jsxs("div",{className:"animate-fade-in",children:[y.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.1rem"},children:"Step 1: Basic Info"}),y.jsx("label",{style:{display:"block",marginBottom:"8px",opacity:.8},children:"Spot Name"}),y.jsx("input",{type:"text",value:M.name,onChange:F=>O({...M,name:F.target.value}),style:{width:"100%",padding:"14px",borderRadius:"12px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",marginBottom:"1.5rem"}}),y.jsx("label",{style:{display:"block",marginBottom:"8px",opacity:.8},children:"Description"}),y.jsx("textarea",{value:M.description,onChange:F=>O({...M,description:F.target.value}),style:{width:"100%",padding:"14px",borderRadius:"12px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",minHeight:"120px"}}),y.jsxs("button",{type:"button",onClick:z,style:{width:"100%",marginTop:"2rem",background:"linear-gradient(135deg, #6366f1 0%, #4338ca 100%)",color:"white",padding:"16px",borderRadius:"16px",border:"none",fontWeight:"800",cursor:"pointer"},children:["Next Step ",y.jsx(go,{size:18})]})]}),l===2&&y.jsxs("div",{className:"animate-fade-in",children:[y.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.1rem"},children:"Step 2: Location"}),y.jsxs("button",{type:"button",onClick:()=>w(!0),style:{width:"100%",padding:"14px",background:"rgba(255,255,255,0.1)",color:"white",border:"2px solid rgba(255,255,255,0.2)",borderRadius:"12px",cursor:"pointer",marginBottom:"1rem",fontWeight:"700"},children:[y.jsx(Ag,{size:18,style:{marginRight:"8px"}})," Update Map Pin"]}),y.jsx("input",{type:"text",placeholder:"Address",value:M.location_text,onChange:F=>O({...M,location_text:F.target.value}),style:{width:"100%",padding:"14px",borderRadius:"12px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",marginBottom:"1.5rem"}}),y.jsx("label",{style:{display:"block",marginBottom:"8px",opacity:.8},children:"Price Level"}),y.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginBottom:"1.5rem"},children:[1,2,3].map(F=>y.jsx("button",{type:"button",onClick:()=>O({...M,price:F}),style:{width:"60px",height:"60px",borderRadius:"20px",background:M.price===F?"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)":"rgba(255,255,255,0.1)",color:"white",border:M.price===F?"none":"2px solid rgba(255,255,255,0.2)",fontWeight:"800",fontSize:"1.2rem",cursor:"pointer",transition:"all 0.3s ease"},children:"".repeat(F)},F))}),y.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[y.jsx("button",{type:"button",onClick:N,style:{flex:1,padding:"16px",borderRadius:"16px",background:"transparent",border:"1px solid rgba(255,255,255,0.2)",color:"white",cursor:"pointer"},children:"Back"}),y.jsx("button",{type:"submit",disabled:d,style:{flex:2,padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",fontWeight:"800",cursor:"pointer"},children:d?"Submitting...":"Submit Suggestion "})]})]})]})]})]})},cD=({lang:n})=>{const{user:e}=qe(),r=Re(),[a,l]=j.useState([]),[h,d]=j.useState(!0);j.useEffect(()=>{e&&m()},[e]);const m=async()=>{d(!0);const{data:g}=await pt.from("user_favorites").select("spot_id").eq("user_id",e.id);if(g&&g.length>0){const _=g.map(w=>w.spot_id),{data:b}=await pt.from("spots").select("*").in("id",_);l(b||[])}d(!1)};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"180px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx("button",{onClick:()=>r(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white",cursor:"pointer"},children:y.jsx(cs,{size:24})}),y.jsx(pa,{size:48,color:"white",fill:"white",style:{marginBottom:"8px"}}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"My Favorites"}),y.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"Your saved spots"})]}),y.jsx("div",{className:"container",style:{padding:"20px",marginTop:"-30px"},children:h?y.jsx(No,{message:"Loading your favorites..."}):a.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[y.jsx(pa,{size:64,color:"var(--text-muted)",style:{marginBottom:"20px",opacity:.3}}),y.jsx("h3",{style:{color:"var(--text-main)",fontWeight:"800",marginBottom:"8px"},children:"No favorites yet"}),y.jsx("p",{style:{color:"var(--text-muted)"},children:"Start exploring and save your favorite spots!"})]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:a.map(g=>y.jsx(ld,{spot:g},g.id))})})]})},hD=({lang:n})=>{const e=Re(),r=[{icon:jm,title:"Information We Collect",content:"We collect information you provide directly to us, including your name, email address, profile information, and content you post on Chai.in. We also collect usage data to improve our services."},{icon:GM,title:"How We Use Your Information",content:"Your information is used to provide and improve our services, personalize your experience, communicate with you, and ensure the security of our platform. We never sell your personal data to third parties."},{icon:LM,title:"Information Sharing",content:"We only share your information with your consent, to comply with legal obligations, or to protect our rights. Your posts and reviews are visible to other users as part of the community experience."},{icon:jL,title:"Your Rights",content:"You have the right to access, update, or delete your personal information at any time. You can manage your privacy settings in your account preferences."},{icon:DM,title:"Data Security",content:"We implement industry-standard security measures to protect your data. All sensitive information is encrypted, and we regularly update our security practices to ensure your safety."}];return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white",cursor:"pointer"},children:y.jsx(cs,{size:24})}),y.jsx(jm,{size:48,color:"white",style:{marginBottom:"8px"}}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"Privacy Policy"}),y.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"Your privacy matters to us"})]}),y.jsxs("div",{style:{padding:"30px 20px",maxWidth:"600px",margin:"0 auto"},children:[y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",padding:"24px",borderRadius:"24px",marginBottom:"20px",boxShadow:"var(--shadow-md)"},children:[y.jsx("h2",{style:{fontSize:"1.2rem",fontWeight:"900",color:"var(--text-main)",marginBottom:"12px"},children:"Welcome to Chai.in"}),y.jsx("p",{style:{fontSize:"0.95rem",color:"var(--text-muted)",lineHeight:"1.6",margin:0},children:"At Chai.in, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, and safeguard your data when you use our platform to discover and share Kerala's best food spots."}),y.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"12px",fontStyle:"italic"},children:"Last updated: January 2026"})]}),r.map((a,l)=>y.jsx(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},style:{background:"white",padding:"20px",borderRadius:"24px",marginBottom:"16px",boxShadow:"var(--shadow-sm)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px"},children:[y.jsx("div",{style:{background:"rgba(239, 42, 57, 0.1)",padding:"12px",borderRadius:"16px",flexShrink:0},children:y.jsx(a.icon,{size:24,color:"var(--primary)"})}),y.jsxs("div",{style:{flex:1},children:[y.jsx("h3",{style:{fontSize:"1.05rem",fontWeight:"800",color:"var(--text-main)",marginBottom:"8px"},children:a.title}),y.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",lineHeight:"1.6",margin:0},children:a.content})]})]})},l)),y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},style:{background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",padding:"24px",borderRadius:"24px",marginTop:"24px",textAlign:"center"},children:[y.jsx("h3",{style:{color:"white",fontWeight:"900",fontSize:"1.1rem",marginBottom:"8px"},children:"Questions About Privacy?"}),y.jsx("p",{style:{color:"rgba(255,255,255,0.9)",fontSize:"0.9rem",marginBottom:"16px"},children:"If you have any questions or concerns about our privacy practices, please don't hesitate to contact us."}),y.jsx("button",{onClick:()=>e(`/${n}/contact-admin`),style:{background:"white",color:"var(--primary)",border:"none",padding:"12px 24px",borderRadius:"16px",fontWeight:"800",fontSize:"0.95rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:"Contact Admin"})]})]})]})},dD=({lang:n})=>{const e=Re(),[r,a]=j.useState(""),l=[{icon:lL,label:"WhatsApp",value:"+91 9846170136",link:"https://wa.me/919846170136",color:"#25D366",action:"Chat on WhatsApp"},{icon:rS,label:"Instagram",value:"@sinn.a.an",link:"https://instagram.com/sinn.a.an",color:"#E4405F",action:"Follow on Instagram"},{icon:JM,label:"Email",value:"msinankavala786@gmail.com",link:"mailto:msinankavala786@gmail.com",color:"#EA4335",action:"Send Email"}],h=(d,m)=>{navigator.clipboard.writeText(d),a(m),setTimeout(()=>a(""),2e3)};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white",cursor:"pointer"},children:y.jsx(cs,{size:24})}),y.jsx(sd,{size:48,color:"white",style:{marginBottom:"8px"}}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"Contact Admin"}),y.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"We're here to help!"})]}),y.jsxs("div",{style:{padding:"30px 20px",maxWidth:"600px",margin:"0 auto"},children:[y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",padding:"24px",borderRadius:"24px",marginBottom:"24px",boxShadow:"var(--shadow-md)",textAlign:"center"},children:[y.jsx("h2",{style:{fontSize:"1.2rem",fontWeight:"900",color:"var(--text-main)",marginBottom:"12px"},children:"Get in Touch"}),y.jsx("p",{style:{fontSize:"0.95rem",color:"var(--text-muted)",lineHeight:"1.6",margin:0},children:"Have questions, suggestions, or need help? Reach out to our admin team through any of the channels below. We typically respond within 24 hours!"})]}),l.map((d,m)=>y.jsxs(kt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.1},style:{background:"white",padding:"20px",borderRadius:"24px",marginBottom:"16px",boxShadow:"var(--shadow-sm)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"12px"},children:[y.jsx("div",{style:{background:`${d.color}15`,padding:"12px",borderRadius:"16px"},children:y.jsx(d.icon,{size:24,color:d.color})}),y.jsxs("div",{style:{flex:1},children:[y.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",fontWeight:"600"},children:d.label}),y.jsx("div",{style:{fontSize:"1rem",fontWeight:"800",color:"var(--text-main)"},children:d.value})]})]}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsxs("a",{href:d.link,target:"_blank",rel:"noopener noreferrer",style:{flex:1,background:d.color,color:"white",border:"none",padding:"12px",borderRadius:"14px",fontWeight:"800",fontSize:"0.9rem",cursor:"pointer",textAlign:"center",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[y.jsx(oS,{size:16}),d.action]}),y.jsx("button",{onClick:()=>h(d.value,d.label),style:{background:"var(--secondary)",color:"var(--text-main)",border:"none",padding:"12px 16px",borderRadius:"14px",fontWeight:"700",fontSize:"0.85rem",cursor:"pointer"},children:r===d.label?" Copied!":"Copy"})]})]},m)),y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},style:{background:"rgba(239, 42, 57, 0.05)",padding:"20px",borderRadius:"20px",marginTop:"24px",border:"2px dashed var(--primary)"},children:[y.jsx("h3",{style:{fontSize:"1rem",fontWeight:"800",color:"var(--primary)",marginBottom:"8px"},children:" Quick Tips"}),y.jsxs("ul",{style:{fontSize:"0.9rem",color:"var(--text-muted)",lineHeight:"1.8",margin:0,paddingLeft:"20px"},children:[y.jsx("li",{children:"For spot verification status, message us on WhatsApp"}),y.jsx("li",{children:"Report inappropriate content via email"}),y.jsx("li",{children:"Follow us on Instagram for updates and food stories"}),y.jsx("li",{children:"Business inquiries? Email is the best way to reach us"})]})]})]})]})},fD=({lang:n})=>{const{id:e}=Lm(),r=Re(),{user:a}=qe(),[l,h]=j.useState(null),[d,m]=j.useState([]),[g,_]=j.useState(""),[b,w]=j.useState(!0);j.useEffect(()=>{E(),C();const R=()=>{C()};return window.addEventListener("userProfileUpdated",R),()=>{window.removeEventListener("userProfileUpdated",R)}},[e]);const E=async()=>{try{const{data:R,error:z}=await pt.from("spots").select("*").eq("id",parseInt(e)).single();if(z)throw z;h(R)}catch(R){console.error("Error fetching spot:",R)}finally{w(!1)}},C=async()=>{const{data:R,error:z}=await pt.from("reviews").select("*").eq("spot_id",e).order("created_at",{ascending:!1});if(z){console.error("Error loading reviews:",z),m([]);return}if(R){const N=[...new Set(R.map(F=>F.user_id))],{data:D}=await pt.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",N),V={};D?.forEach(F=>V[F.user_id]=F),m(R.map(F=>({...F,user:V[F.user_id]||{display_name:"User"}})))}else m([])},M=async()=>{if(!a)return alert("Please login to submit a review!");if(!g.trim())return;const{error:R}=await pt.from("reviews").insert({spot_id:parseInt(e),user_id:a.id,comment:g,rating:5});R?console.error("Error adding review:",R):(_(""),C())},O=()=>{sessionStorage.setItem("refreshSpotDetail","true"),r(`/${n}/spot/${e}`)};return b?y.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-white)"},children:y.jsxs("div",{style:{textAlign:"center"},children:[y.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid var(--primary)",borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),y.jsx("p",{style:{color:"var(--text-main)",fontWeight:"600"},children:"Loading directions..."})]})}):l?y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",position:"relative"},children:[y.jsx("div",{style:{background:"var(--primary)",padding:"20px",display:"flex",alignItems:"center",gap:"16px"},children:y.jsxs(kt.button,{whileTap:{scale:.9},onClick:O,style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"12px",padding:"10px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(cs,{size:20,color:"white"}),y.jsx("span",{style:{color:"white",fontWeight:"600",fontSize:"0.9rem"},children:"Go Back"})]})}),y.jsx("div",{style:{padding:"40px 20px",textAlign:"center",maxWidth:"600px",margin:"0 auto"},children:y.jsxs(kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[y.jsxs("div",{style:{background:"var(--secondary)",padding:"30px",borderRadius:"20px",marginBottom:"30px"},children:[y.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"900",margin:"0 0 16px 0",color:"var(--text-main)"},children:l.name}),y.jsx("p",{style:{color:"var(--text-muted)",margin:"0 0 20px 0",fontSize:"1rem"},children:l.location_text||"Kerala, India"})]}),y.jsxs("div",{style:{background:"var(--secondary)",padding:"20px",borderRadius:"16px"},children:[y.jsx("h3",{style:{margin:"0 0 12px 0",color:"var(--text-main)",fontSize:"1.1rem",fontWeight:"800"},children:" Spot Information"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",textAlign:"left"},children:[l.opening_hours?.open&&y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("span",{style:{color:"var(--text-muted)"},children:"Hours:"}),y.jsxs("span",{style:{fontWeight:"600"},children:[l.opening_hours.open," - ",l.opening_hours.close]})]}),l.rating&&y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("span",{style:{color:"var(--text-muted)"},children:"Rating:"}),y.jsxs("span",{style:{fontWeight:"600"},children:[" ",l.rating]})]}),l.tags&&l.tags.length>0&&y.jsxs("div",{children:[y.jsx("span",{style:{color:"var(--text-muted)"},children:"Tags:"}),y.jsx("div",{style:{marginTop:"8px",display:"flex",gap:"8px",flexWrap:"wrap"},children:l.tags.map(R=>y.jsxs("span",{style:{background:"var(--primary)",color:"white",padding:"4px 8px",borderRadius:"8px",fontSize:"0.8rem",fontWeight:"600"},children:["#",R]},R))})]})]})]}),y.jsxs("div",{style:{marginBottom:"40px"},children:[y.jsxs("h2",{style:{fontSize:"1.4rem",fontWeight:"900",marginBottom:"20px"},children:["Reviews (",d.length,")"]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:d.map(R=>y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("img",{src:R.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"50%"}}),y.jsxs("div",{children:[y.jsx("p",{style:{fontWeight:"800",margin:0},children:R.user?.display_name||"Anonymous"}),y.jsx("p",{style:{margin:"4px 0 0 0",color:"var(--text-main)"},children:R.comment})]})]},R.id))}),y.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"10px"},children:[y.jsx("input",{type:"text",value:g,onChange:R=>_(R.target.value),placeholder:"Add a review...",style:{flex:1,padding:"14px",borderRadius:"16px",border:"2px solid var(--secondary)",outline:"none",fontWeight:"700"}}),y.jsx("button",{onClick:M,style:{padding:"14px 20px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",fontWeight:"800"},children:"Send"})]})]})]})}),y.jsx("style",{jsx:!0,children:`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `})]}):y.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-white)"},children:y.jsxs("div",{style:{textAlign:"center"},children:[y.jsx(ga,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),y.jsx("h2",{style:{color:"var(--text-main)",margin:0},children:"Spot not found"})]})})},pD=({lang:n})=>{const{user:e}=qe(),r=Re(),[a,l]=j.useState(!0),[h,d]=j.useState([]);j.useEffect(()=>{e&&m()},[e]);const m=async()=>{l(!0);try{const{data:g}=await pt.from("user_favorites").select("spot_id").eq("user_id",e.id);if(g&&g.length>0){const _=g.map(w=>w.spot_id),{data:b}=await pt.from("spots").select("*").in("id",_);d(b||[])}else d([])}catch(g){console.error("Error fetching favorites:",g)}finally{l(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},children:[y.jsx("button",{onClick:()=>r(`/${n}/profile`),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(cs,{size:24})}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"My Favorites"}),y.jsx("div",{style:{width:"44px"}})]}),y.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:a?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(No,{message:"Loading favorites..."})}):h.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[y.jsx(pa,{size:48,style:{marginBottom:"12px",opacity:.3}}),y.jsx("p",{children:"No favorites yet"}),y.jsx("p",{style:{fontSize:"0.9rem",marginTop:"8px"},children:"Start exploring and add spots to your favorites!"})]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:h.map(g=>y.jsx(ld,{spot:g},g.id))})})]})},mD=({lang:n})=>{const{user:e}=qe(),r=Re(),[a,l]=j.useState(!0),[h,d]=j.useState([]);j.useEffect(()=>{e&&m()},[e]);const m=async()=>{l(!0);try{const{data:g}=await pt.from("reviews").select("*, spots(name)").eq("user_id",e.id).order("created_at",{ascending:!1});if(g){const _=[...new Set(g.map(E=>E.user_id))],{data:b}=await pt.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",_),w={};b?.forEach(E=>w[E.user_id]=E),d(g.map(E=>({...E,user:w[E.user_id]||{display_name:"User"}})))}else d([])}catch(g){console.error("Error fetching reviews:",g)}finally{l(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},children:[y.jsx("button",{onClick:()=>r(`/${n}/profile`),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(cs,{size:24})}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"My Reviews"}),y.jsx("div",{style:{width:"44px"}})]}),y.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:a?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(No,{message:"Loading reviews..."})}):h.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[y.jsx(sS,{size:48,style:{marginBottom:"12px",opacity:.3}}),y.jsx("p",{children:"No reviews yet"}),y.jsx("p",{style:{fontSize:"0.9rem",marginTop:"8px"},children:"Start reviewing spots to share your thoughts!"})]}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:h.map(g=>y.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"20px",boxShadow:"var(--shadow-sm)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[y.jsx("img",{src:g.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"50%"}}),y.jsxs("div",{children:[y.jsx("p",{style:{fontWeight:"800",margin:0},children:g.user?.display_name||"Anonymous"}),y.jsxs("p",{style:{margin:"4px 0 0 0",color:"var(--text-muted)",fontSize:"0.85rem"},children:["at ",g.spots?.name]})]})]}),y.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"8px"},children:[...Array(5)].map((_,b)=>y.jsx(od,{size:14,fill:b<g.rating?"#FFB800":"none",color:b<g.rating?"#FFB800":"#ddd"},b))}),y.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-main)",marginBottom:"8px"},children:g.comment})]},g.id))})})]})},gD=({lang:n})=>{const{user:e}=qe(),r=Re(),[a,l]=j.useState(!0),[h,d]=j.useState([]);j.useEffect(()=>{e&&m()},[e]);const m=async()=>{l(!0);try{const{data:g}=await pt.from("spots").select("*").eq("created_by",e.id).order("created_at",{ascending:!1});d(g||[])}catch(g){console.error("Error fetching added spots:",g)}finally{l(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},children:[y.jsx("button",{onClick:()=>r(`/${n}/profile`),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(cs,{size:24})}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"My Added Spots"}),y.jsx("div",{style:{width:"44px"}})]}),y.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:a?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(No,{message:"Loading added spots..."})}):h.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[y.jsx(ad,{size:48,style:{marginBottom:"12px",opacity:.3}}),y.jsx("p",{children:"No spots added yet"}),y.jsx("p",{style:{fontSize:"0.9rem",marginTop:"8px"},children:"Start adding spots to contribute to the community!"})]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:h.map(g=>y.jsx(ld,{spot:g},g.id))})})]})},yD=({lang:n="en"})=>{const e=xi(),r=[{to:"/home",icon:IM,label:"Home"},{to:"/map",icon:Ag,label:"Map"},{to:"/community",icon:BM,label:"Club"},{to:"/leaderboard",icon:iS,label:"Top"}],a=l=>e.pathname.includes(`/${n}${l.to}`)||l.to==="/home"&&(e.pathname===`/${n}`||e.pathname===`/${n}/`);return y.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:80,zIndex:1e3,pointerEvents:"none"},children:[y.jsx("svg",{width:"100%",height:"140",viewBox:"0 0 400 140",preserveAspectRatio:"none",style:{display:"block",pointerEvents:"auto"},children:y.jsx("path",{d:`\r
            M0 40\r
            Q0 0 40 0\r
            H135\r
            C155 0 165 12 172 26\r
            C182 50 218 50 228 26\r
            C235 12 245 0 265 0\r
            H360\r
            Q400 0 400 40\r
            V140\r
            H0\r
            Z\r
          `,fill:"#EF2A39"})}),y.jsx("div",{style:{position:"absolute",top:-44,left:"50%",transform:"translateX(-50%)",pointerEvents:"auto"},children:y.jsx(Hp,{to:`/${n}/add-spot`,children:y.jsx(kt.div,{whileTap:{scale:.9},whileHover:{scale:1.05},style:{width:76,height:76,borderRadius:"50%",background:"#EF2A39",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 16px 32px rgba(239,42,57,0.45), inset 0 2px 6px rgba(255,255,255,0.35)",border:"4px solid rgba(255,255,255,0.4)"},children:y.jsx(ad,{size:32,color:"#fff",strokeWidth:3})})})}),y.jsx("div",{style:{position:"absolute",bottom:22,left:0,right:0,display:"grid",gridTemplateColumns:"repeat(5, 1fr)",alignItems:"center",padding:"0 28px",pointerEvents:"auto"},children:r.map((l,h)=>{const d=a(l),g=h<2?h+1:h+3;return y.jsx("div",{style:{gridColumn:g},children:y.jsxs(Hp,{to:`/${n}${l.to}`,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:6,color:"white",textDecoration:"none",opacity:d?1:.7,fontSize:"0.78rem",fontWeight:800},children:[y.jsx(l.icon,{size:26,strokeWidth:d?2.6:2,color:"white"}),y.jsx("span",{children:l.label})]})},l.to)})})]})},vD=()=>{const n=["","","","","","","","","",""];return y.jsx("div",{className:"food-particles",children:n.map((e,r)=>y.jsx("div",{className:"food-particle",children:e},r))})},_D=()=>{const{user:n}=qe(),[e,r]=j.useState(!1),[a,l]=j.useState(""),[h,d]=j.useState(!1),[m,g]=j.useState(null),[_,b]=j.useState(null),[w,E]=j.useState(!1);j.useEffect(()=>{if(n?.created_at){const R=new Date(n.created_at);(new Date-R)/(1e3*60*60)>1&&E(!0)}C()},[n]);const C=async()=>{if(!n)return;const{data:R,error:z}=await pt.from("user_preferences").select("username").eq("user_id",n.id).single();R&&!R.username?r(!0):R||r(!0)},M=async R=>{if(R.length<3){g(null);return}const{data:z}=await pt.from("user_preferences").select("user_id").eq("username",R).maybeSingle();g(!z)},O=async()=>{if(!(!m||a.length<3)){d(!0),b(null);try{const{error:R}=await pt.from("user_preferences").upsert({user_id:n.id,username:a,updated_at:new Date},{onConflict:"user_id"});if(R)throw R;r(!1),window.location.reload()}catch(R){console.error(R),b("Failed to save username. Try again.")}finally{d(!1)}}};return e?y.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"400px",padding:"30px",textAlign:"center",position:"relative"},children:[y.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"800",marginBottom:"10px"},children:w?"Update Required ":"Welcome to Chai-in!"}),y.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:w?"We've introduced usernames! Please choose a unique handle to continue.":"Please choose a unique username to continue."}),y.jsxs("div",{style:{position:"relative",marginBottom:"20px"},children:[y.jsx("span",{style:{position:"absolute",left:"16px",top:"14px",color:"#999",fontWeight:"bold"},children:"@"}),y.jsx("input",{type:"text",value:a,onChange:R=>{const z=R.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"");l(z),M(z)},placeholder:"username",style:{width:"100%",padding:"12px 16px 12px 36px",fontSize:"1.1rem",fontWeight:"bold",borderRadius:"12px",border:"2px solid #eee",outline:"none",background:"#fafafa"}}),y.jsx("div",{style:{position:"absolute",right:"16px",top:"14px"},children:a.length>=3&&(m?y.jsx(vM,{color:"green",size:20}):y.jsx(Oo,{color:"red",size:20}))})]}),_&&y.jsx("p",{style:{color:"red",fontSize:"0.9rem",marginBottom:"10px"},children:_}),y.jsx("button",{onClick:O,disabled:!m||h,style:{width:"100%",padding:"14px",background:"var(--primary)",color:"white",fontWeight:"700",fontSize:"1.1rem",border:"none",borderRadius:"14px",opacity:!m||h?.5:1,cursor:!m||h?"not-allowed":"pointer"},children:h?"Saving...":"Let's Go!"})]})}):null},xD=()=>{const{user:n}=qe(),[e,r]=j.useState(!1),[a,l]=j.useState(!1);j.useEffect(()=>{h()},[n]);const h=async()=>{if(!n||localStorage.getItem(`suppress_avatar_${n.id}`))return;const{data:_}=await pt.from("user_preferences").select("avatar_url").eq("user_id",n.id).single();_?.avatar_url||r(!0)},d=async g=>{try{l(!0);const _=g.target.files[0];if(!_)return;if(_.size>10*1024*1024){alert("File too large. Max 10MB"),l(!1);return}const b=_.name.split(".").pop(),E=`${`${n.id}-${Math.random()}.${b}`}`,{error:C}=await pt.storage.from("avatars").upload(E,_);if(C)throw C;const{data:M}=pt.storage.from("avatars").getPublicUrl(E),O=M.publicUrl;await pt.from("user_preferences").upsert({user_id:n.id,avatar_url:O,updated_at:new Date},{onConflict:"user_id"}),r(!1),window.location.reload()}catch(_){console.error(_),alert("Error uploading image")}finally{l(!1)}},m=()=>{r(!1),localStorage.setItem(`suppress_avatar_${n.id}`,"true")};return e?y.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"350px",padding:"30px",textAlign:"center",position:"relative",background:"white",border:"none"},children:[y.jsx("button",{onClick:m,style:{position:"absolute",right:"15px",top:"15px",background:"none",border:"none",cursor:"pointer"},children:y.jsx(Oo,{color:"#999"})}),y.jsxs("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"#f0f0f0",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx(Ro,{size:50,color:"#ccc"}),y.jsx("div",{style:{position:"absolute",bottom:0,right:0,background:"var(--primary)",padding:"6px",borderRadius:"50%",color:"white"},children:y.jsx(id,{size:16})})]}),y.jsx("h2",{style:{fontSize:"1.4rem",fontWeight:"800",marginBottom:"10px"},children:"Add a Profile Photo "}),y.jsx("p",{style:{color:"#666",marginBottom:"24px",fontSize:"0.95rem"},children:"Stand out in the community! Upload a cool avatar."}),y.jsxs("label",{style:{display:"block",width:"100%",padding:"14px",background:"var(--primary)",color:"white",fontWeight:"700",borderRadius:"14px",cursor:a?"wait":"pointer",marginBottom:"10px"},children:[a?"Uploading...":"Choose Photo",y.jsx("input",{type:"file",accept:"image/*",onChange:d,style:{display:"none"},disabled:a})]}),y.jsx("button",{onClick:m,style:{background:"none",border:"none",color:"#888",fontWeight:"600",fontSize:"0.9rem",padding:"10px"},children:"Maybe Later"})]})}):null},bD=({isOpen:n,onClose:e,userId:r})=>{const[a,l]=j.useState([]),[h,d]=j.useState(!0);j.useEffect(()=>{n&&r&&(m(),g())},[n,r]);const m=async()=>{d(!0);const{data:_,error:b}=await pt.from("notifications").select("*").or(`user_id.eq.${r},user_id.is.null`).order("created_at",{ascending:!1}).limit(20);b&&console.error("Notif error:",b),_&&l(_),d(!1)},g=async()=>{r&&await pt.from("notifications").update({is_read:!0}).eq("user_id",r).eq("is_read",!1)};return n?y.jsxs("div",{style:{position:"absolute",top:"60px",right:"20px",zIndex:3e3,width:"320px",maxHeight:"400px",background:"white",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",border:"1px solid #eee",display:"flex",flexDirection:"column",animation:"fadeInDown 0.2s ease-out"},onClick:_=>_.stopPropagation(),children:[y.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #f0f0f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("h3",{style:{margin:0,fontSize:"1rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx($h,{size:18,fill:"var(--primary)",color:"var(--primary)"}),"Notifications"]}),y.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:y.jsx(Oo,{size:16,color:"#999"})})]}),y.jsx("div",{style:{flex:1,overflowY:"auto"},children:h?y.jsx("p",{style:{textAlign:"center",color:"#888"},children:"Loading..."}):a.length===0?y.jsxs("div",{style:{textAlign:"center",paddingTop:"50px",opacity:.5},children:[y.jsx($h,{size:48,color:"#ccc",style:{marginBottom:"10px"}}),y.jsx("p",{children:"No notifications yet"})]}):a.map(_=>y.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:_.is_read?"#fff":"#fff5f5",border:"1px solid #f0f0f0",marginBottom:"10px",position:"relative"},children:[y.jsx("h4",{style:{margin:"0 0 6px",fontSize:"1rem",fontWeight:"700",color:_.is_read?"#333":"var(--primary)"},children:_.title}),y.jsx("p",{style:{margin:"0 0 8px",fontSize:"0.9rem",color:"#666",lineHeight:"1.4"},children:_.message}),y.jsx("span",{style:{fontSize:"0.75rem",color:"#999"},children:_.created_at?mS(new Date(_.created_at),{addSuffix:!0}):"just now"})]},_.id))}),y.jsx("style",{children:`
                @keyframes fadeInDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
            `})]}):null},wD=()=>{const{user:n}=qe(),e=Re(),r=xi(),[a,l]=j.useState(!1),[h,d]=j.useState(0),[m,g]=j.useState(null);return r.pathname.includes("/home"),j.useEffect(()=>{if(!n)return;const _=async()=>{const{count:E}=await pt.from("notifications").select("*",{count:"exact",head:!0}).or(`user_id.eq.${n.id},user_id.is.null`).eq("is_read",!1);d(E||0)},b=async()=>{const{data:E}=await pt.from("user_preferences").select("*").eq("user_id",n.id).maybeSingle();g(E)},w=()=>{b()};return _(),b(),window.addEventListener("userProfileUpdated",w),()=>{window.removeEventListener("userProfileUpdated",w)}},[n]),y.jsxs("div",{style:{position:"sticky",top:0,left:0,right:0,height:"70px",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0,0,0,0.05)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",zIndex:1e3,boxShadow:"0 4px 20px rgba(0,0,0,0.03)"},children:[y.jsx(bD,{isOpen:a,onClose:()=>{l(!1),d(0)},userId:n?.id}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},onClick:()=>e("/en/home"),children:[y.jsx("img",{src:"/chai-in/chai_icon.png",alt:"Chai-in",style:{height:"40px",width:"40px",objectFit:"contain",borderRadius:"10px"},onError:_=>{_.target.src="https://ui-avatars.com/api/?name=C&background=EF2A39&color=fff&rounded=true&size=40"}}),y.jsx("span",{style:{fontSize:"1.3rem",color:"var(--text-main)",fontWeight:"900",fontFamily:"'Outfit', sans-serif"},children:"Chai.in"})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[y.jsxs("button",{onClick:()=>l(!0),style:{position:"relative",background:"white",border:"none",borderRadius:"12px",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[y.jsx($h,{size:20,color:"#333"}),h>0&&y.jsx("span",{style:{position:"absolute",top:"4px",right:"4px",background:"#EF2A39",color:"white",fontSize:"0.65rem",fontWeight:"900",minWidth:"18px",height:"18px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 4px",border:"2px solid white",boxShadow:"0 2px 4px rgba(239, 42, 57, 0.3)"},children:h>9?"9+":h})]}),y.jsx("div",{onClick:()=>e("/en/profile"),style:{width:"40px",height:"40px",borderRadius:"12px",background:"#eee",overflow:"hidden",border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",cursor:"pointer"},children:y.jsx("img",{src:m?.avatar_url||n?.user_metadata?.avatar_url||`https://ui-avatars.com/api/?name=${n?.email}`,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})]})},SD=({lang:n})=>{const e=xi();return j.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e.pathname]),y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-cream)",position:"relative"},children:[y.jsx(wD,{}),y.jsx(vD,{}),y.jsx(_D,{}),y.jsx(xD,{}),y.jsx(D2,{}),y.jsx(yD,{lang:n})]})},Nx=({children:n})=>{const{user:e,loading:r}=qe();return r?y.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"white"},children:y.jsx(No,{message:"Welcome to Chai-in..."})}):e?n:y.jsx(Yx,{to:"/login",replace:!0})};function TD(){return y.jsxs(Xx,{children:[y.jsx(xe,{path:"/",element:y.jsx(Yx,{to:"/login",replace:!0})}),y.jsx(xe,{path:"/login",element:y.jsx(aM,{})}),y.jsx(xe,{path:"/en/*",element:y.jsx(Nx,{children:y.jsx(Ux,{lang:"en"})})}),y.jsx(xe,{path:"/ml/*",element:y.jsx(Nx,{children:y.jsx(Ux,{lang:"ml"})})})]})}function Ux({lang:n}){return y.jsx(Xx,{children:y.jsxs(xe,{element:y.jsx(SD,{lang:n}),children:[y.jsx(xe,{path:"home",element:y.jsx(BL,{lang:n})}),y.jsx(xe,{path:"map",element:y.jsx(lP,{lang:n})}),y.jsx(xe,{path:"add-spot",element:y.jsx(IL,{lang:n})}),y.jsx(xe,{path:"community",element:y.jsx(oD,{lang:n})}),y.jsx(xe,{path:"favorites",element:y.jsx(cD,{lang:n})}),y.jsx(xe,{path:"leaderboard",element:y.jsx(uP,{lang:n})}),y.jsx(xe,{path:"profile",element:y.jsx(NL,{lang:n})}),y.jsx(xe,{path:"profile/favorites",element:y.jsx(pD,{lang:n})}),y.jsx(xe,{path:"profile/reviews",element:y.jsx(mD,{lang:n})}),y.jsx(xe,{path:"profile/added",element:y.jsx(gD,{lang:n})}),y.jsx(xe,{path:"settings",element:y.jsx(UL,{lang:n})}),y.jsx(xe,{path:"privacy-policy",element:y.jsx(hD,{lang:n})}),y.jsx(xe,{path:"contact-admin",element:y.jsx(dD,{lang:n})}),y.jsx(xe,{path:"directions/:id",element:y.jsx(fD,{lang:n})}),y.jsx(xe,{path:"spot/:id",element:y.jsx(mP,{lang:n})}),y.jsx(xe,{path:"edit-spot/:id",element:y.jsx(uD,{lang:n})}),y.jsx(xe,{path:"admin",element:y.jsx(cP,{})})]})})}console.log("Chai.in v1.0.1 Loaded at "+new Date().toISOString());HT.createRoot(document.getElementById("root")).render(y.jsx(ss.StrictMode,{children:y.jsx(sE,{children:y.jsx(AA,{children:y.jsx(TD,{})})})}));
