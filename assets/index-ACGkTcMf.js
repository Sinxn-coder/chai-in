function J2(n,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in n)){const d=Object.getOwnPropertyDescriptor(a,l);d&&Object.defineProperty(n,l,d.get?d:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(l){if(l.ep)return;l.ep=!0;const d=r(l);fetch(l.href,d)}})();function ih(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function wu(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var r=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var l=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:function(){return n[a]}})}),r}var pp={exports:{}},Yl={};var Iv;function Q2(){if(Iv)return Yl;Iv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,d){var h=null;if(d!==void 0&&(h=""+d),l.key!==void 0&&(h=""+l.key),"key"in l){d={};for(var m in l)m!=="key"&&(d[m]=l[m])}else d=l;return l=d.ref,{$$typeof:n,type:a,key:h,ref:l!==void 0?l:null,props:d}}return Yl.Fragment=t,Yl.jsx=r,Yl.jsxs=r,Yl}var Vv;function eT(){return Vv||(Vv=1,pp.exports=Q2()),pp.exports}var f=eT(),mp={exports:{}},Ue={};var Hv;function tT(){if(Hv)return Ue;Hv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function j(B){return B===null||typeof B!="object"?null:(B=S&&B[S]||B["@@iterator"],typeof B=="function"?B:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,R={};function z(B,te,me){this.props=B,this.context=te,this.refs=R,this.updater=me||A}z.prototype.isReactComponent={},z.prototype.setState=function(B,te){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,te,"setState")},z.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function P(){}P.prototype=z.prototype;function D(B,te,me){this.props=B,this.context=te,this.refs=R,this.updater=me||A}var W=D.prototype=new P;W.constructor=D,k(W,z.prototype),W.isPureReactComponent=!0;var q=Array.isArray;function H(){}var Z={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function ye(B,te,me){var he=me.ref;return{$$typeof:n,type:B,key:te,ref:he!==void 0?he:null,props:me}}function be(B,te){return ye(B.type,te,B.props)}function oe(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function G(B){var te={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return te[me]})}var de=/\/+/g;function we(B,te){return typeof B=="object"&&B!==null&&B.key!=null?G(""+B.key):te.toString(36)}function se(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(H,H):(B.status="pending",B.then(function(te){B.status==="pending"&&(B.status="fulfilled",B.value=te)},function(te){B.status==="pending"&&(B.status="rejected",B.reason=te)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function V(B,te,me,he,ve){var xe=typeof B;(xe==="undefined"||xe==="boolean")&&(B=null);var Be=!1;if(B===null)Be=!0;else switch(xe){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(B.$$typeof){case n:case t:Be=!0;break;case x:return Be=B._init,V(Be(B._payload),te,me,he,ve)}}if(Be)return ve=ve(B),Be=he===""?"."+we(B,0):he,q(ve)?(me="",Be!=null&&(me=Be.replace(de,"$&/")+"/"),V(ve,te,me,"",function(De){return De})):ve!=null&&(oe(ve)&&(ve=be(ve,me+(ve.key==null||B&&B.key===ve.key?"":(""+ve.key).replace(de,"$&/")+"/")+Be)),te.push(ve)),1;Be=0;var ft=he===""?".":he+":";if(q(B))for(var ge=0;ge<B.length;ge++)he=B[ge],xe=ft+we(he,ge),Be+=V(he,te,me,xe,ve);else if(ge=j(B),typeof ge=="function")for(B=ge.call(B),ge=0;!(he=B.next()).done;)he=he.value,xe=ft+we(he,ge++),Be+=V(he,te,me,xe,ve);else if(xe==="object"){if(typeof B.then=="function")return V(se(B),te,me,he,ve);throw te=String(B),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ie(B,te,me){if(B==null)return B;var he=[],ve=0;return V(B,he,"","",function(xe){return te.call(me,xe,ve++)}),he}function ne(B){if(B._status===-1){var te=B._result;te=te(),te.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=te)}if(B._status===1)return B._result.default;throw B._result}var Te=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},pe={map:ie,forEach:function(B,te,me){ie(B,function(){te.apply(this,arguments)},me)},count:function(B){var te=0;return ie(B,function(){te++}),te},toArray:function(B){return ie(B,function(te){return te})||[]},only:function(B){if(!oe(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Ue.Activity=w,Ue.Children=pe,Ue.Component=z,Ue.Fragment=r,Ue.Profiler=l,Ue.PureComponent=D,Ue.StrictMode=a,Ue.Suspense=y,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(B){return Z.H.useMemoCache(B)}},Ue.cache=function(B){return function(){return B.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(B,te,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var he=k({},B.props),ve=B.key;if(te!=null)for(xe in te.key!==void 0&&(ve=""+te.key),te)!ae.call(te,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&te.ref===void 0||(he[xe]=te[xe]);var xe=arguments.length-2;if(xe===1)he.children=me;else if(1<xe){for(var Be=Array(xe),ft=0;ft<xe;ft++)Be[ft]=arguments[ft+2];he.children=Be}return ye(B.type,ve,he)},Ue.createContext=function(B){return B={$$typeof:h,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:d,_context:B},B},Ue.createElement=function(B,te,me){var he,ve={},xe=null;if(te!=null)for(he in te.key!==void 0&&(xe=""+te.key),te)ae.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ve[he]=te[he]);var Be=arguments.length-2;if(Be===1)ve.children=me;else if(1<Be){for(var ft=Array(Be),ge=0;ge<Be;ge++)ft[ge]=arguments[ge+2];ve.children=ft}if(B&&B.defaultProps)for(he in Be=B.defaultProps,Be)ve[he]===void 0&&(ve[he]=Be[he]);return ye(B,xe,ve)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(B){return{$$typeof:m,render:B}},Ue.isValidElement=oe,Ue.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:ne}},Ue.memo=function(B,te){return{$$typeof:v,type:B,compare:te===void 0?null:te}},Ue.startTransition=function(B){var te=Z.T,me={};Z.T=me;try{var he=B(),ve=Z.S;ve!==null&&ve(me,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(H,Te)}catch(xe){Te(xe)}finally{te!==null&&me.types!==null&&(te.types=me.types),Z.T=te}},Ue.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ue.use=function(B){return Z.H.use(B)},Ue.useActionState=function(B,te,me){return Z.H.useActionState(B,te,me)},Ue.useCallback=function(B,te){return Z.H.useCallback(B,te)},Ue.useContext=function(B){return Z.H.useContext(B)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(B,te){return Z.H.useDeferredValue(B,te)},Ue.useEffect=function(B,te){return Z.H.useEffect(B,te)},Ue.useEffectEvent=function(B){return Z.H.useEffectEvent(B)},Ue.useId=function(){return Z.H.useId()},Ue.useImperativeHandle=function(B,te,me){return Z.H.useImperativeHandle(B,te,me)},Ue.useInsertionEffect=function(B,te){return Z.H.useInsertionEffect(B,te)},Ue.useLayoutEffect=function(B,te){return Z.H.useLayoutEffect(B,te)},Ue.useMemo=function(B,te){return Z.H.useMemo(B,te)},Ue.useOptimistic=function(B,te){return Z.H.useOptimistic(B,te)},Ue.useReducer=function(B,te,me){return Z.H.useReducer(B,te,me)},Ue.useRef=function(B){return Z.H.useRef(B)},Ue.useState=function(B){return Z.H.useState(B)},Ue.useSyncExternalStore=function(B,te,me){return Z.H.useSyncExternalStore(B,te,me)},Ue.useTransition=function(){return Z.H.useTransition()},Ue.version="19.2.1",Ue}var qv;function Bm(){return qv||(qv=1,mp.exports=tT()),mp.exports}var C=Bm();const ps=ih(C);var gp={exports:{}},Xl={},yp={exports:{}},vp={};var Fv;function nT(){return Fv||(Fv=1,(function(n){function t(V,ie){var ne=V.length;V.push(ie);e:for(;0<ne;){var Te=ne-1>>>1,pe=V[Te];if(0<l(pe,ie))V[Te]=ie,V[ne]=pe,ne=Te;else break e}}function r(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var ie=V[0],ne=V.pop();if(ne!==ie){V[0]=ne;e:for(var Te=0,pe=V.length,B=pe>>>1;Te<B;){var te=2*(Te+1)-1,me=V[te],he=te+1,ve=V[he];if(0>l(me,ne))he<pe&&0>l(ve,me)?(V[Te]=ve,V[he]=ne,Te=he):(V[Te]=me,V[te]=ne,Te=te);else if(he<pe&&0>l(ve,ne))V[Te]=ve,V[he]=ne,Te=he;else break e}}return ie}function l(V,ie){var ne=V.sortIndex-ie.sortIndex;return ne!==0?ne:V.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var y=[],v=[],x=1,w=null,S=3,j=!1,A=!1,k=!1,R=!1,z=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function W(V){for(var ie=r(v);ie!==null;){if(ie.callback===null)a(v);else if(ie.startTime<=V)a(v),ie.sortIndex=ie.expirationTime,t(y,ie);else break;ie=r(v)}}function q(V){if(k=!1,W(V),!A)if(r(y)!==null)A=!0,H||(H=!0,G());else{var ie=r(v);ie!==null&&se(q,ie.startTime-V)}}var H=!1,Z=-1,ae=5,ye=-1;function be(){return R?!0:!(n.unstable_now()-ye<ae)}function oe(){if(R=!1,H){var V=n.unstable_now();ye=V;var ie=!0;try{e:{A=!1,k&&(k=!1,P(Z),Z=-1),j=!0;var ne=S;try{t:{for(W(V),w=r(y);w!==null&&!(w.expirationTime>V&&be());){var Te=w.callback;if(typeof Te=="function"){w.callback=null,S=w.priorityLevel;var pe=Te(w.expirationTime<=V);if(V=n.unstable_now(),typeof pe=="function"){w.callback=pe,W(V),ie=!0;break t}w===r(y)&&a(y),W(V)}else a(y);w=r(y)}if(w!==null)ie=!0;else{var B=r(v);B!==null&&se(q,B.startTime-V),ie=!1}}break e}finally{w=null,S=ne,j=!1}ie=void 0}}finally{ie?G():H=!1}}}var G;if(typeof D=="function")G=function(){D(oe)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,we=de.port2;de.port1.onmessage=oe,G=function(){we.postMessage(null)}}else G=function(){z(oe,0)};function se(V,ie){Z=z(function(){V(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(V){switch(S){case 1:case 2:case 3:var ie=3;break;default:ie=S}var ne=S;S=ie;try{return V()}finally{S=ne}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(V,ie){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ne=S;S=V;try{return ie()}finally{S=ne}},n.unstable_scheduleCallback=function(V,ie,ne){var Te=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Te+ne:Te):ne=Te,V){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ne+pe,V={id:x++,callback:ie,priorityLevel:V,startTime:ne,expirationTime:pe,sortIndex:-1},ne>Te?(V.sortIndex=ne,t(v,V),r(y)===null&&V===r(v)&&(k?(P(Z),Z=-1):k=!0,se(q,ne-Te))):(V.sortIndex=pe,t(y,V),A||j||(A=!0,H||(H=!0,G()))),V},n.unstable_shouldYield=be,n.unstable_wrapCallback=function(V){var ie=S;return function(){var ne=S;S=ie;try{return V.apply(this,arguments)}finally{S=ne}}}})(vp)),vp}var Wv;function iT(){return Wv||(Wv=1,yp.exports=nT()),yp.exports}var _p={exports:{}},cn={};var $v;function rT(){if($v)return cn;$v=1;var n=Bm();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function d(y,v,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:v,implementation:x}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(y,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return d(y,v,null,x)},cn.flushSync=function(y){var v=h.T,x=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=v,a.p=x,a.d.f()}},cn.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},cn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},cn.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var x=v.as,w=m(x,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:j}):x==="script"&&a.d.X(y,{crossOrigin:w,integrity:S,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},cn.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=m(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},cn.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,w=m(x,v.crossOrigin);a.d.L(y,x,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},cn.preloadModule=function(y,v){if(typeof y=="string")if(v){var x=m(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},cn.requestFormReset=function(y){a.d.r(y)},cn.unstable_batchedUpdates=function(y,v){return y(v)},cn.useFormState=function(y,v,x){return h.H.useFormState(y,v,x)},cn.useFormStatus=function(){return h.H.useHostTransitionStatus()},cn.version="19.2.1",cn}var Zv;function tb(){if(Zv)return _p.exports;Zv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),_p.exports=rT(),_p.exports}var Gv;function sT(){if(Gv)return Xl;Gv=1;var n=iT(),t=Bm(),r=tb();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function v(e){var i=e.alternate;if(!i){if(i=d(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var g=o.return;if(g===null)break;var _=g.alternate;if(_===null){if(c=g.return,c!==null){o=c;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===o)return y(g),e;if(_===c)return y(g),i;_=_.sibling}throw Error(a(188))}if(o.return!==c.return)o=g,c=_;else{for(var E=!1,M=g.child;M;){if(M===o){E=!0,o=g,c=_;break}if(M===c){E=!0,c=g,o=_;break}M=M.sibling}if(!E){for(M=_.child;M;){if(M===o){E=!0,o=_,c=g;break}if(M===c){E=!0,c=_,o=g;break}M=M.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function x(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=x(e),i!==null)return i;e=e.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ye=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case z:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case H:return"SuspenseList";case ye:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case D:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case W:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return i=e.displayName||null,i!==null?i:we(e.type)||"Memo";case ae:i=e._payload,e=e._init;try{return we(e(i))}catch{}}return null}var se=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Te=[],pe=-1;function B(e){return{current:e}}function te(e){0>pe||(e.current=Te[pe],Te[pe]=null,pe--)}function me(e,i){pe++,Te[pe]=e.current,e.current=i}var he=B(null),ve=B(null),xe=B(null),Be=B(null);function ft(e,i){switch(me(xe,i),me(ve,e),me(he,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?uv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=uv(i),e=cv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(he),me(he,e)}function ge(){te(he),te(ve),te(xe)}function De(e){e.memoizedState!==null&&me(Be,e);var i=he.current,o=cv(i,e.type);i!==o&&(me(ve,e),me(he,o))}function Ye(e){ve.current===e&&(te(he),te(ve)),Be.current===e&&(te(Be),$l._currentValue=ne)}var tt,Ft;function Tt(e){if(tt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);tt=i&&i[1]||"",Ft=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+e+Ft}var it=!1;function fn(e,i){if(!e||it)return"";it=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ee){var J=ee}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ee){J=ee}e.call(ce.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),E=_[0],M=_[1];if(E&&M){var U=E.split(`
`),Y=M.split(`
`);for(g=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(c===U.length||g===Y.length)for(c=U.length-1,g=Y.length-1;1<=c&&0<=g&&U[c]!==Y[g];)g--;for(;1<=c&&0<=g;c--,g--)if(U[c]!==Y[g]){if(c!==1||g!==1)do if(c--,g--,0>g||U[c]!==Y[g]){var re=`
`+U[c].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=c&&0<=g);break}}}finally{it=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Tt(o):""}function Fo(e,i){switch(e.tag){case 26:case 27:case 5:return Tt(e.type);case 16:return Tt("Lazy");case 13:return e.child!==i&&i!==null?Tt("Suspense Fallback"):Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return fn(e.type,!1);case 11:return fn(e.type.render,!1);case 1:return fn(e.type,!0);case 31:return Tt("Activity");default:return""}}function xs(e){try{var i="",o=null;do i+=Fo(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Wo=Object.prototype.hasOwnProperty,Ea=n.unstable_scheduleCallback,bs=n.unstable_cancelCallback,Du=n.unstable_shouldYield,Bu=n.unstable_requestPaint,pn=n.unstable_now,mh=n.unstable_getCurrentPriorityLevel,ja=n.unstable_ImmediatePriority,$o=n.unstable_UserBlockingPriority,ws=n.unstable_NormalPriority,gh=n.unstable_LowPriority,Zo=n.unstable_IdlePriority,Nu=n.log,yh=n.unstable_setDisableYieldValue,jr=null,Qt=null;function ci(e){if(typeof Nu=="function"&&yh(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(jr,e)}catch{}}var mn=Math.clz32?Math.clz32:_h,Ss=Math.log,vh=Math.LN2;function _h(e){return e>>>=0,e===0?32:31-(Ss(e)/vh|0)|0}var Ts=256,Es=262144,js=4194304;function Zi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ca(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var g=0,_=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var M=c&134217727;return M!==0?(c=M&~_,c!==0?g=Zi(c):(E&=M,E!==0?g=Zi(E):o||(o=M&~e,o!==0&&(g=Zi(o))))):(M=c&~_,M!==0?g=Zi(M):E!==0?g=Zi(E):o||(o=c&~e,o!==0&&(g=Zi(o)))),g===0?0:i!==0&&i!==g&&(i&_)===0&&(_=g&-g,o=i&-i,_>=o||_===32&&(o&4194048)!==0)?i:g}function Cs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function xh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uu(){var e=js;return js<<=1,(js&62914560)===0&&(js=4194304),e}function Go(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function Gi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,i,o,c,g,_){var E=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var M=e.entanglements,U=e.expirationTimes,Y=e.hiddenUpdates;for(o=E&~o;0<o;){var re=31-mn(o),ce=1<<re;M[re]=0,U[re]=-1;var J=Y[re];if(J!==null)for(Y[re]=null,re=0;re<J.length;re++){var ee=J[re];ee!==null&&(ee.lane&=-536870913)}o&=~ce}c!==0&&Iu(e,c,0),_!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=_&~(E&~i))}function Iu(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-mn(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function Vu(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-mn(o),g=1<<c;g&i|e[c]&i&&(e[c]|=i),o&=~g}}function Hu(e,i){var o=i&-i;return o=(o&42)!==0?1:xn(o),(o&(e.suspendedLanes|i))!==0?0:o}function xn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ko(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:Lv(e.type))}function Yo(e,i){var o=ie.p;try{return ie.p=e,i()}finally{ie.p=o}}var di=Math.random().toString(36).slice(2),Pt="__reactFiber$"+di,Kt="__reactProps$"+di,Ki="__reactContainer$"+di,ji="__reactEvents$"+di,qu="__reactListeners$"+di,wh="__reactHandles$"+di,Fu="__reactResources$"+di,As="__reactMarker$"+di;function Xo(e){delete e[Pt],delete e[Kt],delete e[ji],delete e[qu],delete e[wh]}function Yi(e){var i=e[Pt];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Ki]||o[Pt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=yv(e);e!==null;){if(o=e[Pt])return o;e=yv(e)}return i}e=o,o=e.parentNode}return null}function Cr(e){if(e=e[Pt]||e[Ki]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Ci(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Ar(e){var i=e[Fu];return i||(i=e[Fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Dt(e){e[As]=!0}var Wu=new Set,$u={};function Xi(e,i){Ai(e,i),Ai(e+"Capture",i)}function Ai(e,i){for($u[e]=i,e=0;e<i.length;e++)Wu.add(i[e])}var ks=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Qo={};function Rs(e){return Wo.call(Qo,e)?!0:Wo.call(Jo,e)?!1:ks.test(e)?Qo[e]=!0:(Jo[e]=!0,!1)}function qe(e,i,o){if(Rs(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function ot(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function bn(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ji(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function el(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return g.call(this)},set:function(E){o=""+E,_.call(this,E)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ne(e){if(!e._valueTracker){var i=Ji(e)?"checked":"value";e._valueTracker=el(e,i,""+e[i])}}function _t(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Ji(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Aa=/[\n"\\]/g;function mt(e){return e.replace(Aa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function tl(e,i,o,c,g,_,E,M){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),i!=null?E==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Wt(i)):e.value!==""+Wt(i)&&(e.value=""+Wt(i)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),i!=null?hi(e,E,Wt(i)):o!=null?hi(e,E,Wt(o)):c!=null&&e.removeAttribute("value"),g==null&&_!=null&&(e.defaultChecked=!!_),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+Wt(M):e.removeAttribute("name")}function Os(e,i,o,c,g,_,E,M){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),i!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||i!=null)){Ne(e);return}o=o!=null?""+Wt(o):"",i=i!=null?""+Wt(i):o,M||i===e.value||(e.value=i),e.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=M?e.checked:!!c,e.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),Ne(e)}function hi(e,i,o){i==="number"&&kr(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function dt(e,i,o,c){if(e=e.options,i){i={};for(var g=0;g<o.length;g++)i["$"+o[g]]=!0;for(o=0;o<e.length;o++)g=i.hasOwnProperty("$"+e[o].value),e[o].selected!==g&&(e[o].selected=g),g&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Wt(o),i=null,g=0;g<e.length;g++){if(e[g].value===o){e[g].selected=!0,c&&(e[g].defaultSelected=!0);return}i!==null||e[g].disabled||(i=e[g])}i!==null&&(i.selected=!0)}}function ki(e,i,o){if(i!=null&&(i=""+Wt(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Wt(o):""}function Rr(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(se(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Wt(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),Ne(e)}function Zn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var nl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Or(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||nl.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function ka(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&o[g]!==c&&Or(e,g,c)}else for(var _ in i)i.hasOwnProperty(_)&&Or(e,_,i[_])}function Ms(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),il=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(e){return il.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wn(){}var Oa=null;function Ls(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lr=null,ze=null;function Dn(e){var i=Cr(e);if(i&&(e=i.stateNode)){var o=e[Kt]||null;e:switch(e=i.stateNode,i.type){case"input":if(tl(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+mt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var g=c[Kt]||null;if(!g)throw Error(a(90));tl(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&_t(c)}break e;case"textarea":ki(e,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&dt(e,!!o.multiple,i,!1)}}}var rt=!1;function rl(e,i,o){if(rt)return e(i,o);rt=!0;try{var c=e(i);return c}finally{if(rt=!1,(Lr!==null||ze!==null)&&(Hc(),Lr&&(i=Lr,e=ze,ze=Lr=null,Dn(i),e)))for(i=0;i<e.length;i++)Dn(e[i])}}function Qi(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Kt]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(Bn)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{zs=!1}var Gn=null,er=null,Ct=null;function Ri(){if(Ct)return Ct;var e,i=er,o=i.length,c,g="value"in Gn?Gn.value:Gn.textContent,_=g.length;for(e=0;e<o&&i[e]===g[e];e++);var E=o-e;for(c=1;c<=E&&i[o-c]===g[_-c];c++);return Ct=g.slice(e,1<c?1-c:void 0)}function Ps(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Zu(){return!1}function en(e){function i(o,c,g,_,E){this._reactName=o,this._targetInst=g,this.type=c,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(o=e[M],this[M]=o?o(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ds:Zu,this.isPropagationStopped=Zu,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),i}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=en(fi),zr=w({},fi,{view:0,detail:0}),Ze=en(zr),sl,gn,pi,Bs=w({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(sl=e.screenX-pi.screenX,gn=e.screenY-pi.screenY):gn=sl=0,pi=e),sl)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),Gu=en(Bs),al=w({},Bs,{dataTransfer:0}),Sh=en(al),Ku=w({},zr,{relatedTarget:0}),ol=en(Ku),Th=w({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),ll=en(Th),Eh=w({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kn=en(Eh),jh=w({},fi,{data:0}),ul=en(jh),Oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Xu[e])?!!i[e]:!1}function dl(){return cl}var Ju=w({},zr,{key:function(e){if(e.key){var i=Oi[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qu=en(Ju),Ch=w({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=en(Ch),hl=w({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),Ah=en(hl),tc=w({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),nc=en(tc),La=w({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tr=en(La),kh=w({},fi,{newState:0,oldState:0}),Ns=en(kh),Sn=[9,13,27,32],za=Bn&&"CompositionEvent"in window,Pr=null;Bn&&"documentMode"in document&&(Pr=document.documentMode);var Rh=Bn&&"TextEvent"in window&&!Pr,Pa=Bn&&(!za||Pr&&8<Pr&&11>=Pr),Da=" ",ic=!1;function rc(e,i){switch(e){case"keyup":return Sn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Un(e,i){switch(e){case"compositionend":return fl(i);case"keypress":return i.which!==32?null:(ic=!0,Da);case"textInput":return e=i.data,e===Da&&ic?null:e;default:return null}}function Br(e,i){if(Dr)return e==="compositionend"||!za&&rc(e,i)?(e=Ri(),Ct=er=Gn=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pa&&i.locale!=="ko"?null:i.data;default:return null}}var Oh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Oh[e.type]:i==="textarea"}function sc(e,i,o,c){Lr?ze?ze.push(c):ze=[c]:Lr=c,i=Kc(i,"onChange"),0<i.length&&(o=new Ma("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var Xn=null,Us=null;function Is(e){iv(e,0)}function Vs(e){var i=Ci(e);if(_t(i))return e}function Hs(e,i){if(e==="change")return i}var ac=!1;if(Bn){var Jn;if(Bn){var Nr="oninput"in document;if(!Nr){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),Nr=typeof oc.oninput=="function"}Jn=Nr}else Jn=!1;ac=Jn&&(!document.documentMode||9<document.documentMode)}function Ba(){Xn&&(Xn.detachEvent("onpropertychange",lc),Us=Xn=null)}function lc(e){if(e.propertyName==="value"&&Vs(Us)){var i=[];sc(i,Us,e,Ls(e)),rl(Is,i)}}function mi(e,i,o){e==="focusin"?(Ba(),Xn=i,Us=o,Xn.attachEvent("onpropertychange",lc)):e==="focusout"&&Ba()}function Mh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vs(Us)}function Ur(e,i){if(e==="click")return Vs(i)}function Lh(e,i){if(e==="input"||e==="change")return Vs(i)}function gi(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Yt=typeof Object.is=="function"?Object.is:gi;function Ir(e,i){if(Yt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var g=o[c];if(!Wo.call(i,g)||!Yt(e[g],i[g]))return!1}return!0}function Na(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qs(e,i){var o=Na(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Na(o)}}function Ua(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ua(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Fs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=kr(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=kr(e.document)}return i}function Mi(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Ia=Bn&&"documentMode"in document&&11>=document.documentMode,Li=null,Va=null,Ws=null,Vr=!1;function uc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vr||Li==null||Li!==kr(c)||(c=Li,"selectionStart"in c&&Mi(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ws&&Ir(Ws,c)||(Ws=c,c=Kc(Va,"onSelect"),0<c.length&&(i=new Ma("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Li)))}function zi(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var Hr={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},Ha={},cc={};Bn&&(cc=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Xt(e){if(Ha[e])return Ha[e];if(!Hr[e])return e;var i=Hr[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in cc)return Ha[e]=i[o];return e}var $s=Xt("animationend"),dc=Xt("animationiteration"),Zs=Xt("animationstart"),zh=Xt("transitionrun"),hc=Xt("transitionstart"),Ph=Xt("transitioncancel"),qr=Xt("transitionend"),fc=new Map,Pi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pi.push("scrollEnd");function Tn(e,i){fc.set(e,i),Xi(i,[e])}var Gs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},En=[],ln=0,qa=0;function Ks(){for(var e=ln,i=qa=ln=0;i<e;){var o=En[i];En[i++]=null;var c=En[i];En[i++]=null;var g=En[i];En[i++]=null;var _=En[i];if(En[i++]=null,c!==null&&g!==null){var E=c.pending;E===null?g.next=g:(g.next=E.next,E.next=g),c.pending=g}_!==0&&Fr(o,g,_)}}function Di(e,i,o,c){En[ln++]=e,En[ln++]=i,En[ln++]=o,En[ln++]=c,qa|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function pl(e,i,o,c){return Di(e,i,o,c),Ys(e)}function Qn(e,i){return Di(e,null,null,i),Ys(e)}function Fr(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var g=!1,_=e.return;_!==null;)_.childLanes|=o,c=_.alternate,c!==null&&(c.childLanes|=o),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(g=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,g&&i!==null&&(g=31-mn(o),e=_.hiddenUpdates,c=e[g],c===null?e[g]=[i]:c.push(i),i.lane=o|536870912),_):null}function Ys(e){if(50<Ul)throw Ul=0,Nf=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var nr={};function Dh(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,i,o,c){return new Dh(e,i,o,c)}function Fa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ei(e,i){var o=e.alternate;return o===null?(o=un(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function ml(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Xs(e,i,o,c,g,_){var E=0;if(c=e,typeof e=="function")Fa(e)&&(E=1);else if(typeof e=="string")E=I2(e,o,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ye:return e=un(31,o,i,g),e.elementType=ye,e.lanes=_,e;case k:return ir(o.children,g,_,i);case R:E=8,g|=24;break;case z:return e=un(12,o,i,g|2),e.elementType=z,e.lanes=_,e;case q:return e=un(13,o,i,g),e.elementType=q,e.lanes=_,e;case H:return e=un(19,o,i,g),e.elementType=H,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:E=10;break e;case P:E=9;break e;case W:E=11;break e;case Z:E=14;break e;case ae:E=16,c=null;break e}E=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=un(E,o,i,g),i.elementType=e,i.type=c,i.lanes=_,i}function ir(e,i,o,c){return e=un(7,e,c,i),e.lanes=o,e}function Wa(e,i,o){return e=un(6,e,null,i),e.lanes=o,e}function gl(e){var i=un(18,null,null,0);return i.stateNode=e,i}function yl(e,i,o){return i=un(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var s=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=s.get(e);return o!==void 0?o:(i={value:e,source:i,stack:xs(i)},s.set(e,i),i)}return{value:e,source:i,stack:xs(i)}}var p=[],b=0,T=null,O=0,N=[],$=0,X=null,ue=1,_e="";function Re(e,i){p[b++]=O,p[b++]=T,T=e,O=i}function Ve(e,i,o){N[$++]=ue,N[$++]=_e,N[$++]=X,X=e;var c=ue;e=_e;var g=32-mn(c)-1;c&=~(1<<g),o+=1;var _=32-mn(i)+g;if(30<_){var E=g-g%5;_=(c&(1<<E)-1).toString(32),c>>=E,g-=E,ue=1<<32-mn(i)+g|o<<g|c,_e=_+e}else ue=1<<_|o<<g|c,_e=e}function $t(e){e.return!==null&&(Re(e,1),Ve(e,1,0))}function At(e){for(;e===T;)T=p[--b],p[b]=null,O=p[--b],p[b]=null;for(;e===X;)X=N[--$],N[$]=null,_e=N[--$],N[$]=null,ue=N[--$],N[$]=null}function yn(e,i){N[$++]=ue,N[$++]=_e,N[$++]=X,ue=i.id,_e=i.overflow,X=e}var Xe=null,Je=null,Fe=!1,Bi=null,jn=!1,$a=Error(a(519));function Ni(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Js(u(i,e)),$a}function vl(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Pt]=e,i[Kt]=c,o){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(o=0;o<Vl.length;o++)$e(Vl[o],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),Os(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),Rr(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||ov(i.textContent,o)?(c.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),c.onScroll!=null&&$e("scroll",i),c.onScrollEnd!=null&&$e("scrollend",i),c.onClick!=null&&(i.onclick=wn),i=!0):i=!1,i||Ni(e,!0)}function Et(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Xe=Xe.return}}function yi(e){if(e!==Xe)return!1;if(!Fe)return Et(e),Fe=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Qf(e.type,e.memoizedProps)),o=!o),o&&Je&&Ni(e),Et(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Je=gv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Je=gv(e)}else i===27?(i=Je,rs(e.type)?(e=rp,rp=null,Je=e):Je=i):Je=Xe?ni(e.stateNode.nextSibling):null;return!0}function rr(){Je=Xe=null,Fe=!1}function _l(){var e=Bi;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),Bi=null),e}function Js(e){Bi===null?Bi=[e]:Bi.push(e)}var Qs=B(null),Ui=null,vi=null;function Wr(e,i,o){me(Qs,i._currentValue),i._currentValue=o}function sr(e){e._currentValue=Qs.current,te(Qs)}function Bh(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function Nh(e,i,o,c){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var _=g.dependencies;if(_!==null){var E=g.child;_=_.firstContext;e:for(;_!==null;){var M=_;_=g;for(var U=0;U<i.length;U++)if(M.context===i[U]){_.lanes|=o,M=_.alternate,M!==null&&(M.lanes|=o),Bh(_.return,o,e),c||(E=null);break e}_=M.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(a(341));E.lanes|=o,_=E.alternate,_!==null&&(_.lanes|=o),Bh(E,o,e),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===e){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Za(e,i,o,c){e=null;for(var g=i,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var M=g.type;Yt(g.pendingProps.value,E.value)||(e!==null?e.push(M):e=[M])}}else if(g===Be.current){if(E=g.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push($l):e=[$l])}g=g.return}e!==null&&Nh(i,e,o,c),i.flags|=262144}function pc(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ea(e){Ui=e,vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return $g(Ui,e)}function mc(e,i){return Ui===null&&ea(e),$g(e,i)}function $g(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},vi===null){if(e===null)throw Error(a(308));vi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else vi=vi.next=i;return o}var DS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},BS=n.unstable_scheduleCallback,NS=n.unstable_NormalPriority,Bt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new DS,data:new Map,refCount:0}}function xl(e){e.refCount--,e.refCount===0&&BS(NS,function(){e.controller.abort()})}var bl=null,Ih=0,Ga=0,Ka=null;function US(e,i){if(bl===null){var o=bl=[];Ih=0,Ga=Ff(),Ka={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Ih++,i.then(Zg,Zg),i}function Zg(){if(--Ih===0&&bl!==null){Ka!==null&&(Ka.status="fulfilled");var e=bl;bl=null,Ga=0,Ka=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function IS(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<o.length;g++)(0,o[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),c}var Gg=V.S;V.S=function(e,i){O0=pn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&US(e,i),Gg!==null&&Gg(e,i)};var ta=B(null);function Vh(){var e=ta.current;return e!==null?e:ht.pooledCache}function gc(e,i){i===null?me(ta,ta.current):me(ta,i.pool)}function Kg(){var e=Vh();return e===null?null:{parent:Bt._currentValue,pool:e}}var Ya=Error(a(460)),Hh=Error(a(474)),yc=Error(a(542)),vc={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xg(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(wn,wn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Qg(e),e;default:if(typeof i.status=="string")i.then(wn,wn);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Qg(e),e}throw ia=i,Ya}}function na(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ia=o,Ya):o}}var ia=null;function Jg(){if(ia===null)throw Error(a(459));var e=ia;return ia=null,e}function Qg(e){if(e===Ya||e===yc)throw Error(a(483))}var Xa=null,wl=0;function _c(e){var i=wl;return wl+=1,Xa===null&&(Xa=[]),Xg(Xa,e,i)}function Sl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function xc(e,i){throw i.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ey(e){function i(F,I){if(e){var K=F.deletions;K===null?(F.deletions=[I],F.flags|=16):K.push(I)}}function o(F,I){if(!e)return null;for(;I!==null;)i(F,I),I=I.sibling;return null}function c(F){for(var I=new Map;F!==null;)F.key!==null?I.set(F.key,F):I.set(F.index,F),F=F.sibling;return I}function g(F,I){return F=ei(F,I),F.index=0,F.sibling=null,F}function _(F,I,K){return F.index=K,e?(K=F.alternate,K!==null?(K=K.index,K<I?(F.flags|=67108866,I):K):(F.flags|=67108866,I)):(F.flags|=1048576,I)}function E(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function M(F,I,K,le){return I===null||I.tag!==6?(I=Wa(K,F.mode,le),I.return=F,I):(I=g(I,K),I.return=F,I)}function U(F,I,K,le){var Oe=K.type;return Oe===k?re(F,I,K.props.children,le,K.key):I!==null&&(I.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ae&&na(Oe)===I.type)?(I=g(I,K.props),Sl(I,K),I.return=F,I):(I=Xs(K.type,K.key,K.props,null,F.mode,le),Sl(I,K),I.return=F,I)}function Y(F,I,K,le){return I===null||I.tag!==4||I.stateNode.containerInfo!==K.containerInfo||I.stateNode.implementation!==K.implementation?(I=yl(K,F.mode,le),I.return=F,I):(I=g(I,K.children||[]),I.return=F,I)}function re(F,I,K,le,Oe){return I===null||I.tag!==7?(I=ir(K,F.mode,le,Oe),I.return=F,I):(I=g(I,K),I.return=F,I)}function ce(F,I,K){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Wa(""+I,F.mode,K),I.return=F,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case j:return K=Xs(I.type,I.key,I.props,null,F.mode,K),Sl(K,I),K.return=F,K;case A:return I=yl(I,F.mode,K),I.return=F,I;case ae:return I=na(I),ce(F,I,K)}if(se(I)||G(I))return I=ir(I,F.mode,K,null),I.return=F,I;if(typeof I.then=="function")return ce(F,_c(I),K);if(I.$$typeof===D)return ce(F,mc(F,I),K);xc(F,I)}return null}function J(F,I,K,le){var Oe=I!==null?I.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Oe!==null?null:M(F,I,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return K.key===Oe?U(F,I,K,le):null;case A:return K.key===Oe?Y(F,I,K,le):null;case ae:return K=na(K),J(F,I,K,le)}if(se(K)||G(K))return Oe!==null?null:re(F,I,K,le,null);if(typeof K.then=="function")return J(F,I,_c(K),le);if(K.$$typeof===D)return J(F,I,mc(F,K),le);xc(F,K)}return null}function ee(F,I,K,le,Oe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return F=F.get(K)||null,M(I,F,""+le,Oe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return F=F.get(le.key===null?K:le.key)||null,U(I,F,le,Oe);case A:return F=F.get(le.key===null?K:le.key)||null,Y(I,F,le,Oe);case ae:return le=na(le),ee(F,I,K,le,Oe)}if(se(le)||G(le))return F=F.get(K)||null,re(I,F,le,Oe,null);if(typeof le.then=="function")return ee(F,I,K,_c(le),Oe);if(le.$$typeof===D)return ee(F,I,K,mc(I,le),Oe);xc(I,le)}return null}function Ee(F,I,K,le){for(var Oe=null,Qe=null,Ce=I,He=I=0,Ke=null;Ce!==null&&He<K.length;He++){Ce.index>He?(Ke=Ce,Ce=null):Ke=Ce.sibling;var et=J(F,Ce,K[He],le);if(et===null){Ce===null&&(Ce=Ke);break}e&&Ce&&et.alternate===null&&i(F,Ce),I=_(et,I,He),Qe===null?Oe=et:Qe.sibling=et,Qe=et,Ce=Ke}if(He===K.length)return o(F,Ce),Fe&&Re(F,He),Oe;if(Ce===null){for(;He<K.length;He++)Ce=ce(F,K[He],le),Ce!==null&&(I=_(Ce,I,He),Qe===null?Oe=Ce:Qe.sibling=Ce,Qe=Ce);return Fe&&Re(F,He),Oe}for(Ce=c(Ce);He<K.length;He++)Ke=ee(Ce,F,He,K[He],le),Ke!==null&&(e&&Ke.alternate!==null&&Ce.delete(Ke.key===null?He:Ke.key),I=_(Ke,I,He),Qe===null?Oe=Ke:Qe.sibling=Ke,Qe=Ke);return e&&Ce.forEach(function(us){return i(F,us)}),Fe&&Re(F,He),Oe}function Me(F,I,K,le){if(K==null)throw Error(a(151));for(var Oe=null,Qe=null,Ce=I,He=I=0,Ke=null,et=K.next();Ce!==null&&!et.done;He++,et=K.next()){Ce.index>He?(Ke=Ce,Ce=null):Ke=Ce.sibling;var us=J(F,Ce,et.value,le);if(us===null){Ce===null&&(Ce=Ke);break}e&&Ce&&us.alternate===null&&i(F,Ce),I=_(us,I,He),Qe===null?Oe=us:Qe.sibling=us,Qe=us,Ce=Ke}if(et.done)return o(F,Ce),Fe&&Re(F,He),Oe;if(Ce===null){for(;!et.done;He++,et=K.next())et=ce(F,et.value,le),et!==null&&(I=_(et,I,He),Qe===null?Oe=et:Qe.sibling=et,Qe=et);return Fe&&Re(F,He),Oe}for(Ce=c(Ce);!et.done;He++,et=K.next())et=ee(Ce,F,He,et.value,le),et!==null&&(e&&et.alternate!==null&&Ce.delete(et.key===null?He:et.key),I=_(et,I,He),Qe===null?Oe=et:Qe.sibling=et,Qe=et);return e&&Ce.forEach(function(X2){return i(F,X2)}),Fe&&Re(F,He),Oe}function ct(F,I,K,le){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case j:e:{for(var Oe=K.key;I!==null;){if(I.key===Oe){if(Oe=K.type,Oe===k){if(I.tag===7){o(F,I.sibling),le=g(I,K.props.children),le.return=F,F=le;break e}}else if(I.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ae&&na(Oe)===I.type){o(F,I.sibling),le=g(I,K.props),Sl(le,K),le.return=F,F=le;break e}o(F,I);break}else i(F,I);I=I.sibling}K.type===k?(le=ir(K.props.children,F.mode,le,K.key),le.return=F,F=le):(le=Xs(K.type,K.key,K.props,null,F.mode,le),Sl(le,K),le.return=F,F=le)}return E(F);case A:e:{for(Oe=K.key;I!==null;){if(I.key===Oe)if(I.tag===4&&I.stateNode.containerInfo===K.containerInfo&&I.stateNode.implementation===K.implementation){o(F,I.sibling),le=g(I,K.children||[]),le.return=F,F=le;break e}else{o(F,I);break}else i(F,I);I=I.sibling}le=yl(K,F.mode,le),le.return=F,F=le}return E(F);case ae:return K=na(K),ct(F,I,K,le)}if(se(K))return Ee(F,I,K,le);if(G(K)){if(Oe=G(K),typeof Oe!="function")throw Error(a(150));return K=Oe.call(K),Me(F,I,K,le)}if(typeof K.then=="function")return ct(F,I,_c(K),le);if(K.$$typeof===D)return ct(F,I,mc(F,K),le);xc(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,I!==null&&I.tag===6?(o(F,I.sibling),le=g(I,K),le.return=F,F=le):(o(F,I),le=Wa(K,F.mode,le),le.return=F,F=le),E(F)):o(F,I)}return function(F,I,K,le){try{wl=0;var Oe=ct(F,I,K,le);return Xa=null,Oe}catch(Ce){if(Ce===Ya||Ce===yc)throw Ce;var Qe=un(29,Ce,null,F.mode);return Qe.lanes=le,Qe.return=F,Qe}finally{}}}var ra=ey(!0),ty=ey(!1),$r=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gr(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=Ys(e),Fr(e,null,o),i}return Di(e,c,i,o),Ys(e)}function Tl(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Vu(e,o)}}function Wh(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var g=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?g=_=E:_=_.next=E,o=o.next}while(o!==null);_===null?g=_=i:_=_.next=i}else g=_=i;o={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var $h=!1;function El(){if($h){var e=Ka;if(e!==null)throw e}}function jl(e,i,o,c){$h=!1;var g=e.updateQueue;$r=!1;var _=g.firstBaseUpdate,E=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var U=M,Y=U.next;U.next=null,E===null?_=Y:E.next=Y,E=U;var re=e.alternate;re!==null&&(re=re.updateQueue,M=re.lastBaseUpdate,M!==E&&(M===null?re.firstBaseUpdate=Y:M.next=Y,re.lastBaseUpdate=U))}if(_!==null){var ce=g.baseState;E=0,re=Y=U=null,M=_;do{var J=M.lane&-536870913,ee=J!==M.lane;if(ee?(Ge&J)===J:(c&J)===J){J!==0&&J===Ga&&($h=!0),re!==null&&(re=re.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Ee=e,Me=M;J=i;var ct=o;switch(Me.tag){case 1:if(Ee=Me.payload,typeof Ee=="function"){ce=Ee.call(ct,ce,J);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Me.payload,J=typeof Ee=="function"?Ee.call(ct,ce,J):Ee,J==null)break e;ce=w({},ce,J);break e;case 2:$r=!0}}J=M.callback,J!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=g.callbacks,ee===null?g.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:M.tag,payload:M.payload,callback:M.callback,next:null},re===null?(Y=re=ee,U=ce):re=re.next=ee,E|=J;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;ee=M,M=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);re===null&&(U=ce),g.baseState=U,g.firstBaseUpdate=Y,g.lastBaseUpdate=re,_===null&&(g.shared.lanes=0),Qr|=E,e.lanes=E,e.memoizedState=ce}}function ny(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function iy(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)ny(o[e],i)}var Ja=B(null),bc=B(0);function ry(e,i){e=pr,me(bc,e),me(Ja,i),pr=e|i.baseLanes}function Zh(){me(bc,pr),me(Ja,Ja.current)}function Gh(){pr=bc.current,te(Ja),te(bc)}var In=B(null),ti=null;function Kr(e){var i=e.alternate;me(Lt,Lt.current&1),me(In,e),ti===null&&(i===null||Ja.current!==null||i.memoizedState!==null)&&(ti=e)}function Kh(e){me(Lt,Lt.current),me(In,e),ti===null&&(ti=e)}function sy(e){e.tag===22?(me(Lt,Lt.current),me(In,e),ti===null&&(ti=e)):Yr()}function Yr(){me(Lt,Lt.current),me(In,In.current)}function Vn(e){te(In),ti===e&&(ti=null),te(Lt)}var Lt=B(0);function wc(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||np(o)||ip(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ar=0,Ie=null,lt=null,Nt=null,Sc=!1,Qa=!1,sa=!1,Tc=0,Cl=0,eo=null,VS=0;function kt(){throw Error(a(321))}function Yh(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Yt(e[o],i[o]))return!1;return!0}function Xh(e,i,o,c,g,_){return ar=_,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=e===null||e.memoizedState===null?Hy:ff,sa=!1,_=o(c,g),sa=!1,Qa&&(_=oy(i,o,c,g)),ay(e),_}function ay(e){V.H=Rl;var i=lt!==null&&lt.next!==null;if(ar=0,Nt=lt=Ie=null,Sc=!1,Cl=0,eo=null,i)throw Error(a(300));e===null||Ut||(e=e.dependencies,e!==null&&pc(e)&&(Ut=!0))}function oy(e,i,o,c){Ie=e;var g=0;do{if(Qa&&(eo=null),Cl=0,Qa=!1,25<=g)throw Error(a(301));if(g+=1,Nt=lt=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}V.H=qy,_=i(o,c)}while(Qa);return _}function HS(){var e=V.H,i=e.useState()[0];return i=typeof i.then=="function"?Al(i):i,e=e.useState()[0],(lt!==null?lt.memoizedState:null)!==e&&(Ie.flags|=1024),i}function Jh(){var e=Tc!==0;return Tc=0,e}function Qh(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function ef(e){if(Sc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Sc=!1}ar=0,Nt=lt=Ie=null,Qa=!1,Cl=Tc=0,eo=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ie.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function zt(){if(lt===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var i=Nt===null?Ie.memoizedState:Nt.next;if(i!==null)Nt=i,lt=e;else{if(e===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Nt===null?Ie.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(e){var i=Cl;return Cl+=1,eo===null&&(eo=[]),e=Xg(eo,e,i),i=Ie,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?Hy:ff),e}function jc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Al(e);if(e.$$typeof===D)return tn(e)}throw Error(a(438,String(e)))}function tf(e){var i=null,o=Ie.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Ec(),Ie.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=be;return i.index++,o}function or(e,i){return typeof i=="function"?i(e):i}function Cc(e){var i=zt();return nf(i,lt,e)}function nf(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var g=e.baseQueue,_=c.pending;if(_!==null){if(g!==null){var E=g.next;g.next=_.next,_.next=E}i.baseQueue=g=_,c.pending=null}if(_=e.baseState,g===null)e.memoizedState=_;else{i=g.next;var M=E=null,U=null,Y=i,re=!1;do{var ce=Y.lane&-536870913;if(ce!==Y.lane?(Ge&ce)===ce:(ar&ce)===ce){var J=Y.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ce===Ga&&(re=!0);else if((ar&J)===J){Y=Y.next,J===Ga&&(re=!0);continue}else ce={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(M=U=ce,E=_):U=U.next=ce,Ie.lanes|=J,Qr|=J;ce=Y.action,sa&&o(_,ce),_=Y.hasEagerState?Y.eagerState:o(_,ce)}else J={lane:ce,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(M=U=J,E=_):U=U.next=J,Ie.lanes|=ce,Qr|=ce;Y=Y.next}while(Y!==null&&Y!==i);if(U===null?E=_:U.next=M,!Yt(_,e.memoizedState)&&(Ut=!0,re&&(o=Ka,o!==null)))throw o;e.memoizedState=_,e.baseState=E,e.baseQueue=U,c.lastRenderedState=_}return g===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function rf(e){var i=zt(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,g=o.pending,_=i.memoizedState;if(g!==null){o.pending=null;var E=g=g.next;do _=e(_,E.action),E=E.next;while(E!==g);Yt(_,i.memoizedState)||(Ut=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),o.lastRenderedState=_}return[_,c]}function ly(e,i,o){var c=Ie,g=zt(),_=Fe;if(_){if(o===void 0)throw Error(a(407));o=o()}else o=i();var E=!Yt((lt||g).memoizedState,o);if(E&&(g.memoizedState=o,Ut=!0),g=g.queue,of(dy.bind(null,c,g,e),[e]),g.getSnapshot!==i||E||Nt!==null&&Nt.memoizedState.tag&1){if(c.flags|=2048,to(9,{destroy:void 0},cy.bind(null,c,g,o,i),null),ht===null)throw Error(a(349));_||(ar&127)!==0||uy(c,i,o)}return o}function uy(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Ie.updateQueue,i===null?(i=Ec(),Ie.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function cy(e,i,o,c){i.value=o,i.getSnapshot=c,hy(i)&&fy(e)}function dy(e,i,o){return o(function(){hy(i)&&fy(e)})}function hy(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Yt(e,o)}catch{return!0}}function fy(e){var i=Qn(e,2);i!==null&&On(i,e,2)}function sf(e){var i=vn();if(typeof e=="function"){var o=e;if(e=o(),sa){ci(!0);try{o()}finally{ci(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:e},i}function py(e,i,o,c){return e.baseState=o,nf(e,lt,typeof c=="function"?c:or)}function qS(e,i,o,c,g){if(Rc(e))throw Error(a(485));if(e=i.action,e!==null){var _={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){_.listeners.push(E)}};V.T!==null?o(!0):_.isTransition=!1,c(_),o=i.pending,o===null?(_.next=i.pending=_,my(i,_)):(_.next=o.next,i.pending=o.next=_)}}function my(e,i){var o=i.action,c=i.payload,g=e.state;if(i.isTransition){var _=V.T,E={};V.T=E;try{var M=o(g,c),U=V.S;U!==null&&U(E,M),gy(e,i,M)}catch(Y){af(e,i,Y)}finally{_!==null&&E.types!==null&&(_.types=E.types),V.T=_}}else try{_=o(g,c),gy(e,i,_)}catch(Y){af(e,i,Y)}}function gy(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){yy(e,i,c)},function(c){return af(e,i,c)}):yy(e,i,o)}function yy(e,i,o){i.status="fulfilled",i.value=o,vy(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,my(e,o)))}function af(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,vy(i),i=i.next;while(i!==c)}e.action=null}function vy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function _y(e,i){return i}function xy(e,i){if(Fe){var o=ht.formState;if(o!==null){e:{var c=Ie;if(Fe){if(Je){t:{for(var g=Je,_=jn;g.nodeType!==8;){if(!_){g=null;break t}if(g=ni(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){Je=ni(g.nextSibling),c=g.data==="F!";break e}}Ni(c)}c=!1}c&&(i=o[0])}}return o=vn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:i},o.queue=c,o=Uy.bind(null,Ie,c),c.dispatch=o,c=sf(!1),_=hf.bind(null,Ie,!1,c.queue),c=vn(),g={state:i,dispatch:null,action:e,pending:null},c.queue=g,o=qS.bind(null,Ie,g,_,o),g.dispatch=o,c.memoizedState=e,[i,o,!1]}function by(e){var i=zt();return wy(i,lt,e)}function wy(e,i,o){if(i=nf(e,i,_y)[0],e=Cc(or)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Al(i)}catch(E){throw E===Ya?yc:E}else c=i;i=zt();var g=i.queue,_=g.dispatch;return o!==i.memoizedState&&(Ie.flags|=2048,to(9,{destroy:void 0},FS.bind(null,g,o),null)),[c,_,e]}function FS(e,i){e.action=i}function Sy(e){var i=zt(),o=lt;if(o!==null)return wy(i,o,e);zt(),i=i.memoizedState,o=zt();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function to(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Ec(),Ie.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function Ty(){return zt().memoizedState}function Ac(e,i,o,c){var g=vn();Ie.flags|=e,g.memoizedState=to(1|i,{destroy:void 0},o,c===void 0?null:c)}function kc(e,i,o,c){var g=zt();c=c===void 0?null:c;var _=g.memoizedState.inst;lt!==null&&c!==null&&Yh(c,lt.memoizedState.deps)?g.memoizedState=to(i,_,o,c):(Ie.flags|=e,g.memoizedState=to(1|i,_,o,c))}function Ey(e,i){Ac(8390656,8,e,i)}function of(e,i){kc(2048,8,e,i)}function WS(e){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Ec(),Ie.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function jy(e){var i=zt().memoizedState;return WS({ref:i,nextImpl:e}),function(){if((nt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Cy(e,i){return kc(4,2,e,i)}function Ay(e,i){return kc(4,4,e,i)}function ky(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ry(e,i,o){o=o!=null?o.concat([e]):null,kc(4,4,ky.bind(null,i,e),o)}function lf(){}function Oy(e,i){var o=zt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Yh(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function My(e,i){var o=zt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Yh(i,c[1]))return c[0];if(c=e(),sa){ci(!0);try{e()}finally{ci(!1)}}return o.memoizedState=[c,i],c}function uf(e,i,o){return o===void 0||(ar&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=L0(),Ie.lanes|=e,Qr|=e,o)}function Ly(e,i,o,c){return Yt(o,i)?o:Ja.current!==null?(e=uf(e,o,c),Yt(e,i)||(Ut=!0),e):(ar&42)===0||(ar&1073741824)!==0&&(Ge&261930)===0?(Ut=!0,e.memoizedState=o):(e=L0(),Ie.lanes|=e,Qr|=e,i)}function zy(e,i,o,c,g){var _=ie.p;ie.p=_!==0&&8>_?_:8;var E=V.T,M={};V.T=M,hf(e,!1,i,o);try{var U=g(),Y=V.S;if(Y!==null&&Y(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=IS(U,c);kl(e,i,re,Fn(e))}else kl(e,i,c,Fn(e))}catch(ce){kl(e,i,{then:function(){},status:"rejected",reason:ce},Fn())}finally{ie.p=_,E!==null&&M.types!==null&&(E.types=M.types),V.T=E}}function $S(){}function cf(e,i,o,c){if(e.tag!==5)throw Error(a(476));var g=Py(e).queue;zy(e,g,i,ne,o===null?$S:function(){return Dy(e),o(c)})}function Py(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:ne},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Dy(e){var i=Py(e);i.next===null&&(i=e.alternate.memoizedState),kl(e,i.next.queue,{},Fn())}function df(){return tn($l)}function By(){return zt().memoizedState}function Ny(){return zt().memoizedState}function ZS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Fn();e=Zr(o);var c=Gr(i,e,o);c!==null&&(On(c,i,o),Tl(c,i,o)),i={cache:Uh()},e.payload=i;return}i=i.return}}function GS(e,i,o){var c=Fn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Rc(e)?Iy(i,o):(o=pl(e,i,o,c),o!==null&&(On(o,e,c),Vy(o,i,c)))}function Uy(e,i,o){var c=Fn();kl(e,i,o,c)}function kl(e,i,o,c){var g={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rc(e))Iy(i,g);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var E=i.lastRenderedState,M=_(E,o);if(g.hasEagerState=!0,g.eagerState=M,Yt(M,E))return Di(e,i,g,0),ht===null&&Ks(),!1}catch{}finally{}if(o=pl(e,i,g,c),o!==null)return On(o,e,c),Vy(o,i,c),!0}return!1}function hf(e,i,o,c){if(c={lane:2,revertLane:Ff(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Rc(e)){if(i)throw Error(a(479))}else i=pl(e,o,c,2),i!==null&&On(i,e,2)}function Rc(e){var i=e.alternate;return e===Ie||i!==null&&i===Ie}function Iy(e,i){Qa=Sc=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function Vy(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Vu(e,o)}}var Rl={readContext:tn,use:jc,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};Rl.useEffectEvent=kt;var Hy={readContext:tn,use:jc,useCallback:function(e,i){return vn().memoizedState=[e,i===void 0?null:i],e},useContext:tn,useEffect:Ey,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,Ac(4194308,4,ky.bind(null,i,e),o)},useLayoutEffect:function(e,i){return Ac(4194308,4,e,i)},useInsertionEffect:function(e,i){Ac(4,2,e,i)},useMemo:function(e,i){var o=vn();i=i===void 0?null:i;var c=e();if(sa){ci(!0);try{e()}finally{ci(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=vn();if(o!==void 0){var g=o(i);if(sa){ci(!0);try{o(i)}finally{ci(!1)}}}else g=i;return c.memoizedState=c.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},c.queue=e,e=e.dispatch=GS.bind(null,Ie,e),[c.memoizedState,e]},useRef:function(e){var i=vn();return e={current:e},i.memoizedState=e},useState:function(e){e=sf(e);var i=e.queue,o=Uy.bind(null,Ie,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:lf,useDeferredValue:function(e,i){var o=vn();return uf(o,e,i)},useTransition:function(){var e=sf(!1);return e=zy.bind(null,Ie,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Ie,g=vn();if(Fe){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),ht===null)throw Error(a(349));(Ge&127)!==0||uy(c,i,o)}g.memoizedState=o;var _={value:o,getSnapshot:i};return g.queue=_,Ey(dy.bind(null,c,_,e),[e]),c.flags|=2048,to(9,{destroy:void 0},cy.bind(null,c,_,o,i),null),o},useId:function(){var e=vn(),i=ht.identifierPrefix;if(Fe){var o=_e,c=ue;o=(c&~(1<<32-mn(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Tc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=VS++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:df,useFormState:xy,useActionState:xy,useOptimistic:function(e){var i=vn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=hf.bind(null,Ie,!0,o),o.dispatch=i,[e,i]},useMemoCache:tf,useCacheRefresh:function(){return vn().memoizedState=ZS.bind(null,Ie)},useEffectEvent:function(e){var i=vn(),o={impl:e};return i.memoizedState=o,function(){if((nt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},ff={readContext:tn,use:jc,useCallback:Oy,useContext:tn,useEffect:of,useImperativeHandle:Ry,useInsertionEffect:Cy,useLayoutEffect:Ay,useMemo:My,useReducer:Cc,useRef:Ty,useState:function(){return Cc(or)},useDebugValue:lf,useDeferredValue:function(e,i){var o=zt();return Ly(o,lt.memoizedState,e,i)},useTransition:function(){var e=Cc(or)[0],i=zt().memoizedState;return[typeof e=="boolean"?e:Al(e),i]},useSyncExternalStore:ly,useId:By,useHostTransitionStatus:df,useFormState:by,useActionState:by,useOptimistic:function(e,i){var o=zt();return py(o,lt,e,i)},useMemoCache:tf,useCacheRefresh:Ny};ff.useEffectEvent=jy;var qy={readContext:tn,use:jc,useCallback:Oy,useContext:tn,useEffect:of,useImperativeHandle:Ry,useInsertionEffect:Cy,useLayoutEffect:Ay,useMemo:My,useReducer:rf,useRef:Ty,useState:function(){return rf(or)},useDebugValue:lf,useDeferredValue:function(e,i){var o=zt();return lt===null?uf(o,e,i):Ly(o,lt.memoizedState,e,i)},useTransition:function(){var e=rf(or)[0],i=zt().memoizedState;return[typeof e=="boolean"?e:Al(e),i]},useSyncExternalStore:ly,useId:By,useHostTransitionStatus:df,useFormState:Sy,useActionState:Sy,useOptimistic:function(e,i){var o=zt();return lt!==null?py(o,lt,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:tf,useCacheRefresh:Ny};qy.useEffectEvent=jy;function pf(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:w({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var mf={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Fn(),g=Zr(c);g.payload=i,o!=null&&(g.callback=o),i=Gr(e,g,c),i!==null&&(On(i,e,c),Tl(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Fn(),g=Zr(c);g.tag=1,g.payload=i,o!=null&&(g.callback=o),i=Gr(e,g,c),i!==null&&(On(i,e,c),Tl(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Fn(),c=Zr(o);c.tag=2,i!=null&&(c.callback=i),i=Gr(e,c,o),i!==null&&(On(i,e,o),Tl(i,e,o))}};function Fy(e,i,o,c,g,_,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,_,E):i.prototype&&i.prototype.isPureReactComponent?!Ir(o,c)||!Ir(g,_):!0}function Wy(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&mf.enqueueReplaceState(i,i.state,null)}function aa(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=w({},o));for(var g in e)o[g]===void 0&&(o[g]=e[g])}return o}function $y(e){Gs(e)}function Zy(e){console.error(e)}function Gy(e){Gs(e)}function Oc(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Ky(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function gf(e,i,o){return o=Zr(o),o.tag=3,o.payload={element:null},o.callback=function(){Oc(e,i)},o}function Yy(e){return e=Zr(e),e.tag=3,e}function Xy(e,i,o,c){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var _=c.value;e.payload=function(){return g(_)},e.callback=function(){Ky(i,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Ky(i,o,c),typeof g!="function"&&(es===null?es=new Set([this]):es.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function KS(e,i,o,c,g){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Za(i,o,g,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return ti===null?qc():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=g,c===vc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Vf(e,c,g)),!1;case 22:return o.flags|=65536,c===vc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Vf(e,c,g)),!1}throw Error(a(435,o.tag))}return Vf(e,c,g),qc(),!1}if(Fe)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==$a&&(e=Error(a(422),{cause:c}),Js(u(e,o)))):(c!==$a&&(i=Error(a(423),{cause:c}),Js(u(i,o))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,c=u(c,o),g=gf(e.stateNode,c,g),Wh(e,g),Rt!==4&&(Rt=2)),!1;var _=Error(a(520),{cause:c});if(_=u(_,o),Nl===null?Nl=[_]:Nl.push(_),Rt!==4&&(Rt=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=g&-g,o.lanes|=e,e=gf(o.stateNode,c,e),Wh(o,e),!1;case 1:if(i=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(es===null||!es.has(_))))return o.flags|=65536,g&=-g,o.lanes|=g,g=Yy(g),Xy(g,e,o,c),Wh(o,g),!1}o=o.return}while(o!==null);return!1}var yf=Error(a(461)),Ut=!1;function nn(e,i,o,c){i.child=e===null?ty(i,null,o,c):ra(i,e.child,o,c)}function Jy(e,i,o,c,g){o=o.render;var _=i.ref;if("ref"in c){var E={};for(var M in c)M!=="ref"&&(E[M]=c[M])}else E=c;return ea(i),c=Xh(e,i,o,E,_,g),M=Jh(),e!==null&&!Ut?(Qh(e,i,g),lr(e,i,g)):(Fe&&M&&$t(i),i.flags|=1,nn(e,i,c,g),i.child)}function Qy(e,i,o,c,g){if(e===null){var _=o.type;return typeof _=="function"&&!Fa(_)&&_.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=_,e0(e,i,_,c,g)):(e=Xs(o.type,null,c,i,i.mode,g),e.ref=i.ref,e.return=i,i.child=e)}if(_=e.child,!Ef(e,g)){var E=_.memoizedProps;if(o=o.compare,o=o!==null?o:Ir,o(E,c)&&e.ref===i.ref)return lr(e,i,g)}return i.flags|=1,e=ei(_,c),e.ref=i.ref,e.return=i,i.child=e}function e0(e,i,o,c,g){if(e!==null){var _=e.memoizedProps;if(Ir(_,c)&&e.ref===i.ref)if(Ut=!1,i.pendingProps=c=_,Ef(e,g))(e.flags&131072)!==0&&(Ut=!0);else return i.lanes=e.lanes,lr(e,i,g)}return vf(e,i,o,c,g)}function t0(e,i,o,c){var g=c.children,_=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(_=_!==null?_.baseLanes|o:o,e!==null){for(c=i.child=e.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~_}else c=0,i.child=null;return n0(e,i,_,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&gc(i,_!==null?_.cachePool:null),_!==null?ry(i,_):Zh(),sy(i);else return c=i.lanes=536870912,n0(e,i,_!==null?_.baseLanes|o:o,o,c)}else _!==null?(gc(i,_.cachePool),ry(i,_),Yr(),i.memoizedState=null):(e!==null&&gc(i,null),Zh(),Yr());return nn(e,i,g,o),i.child}function Ol(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function n0(e,i,o,c,g){var _=Vh();return _=_===null?null:{parent:Bt._currentValue,pool:_},i.memoizedState={baseLanes:o,cachePool:_},e!==null&&gc(i,null),Zh(),sy(i),e!==null&&Za(e,i,c,!0),i.childLanes=g,null}function Mc(e,i){return i=zc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function i0(e,i,o){return ra(i,e.child,null,o),e=Mc(i,i.pendingProps),e.flags|=2,Vn(i),i.memoizedState=null,e}function YS(e,i,o){var c=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Fe){if(c.mode==="hidden")return e=Mc(i,c),i.lanes=536870912,Ol(null,e);if(Kh(i),(e=Je)?(e=mv(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:X!==null?{id:ue,overflow:_e}:null,retryLane:536870912,hydrationErrors:null},o=gl(e),o.return=i,i.child=o,Xe=i,Je=null)):e=null,e===null)throw Ni(i);return i.lanes=536870912,null}return Mc(i,c)}var _=e.memoizedState;if(_!==null){var E=_.dehydrated;if(Kh(i),g)if(i.flags&256)i.flags&=-257,i=i0(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(Ut||Za(e,i,o,!1),g=(o&e.childLanes)!==0,Ut||g){if(c=ht,c!==null&&(E=Hu(c,o),E!==0&&E!==_.retryLane))throw _.retryLane=E,Qn(e,E),On(c,e,E),yf;qc(),i=i0(e,i,o)}else e=_.treeContext,Je=ni(E.nextSibling),Xe=i,Fe=!0,Bi=null,jn=!1,e!==null&&yn(i,e),i=Mc(i,c),i.flags|=4096;return i}return e=ei(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Lc(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function vf(e,i,o,c,g){return ea(i),o=Xh(e,i,o,c,void 0,g),c=Jh(),e!==null&&!Ut?(Qh(e,i,g),lr(e,i,g)):(Fe&&c&&$t(i),i.flags|=1,nn(e,i,o,g),i.child)}function r0(e,i,o,c,g,_){return ea(i),i.updateQueue=null,o=oy(i,c,o,g),ay(e),c=Jh(),e!==null&&!Ut?(Qh(e,i,_),lr(e,i,_)):(Fe&&c&&$t(i),i.flags|=1,nn(e,i,o,_),i.child)}function s0(e,i,o,c,g){if(ea(i),i.stateNode===null){var _=nr,E=o.contextType;typeof E=="object"&&E!==null&&(_=tn(E)),_=new o(c,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=mf,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=c,_.state=i.memoizedState,_.refs={},qh(i),E=o.contextType,_.context=typeof E=="object"&&E!==null?tn(E):nr,_.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(pf(i,o,E,c),_.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(E=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),E!==_.state&&mf.enqueueReplaceState(_,_.state,null),jl(i,c,_,g),El(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){_=i.stateNode;var M=i.memoizedProps,U=aa(o,M);_.props=U;var Y=_.context,re=o.contextType;E=nr,typeof re=="object"&&re!==null&&(E=tn(re));var ce=o.getDerivedStateFromProps;re=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,re||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M||Y!==E)&&Wy(i,_,c,E),$r=!1;var J=i.memoizedState;_.state=J,jl(i,c,_,g),El(),Y=i.memoizedState,M||J!==Y||$r?(typeof ce=="function"&&(pf(i,o,ce,c),Y=i.memoizedState),(U=$r||Fy(i,o,U,c,J,Y,E))?(re||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Y),_.props=c,_.state=Y,_.context=E,c=U):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,Fh(e,i),E=i.memoizedProps,re=aa(o,E),_.props=re,ce=i.pendingProps,J=_.context,Y=o.contextType,U=nr,typeof Y=="object"&&Y!==null&&(U=tn(Y)),M=o.getDerivedStateFromProps,(Y=typeof M=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==ce||J!==U)&&Wy(i,_,c,U),$r=!1,J=i.memoizedState,_.state=J,jl(i,c,_,g),El();var ee=i.memoizedState;E!==ce||J!==ee||$r||e!==null&&e.dependencies!==null&&pc(e.dependencies)?(typeof M=="function"&&(pf(i,o,M,c),ee=i.memoizedState),(re=$r||Fy(i,o,re,c,J,ee,U)||e!==null&&e.dependencies!==null&&pc(e.dependencies))?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ee,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ee,U)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ee),_.props=c,_.state=ee,_.context=U,c=re):(typeof _.componentDidUpdate!="function"||E===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),c=!1)}return _=c,Lc(e,i),c=(i.flags&128)!==0,_||c?(_=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,e!==null&&c?(i.child=ra(i,e.child,null,g),i.child=ra(i,null,o,g)):nn(e,i,o,g),i.memoizedState=_.state,e=i.child):e=lr(e,i,g),e}function a0(e,i,o,c){return rr(),i.flags|=256,nn(e,i,o,c),i.child}var _f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Kg()}}function bf(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=qn),e}function o0(e,i,o){var c=i.pendingProps,g=!1,_=(i.flags&128)!==0,E;if((E=_)||(E=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),E&&(g=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,e===null){if(Fe){if(g?Kr(i):Yr(),(e=Je)?(e=mv(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:X!==null?{id:ue,overflow:_e}:null,retryLane:536870912,hydrationErrors:null},o=gl(e),o.return=i,i.child=o,Xe=i,Je=null)):e=null,e===null)throw Ni(i);return ip(e)?i.lanes=32:i.lanes=536870912,null}var M=c.children;return c=c.fallback,g?(Yr(),g=i.mode,M=zc({mode:"hidden",children:M},g),c=ir(c,g,o,null),M.return=i,c.return=i,M.sibling=c,i.child=M,c=i.child,c.memoizedState=xf(o),c.childLanes=bf(e,E,o),i.memoizedState=_f,Ol(null,c)):(Kr(i),wf(i,M))}var U=e.memoizedState;if(U!==null&&(M=U.dehydrated,M!==null)){if(_)i.flags&256?(Kr(i),i.flags&=-257,i=Sf(e,i,o)):i.memoizedState!==null?(Yr(),i.child=e.child,i.flags|=128,i=null):(Yr(),M=c.fallback,g=i.mode,c=zc({mode:"visible",children:c.children},g),M=ir(M,g,o,null),M.flags|=2,c.return=i,M.return=i,c.sibling=M,i.child=c,ra(i,e.child,null,o),c=i.child,c.memoizedState=xf(o),c.childLanes=bf(e,E,o),i.memoizedState=_f,i=Ol(null,c));else if(Kr(i),ip(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var Y=E.dgst;E=Y,c=Error(a(419)),c.stack="",c.digest=E,Js({value:c,source:null,stack:null}),i=Sf(e,i,o)}else if(Ut||Za(e,i,o,!1),E=(o&e.childLanes)!==0,Ut||E){if(E=ht,E!==null&&(c=Hu(E,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,Qn(e,c),On(E,e,c),yf;np(M)||qc(),i=Sf(e,i,o)}else np(M)?(i.flags|=192,i.child=e.child,i=null):(e=U.treeContext,Je=ni(M.nextSibling),Xe=i,Fe=!0,Bi=null,jn=!1,e!==null&&yn(i,e),i=wf(i,c.children),i.flags|=4096);return i}return g?(Yr(),M=c.fallback,g=i.mode,U=e.child,Y=U.sibling,c=ei(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,Y!==null?M=ei(Y,M):(M=ir(M,g,o,null),M.flags|=2),M.return=i,c.return=i,c.sibling=M,i.child=c,Ol(null,c),c=i.child,M=e.child.memoizedState,M===null?M=xf(o):(g=M.cachePool,g!==null?(U=Bt._currentValue,g=g.parent!==U?{parent:U,pool:U}:g):g=Kg(),M={baseLanes:M.baseLanes|o,cachePool:g}),c.memoizedState=M,c.childLanes=bf(e,E,o),i.memoizedState=_f,Ol(e.child,c)):(Kr(i),o=e.child,e=o.sibling,o=ei(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(E=i.deletions,E===null?(i.deletions=[e],i.flags|=16):E.push(e)),i.child=o,i.memoizedState=null,o)}function wf(e,i){return i=zc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function zc(e,i){return e=un(22,e,null,i),e.lanes=0,e}function Sf(e,i,o){return ra(i,e.child,null,o),e=wf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function l0(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Bh(e.return,i,o)}function Tf(e,i,o,c,g,_){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:g,treeForkCount:_}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=g,E.treeForkCount=_)}function u0(e,i,o){var c=i.pendingProps,g=c.revealOrder,_=c.tail;c=c.children;var E=Lt.current,M=(E&2)!==0;if(M?(E=E&1|2,i.flags|=128):E&=1,me(Lt,E),nn(e,i,c,o),c=Fe?O:0,!M&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&l0(e,o,i);else if(e.tag===19)l0(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(g){case"forwards":for(o=i.child,g=null;o!==null;)e=o.alternate,e!==null&&wc(e)===null&&(g=o),o=o.sibling;o=g,o===null?(g=i.child,i.child=null):(g=o.sibling,o.sibling=null),Tf(i,!1,g,o,_,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=i.child,i.child=null;g!==null;){if(e=g.alternate,e!==null&&wc(e)===null){i.child=g;break}e=g.sibling,g.sibling=o,o=g,g=e}Tf(i,!0,o,null,_,c);break;case"together":Tf(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function lr(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Qr|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Za(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=ei(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=ei(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Ef(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&pc(e)))}function XS(e,i,o){switch(i.tag){case 3:ft(i,i.stateNode.containerInfo),Wr(i,Bt,e.memoizedState.cache),rr();break;case 27:case 5:De(i);break;case 4:ft(i,i.stateNode.containerInfo);break;case 10:Wr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kh(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Kr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?o0(e,i,o):(Kr(i),e=lr(e,i,o),e!==null?e.sibling:null);Kr(i);break;case 19:var g=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Za(e,i,o,!1),c=(o&i.childLanes)!==0),g){if(c)return u0(e,i,o);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),me(Lt,Lt.current),c)break;return null;case 22:return i.lanes=0,t0(e,i,o,i.pendingProps);case 24:Wr(i,Bt,e.memoizedState.cache)}return lr(e,i,o)}function c0(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ut=!0;else{if(!Ef(e,o)&&(i.flags&128)===0)return Ut=!1,XS(e,i,o);Ut=(e.flags&131072)!==0}else Ut=!1,Fe&&(i.flags&1048576)!==0&&Ve(i,O,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(e=na(i.elementType),i.type=e,typeof e=="function")Fa(e)?(c=aa(e,c),i.tag=1,i=s0(null,i,e,c,o)):(i.tag=0,i=vf(null,i,e,c,o));else{if(e!=null){var g=e.$$typeof;if(g===W){i.tag=11,i=Jy(null,i,e,c,o);break e}else if(g===Z){i.tag=14,i=Qy(null,i,e,c,o);break e}}throw i=we(e)||e,Error(a(306,i,""))}}return i;case 0:return vf(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,g=aa(c,i.pendingProps),s0(e,i,c,g,o);case 3:e:{if(ft(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var _=i.memoizedState;g=_.element,Fh(e,i),jl(i,c,null,o);var E=i.memoizedState;if(c=E.cache,Wr(i,Bt,c),c!==_.cache&&Nh(i,[Bt],o,!0),El(),c=E.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=a0(e,i,c,o);break e}else if(c!==g){g=u(Error(a(424)),i),Js(g),i=a0(e,i,c,o);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=ni(e.firstChild),Xe=i,Fe=!0,Bi=null,jn=!0,o=ty(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(rr(),c===g){i=lr(e,i,o);break e}nn(e,i,c,o)}i=i.child}return i;case 26:return Lc(e,i),e===null?(o=bv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Fe||(o=i.type,e=i.pendingProps,c=Yc(xe.current).createElement(o),c[Pt]=i,c[Kt]=e,rn(c,o,e),Dt(c),i.stateNode=c):i.memoizedState=bv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return De(i),e===null&&Fe&&(c=i.stateNode=vv(i.type,i.pendingProps,xe.current),Xe=i,jn=!0,g=Je,rs(i.type)?(rp=g,Je=ni(c.firstChild)):Je=g),nn(e,i,i.pendingProps.children,o),Lc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Fe&&((g=c=Je)&&(c=C2(c,i.type,i.pendingProps,jn),c!==null?(i.stateNode=c,Xe=i,Je=ni(c.firstChild),jn=!1,g=!0):g=!1),g||Ni(i)),De(i),g=i.type,_=i.pendingProps,E=e!==null?e.memoizedProps:null,c=_.children,Qf(g,_)?c=null:E!==null&&Qf(g,E)&&(i.flags|=32),i.memoizedState!==null&&(g=Xh(e,i,HS,null,null,o),$l._currentValue=g),Lc(e,i),nn(e,i,c,o),i.child;case 6:return e===null&&Fe&&((e=o=Je)&&(o=A2(o,i.pendingProps,jn),o!==null?(i.stateNode=o,Xe=i,Je=null,e=!0):e=!1),e||Ni(i)),null;case 13:return o0(e,i,o);case 4:return ft(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=ra(i,null,c,o):nn(e,i,c,o),i.child;case 11:return Jy(e,i,i.type,i.pendingProps,o);case 7:return nn(e,i,i.pendingProps,o),i.child;case 8:return nn(e,i,i.pendingProps.children,o),i.child;case 12:return nn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Wr(i,i.type,c.value),nn(e,i,c.children,o),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,ea(i),g=tn(g),c=c(g),i.flags|=1,nn(e,i,c,o),i.child;case 14:return Qy(e,i,i.type,i.pendingProps,o);case 15:return e0(e,i,i.type,i.pendingProps,o);case 19:return u0(e,i,o);case 31:return YS(e,i,o);case 22:return t0(e,i,o,i.pendingProps);case 24:return ea(i),c=tn(Bt),e===null?(g=Vh(),g===null&&(g=ht,_=Uh(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=o),g=_),i.memoizedState={parent:c,cache:g},qh(i),Wr(i,Bt,g)):((e.lanes&o)!==0&&(Fh(e,i),jl(i,null,null,o),El()),g=e.memoizedState,_=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Wr(i,Bt,c)):(c=_.cache,Wr(i,Bt,c),c!==g.cache&&Nh(i,[Bt],o,!0))),nn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ur(e){e.flags|=4}function jf(e,i,o,c,g){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(g&335544128)===g)if(e.stateNode.complete)e.flags|=8192;else if(B0())e.flags|=8192;else throw ia=vc,Hh}else e.flags&=-16777217}function d0(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jv(i))if(B0())e.flags|=8192;else throw ia=vc,Hh}function Pc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Uu():536870912,e.lanes|=i,so|=i)}function Ml(e,i){if(!Fe)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function gt(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var g=e.child;g!==null;)o|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)o|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function JS(e,i,o){var c=i.pendingProps;switch(At(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),sr(Bt),ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(yi(i)?ur(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_l())),gt(i),null;case 26:var g=i.type,_=i.memoizedState;return e===null?(ur(i),_!==null?(gt(i),d0(i,_)):(gt(i),jf(i,g,null,c,o))):_?_!==e.memoizedState?(ur(i),gt(i),d0(i,_)):(gt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&ur(i),gt(i),jf(i,g,e,c,o)),null;case 27:if(Ye(i),o=xe.current,g=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&ur(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return gt(i),null}e=he.current,yi(i)?vl(i):(e=vv(g,c,o),i.stateNode=e,ur(i))}return gt(i),null;case 5:if(Ye(i),g=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&ur(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return gt(i),null}if(_=he.current,yi(i))vl(i);else{var E=Yc(xe.current);switch(_){case 1:_=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=E.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?E.createElement(g,{is:c.is}):E.createElement(g)}}_[Pt]=i,_[Kt]=c;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)_.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=_;e:switch(rn(_,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&ur(i)}}return gt(i),jf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&ur(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=xe.current,yi(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,g=Xe,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}e[Pt]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ov(e.nodeValue,o)),e||Ni(i,!0)}else e=Yc(e).createTextNode(c),e[Pt]=i,i.stateNode=e}return gt(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=yi(i),o!==null){if(e===null){if(!c)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Pt]=i}else rr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),e=!1}else o=_l(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Vn(i),i):(Vn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return gt(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=yi(i),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(a(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[Pt]=i}else rr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),g=!1}else g=_l(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Vn(i),i):(Vn(i),null)}return Vn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==g&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),Pc(i,i.updateQueue),gt(i),null);case 4:return ge(),e===null&&Gf(i.stateNode.containerInfo),gt(i),null;case 10:return sr(i.type),gt(i),null;case 19:if(te(Lt),c=i.memoizedState,c===null)return gt(i),null;if(g=(i.flags&128)!==0,_=c.rendering,_===null)if(g)Ml(c,!1);else{if(Rt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(_=wc(e),_!==null){for(i.flags|=128,Ml(c,!1),e=_.updateQueue,i.updateQueue=e,Pc(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)ml(o,e),o=o.sibling;return me(Lt,Lt.current&1|2),Fe&&Re(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&pn()>Ic&&(i.flags|=128,g=!0,Ml(c,!1),i.lanes=4194304)}else{if(!g)if(e=wc(_),e!==null){if(i.flags|=128,g=!0,e=e.updateQueue,i.updateQueue=e,Pc(i,e),Ml(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!Fe)return gt(i),null}else 2*pn()-c.renderingStartTime>Ic&&o!==536870912&&(i.flags|=128,g=!0,Ml(c,!1),i.lanes=4194304);c.isBackwards?(_.sibling=i.child,i.child=_):(e=c.last,e!==null?e.sibling=_:i.child=_,c.last=_)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=pn(),e.sibling=null,o=Lt.current,me(Lt,g?o&1|2:o&1),Fe&&Re(i,c.treeForkCount),e):(gt(i),null);case 22:case 23:return Vn(i),Gh(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),o=i.updateQueue,o!==null&&Pc(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&te(ta),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),sr(Bt),gt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function QS(e,i){switch(At(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return sr(Bt),ge(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ye(i),null;case 31:if(i.memoizedState!==null){if(Vn(i),i.alternate===null)throw Error(a(340));rr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Vn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));rr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return te(Lt),null;case 4:return ge(),null;case 10:return sr(i.type),null;case 22:case 23:return Vn(i),Gh(),e!==null&&te(ta),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return sr(Bt),null;case 25:return null;default:return null}}function h0(e,i){switch(At(i),i.tag){case 3:sr(Bt),ge();break;case 26:case 27:case 5:Ye(i);break;case 4:ge();break;case 31:i.memoizedState!==null&&Vn(i);break;case 13:Vn(i);break;case 19:te(Lt);break;case 10:sr(i.type);break;case 22:case 23:Vn(i),Gh(),e!==null&&te(ta);break;case 24:sr(Bt)}}function Ll(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var g=c.next;o=g;do{if((o.tag&e)===e){c=void 0;var _=o.create,E=o.inst;c=_(),E.destroy=c}o=o.next}while(o!==g)}}catch(M){at(i,i.return,M)}}function Xr(e,i,o){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var _=g.next;c=_;do{if((c.tag&e)===e){var E=c.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,g=i;var U=o,Y=M;try{Y()}catch(re){at(g,U,re)}}}c=c.next}while(c!==_)}}catch(re){at(i,i.return,re)}}function f0(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{iy(i,o)}catch(c){at(e,e.return,c)}}}function p0(e,i,o){o.props=aa(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){at(e,i,c)}}function zl(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(g){at(e,i,g)}}function Ii(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(g){at(e,i,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){at(e,i,g)}else o.current=null}function m0(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(g){at(e,e.return,g)}}function Cf(e,i,o){try{var c=e.stateNode;b2(c,e.type,o,i),c[Kt]=i}catch(g){at(e,e.return,g)}}function g0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rs(e.type)||e.tag===4}function Af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||g0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=wn));else if(c!==4&&(c===27&&rs(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(kf(e,i,o),e=e.sibling;e!==null;)kf(e,i,o),e=e.sibling}function Dc(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&rs(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Dc(e,i,o),e=e.sibling;e!==null;)Dc(e,i,o),e=e.sibling}function y0(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);rn(i,c,o),i[Pt]=e,i[Kt]=o}catch(_){at(e,e.return,_)}}var cr=!1,It=!1,Rf=!1,v0=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function e2(e,i){if(e=e.containerInfo,Xf=id,e=Fs(e),Mi(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var g=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break e}var E=0,M=-1,U=-1,Y=0,re=0,ce=e,J=null;t:for(;;){for(var ee;ce!==o||g!==0&&ce.nodeType!==3||(M=E+g),ce!==_||c!==0&&ce.nodeType!==3||(U=E+c),ce.nodeType===3&&(E+=ce.nodeValue.length),(ee=ce.firstChild)!==null;)J=ce,ce=ee;for(;;){if(ce===e)break t;if(J===o&&++Y===g&&(M=E),J===_&&++re===c&&(U=E),(ee=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=ee}o=M===-1||U===-1?null:{start:M,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jf={focusedElem:e,selectionRange:o},id=!1,Jt=i;Jt!==null;)if(i=Jt,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Jt=e;else for(;Jt!==null;){switch(i=Jt,_=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)g=e[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,o=i,g=_.memoizedProps,_=_.memoizedState,c=o.stateNode;try{var Ee=aa(o.type,g);e=c.getSnapshotBeforeUpdate(Ee,_),c.__reactInternalSnapshotBeforeUpdate=e}catch(Me){at(o,o.return,Me)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)tp(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,Jt=e;break}Jt=i.return}}function _0(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:hr(e,o),c&4&&Ll(5,o);break;case 1:if(hr(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(E){at(o,o.return,E)}else{var g=aa(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(g,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){at(o,o.return,E)}}c&64&&f0(o),c&512&&zl(o,o.return);break;case 3:if(hr(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{iy(e,i)}catch(E){at(o,o.return,E)}}break;case 27:i===null&&c&4&&y0(o);case 26:case 5:hr(e,o),i===null&&c&4&&m0(o),c&512&&zl(o,o.return);break;case 12:hr(e,o);break;case 31:hr(e,o),c&4&&w0(e,o);break;case 13:hr(e,o),c&4&&S0(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=u2.bind(null,o),k2(e,o))));break;case 22:if(c=o.memoizedState!==null||cr,!c){i=i!==null&&i.memoizedState!==null||It,g=cr;var _=It;cr=c,(It=i)&&!_?fr(e,o,(o.subtreeFlags&8772)!==0):hr(e,o),cr=g,It=_}break;case 30:break;default:hr(e,o)}}function x0(e){var i=e.alternate;i!==null&&(e.alternate=null,x0(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Xo(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xt=null,Cn=!1;function dr(e,i,o){for(o=o.child;o!==null;)b0(e,i,o),o=o.sibling}function b0(e,i,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(jr,o)}catch{}switch(o.tag){case 26:It||Ii(o,i),dr(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:It||Ii(o,i);var c=xt,g=Cn;rs(o.type)&&(xt=o.stateNode,Cn=!1),dr(e,i,o),ql(o.stateNode),xt=c,Cn=g;break;case 5:It||Ii(o,i);case 6:if(c=xt,g=Cn,xt=null,dr(e,i,o),xt=c,Cn=g,xt!==null)if(Cn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(_){at(o,i,_)}else try{xt.removeChild(o.stateNode)}catch(_){at(o,i,_)}break;case 18:xt!==null&&(Cn?(e=xt,fv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),po(e)):fv(xt,o.stateNode));break;case 4:c=xt,g=Cn,xt=o.stateNode.containerInfo,Cn=!0,dr(e,i,o),xt=c,Cn=g;break;case 0:case 11:case 14:case 15:Xr(2,o,i),It||Xr(4,o,i),dr(e,i,o);break;case 1:It||(Ii(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&p0(o,i,c)),dr(e,i,o);break;case 21:dr(e,i,o);break;case 22:It=(c=It)||o.memoizedState!==null,dr(e,i,o),It=c;break;default:dr(e,i,o)}}function w0(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{po(e)}catch(o){at(i,i.return,o)}}}function S0(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{po(e)}catch(o){at(i,i.return,o)}}function t2(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new v0),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new v0),i;default:throw Error(a(435,e.tag))}}function Bc(e,i){var o=t2(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var g=c2.bind(null,e,c);c.then(g,g)}})}function An(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var g=o[c],_=e,E=i,M=E;e:for(;M!==null;){switch(M.tag){case 27:if(rs(M.type)){xt=M.stateNode,Cn=!1;break e}break;case 5:xt=M.stateNode,Cn=!1;break e;case 3:case 4:xt=M.stateNode.containerInfo,Cn=!0;break e}M=M.return}if(xt===null)throw Error(a(160));b0(_,E,g),xt=null,Cn=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)T0(i,e),i=i.sibling}var _i=null;function T0(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(i,e),kn(e),c&4&&(Xr(3,e,e.return),Ll(3,e),Xr(5,e,e.return));break;case 1:An(i,e),kn(e),c&512&&(It||o===null||Ii(o,o.return)),c&64&&cr&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var g=_i;if(An(i,e),kn(e),c&512&&(It||o===null||Ii(o,o.return)),c&4){var _=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){e:{c=e.type,o=e.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":_=g.getElementsByTagName("title")[0],(!_||_[As]||_[Pt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(c),g.head.insertBefore(_,g.querySelector("head > title"))),rn(_,c,o),_[Pt]=e,Dt(_),c=_;break e;case"link":var E=Tv("link","href",g).get(c+(o.href||""));if(E){for(var M=0;M<E.length;M++)if(_=E[M],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(M,1);break t}}_=g.createElement(c),rn(_,c,o),g.head.appendChild(_);break;case"meta":if(E=Tv("meta","content",g).get(c+(o.content||""))){for(M=0;M<E.length;M++)if(_=E[M],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(M,1);break t}}_=g.createElement(c),rn(_,c,o),g.head.appendChild(_);break;default:throw Error(a(468,c))}_[Pt]=e,Dt(_),c=_}e.stateNode=c}else Ev(g,e.type,e.stateNode);else e.stateNode=Sv(g,c,e.memoizedProps);else _!==c?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,c===null?Ev(g,e.type,e.stateNode):Sv(g,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,o.memoizedProps)}break;case 27:An(i,e),kn(e),c&512&&(It||o===null||Ii(o,o.return)),o!==null&&c&4&&Cf(e,e.memoizedProps,o.memoizedProps);break;case 5:if(An(i,e),kn(e),c&512&&(It||o===null||Ii(o,o.return)),e.flags&32){g=e.stateNode;try{Zn(g,"")}catch(Ee){at(e,e.return,Ee)}}c&4&&e.stateNode!=null&&(g=e.memoizedProps,Cf(e,g,o!==null?o.memoizedProps:g)),c&1024&&(Rf=!0);break;case 6:if(An(i,e),kn(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(Ee){at(e,e.return,Ee)}}break;case 3:if(Qc=null,g=_i,_i=Xc(i.containerInfo),An(i,e),_i=g,kn(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{po(i.containerInfo)}catch(Ee){at(e,e.return,Ee)}Rf&&(Rf=!1,E0(e));break;case 4:c=_i,_i=Xc(e.stateNode.containerInfo),An(i,e),kn(e),_i=c;break;case 12:An(i,e),kn(e);break;case 31:An(i,e),kn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Bc(e,c)));break;case 13:An(i,e),kn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Uc=pn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Bc(e,c)));break;case 22:g=e.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Y=cr,re=It;if(cr=Y||g,It=re||U,An(i,e),It=re,cr=Y,kn(e),c&8192)e:for(i=e.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(o===null||U||cr||It||oa(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(_=U.stateNode,g)E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=U.stateNode;var ce=U.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;M.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ee){at(U,U.return,Ee)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=g?"":U.memoizedProps}catch(Ee){at(U,U.return,Ee)}}}else if(i.tag===18){if(o===null){U=i;try{var ee=U.stateNode;g?pv(ee,!0):pv(U.stateNode,!1)}catch(Ee){at(U,U.return,Ee)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Bc(e,o))));break;case 19:An(i,e),kn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Bc(e,c)));break;case 30:break;case 21:break;default:An(i,e),kn(e)}}function kn(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(g0(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var g=o.stateNode,_=Af(e);Dc(e,_,g);break;case 5:var E=o.stateNode;o.flags&32&&(Zn(E,""),o.flags&=-33);var M=Af(e);Dc(e,M,E);break;case 3:case 4:var U=o.stateNode.containerInfo,Y=Af(e);kf(e,Y,U);break;default:throw Error(a(161))}}catch(re){at(e,e.return,re)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function E0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;E0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function hr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)_0(e,i.alternate,i),i=i.sibling}function oa(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Xr(4,i,i.return),oa(i);break;case 1:Ii(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&p0(i,i.return,o),oa(i);break;case 27:ql(i.stateNode);case 26:case 5:Ii(i,i.return),oa(i);break;case 22:i.memoizedState===null&&oa(i);break;case 30:oa(i);break;default:oa(i)}e=e.sibling}}function fr(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=e,_=i,E=_.flags;switch(_.tag){case 0:case 11:case 15:fr(g,_,o),Ll(4,_);break;case 1:if(fr(g,_,o),c=_,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){at(c,c.return,Y)}if(c=_,g=c.updateQueue,g!==null){var M=c.stateNode;try{var U=g.shared.hiddenCallbacks;if(U!==null)for(g.shared.hiddenCallbacks=null,g=0;g<U.length;g++)ny(U[g],M)}catch(Y){at(c,c.return,Y)}}o&&E&64&&f0(_),zl(_,_.return);break;case 27:y0(_);case 26:case 5:fr(g,_,o),o&&c===null&&E&4&&m0(_),zl(_,_.return);break;case 12:fr(g,_,o);break;case 31:fr(g,_,o),o&&E&4&&w0(g,_);break;case 13:fr(g,_,o),o&&E&4&&S0(g,_);break;case 22:_.memoizedState===null&&fr(g,_,o),zl(_,_.return);break;case 30:break;default:fr(g,_,o)}i=i.sibling}}function Of(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&xl(o))}function Mf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xl(e))}function xi(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)j0(e,i,o,c),i=i.sibling}function j0(e,i,o,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:xi(e,i,o,c),g&2048&&Ll(9,i);break;case 1:xi(e,i,o,c);break;case 3:xi(e,i,o,c),g&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xl(e)));break;case 12:if(g&2048){xi(e,i,o,c),e=i.stateNode;try{var _=i.memoizedProps,E=_.id,M=_.onPostCommit;typeof M=="function"&&M(E,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){at(i,i.return,U)}}else xi(e,i,o,c);break;case 31:xi(e,i,o,c);break;case 13:xi(e,i,o,c);break;case 23:break;case 22:_=i.stateNode,E=i.alternate,i.memoizedState!==null?_._visibility&2?xi(e,i,o,c):Pl(e,i):_._visibility&2?xi(e,i,o,c):(_._visibility|=2,no(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),g&2048&&Of(E,i);break;case 24:xi(e,i,o,c),g&2048&&Mf(i.alternate,i);break;default:xi(e,i,o,c)}}function no(e,i,o,c,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var _=e,E=i,M=o,U=c,Y=E.flags;switch(E.tag){case 0:case 11:case 15:no(_,E,M,U,g),Ll(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?no(_,E,M,U,g):Pl(_,E):(re._visibility|=2,no(_,E,M,U,g)),g&&Y&2048&&Of(E.alternate,E);break;case 24:no(_,E,M,U,g),g&&Y&2048&&Mf(E.alternate,E);break;default:no(_,E,M,U,g)}i=i.sibling}}function Pl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,g=c.flags;switch(c.tag){case 22:Pl(o,c),g&2048&&Of(c.alternate,c);break;case 24:Pl(o,c),g&2048&&Mf(c.alternate,c);break;default:Pl(o,c)}i=i.sibling}}var Dl=8192;function io(e,i,o){if(e.subtreeFlags&Dl)for(e=e.child;e!==null;)C0(e,i,o),e=e.sibling}function C0(e,i,o){switch(e.tag){case 26:io(e,i,o),e.flags&Dl&&e.memoizedState!==null&&V2(o,_i,e.memoizedState,e.memoizedProps);break;case 5:io(e,i,o);break;case 3:case 4:var c=_i;_i=Xc(e.stateNode.containerInfo),io(e,i,o),_i=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Dl,Dl=16777216,io(e,i,o),Dl=c):io(e,i,o));break;default:io(e,i,o)}}function A0(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Bl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Jt=c,R0(c,e)}A0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)k0(e),e=e.sibling}function k0(e){switch(e.tag){case 0:case 11:case 15:Bl(e),e.flags&2048&&Xr(9,e,e.return);break;case 3:Bl(e);break;case 12:Bl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Nc(e)):Bl(e);break;default:Bl(e)}}function Nc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Jt=c,R0(c,e)}A0(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Xr(8,i,i.return),Nc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Nc(i));break;default:Nc(i)}e=e.sibling}}function R0(e,i){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:Xr(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:xl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Jt=c;else e:for(o=e;Jt!==null;){c=Jt;var g=c.sibling,_=c.return;if(x0(c),c===o){Jt=null;break e}if(g!==null){g.return=_,Jt=g;break e}Jt=_}}}var n2={getCacheForType:function(e){var i=tn(Bt),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return tn(Bt).controller.signal}},i2=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,We=null,Ge=0,st=0,Hn=null,Jr=!1,ro=!1,Lf=!1,pr=0,Rt=0,Qr=0,la=0,zf=0,qn=0,so=0,Nl=null,Rn=null,Pf=!1,Uc=0,O0=0,Ic=1/0,Vc=null,es=null,Zt=0,ts=null,ao=null,mr=0,Df=0,Bf=null,M0=null,Ul=0,Nf=null;function Fn(){return(nt&2)!==0&&Ge!==0?Ge&-Ge:V.T!==null?Ff():Ko()}function L0(){if(qn===0)if((Ge&536870912)===0||Fe){var e=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),qn=e}else qn=536870912;return e=In.current,e!==null&&(e.flags|=32),qn}function On(e,i,o){(e===ht&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(oo(e,0),ns(e,Ge,qn,!1)),Gi(e,o),((nt&2)===0||e!==ht)&&(e===ht&&((nt&2)===0&&(la|=o),Rt===4&&ns(e,Ge,qn,!1)),Vi(e))}function z0(e,i,o){if((nt&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||Cs(e,i),g=c?a2(e,i):If(e,i,!0),_=c;do{if(g===0){ro&&!c&&ns(e,i,0,!1);break}else{if(o=e.current.alternate,_&&!r2(o)){g=If(e,i,!1),_=!1;continue}if(g===2){if(_=i,e.errorRecoveryDisabledLanes&_)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var M=e;g=Nl;var U=M.current.memoizedState.isDehydrated;if(U&&(oo(M,E).flags|=256),E=If(M,E,!1),E!==2){if(Lf&&!U){M.errorRecoveryDisabledLanes|=_,la|=_,g=4;break e}_=Rn,Rn=g,_!==null&&(Rn===null?Rn=_:Rn.push.apply(Rn,_))}g=E}if(_=!1,g!==2)continue}}if(g===1){oo(e,0),ns(e,i,0,!0);break}e:{switch(c=e,_=g,_){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ns(c,i,qn,!Jr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(g=Uc+300-pn(),10<g)){if(ns(c,i,qn,!Jr),Ca(c,0,!0)!==0)break e;mr=i,c.timeoutHandle=dv(P0.bind(null,c,o,Rn,Vc,Pf,i,qn,la,so,Jr,_,"Throttled",-0,0),g);break e}P0(c,o,Rn,Vc,Pf,i,qn,la,so,Jr,_,null,-0,0)}}break}while(!0);Vi(e)}function P0(e,i,o,c,g,_,E,M,U,Y,re,ce,J,ee){if(e.timeoutHandle=-1,ce=i.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},C0(i,_,ce);var Ee=(_&62914560)===_?Uc-pn():(_&4194048)===_?O0-pn():0;if(Ee=H2(ce,Ee),Ee!==null){mr=_,e.cancelPendingCommit=Ee(q0.bind(null,e,i,_,o,c,g,E,M,U,re,ce,null,J,ee)),ns(e,_,E,!Y);return}}q0(e,i,_,o,c,g,E,M,U)}function r2(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var g=o[c],_=g.getSnapshot;g=g.value;try{if(!Yt(_(),g))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ns(e,i,o,c){i&=~zf,i&=~la,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var g=i;0<g;){var _=31-mn(g),E=1<<_;c[_]=-1,g&=~E}o!==0&&Iu(e,o,i)}function Hc(){return(nt&6)===0?(Il(0),!1):!0}function Uf(){if(We!==null){if(st===0)var e=We.return;else e=We,vi=Ui=null,ef(e),Xa=null,wl=0,e=We;for(;e!==null;)h0(e.alternate,e),e=e.return;We=null}}function oo(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,T2(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),mr=0,Uf(),ht=e,We=o=ei(e.current,null),Ge=i,st=0,Hn=null,Jr=!1,ro=Cs(e,i),Lf=!1,so=qn=zf=la=Qr=Rt=0,Rn=Nl=null,Pf=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var g=31-mn(c),_=1<<g;i|=e[g],c&=~_}return pr=i,Ks(),o}function D0(e,i){Ie=null,V.H=Rl,i===Ya||i===yc?(i=Jg(),st=3):i===Hh?(i=Jg(),st=4):st=i===yf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hn=i,We===null&&(Rt=1,Oc(e,u(i,e.current)))}function B0(){var e=In.current;return e===null?!0:(Ge&4194048)===Ge?ti===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===ti:!1}function N0(){var e=V.H;return V.H=Rl,e===null?Rl:e}function U0(){var e=V.A;return V.A=n2,e}function qc(){Rt=4,Jr||(Ge&4194048)!==Ge&&In.current!==null||(ro=!0),(Qr&134217727)===0&&(la&134217727)===0||ht===null||ns(ht,Ge,qn,!1)}function If(e,i,o){var c=nt;nt|=2;var g=N0(),_=U0();(ht!==e||Ge!==i)&&(Vc=null,oo(e,i)),i=!1;var E=Rt;e:do try{if(st!==0&&We!==null){var M=We,U=Hn;switch(st){case 8:Uf(),E=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var Y=st;if(st=0,Hn=null,lo(e,M,U,Y),o&&ro){E=0;break e}break;default:Y=st,st=0,Hn=null,lo(e,M,U,Y)}}s2(),E=Rt;break}catch(re){D0(e,re)}while(!0);return i&&e.shellSuspendCounter++,vi=Ui=null,nt=c,V.H=g,V.A=_,We===null&&(ht=null,Ge=0,Ks()),E}function s2(){for(;We!==null;)I0(We)}function a2(e,i){var o=nt;nt|=2;var c=N0(),g=U0();ht!==e||Ge!==i?(Vc=null,Ic=pn()+500,oo(e,i)):ro=Cs(e,i);e:do try{if(st!==0&&We!==null){i=We;var _=Hn;t:switch(st){case 1:st=0,Hn=null,lo(e,i,_,1);break;case 2:case 9:if(Yg(_)){st=0,Hn=null,V0(i);break}i=function(){st!==2&&st!==9||ht!==e||(st=7),Vi(e)},_.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Yg(_)?(st=0,Hn=null,V0(i)):(st=0,Hn=null,lo(e,i,_,7));break;case 5:var E=null;switch(We.tag){case 26:E=We.memoizedState;case 5:case 27:var M=We;if(E?jv(E):M.stateNode.complete){st=0,Hn=null;var U=M.sibling;if(U!==null)We=U;else{var Y=M.return;Y!==null?(We=Y,Fc(Y)):We=null}break t}}st=0,Hn=null,lo(e,i,_,5);break;case 6:st=0,Hn=null,lo(e,i,_,6);break;case 8:Uf(),Rt=6;break e;default:throw Error(a(462))}}o2();break}catch(re){D0(e,re)}while(!0);return vi=Ui=null,V.H=c,V.A=g,nt=o,We!==null?0:(ht=null,Ge=0,Ks(),Rt)}function o2(){for(;We!==null&&!Du();)I0(We)}function I0(e){var i=c0(e.alternate,e,pr);e.memoizedProps=e.pendingProps,i===null?Fc(e):We=i}function V0(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=r0(o,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=r0(o,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:ef(i);default:h0(o,i),i=We=ml(i,pr),i=c0(o,i,pr)}e.memoizedProps=e.pendingProps,i===null?Fc(e):We=i}function lo(e,i,o,c){vi=Ui=null,ef(i),Xa=null,wl=0;var g=i.return;try{if(KS(e,g,i,o,Ge)){Rt=1,Oc(e,u(o,e.current)),We=null;return}}catch(_){if(g!==null)throw We=g,_;Rt=1,Oc(e,u(o,e.current)),We=null;return}i.flags&32768?(Fe||c===1?e=!0:ro||(Ge&536870912)!==0?e=!1:(Jr=e=!0,(c===2||c===9||c===3||c===6)&&(c=In.current,c!==null&&c.tag===13&&(c.flags|=16384))),H0(i,e)):Fc(i)}function Fc(e){var i=e;do{if((i.flags&32768)!==0){H0(i,Jr);return}e=i.return;var o=JS(i.alternate,i,pr);if(o!==null){We=o;return}if(i=i.sibling,i!==null){We=i;return}We=i=e}while(i!==null);Rt===0&&(Rt=5)}function H0(e,i){do{var o=QS(e.alternate,e);if(o!==null){o.flags&=32767,We=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){We=e;return}We=e=o}while(e!==null);Rt=6,We=null}function q0(e,i,o,c,g,_,E,M,U){e.cancelPendingCommit=null;do Wc();while(Zt!==0);if((nt&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(_=i.lanes|i.childLanes,_|=qa,bh(e,o,_,E,M,U),e===ht&&(We=ht=null,Ge=0),ao=i,ts=e,mr=o,Df=_,Bf=g,M0=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,d2(ws,function(){return G0(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=V.T,V.T=null,g=ie.p,ie.p=2,E=nt,nt|=4;try{e2(e,i,o)}finally{nt=E,ie.p=g,V.T=c}}Zt=1,F0(),W0(),$0()}}function F0(){if(Zt===1){Zt=0;var e=ts,i=ao,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var c=ie.p;ie.p=2;var g=nt;nt|=4;try{T0(i,e);var _=Jf,E=Fs(e.containerInfo),M=_.focusedElem,U=_.selectionRange;if(E!==M&&M&&M.ownerDocument&&Ua(M.ownerDocument.documentElement,M)){if(U!==null&&Mi(M)){var Y=U.start,re=U.end;if(re===void 0&&(re=Y),"selectionStart"in M)M.selectionStart=Y,M.selectionEnd=Math.min(re,M.value.length);else{var ce=M.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Ee=M.textContent.length,Me=Math.min(U.start,Ee),ct=U.end===void 0?Me:Math.min(U.end,Ee);!ee.extend&&Me>ct&&(E=ct,ct=Me,Me=E);var F=qs(M,Me),I=qs(M,ct);if(F&&I&&(ee.rangeCount!==1||ee.anchorNode!==F.node||ee.anchorOffset!==F.offset||ee.focusNode!==I.node||ee.focusOffset!==I.offset)){var K=ce.createRange();K.setStart(F.node,F.offset),ee.removeAllRanges(),Me>ct?(ee.addRange(K),ee.extend(I.node,I.offset)):(K.setEnd(I.node,I.offset),ee.addRange(K))}}}}for(ce=[],ee=M;ee=ee.parentNode;)ee.nodeType===1&&ce.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ce.length;M++){var le=ce[M];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}id=!!Xf,Jf=Xf=null}finally{nt=g,ie.p=c,V.T=o}}e.current=i,Zt=2}}function W0(){if(Zt===2){Zt=0;var e=ts,i=ao,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var c=ie.p;ie.p=2;var g=nt;nt|=4;try{_0(e,i.alternate,i)}finally{nt=g,ie.p=c,V.T=o}}Zt=3}}function $0(){if(Zt===4||Zt===3){Zt=0,Bu();var e=ts,i=ao,o=mr,c=M0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Zt=5:(Zt=0,ao=ts=null,Z0(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(es=null),Ae(o),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(jr,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=V.T,g=ie.p,ie.p=2,V.T=null;try{for(var _=e.onRecoverableError,E=0;E<c.length;E++){var M=c[E];_(M.value,{componentStack:M.stack})}}finally{V.T=i,ie.p=g}}(mr&3)!==0&&Wc(),Vi(e),g=e.pendingLanes,(o&261930)!==0&&(g&42)!==0?e===Nf?Ul++:(Ul=0,Nf=e):Ul=0,Il(0)}}function Z0(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,xl(i)))}function Wc(){return F0(),W0(),$0(),G0()}function G0(){if(Zt!==5)return!1;var e=ts,i=Df;Df=0;var o=Ae(mr),c=V.T,g=ie.p;try{ie.p=32>o?32:o,V.T=null,o=Bf,Bf=null;var _=ts,E=mr;if(Zt=0,ao=ts=null,mr=0,(nt&6)!==0)throw Error(a(331));var M=nt;if(nt|=4,k0(_.current),j0(_,_.current,E,o),nt=M,Il(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(jr,_)}catch{}return!0}finally{ie.p=g,V.T=c,Z0(e,i)}}function K0(e,i,o){i=u(o,i),i=gf(e.stateNode,i,2),e=Gr(e,i,2),e!==null&&(Gi(e,2),Vi(e))}function at(e,i,o){if(e.tag===3)K0(e,e,o);else for(;i!==null;){if(i.tag===3){K0(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(es===null||!es.has(c))){e=u(o,e),o=Yy(2),c=Gr(i,o,2),c!==null&&(Xy(o,c,i,e),Gi(c,2),Vi(c));break}}i=i.return}}function Vf(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new i2;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(o)||(Lf=!0,g.add(o),e=l2.bind(null,e,i,o),i.then(e,e))}function l2(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,ht===e&&(Ge&o)===o&&(Rt===4||Rt===3&&(Ge&62914560)===Ge&&300>pn()-Uc?(nt&2)===0&&oo(e,0):zf|=o,so===Ge&&(so=0)),Vi(e)}function Y0(e,i){i===0&&(i=Uu()),e=Qn(e,i),e!==null&&(Gi(e,i),Vi(e))}function u2(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Y0(e,o)}function c2(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,g=e.memoizedState;g!==null&&(o=g.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Y0(e,o)}function d2(e,i){return Ea(e,i)}var $c=null,uo=null,Hf=!1,Zc=!1,qf=!1,is=0;function Vi(e){e!==uo&&e.next===null&&(uo===null?$c=uo=e:uo=uo.next=e),Zc=!0,Hf||(Hf=!0,f2())}function Il(e,i){if(!qf&&Zc){qf=!0;do for(var o=!1,c=$c;c!==null;){if(e!==0){var g=c.pendingLanes;if(g===0)var _=0;else{var E=c.suspendedLanes,M=c.pingedLanes;_=(1<<31-mn(42|e)+1)-1,_&=g&~(E&~M),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,ev(c,_))}else _=Ge,_=Ca(c,c===ht?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||Cs(c,_)||(o=!0,ev(c,_));c=c.next}while(o);qf=!1}}function h2(){X0()}function X0(){Zc=Hf=!1;var e=0;is!==0&&S2()&&(e=is);for(var i=pn(),o=null,c=$c;c!==null;){var g=c.next,_=J0(c,i);_===0?(c.next=null,o===null?$c=g:o.next=g,g===null&&(uo=o)):(o=c,(e!==0||(_&3)!==0)&&(Zc=!0)),c=g}Zt!==0&&Zt!==5||Il(e),is!==0&&(is=0)}function J0(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,g=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var E=31-mn(_),M=1<<E,U=g[E];U===-1?((M&o)===0||(M&c)!==0)&&(g[E]=xh(M,i)):U<=i&&(e.expiredLanes|=M),_&=~M}if(i=ht,o=Ge,o=Ca(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(st===2||st===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&bs(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Cs(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&bs(c),Ae(o)){case 2:case 8:o=$o;break;case 32:o=ws;break;case 268435456:o=Zo;break;default:o=ws}return c=Q0.bind(null,e),o=Ea(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&bs(c),e.callbackPriority=2,e.callbackNode=null,2}function Q0(e,i){if(Zt!==0&&Zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Wc()&&e.callbackNode!==o)return null;var c=Ge;return c=Ca(e,e===ht?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(z0(e,c,i),J0(e,pn()),e.callbackNode!=null&&e.callbackNode===o?Q0.bind(null,e):null)}function ev(e,i){if(Wc())return null;z0(e,i,!0)}function f2(){E2(function(){(nt&6)!==0?Ea(ja,h2):X0()})}function Ff(){if(is===0){var e=Ga;e===0&&(e=Ts,Ts<<=1,(Ts&261888)===0&&(Ts=256)),is=e}return is}function tv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mr(""+e)}function nv(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function p2(e,i,o,c,g){if(i==="submit"&&o&&o.stateNode===g){var _=tv((g[Kt]||null).action),E=c.submitter;E&&(i=(i=E[Kt]||null)?tv(i.formAction):E.getAttribute("formAction"),i!==null&&(_=i,E=null));var M=new Ma("action","action",null,c,g);e.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(is!==0){var U=E?nv(g,E):new FormData(g);cf(o,{pending:!0,data:U,method:g.method,action:_},null,U)}}else typeof _=="function"&&(M.preventDefault(),U=E?nv(g,E):new FormData(g),cf(o,{pending:!0,data:U,method:g.method,action:_},_,U))},currentTarget:g}]})}}for(var Wf=0;Wf<Pi.length;Wf++){var $f=Pi[Wf],m2=$f.toLowerCase(),g2=$f[0].toUpperCase()+$f.slice(1);Tn(m2,"on"+g2)}Tn($s,"onAnimationEnd"),Tn(dc,"onAnimationIteration"),Tn(Zs,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(zh,"onTransitionRun"),Tn(hc,"onTransitionStart"),Tn(Ph,"onTransitionCancel"),Tn(qr,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function iv(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],g=c.event;c=c.listeners;e:{var _=void 0;if(i)for(var E=c.length-1;0<=E;E--){var M=c[E],U=M.instance,Y=M.currentTarget;if(M=M.listener,U!==_&&g.isPropagationStopped())break e;_=M,g.currentTarget=Y;try{_(g)}catch(re){Gs(re)}g.currentTarget=null,_=U}else for(E=0;E<c.length;E++){if(M=c[E],U=M.instance,Y=M.currentTarget,M=M.listener,U!==_&&g.isPropagationStopped())break e;_=M,g.currentTarget=Y;try{_(g)}catch(re){Gs(re)}g.currentTarget=null,_=U}}}}function $e(e,i){var o=i[ji];o===void 0&&(o=i[ji]=new Set);var c=e+"__bubble";o.has(c)||(rv(i,e,2,!1),o.add(c))}function Zf(e,i,o){var c=0;i&&(c|=4),rv(o,e,c,i)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function Gf(e){if(!e[Gc]){e[Gc]=!0,Wu.forEach(function(o){o!=="selectionchange"&&(y2.has(o)||Zf(o,!1,e),Zf(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Gc]||(i[Gc]=!0,Zf("selectionchange",!1,i))}}function rv(e,i,o,c){switch(Lv(i)){case 2:var g=W2;break;case 8:g=$2;break;default:g=up}o=g.bind(null,i,o,e),g=void 0,!zs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?e.addEventListener(i,o,{capture:!0,passive:g}):e.addEventListener(i,o,!0):g!==void 0?e.addEventListener(i,o,{passive:g}):e.addEventListener(i,o,!1)}function Kf(e,i,o,c,g){var _=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var M=c.stateNode.containerInfo;if(M===g)break;if(E===4)for(E=c.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;M!==null;){if(E=Yi(M),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){c=_=E;continue e}M=M.parentNode}}c=c.return}rl(function(){var Y=_,re=Ls(o),ce=[];e:{var J=fc.get(e);if(J!==void 0){var ee=Ma,Ee=e;switch(e){case"keypress":if(Ps(o)===0)break e;case"keydown":case"keyup":ee=Qu;break;case"focusin":Ee="focus",ee=ol;break;case"focusout":Ee="blur",ee=ol;break;case"beforeblur":case"afterblur":ee=ol;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Ah;break;case $s:case dc:case Zs:ee=ll;break;case qr:ee=nc;break;case"scroll":case"scrollend":ee=Ze;break;case"wheel":ee=tr;break;case"copy":case"cut":case"paste":ee=Kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=ec;break;case"toggle":case"beforetoggle":ee=Ns}var Me=(i&4)!==0,ct=!Me&&(e==="scroll"||e==="scrollend"),F=Me?J!==null?J+"Capture":null:J;Me=[];for(var I=Y,K;I!==null;){var le=I;if(K=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||K===null||F===null||(le=Qi(I,F),le!=null&&Me.push(Hl(I,le,K))),ct)break;I=I.return}0<Me.length&&(J=new ee(J,Ee,null,o,re),ce.push({event:J,listeners:Me}))}}if((i&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",J&&o!==Oa&&(Ee=o.relatedTarget||o.fromElement)&&(Yi(Ee)||Ee[Ki]))break e;if((ee||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Ee=o.relatedTarget||o.toElement,ee=Y,Ee=Ee?Yi(Ee):null,Ee!==null&&(ct=d(Ee),Me=Ee.tag,Ee!==ct||Me!==5&&Me!==27&&Me!==6)&&(Ee=null)):(ee=null,Ee=Y),ee!==Ee)){if(Me=Gu,le="onMouseLeave",F="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(Me=ec,le="onPointerLeave",F="onPointerEnter",I="pointer"),ct=ee==null?J:Ci(ee),K=Ee==null?J:Ci(Ee),J=new Me(le,I+"leave",ee,o,re),J.target=ct,J.relatedTarget=K,le=null,Yi(re)===Y&&(Me=new Me(F,I+"enter",Ee,o,re),Me.target=K,Me.relatedTarget=ct,le=Me),ct=le,ee&&Ee)t:{for(Me=v2,F=ee,I=Ee,K=0,le=F;le;le=Me(le))K++;le=0;for(var Oe=I;Oe;Oe=Me(Oe))le++;for(;0<K-le;)F=Me(F),K--;for(;0<le-K;)I=Me(I),le--;for(;K--;){if(F===I||I!==null&&F===I.alternate){Me=F;break t}F=Me(F),I=Me(I)}Me=null}else Me=null;ee!==null&&sv(ce,J,ee,Me,!1),Ee!==null&&ct!==null&&sv(ce,ct,Ee,Me,!0)}}e:{if(J=Y?Ci(Y):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Qe=Hs;else if(Yn(J))if(ac)Qe=Lh;else{Qe=Mh;var Ce=mi}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Y&&Ms(Y.elementType)&&(Qe=Hs):Qe=Ur;if(Qe&&(Qe=Qe(e,Y))){sc(ce,Qe,o,re);break e}Ce&&Ce(e,J,Y),e==="focusout"&&Y&&J.type==="number"&&Y.memoizedProps.value!=null&&hi(J,"number",J.value)}switch(Ce=Y?Ci(Y):window,e){case"focusin":(Yn(Ce)||Ce.contentEditable==="true")&&(Li=Ce,Va=Y,Ws=null);break;case"focusout":Ws=Va=Li=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":Vr=!1,uc(ce,o,re);break;case"selectionchange":if(Ia)break;case"keydown":case"keyup":uc(ce,o,re)}var He;if(za)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Dr?rc(e,o)&&(Ke="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ke="onCompositionStart");Ke&&(Pa&&o.locale!=="ko"&&(Dr||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Dr&&(He=Ri()):(Gn=re,er="value"in Gn?Gn.value:Gn.textContent,Dr=!0)),Ce=Kc(Y,Ke),0<Ce.length&&(Ke=new ul(Ke,e,null,o,re),ce.push({event:Ke,listeners:Ce}),He?Ke.data=He:(He=fl(o),He!==null&&(Ke.data=He)))),(He=Rh?Un(e,o):Br(e,o))&&(Ke=Kc(Y,"onBeforeInput"),0<Ke.length&&(Ce=new ul("onBeforeInput","beforeinput",null,o,re),ce.push({event:Ce,listeners:Ke}),Ce.data=He)),p2(ce,e,Y,o,re)}iv(ce,i)})}function Hl(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Kc(e,i){for(var o=i+"Capture",c=[];e!==null;){var g=e,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=Qi(e,o),g!=null&&c.unshift(Hl(e,g,_)),g=Qi(e,i),g!=null&&c.push(Hl(e,g,_))),e.tag===3)return c;e=e.return}return[]}function v2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sv(e,i,o,c,g){for(var _=i._reactName,E=[];o!==null&&o!==c;){var M=o,U=M.alternate,Y=M.stateNode;if(M=M.tag,U!==null&&U===c)break;M!==5&&M!==26&&M!==27||Y===null||(U=Y,g?(Y=Qi(o,_),Y!=null&&E.unshift(Hl(o,Y,U))):g||(Y=Qi(o,_),Y!=null&&E.push(Hl(o,Y,U)))),o=o.return}E.length!==0&&e.push({event:i,listeners:E})}var _2=/\r\n?/g,x2=/\u0000|\uFFFD/g;function av(e){return(typeof e=="string"?e:""+e).replace(_2,`
`).replace(x2,"")}function ov(e,i){return i=av(i),av(e)===i}function ut(e,i,o,c,g,_){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Zn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Zn(e,""+c);break;case"className":ot(e,"class",c);break;case"tabIndex":ot(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,o,c);break;case"style":ka(e,c,_);break;case"data":if(i!=="object"){ot(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Mr(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(i!=="input"&&ut(e,i,"name",g.name,g,null),ut(e,i,"formEncType",g.formEncType,g,null),ut(e,i,"formMethod",g.formMethod,g,null),ut(e,i,"formTarget",g.formTarget,g,null)):(ut(e,i,"encType",g.encType,g,null),ut(e,i,"method",g.method,g,null),ut(e,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Mr(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=wn);break;case"onScroll":c!=null&&$e("scroll",e);break;case"onScrollEnd":c!=null&&$e("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(g.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Mr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":$e("beforetoggle",e),$e("toggle",e),qe(e,"popover",c);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qe(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ra.get(o)||o,qe(e,o,c))}}function Yf(e,i,o,c,g,_){switch(o){case"style":ka(e,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(g.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?Zn(e,c):(typeof c=="number"||typeof c=="bigint")&&Zn(e,""+c);break;case"onScroll":c!=null&&$e("scroll",e);break;case"onScrollEnd":c!=null&&$e("scrollend",e);break;case"onClick":c!=null&&(e.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$u.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),i=o.slice(2,g?o.length-7:void 0),_=e[Kt]||null,_=_!=null?_[o]:null,typeof _=="function"&&e.removeEventListener(i,_,g),typeof c=="function")){typeof _!="function"&&_!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,g);break e}o in e?e[o]=c:c===!0?e.setAttribute(o,""):qe(e,o,c)}}}function rn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",e),$e("load",e);var c=!1,g=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var E=o[_];if(E!=null)switch(_){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ut(e,i,_,E,o,null)}}g&&ut(e,i,"srcSet",o.srcSet,o,null),c&&ut(e,i,"src",o.src,o,null);return;case"input":$e("invalid",e);var M=_=E=g=null,U=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var re=o[c];if(re!=null)switch(c){case"name":g=re;break;case"type":E=re;break;case"checked":U=re;break;case"defaultChecked":Y=re;break;case"value":_=re;break;case"defaultValue":M=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,i));break;default:ut(e,i,c,re,o,null)}}Os(e,_,M,U,Y,E,g,!1);return;case"select":$e("invalid",e),c=E=_=null;for(g in o)if(o.hasOwnProperty(g)&&(M=o[g],M!=null))switch(g){case"value":_=M;break;case"defaultValue":E=M;break;case"multiple":c=M;default:ut(e,i,g,M,o,null)}i=_,o=E,e.multiple=!!c,i!=null?dt(e,!!c,i,!1):o!=null&&dt(e,!!c,o,!0);return;case"textarea":$e("invalid",e),_=g=c=null;for(E in o)if(o.hasOwnProperty(E)&&(M=o[E],M!=null))switch(E){case"value":c=M;break;case"defaultValue":g=M;break;case"children":_=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:ut(e,i,E,M,o,null)}Rr(e,c,g,_);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(c=o[U],c!=null))switch(U){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ut(e,i,U,c,o,null)}return;case"dialog":$e("beforetoggle",e),$e("toggle",e),$e("cancel",e),$e("close",e);break;case"iframe":case"object":$e("load",e);break;case"video":case"audio":for(c=0;c<Vl.length;c++)$e(Vl[c],e);break;case"image":$e("error",e),$e("load",e);break;case"details":$e("toggle",e);break;case"embed":case"source":case"link":$e("error",e),$e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ut(e,i,Y,c,o,null)}return;default:if(Ms(i)){for(re in o)o.hasOwnProperty(re)&&(c=o[re],c!==void 0&&Yf(e,i,re,c,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(c=o[M],c!=null&&ut(e,i,M,c,o,null))}function b2(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,E=null,M=null,U=null,Y=null,re=null;for(ee in o){var ce=o[ee];if(o.hasOwnProperty(ee)&&ce!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":U=ce;default:c.hasOwnProperty(ee)||ut(e,i,ee,null,c,ce)}}for(var J in c){var ee=c[J];if(ce=o[J],c.hasOwnProperty(J)&&(ee!=null||ce!=null))switch(J){case"type":_=ee;break;case"name":g=ee;break;case"checked":Y=ee;break;case"defaultChecked":re=ee;break;case"value":E=ee;break;case"defaultValue":M=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,i));break;default:ee!==ce&&ut(e,i,J,ee,c,ce)}}tl(e,E,M,U,Y,re,_,g);return;case"select":ee=E=M=J=null;for(_ in o)if(U=o[_],o.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":ee=U;default:c.hasOwnProperty(_)||ut(e,i,_,null,c,U)}for(g in c)if(_=c[g],U=o[g],c.hasOwnProperty(g)&&(_!=null||U!=null))switch(g){case"value":J=_;break;case"defaultValue":M=_;break;case"multiple":E=_;default:_!==U&&ut(e,i,g,_,c,U)}i=M,o=E,c=ee,J!=null?dt(e,!!o,J,!1):!!c!=!!o&&(i!=null?dt(e,!!o,i,!0):dt(e,!!o,o?[]:"",!1));return;case"textarea":ee=J=null;for(M in o)if(g=o[M],o.hasOwnProperty(M)&&g!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:ut(e,i,M,null,c,g)}for(E in c)if(g=c[E],_=o[E],c.hasOwnProperty(E)&&(g!=null||_!=null))switch(E){case"value":J=g;break;case"defaultValue":ee=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==_&&ut(e,i,E,g,c,_)}ki(e,J,ee);return;case"option":for(var Ee in o)if(J=o[Ee],o.hasOwnProperty(Ee)&&J!=null&&!c.hasOwnProperty(Ee))switch(Ee){case"selected":e.selected=!1;break;default:ut(e,i,Ee,null,c,J)}for(U in c)if(J=c[U],ee=o[U],c.hasOwnProperty(U)&&J!==ee&&(J!=null||ee!=null))switch(U){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ut(e,i,U,J,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in o)J=o[Me],o.hasOwnProperty(Me)&&J!=null&&!c.hasOwnProperty(Me)&&ut(e,i,Me,null,c,J);for(Y in c)if(J=c[Y],ee=o[Y],c.hasOwnProperty(Y)&&J!==ee&&(J!=null||ee!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:ut(e,i,Y,J,c,ee)}return;default:if(Ms(i)){for(var ct in o)J=o[ct],o.hasOwnProperty(ct)&&J!==void 0&&!c.hasOwnProperty(ct)&&Yf(e,i,ct,void 0,c,J);for(re in c)J=c[re],ee=o[re],!c.hasOwnProperty(re)||J===ee||J===void 0&&ee===void 0||Yf(e,i,re,J,c,ee);return}}for(var F in o)J=o[F],o.hasOwnProperty(F)&&J!=null&&!c.hasOwnProperty(F)&&ut(e,i,F,null,c,J);for(ce in c)J=c[ce],ee=o[ce],!c.hasOwnProperty(ce)||J===ee||J==null&&ee==null||ut(e,i,ce,J,c,ee)}function lv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var g=o[c],_=g.transferSize,E=g.initiatorType,M=g.duration;if(_&&M&&lv(E)){for(E=0,M=g.responseEnd,c+=1;c<o.length;c++){var U=o[c],Y=U.startTime;if(Y>M)break;var re=U.transferSize,ce=U.initiatorType;re&&lv(ce)&&(U=U.responseEnd,E+=re*(U<M?1:(M-Y)/(U-Y)))}if(--c,i+=8*(_+E)/(g.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xf=null,Jf=null;function Yc(e){return e.nodeType===9?e:e.ownerDocument}function uv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Qf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ep=null;function S2(){var e=window.event;return e&&e.type==="popstate"?e===ep?!1:(ep=e,!0):(ep=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,T2=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,E2=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(e){return hv.resolve(null).then(e).catch(j2)}:dv;function j2(e){setTimeout(function(){throw e})}function rs(e){return e==="head"}function fv(e,i){var o=i,c=0;do{var g=o.nextSibling;if(e.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(g),po(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")ql(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,ql(o);for(var _=o.firstChild;_;){var E=_.nextSibling,M=_.nodeName;_[As]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&_.rel.toLowerCase()==="stylesheet"||o.removeChild(_),_=E}}else o==="body"&&ql(e.ownerDocument.body);o=g}while(o);po(i)}function pv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function tp(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":tp(o),Xo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function C2(e,i,o,c){for(;e.nodeType===1;){var g=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[As])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=ni(e.nextSibling),e===null)break}return null}function A2(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=ni(e.nextSibling),e===null))return null;return e}function mv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ni(e.nextSibling),e===null))return null;return e}function np(e){return e.data==="$?"||e.data==="$~"}function ip(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function k2(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function ni(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var rp=null;function gv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return ni(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function yv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function vv(e,i,o){switch(i=Yc(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ql(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Xo(e)}var ii=new Map,_v=new Set;function Xc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gr=ie.d;ie.d={f:R2,r:O2,D:M2,C:L2,L:z2,m:P2,X:B2,S:D2,M:N2};function R2(){var e=gr.f(),i=Hc();return e||i}function O2(e){var i=Cr(e);i!==null&&i.tag===5&&i.type==="form"?Dy(i):gr.r(e)}var co=typeof document>"u"?null:document;function xv(e,i,o){var c=co;if(c&&typeof i=="string"&&i){var g=mt(i);g='link[rel="'+e+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),_v.has(g)||(_v.add(g),e={rel:e,crossOrigin:o,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),rn(i,"link",e),Dt(i),c.head.appendChild(i)))}}function M2(e){gr.D(e),xv("dns-prefetch",e,null)}function L2(e,i){gr.C(e,i),xv("preconnect",e,i)}function z2(e,i,o){gr.L(e,i,o);var c=co;if(c&&e&&i){var g='link[rel="preload"][as="'+mt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+mt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+mt(o.imageSizes)+'"]')):g+='[href="'+mt(e)+'"]';var _=g;switch(i){case"style":_=ho(e);break;case"script":_=fo(e)}ii.has(_)||(e=w({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),ii.set(_,e),c.querySelector(g)!==null||i==="style"&&c.querySelector(Fl(_))||i==="script"&&c.querySelector(Wl(_))||(i=c.createElement("link"),rn(i,"link",e),Dt(i),c.head.appendChild(i)))}}function P2(e,i){gr.m(e,i);var o=co;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+mt(c)+'"][href="'+mt(e)+'"]',_=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=fo(e)}if(!ii.has(_)&&(e=w({rel:"modulepreload",href:e},i),ii.set(_,e),o.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wl(_)))return}c=o.createElement("link"),rn(c,"link",e),Dt(c),o.head.appendChild(c)}}}function D2(e,i,o){gr.S(e,i,o);var c=co;if(c&&e){var g=Ar(c).hoistableStyles,_=ho(e);i=i||"default";var E=g.get(_);if(!E){var M={loading:0,preload:null};if(E=c.querySelector(Fl(_)))M.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":i},o),(o=ii.get(_))&&sp(e,o);var U=E=c.createElement("link");Dt(U),rn(U,"link",e),U._p=new Promise(function(Y,re){U.onload=Y,U.onerror=re}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Jc(E,i,c)}E={type:"stylesheet",instance:E,count:1,state:M},g.set(_,E)}}}function B2(e,i){gr.X(e,i);var o=co;if(o&&e){var c=Ar(o).hoistableScripts,g=fo(e),_=c.get(g);_||(_=o.querySelector(Wl(g)),_||(e=w({src:e,async:!0},i),(i=ii.get(g))&&ap(e,i),_=o.createElement("script"),Dt(_),rn(_,"link",e),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(g,_))}}function N2(e,i){gr.M(e,i);var o=co;if(o&&e){var c=Ar(o).hoistableScripts,g=fo(e),_=c.get(g);_||(_=o.querySelector(Wl(g)),_||(e=w({src:e,async:!0,type:"module"},i),(i=ii.get(g))&&ap(e,i),_=o.createElement("script"),Dt(_),rn(_,"link",e),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(g,_))}}function bv(e,i,o,c){var g=(g=xe.current)?Xc(g):null;if(!g)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ho(o.href),o=Ar(g).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=ho(o.href);var _=Ar(g).hoistableStyles,E=_.get(e);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,E),(_=g.querySelector(Fl(e)))&&!_._p&&(E.instance=_,E.state.loading=5),ii.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ii.set(e,o),_||U2(g,e,o,E.state))),i&&c===null)throw Error(a(528,""));return E}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(o),o=Ar(g).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ho(e){return'href="'+mt(e)+'"'}function Fl(e){return'link[rel="stylesheet"]['+e+"]"}function wv(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function U2(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),rn(i,"link",o),Dt(i),e.head.appendChild(i))}function fo(e){return'[src="'+mt(e)+'"]'}function Wl(e){return"script[async]"+e}function Sv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+mt(o.href)+'"]');if(c)return i.instance=c,Dt(c),c;var g=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Dt(c),rn(c,"style",g),Jc(c,o.precedence,e),i.instance=c;case"stylesheet":g=ho(o.href);var _=e.querySelector(Fl(g));if(_)return i.state.loading|=4,i.instance=_,Dt(_),_;c=wv(o),(g=ii.get(g))&&sp(c,g),_=(e.ownerDocument||e).createElement("link"),Dt(_);var E=_;return E._p=new Promise(function(M,U){E.onload=M,E.onerror=U}),rn(_,"link",c),i.state.loading|=4,Jc(_,o.precedence,e),i.instance=_;case"script":return _=fo(o.src),(g=e.querySelector(Wl(_)))?(i.instance=g,Dt(g),g):(c=o,(g=ii.get(_))&&(c=w({},o),ap(c,g)),e=e.ownerDocument||e,g=e.createElement("script"),Dt(g),rn(g,"link",c),e.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Jc(c,o.precedence,e));return i.instance}function Jc(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,_=g,E=0;E<c.length;E++){var M=c[E];if(M.dataset.precedence===i)_=M;else if(_!==g)break}_?_.parentNode.insertBefore(e,_.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function sp(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ap(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Qc=null;function Tv(e,i,o){if(Qc===null){var c=new Map,g=Qc=new Map;g.set(o,c)}else g=Qc,c=g.get(o),c||(c=new Map,g.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),g=0;g<o.length;g++){var _=o[g];if(!(_[As]||_[Pt]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var E=_.getAttribute(i)||"";E=e+E;var M=c.get(E);M?M.push(_):c.set(E,[_])}}return c}function Ev(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function I2(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function jv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function V2(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=ho(c.href),_=i.querySelector(Fl(g));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=ed.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=_,Dt(_);return}_=i.ownerDocument||i,c=wv(c),(g=ii.get(g))&&sp(c,g),_=_.createElement("link"),Dt(_);var E=_;E._p=new Promise(function(M,U){E.onload=M,E.onerror=U}),rn(_,"link",c),o.instance=_}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=ed.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var op=0;function H2(e,i){return e.stylesheets&&e.count===0&&nd(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&nd(e,e.stylesheets),e.unsuspend){var _=e.unsuspend;e.unsuspend=null,_()}},6e4+i);0<e.imgBytes&&op===0&&(op=62500*w2());var g=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nd(e,e.stylesheets),e.unsuspend)){var _=e.unsuspend;e.unsuspend=null,_()}},(e.imgBytes>op?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function ed(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var td=null;function nd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,td=new Map,i.forEach(q2,e),td=null,ed.call(e))}function q2(e,i){if(!(i.state.loading&4)){var o=td.get(e);if(o)var c=o.get(null);else{o=new Map,td.set(e,o);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var E=g[_];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}g=i.instance,E=g.getAttribute("data-precedence"),_=o.get(E)||c,_===c&&o.set(null,g),o.set(E,g),this.count++,c=ed.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),_?_.parentNode.insertBefore(g,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),i.state.loading|=4}}var $l={$$typeof:D,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function F2(e,i,o,c,g,_,E,M,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Go(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.hiddenUpdates=Go(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Cv(e,i,o,c,g,_,E,M,U,Y,re,ce){return e=new F2(e,i,o,E,U,Y,re,ce,M),i=1,_===!0&&(i|=24),_=un(3,null,null,i),e.current=_,_.stateNode=e,i=Uh(),i.refCount++,e.pooledCache=i,i.refCount++,_.memoizedState={element:c,isDehydrated:o,cache:i},qh(_),e}function Av(e){return e?(e=nr,e):nr}function kv(e,i,o,c,g,_){g=Av(g),c.context===null?c.context=g:c.pendingContext=g,c=Zr(i),c.payload={element:o},_=_===void 0?null:_,_!==null&&(c.callback=_),o=Gr(e,c,i),o!==null&&(On(o,e,i),Tl(o,e,i))}function Rv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function lp(e,i){Rv(e,i),(e=e.alternate)&&Rv(e,i)}function Ov(e){if(e.tag===13||e.tag===31){var i=Qn(e,67108864);i!==null&&On(i,e,67108864),lp(e,67108864)}}function Mv(e){if(e.tag===13||e.tag===31){var i=Fn();i=xn(i);var o=Qn(e,i);o!==null&&On(o,e,i),lp(e,i)}}var id=!0;function W2(e,i,o,c){var g=V.T;V.T=null;var _=ie.p;try{ie.p=2,up(e,i,o,c)}finally{ie.p=_,V.T=g}}function $2(e,i,o,c){var g=V.T;V.T=null;var _=ie.p;try{ie.p=8,up(e,i,o,c)}finally{ie.p=_,V.T=g}}function up(e,i,o,c){if(id){var g=cp(c);if(g===null)Kf(e,i,c,rd,o),zv(e,c);else if(G2(g,e,i,o,c))c.stopPropagation();else if(zv(e,c),i&4&&-1<Z2.indexOf(e)){for(;g!==null;){var _=Cr(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var E=Zi(_.pendingLanes);if(E!==0){var M=_;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var U=1<<31-mn(E);M.entanglements[1]|=U,E&=~U}Vi(_),(nt&6)===0&&(Ic=pn()+500,Il(0))}}break;case 31:case 13:M=Qn(_,2),M!==null&&On(M,_,2),Hc(),lp(_,2)}if(_=cp(c),_===null&&Kf(e,i,c,rd,o),_===g)break;g=_}g!==null&&c.stopPropagation()}else Kf(e,i,c,null,o)}}function cp(e){return e=Ls(e),dp(e)}var rd=null;function dp(e){if(rd=null,e=Yi(e),e!==null){var i=d(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=h(i),e!==null)return e;e=null}else if(o===31){if(e=m(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return rd=e,null}function Lv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mh()){case ja:return 2;case $o:return 8;case ws:case gh:return 32;case Zo:return 268435456;default:return 32}default:return 32}}var hp=!1,ss=null,as=null,os=null,Zl=new Map,Gl=new Map,ls=[],Z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(e,i){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(i.pointerId)}}function Kl(e,i,o,c,g,_){return e===null||e.nativeEvent!==_?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:_,targetContainers:[g]},i!==null&&(i=Cr(i),i!==null&&Ov(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),e)}function G2(e,i,o,c,g){switch(i){case"focusin":return ss=Kl(ss,e,i,o,c,g),!0;case"dragenter":return as=Kl(as,e,i,o,c,g),!0;case"mouseover":return os=Kl(os,e,i,o,c,g),!0;case"pointerover":var _=g.pointerId;return Zl.set(_,Kl(Zl.get(_)||null,e,i,o,c,g)),!0;case"gotpointercapture":return _=g.pointerId,Gl.set(_,Kl(Gl.get(_)||null,e,i,o,c,g)),!0}return!1}function Pv(e){var i=Yi(e.target);if(i!==null){var o=d(i);if(o!==null){if(i=o.tag,i===13){if(i=h(o),i!==null){e.blockedOn=i,Yo(e.priority,function(){Mv(o)});return}}else if(i===31){if(i=m(o),i!==null){e.blockedOn=i,Yo(e.priority,function(){Mv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sd(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=cp(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);Oa=c,o.target.dispatchEvent(c),Oa=null}else return i=Cr(o),i!==null&&Ov(i),e.blockedOn=o,!1;i.shift()}return!0}function Dv(e,i,o){sd(e)&&o.delete(i)}function K2(){hp=!1,ss!==null&&sd(ss)&&(ss=null),as!==null&&sd(as)&&(as=null),os!==null&&sd(os)&&(os=null),Zl.forEach(Dv),Gl.forEach(Dv)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,hp||(hp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,K2)))}var od=null;function Bv(e){od!==e&&(od=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){od===e&&(od=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],g=e[i+2];if(typeof c!="function"){if(dp(c||o)===null)continue;break}var _=Cr(o);_!==null&&(e.splice(i,3),i-=3,cf(_,{pending:!0,data:g,method:o.method,action:c},c,g))}}))}function po(e){function i(U){return ad(U,e)}ss!==null&&ad(ss,e),as!==null&&ad(as,e),os!==null&&ad(os,e),Zl.forEach(i),Gl.forEach(i);for(var o=0;o<ls.length;o++){var c=ls[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<ls.length&&(o=ls[0],o.blockedOn===null);)Pv(o),o.blockedOn===null&&ls.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var g=o[c],_=o[c+1],E=g[Kt]||null;if(typeof _=="function")E||Bv(o);else if(E){var M=null;if(_&&_.hasAttribute("formAction")){if(g=_,E=_[Kt]||null)M=E.formAction;else if(dp(g)!==null)continue}else M=E.action;typeof M=="function"?o[c+1]=M:(o.splice(c,3),c-=3),Bv(o)}}}function Nv(){function e(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function fp(e){this._internalRoot=e}ld.prototype.render=fp.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Fn();kv(o,c,e,i,null,null)},ld.prototype.unmount=fp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;kv(e.current,2,null,e,null,null),Hc(),i[Ki]=null}};function ld(e){this._internalRoot=e}ld.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ko();e={blockedOn:null,target:e,priority:i};for(var o=0;o<ls.length&&i!==0&&i<ls[o].priority;o++);ls.splice(o,0,e),o===0&&Pv(e)}};var Uv=t.version;if(Uv!=="19.2.1")throw Error(a(527,Uv,"19.2.1"));ie.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(i),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Y2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{jr=ud.inject(Y2),Qt=ud}catch{}}return Xl.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",g=$y,_=Zy,E=Gy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Cv(e,1,!1,null,null,o,c,null,g,_,E,Nv),e[Ki]=i.current,Gf(e),new fp(i)},Xl.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,g="",_=$y,E=Zy,M=Gy,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=Cv(e,1,!0,i,o??null,c,g,U,_,E,M,Nv),i.context=Av(null),o=i.current,c=Fn(),c=xn(c),g=Zr(c),g.callback=null,Gr(o,g,c),o=c,i.current.lanes=o,Gi(i,o),Vi(i),e[Ki]=i.current,Gf(e),new ld(i)},Xl.version="19.2.1",Xl}var Kv;function aT(){if(Kv)return gp.exports;Kv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),gp.exports=sT(),gp.exports}var oT=aT();const lT=ih(oT);var Yv="popstate";function uT(n={}){function t(l,d){let{pathname:h="/",search:m="",hash:y=""}=Ta(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),$p("",{pathname:h,search:m,hash:y},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(l,d){let h=l.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let y=l.location.href,v=y.indexOf("#");m=v===-1?y:y.slice(0,v)}return m+"#"+(typeof d=="string"?d:pu(d))}function a(l,d){$n(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(d)})`)}return dT(t,r,a,n)}function St(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function $n(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cT(){return Math.random().toString(36).substring(2,10)}function Xv(n,t){return{usr:n.state,key:n.key,idx:t}}function $p(n,t,r=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ta(t):t,state:r,key:t&&t.key||a||cT()}}function pu({pathname:n="/",search:t="",hash:r=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Ta(n){let t={};if(n){let r=n.indexOf("#");r>=0&&(t.hash=n.substring(r),n=n.substring(0,r));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function dT(n,t,r,a={}){let{window:l=document.defaultView,v5Compat:d=!1}=a,h=l.history,m="POP",y=null,v=x();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function x(){return(h.state||{idx:null}).idx}function w(){m="POP";let R=x(),z=R==null?null:R-v;v=R,y&&y({action:m,location:k.location,delta:z})}function S(R,z){m="PUSH";let P=$p(k.location,R,z);r&&r(P,R),v=x()+1;let D=Xv(P,v),W=k.createHref(P);try{h.pushState(D,"",W)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;l.location.assign(W)}d&&y&&y({action:m,location:k.location,delta:1})}function j(R,z){m="REPLACE";let P=$p(k.location,R,z);r&&r(P,R),v=x();let D=Xv(P,v),W=k.createHref(P);h.replaceState(D,"",W),d&&y&&y({action:m,location:k.location,delta:0})}function A(R){return hT(R)}let k={get action(){return m},get location(){return n(l,h)},listen(R){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(Yv,w),y=R,()=>{l.removeEventListener(Yv,w),y=null}},createHref(R){return t(l,R)},createURL:A,encodeLocation(R){let z=A(R);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:j,go(R){return h.go(R)}};return k}function hT(n,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),St(r,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:pu(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function nb(n,t,r="/"){return fT(n,t,r,!1)}function fT(n,t,r,a){let l=typeof t=="string"?Ta(t):t,d=xr(l.pathname||"/",r);if(d==null)return null;let h=ib(n);pT(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let v=ET(d);m=ST(h[y],v,a)}return m}function ib(n,t=[],r=[],a="",l=!1){let d=(h,m,y=l,v)=>{let x={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(a)&&y)return;St(x.relativePath.startsWith(a),`Absolute route path "${x.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(a.length)}let w=_r([a,x.relativePath]),S=r.concat(x);h.children&&h.children.length>0&&(St(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),ib(h.children,t,S,w,y)),!(h.path==null&&!h.index)&&t.push({path:w,score:bT(w,h.index),routesMeta:S})};return n.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))d(h,m);else for(let y of rb(h.path))d(h,m,!0,y)}),t}function rb(n){let t=n.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return l?[d,""]:[d];let h=rb(a.join("/")),m=[];return m.push(...h.map(y=>y===""?d:[d,y].join("/"))),l&&m.push(...h),m.map(y=>n.startsWith("/")&&y===""?"/":y)}function pT(n){n.sort((t,r)=>t.score!==r.score?r.score-t.score:wT(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var mT=/^:[\w-]+$/,gT=3,yT=2,vT=1,_T=10,xT=-2,Jv=n=>n==="*";function bT(n,t){let r=n.split("/"),a=r.length;return r.some(Jv)&&(a+=xT),t&&(a+=yT),r.filter(l=>!Jv(l)).reduce((l,d)=>l+(mT.test(d)?gT:d===""?vT:_T),a)}function wT(n,t){return n.length===t.length&&n.slice(0,-1).every((a,l)=>a===t[l])?n[n.length-1]-t[t.length-1]:0}function ST(n,t,r=!1){let{routesMeta:a}=n,l={},d="/",h=[];for(let m=0;m<a.length;++m){let y=a[m],v=m===a.length-1,x=d==="/"?t:t.slice(d.length)||"/",w=Dd({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},x),S=y.route;if(!w&&v&&r&&!a[a.length-1].route.index&&(w=Dd({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},x)),!w)return null;Object.assign(l,w.params),h.push({params:l,pathname:_r([d,w.pathname]),pathnameBase:RT(_r([d,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(d=_r([d,w.pathnameBase]))}return h}function Dd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,a]=TT(n.path,n.caseSensitive,n.end),l=t.match(r);if(!l)return null;let d=l[0],h=d.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((v,{paramName:x,isOptional:w},S)=>{if(x==="*"){let A=m[S]||"";h=d.slice(0,d.length-A.length).replace(/(.)\/+$/,"$1")}const j=m[S];return w&&!j?v[x]=void 0:v[x]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:h,pattern:n}}function TT(n,t=!1,r=!0){$n(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(a.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function ET(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function xr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=n.charAt(r);return a&&a!=="/"?null:n.slice(r)||"/"}var jT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CT=n=>jT.test(n);function AT(n,t="/"){let{pathname:r,search:a="",hash:l=""}=typeof n=="string"?Ta(n):n,d;if(r)if(CT(r))d=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${r}`)}r.startsWith("/")?d=Qv(r.substring(1),"/"):d=Qv(r,t)}else d=t;return{pathname:d,search:OT(a),hash:MT(l)}}function Qv(n,t){let r=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function xp(n,t,r,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kT(n){return n.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nm(n){let t=kT(n);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function Um(n,t,r,a=!1){let l;typeof n=="string"?l=Ta(n):(l={...n},St(!l.pathname||!l.pathname.includes("?"),xp("?","pathname","search",l)),St(!l.pathname||!l.pathname.includes("#"),xp("#","pathname","hash",l)),St(!l.search||!l.search.includes("#"),xp("#","search","hash",l)));let d=n===""||l.pathname==="",h=d?"/":l.pathname,m;if(h==null)m=r;else{let w=t.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),w-=1;l.pathname=S.join("/")}m=w>=0?t[w]:"/"}let y=AT(l,m),v=h&&h!=="/"&&h.endsWith("/"),x=(d||h===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(v||x)&&(y.pathname+="/"),y}var _r=n=>n.join("/").replace(/\/\/+/g,"/"),RT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function zT(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sb=["POST","PUT","PATCH","DELETE"];new Set(sb);var PT=["GET",...sb];new Set(PT);var zo=C.createContext(null);zo.displayName="DataRouter";var rh=C.createContext(null);rh.displayName="DataRouterState";C.createContext(!1);var ab=C.createContext({isTransitioning:!1});ab.displayName="ViewTransition";var DT=C.createContext(new Map);DT.displayName="Fetchers";var BT=C.createContext(null);BT.displayName="Await";var oi=C.createContext(null);oi.displayName="Navigation";var Su=C.createContext(null);Su.displayName="Location";var li=C.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var Im=C.createContext(null);Im.displayName="RouteError";function NT(n,{relative:t}={}){St(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=C.useContext(oi),{hash:l,pathname:d,search:h}=Tu(n,{relative:t}),m=d;return r!=="/"&&(m=d==="/"?r:_r([r,d])),a.createHref({pathname:m,search:h,hash:l})}function Po(){return C.useContext(Su)!=null}function ui(){return St(Po(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Su).location}var ob="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lb(n){C.useContext(oi).static||C.useLayoutEffect(n)}function vt(){let{isDataRoute:n}=C.useContext(li);return n?QT():UT()}function UT(){St(Po(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(zo),{basename:t,navigator:r}=C.useContext(oi),{matches:a}=C.useContext(li),{pathname:l}=ui(),d=JSON.stringify(Nm(a)),h=C.useRef(!1);return lb(()=>{h.current=!0}),C.useCallback((y,v={})=>{if($n(h.current,ob),!h.current)return;if(typeof y=="number"){r.go(y);return}let x=Um(y,JSON.parse(d),l,v.relative==="path");n==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:_r([t,x.pathname])),(v.replace?r.replace:r.push)(x,v.state,v)},[t,r,d,l,n])}var IT=C.createContext(null);function VT(n){let t=C.useContext(li).outlet;return C.useMemo(()=>t&&C.createElement(IT.Provider,{value:n},t),[t,n])}function Vm(){let{matches:n}=C.useContext(li),t=n[n.length-1];return t?t.params:{}}function Tu(n,{relative:t}={}){let{matches:r}=C.useContext(li),{pathname:a}=ui(),l=JSON.stringify(Nm(r));return C.useMemo(()=>Um(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function HT(n,t){return ub(n,t)}function ub(n,t,r,a,l){St(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=C.useContext(oi),{matches:h}=C.useContext(li),m=h[h.length-1],y=m?m.params:{},v=m?m.pathname:"/",x=m?m.pathnameBase:"/",w=m&&m.route;{let P=w&&w.path||"";cb(v,!w||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let S=ui(),j;if(t){let P=typeof t=="string"?Ta(t):t;St(x==="/"||P.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${P.pathname}" was given in the \`location\` prop.`),j=P}else j=S;let A=j.pathname||"/",k=A;if(x!=="/"){let P=x.replace(/^\//,"").split("/");k="/"+A.replace(/^\//,"").split("/").slice(P.length).join("/")}let R=nb(n,{pathname:k});$n(w||R!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),$n(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=ZT(R&&R.map(P=>Object.assign({},P,{params:Object.assign({},y,P.params),pathname:_r([x,d.encodeLocation?d.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?x:_r([x,d.encodeLocation?d.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),h,r,a,l);return t&&z?C.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},z):z}function qT(){let n=JT(),t=LT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},d={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:d},"ErrorBoundary")," or"," ",C.createElement("code",{style:d},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:l},r):null,h)}var FT=C.createElement(qT,null),WT=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?C.createElement(li.Provider,{value:this.props.routeContext},C.createElement(Im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $T({routeContext:n,match:t,children:r}){let a=C.useContext(zo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(li.Provider,{value:n},r)}function ZT(n,t=[],r=null,a=null,l=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let d=n,h=r?.errors;if(h!=null){let x=d.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);St(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,x+1))}let m=!1,y=-1;if(r)for(let x=0;x<d.length;x++){let w=d[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=x),w.route.id){let{loaderData:S,errors:j}=r,A=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!j||j[w.route.id]===void 0);if(w.route.lazy||A){m=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}let v=r&&a?(x,w)=>{a(x,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:zT(r.matches),errorInfo:w})}:void 0;return d.reduceRight((x,w,S)=>{let j,A=!1,k=null,R=null;r&&(j=h&&w.route.id?h[w.route.id]:void 0,k=w.route.errorElement||FT,m&&(y<0&&S===0?(cb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,R=null):y===S&&(A=!0,R=w.route.hydrateFallbackElement||null)));let z=t.concat(d.slice(0,S+1)),P=()=>{let D;return j?D=k:A?D=R:w.route.Component?D=C.createElement(w.route.Component,null):w.route.element?D=w.route.element:D=x,C.createElement($T,{match:w,routeContext:{outlet:x,matches:z,isDataRoute:r!=null},children:D})};return r&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?C.createElement(WT,{location:r.location,revalidation:r.revalidation,component:k,error:j,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:v}):P()},null)}function Hm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GT(n){let t=C.useContext(zo);return St(t,Hm(n)),t}function KT(n){let t=C.useContext(rh);return St(t,Hm(n)),t}function YT(n){let t=C.useContext(li);return St(t,Hm(n)),t}function qm(n){let t=YT(n),r=t.matches[t.matches.length-1];return St(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function XT(){return qm("useRouteId")}function JT(){let n=C.useContext(Im),t=KT("useRouteError"),r=qm("useRouteError");return n!==void 0?n:t.errors?.[r]}function QT(){let{router:n}=GT("useNavigate"),t=qm("useNavigate"),r=C.useRef(!1);return lb(()=>{r.current=!0}),C.useCallback(async(l,d={})=>{$n(r.current,ob),r.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:t,...d}))},[n,t])}var e_={};function cb(n,t,r){!t&&!e_[n]&&(e_[n]=!0,$n(!1,r))}C.memo(eE);function eE({routes:n,future:t,state:r,unstable_onError:a}){return ub(n,void 0,r,a,t)}function db({to:n,replace:t,state:r,relative:a}){St(Po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=C.useContext(oi);$n(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=C.useContext(li),{pathname:h}=ui(),m=vt(),y=Um(n,Nm(d),h,a==="path"),v=JSON.stringify(y);return C.useEffect(()=>{m(JSON.parse(v),{replace:t,state:r,relative:a})},[m,v,a,t,r]),null}function tE(n){return VT(n.context)}function yt(n){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nE({basename:n="/",children:t=null,location:r,navigationType:a="POP",navigator:l,static:d=!1,unstable_useTransitions:h}){St(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),y=C.useMemo(()=>({basename:m,navigator:l,static:d,unstable_useTransitions:h,future:{}}),[m,l,d,h]);typeof r=="string"&&(r=Ta(r));let{pathname:v="/",search:x="",hash:w="",state:S=null,key:j="default"}=r,A=C.useMemo(()=>{let k=xr(v,m);return k==null?null:{location:{pathname:k,search:x,hash:w,state:S,key:j},navigationType:a}},[m,v,x,w,S,j,a]);return $n(A!=null,`<Router basename="${m}"> is not able to match the URL "${v}${x}${w}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:C.createElement(oi.Provider,{value:y},C.createElement(Su.Provider,{children:t,value:A}))}function hb({children:n,location:t}){return HT(Zp(n),t)}function Zp(n,t=[]){let r=[];return C.Children.forEach(n,(a,l)=>{if(!C.isValidElement(a))return;let d=[...t,l];if(a.type===C.Fragment){r.push.apply(r,Zp(a.props.children,d));return}St(a.type===yt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Zp(a.props.children,d)),r.push(h)}),r}var Ed="get",jd="application/x-www-form-urlencoded";function sh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function iE(n){return sh(n)&&n.tagName.toLowerCase()==="button"}function rE(n){return sh(n)&&n.tagName.toLowerCase()==="form"}function sE(n){return sh(n)&&n.tagName.toLowerCase()==="input"}function aE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oE(n,t){return n.button===0&&(!t||t==="_self")&&!aE(n)}var cd=null;function lE(){if(cd===null)try{new FormData(document.createElement("form"),0),cd=!1}catch{cd=!0}return cd}var uE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bp(n){return n!=null&&!uE.has(n)?($n(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jd}"`),null):n}function cE(n,t){let r,a,l,d,h;if(rE(n)){let m=n.getAttribute("action");a=m?xr(m,t):null,r=n.getAttribute("method")||Ed,l=bp(n.getAttribute("enctype"))||jd,d=new FormData(n)}else if(iE(n)||sE(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||m.getAttribute("action");if(a=y?xr(y,t):null,r=n.getAttribute("formmethod")||m.getAttribute("method")||Ed,l=bp(n.getAttribute("formenctype"))||bp(m.getAttribute("enctype"))||jd,d=new FormData(m,n),!lE()){let{name:v,type:x,value:w}=n;if(x==="image"){let S=v?`${v}.`:"";d.append(`${S}x`,"0"),d.append(`${S}y`,"0")}else v&&d.append(v,w)}}else{if(sh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ed,a=null,l=jd,h=n}return d&&l==="text/plain"&&(h=d,d=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fm(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function dE(n,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&xr(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function hE(n,t){if(n.id in t)return t[n.id];try{let r=await import(n.module);return t[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fE(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pE(n,t,r){let a=await Promise.all(n.map(async l=>{let d=t.routes[l.route.id];if(d){let h=await hE(d,r);return h.links?h.links():[]}return[]}));return vE(a.flat(1).filter(fE).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function t_(n,t,r,a,l,d){let h=(y,v)=>r[v]?y.route.id!==r[v].route.id:!0,m=(y,v)=>r[v].pathname!==y.pathname||r[v].route.path?.endsWith("*")&&r[v].params["*"]!==y.params["*"];return d==="assets"?t.filter((y,v)=>h(y,v)||m(y,v)):d==="data"?t.filter((y,v)=>{let x=a.routes[y.route.id];if(!x||!x.hasLoader)return!1;if(h(y,v)||m(y,v))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function mE(n,t,{includeHydrateFallback:r}={}){return gE(n.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let d=[l.module];return l.clientActionModule&&(d=d.concat(l.clientActionModule)),l.clientLoaderModule&&(d=d.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(d=d.concat(l.hydrateFallbackModule)),l.imports&&(d=d.concat(l.imports)),d}).flat(1))}function gE(n){return[...new Set(n)]}function yE(n){let t={},r=Object.keys(n).sort();for(let a of r)t[a]=n[a];return t}function vE(n,t){let r=new Set;return new Set(t),n.reduce((a,l)=>{let d=JSON.stringify(yE(l));return r.has(d)||(r.add(d),a.push({key:d,link:l})),a},[])}function fb(){let n=C.useContext(zo);return Fm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _E(){let n=C.useContext(rh);return Fm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wm=C.createContext(void 0);Wm.displayName="FrameworkContext";function pb(){let n=C.useContext(Wm);return Fm(n,"You must render this element inside a <HydratedRouter> element"),n}function xE(n,t){let r=C.useContext(Wm),[a,l]=C.useState(!1),[d,h]=C.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:v,onMouseLeave:x,onTouchStart:w}=t,S=C.useRef(null);C.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let k=z=>{z.forEach(P=>{h(P.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return S.current&&R.observe(S.current),()=>{R.disconnect()}}},[n]),C.useEffect(()=>{if(a){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[a]);let j=()=>{l(!0)},A=()=>{l(!1),h(!1)};return r?n!=="intent"?[d,S,{}]:[d,S,{onFocus:Jl(m,j),onBlur:Jl(y,A),onMouseEnter:Jl(v,j),onMouseLeave:Jl(x,A),onTouchStart:Jl(w,j)}]:[!1,S,{}]}function Jl(n,t){return r=>{n&&n(r),r.defaultPrevented||t(r)}}function bE({page:n,...t}){let{router:r}=fb(),a=C.useMemo(()=>nb(r.routes,n,r.basename),[r.routes,n,r.basename]);return a?C.createElement(SE,{page:n,matches:a,...t}):null}function wE(n){let{manifest:t,routeModules:r}=pb(),[a,l]=C.useState([]);return C.useEffect(()=>{let d=!1;return pE(n,t,r).then(h=>{d||l(h)}),()=>{d=!0}},[n,t,r]),a}function SE({page:n,matches:t,...r}){let a=ui(),{manifest:l,routeModules:d}=pb(),{basename:h}=fb(),{loaderData:m,matches:y}=_E(),v=C.useMemo(()=>t_(n,t,y,l,a,"data"),[n,t,y,l,a]),x=C.useMemo(()=>t_(n,t,y,l,a,"assets"),[n,t,y,l,a]),w=C.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let A=new Set,k=!1;if(t.forEach(z=>{let P=l.routes[z.route.id];!P||!P.hasLoader||(!v.some(D=>D.route.id===z.route.id)&&z.route.id in m&&d[z.route.id]?.shouldRevalidate||P.hasClientLoader?k=!0:A.add(z.route.id))}),A.size===0)return[];let R=dE(n,h,"data");return k&&A.size>0&&R.searchParams.set("_routes",t.filter(z=>A.has(z.route.id)).map(z=>z.route.id).join(",")),[R.pathname+R.search]},[h,m,a,l,v,t,n,d]),S=C.useMemo(()=>mE(x,l),[x,l]),j=wE(x);return C.createElement(C.Fragment,null,w.map(A=>C.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...r})),S.map(A=>C.createElement("link",{key:A,rel:"modulepreload",href:A,...r})),j.map(({key:A,link:k})=>C.createElement("link",{key:A,nonce:r.nonce,...k})))}function TE(...n){return t=>{n.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mb&&(window.__reactRouterVersion="7.10.1")}catch{}function EE({basename:n,children:t,unstable_useTransitions:r,window:a}){let l=C.useRef();l.current==null&&(l.current=uT({window:a,v5Compat:!0}));let d=l.current,[h,m]=C.useState({action:d.action,location:d.location}),y=C.useCallback(v=>{r===!1?m(v):C.startTransition(()=>m(v))},[r]);return C.useLayoutEffect(()=>d.listen(y),[d,y]),C.createElement(nE,{basename:n,children:t,location:h.location,navigationType:h.action,navigator:d,unstable_useTransitions:r===!0})}var gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yb=C.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:l,reloadDocument:d,replace:h,state:m,target:y,to:v,preventScrollReset:x,viewTransition:w,...S},j){let{basename:A,unstable_useTransitions:k}=C.useContext(oi),R=typeof v=="string"&&gb.test(v),z,P=!1;if(typeof v=="string"&&R&&(z=v,mb))try{let be=new URL(window.location.href),oe=v.startsWith("//")?new URL(be.protocol+v):new URL(v),G=xr(oe.pathname,A);oe.origin===be.origin&&G!=null?v=G+oe.search+oe.hash:P=!0}catch{$n(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=NT(v,{relative:l}),[W,q,H]=xE(a,S),Z=AE(v,{replace:h,state:m,target:y,preventScrollReset:x,relative:l,viewTransition:w,unstable_useTransitions:k});function ae(be){t&&t(be),be.defaultPrevented||Z(be)}let ye=C.createElement("a",{...S,...H,href:z||D,onClick:P||d?t:ae,ref:TE(j,q),target:y,"data-discover":!R&&r==="render"?"true":void 0});return W&&!R?C.createElement(C.Fragment,null,ye,C.createElement(bE,{page:D})):ye});yb.displayName="Link";var Gp=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:l=!1,style:d,to:h,viewTransition:m,children:y,...v},x){let w=Tu(h,{relative:v.relative}),S=ui(),j=C.useContext(rh),{navigator:A,basename:k}=C.useContext(oi),R=j!=null&&LE(w)&&m===!0,z=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,P=S.pathname,D=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(P=P.toLowerCase(),D=D?D.toLowerCase():null,z=z.toLowerCase()),D&&k&&(D=xr(D,k)||D);const W=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let q=P===z||!l&&P.startsWith(z)&&P.charAt(W)==="/",H=D!=null&&(D===z||!l&&D.startsWith(z)&&D.charAt(z.length)==="/"),Z={isActive:q,isPending:H,isTransitioning:R},ae=q?t:void 0,ye;typeof a=="function"?ye=a(Z):ye=[a,q?"active":null,H?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let be=typeof d=="function"?d(Z):d;return C.createElement(yb,{...v,"aria-current":ae,className:ye,ref:x,style:be,to:h,viewTransition:m},typeof y=="function"?y(Z):y)});Gp.displayName="NavLink";var jE=C.forwardRef(({discover:n="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:l,state:d,method:h=Ed,action:m,onSubmit:y,relative:v,preventScrollReset:x,viewTransition:w,...S},j)=>{let{unstable_useTransitions:A}=C.useContext(oi),k=OE(),R=ME(m,{relative:v}),z=h.toLowerCase()==="get"?"get":"post",P=typeof m=="string"&&gb.test(m),D=W=>{if(y&&y(W),W.defaultPrevented)return;W.preventDefault();let q=W.nativeEvent.submitter,H=q?.getAttribute("formmethod")||h,Z=()=>k(q||W.currentTarget,{fetcherKey:t,method:H,navigate:r,replace:l,state:d,relative:v,preventScrollReset:x,viewTransition:w});A&&r!==!1?C.startTransition(()=>Z()):Z()};return C.createElement("form",{ref:j,method:z,action:R,onSubmit:a?y:D,...S,"data-discover":!P&&n==="render"?"true":void 0})});jE.displayName="Form";function CE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vb(n){let t=C.useContext(zo);return St(t,CE(n)),t}function AE(n,{target:t,replace:r,state:a,preventScrollReset:l,relative:d,viewTransition:h,unstable_useTransitions:m}={}){let y=vt(),v=ui(),x=Tu(n,{relative:d});return C.useCallback(w=>{if(oE(w,t)){w.preventDefault();let S=r!==void 0?r:pu(v)===pu(x),j=()=>y(n,{replace:S,state:a,preventScrollReset:l,relative:d,viewTransition:h});m?C.startTransition(()=>j()):j()}},[v,y,x,r,a,t,n,l,d,h,m])}var kE=0,RE=()=>`__${String(++kE)}__`;function OE(){let{router:n}=vb("useSubmit"),{basename:t}=C.useContext(oi),r=XT(),a=n.fetch,l=n.navigate;return C.useCallback(async(d,h={})=>{let{action:m,method:y,encType:v,formData:x,body:w}=cE(d,t);if(h.navigate===!1){let S=h.fetcherKey||RE();await a(S,r,h.action||m,{preventScrollReset:h.preventScrollReset,formData:x,body:w,formMethod:h.method||y,formEncType:h.encType||v,flushSync:h.flushSync})}else await l(h.action||m,{preventScrollReset:h.preventScrollReset,formData:x,body:w,formMethod:h.method||y,formEncType:h.encType||v,replace:h.replace,state:h.state,fromRouteId:r,flushSync:h.flushSync,viewTransition:h.viewTransition})},[a,l,t,r])}function ME(n,{relative:t}={}){let{basename:r}=C.useContext(oi),a=C.useContext(li);St(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),d={...Tu(n||".",{relative:t})},h=ui();if(n==null){d.search=h.search;let m=new URLSearchParams(d.search),y=m.getAll("index");if(y.some(x=>x==="")){m.delete("index"),y.filter(w=>w).forEach(w=>m.append("index",w));let x=m.toString();d.search=x?`?${x}`:""}}return(!n||n===".")&&l.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:_r([r,d.pathname])),pu(d)}function LE(n,{relative:t}={}){let r=C.useContext(ab);St(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=vb("useViewTransitionState"),l=Tu(n,{relative:t});if(!r.isTransitioning)return!1;let d=xr(r.currentLocation.pathname,a)||r.currentLocation.pathname,h=xr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Dd(l.pathname,h)!=null||Dd(l.pathname,d)!=null}var zE=tb(),yr={},dd={},Kp=function(n,t){return Kp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},Kp(n,t)};function _b(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Kp(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Bd=function(){return Bd=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},Bd.apply(this,arguments)};function Do(n,t){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(r[a[l]]=n[a[l]]);return r}function xb(n,t,r,a){var l=arguments.length,d=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(n,t,r,a);else for(var m=n.length-1;m>=0;m--)(h=n[m])&&(d=(l<3?h(d):l>3?h(t,r,d):h(t,r))||d);return l>3&&d&&Object.defineProperty(t,r,d),d}function bb(n,t){return function(r,a){t(r,a,n)}}function wb(n,t,r,a,l,d){function h(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var m=a.kind,y=m==="getter"?"get":m==="setter"?"set":"value",v=!t&&n?a.static?n:n.prototype:null,x=t||(v?Object.getOwnPropertyDescriptor(v,a.name):{}),w,S=!1,j=r.length-1;j>=0;j--){var A={};for(var k in a)A[k]=k==="access"?{}:a[k];for(var k in a.access)A.access[k]=a.access[k];A.addInitializer=function(z){if(S)throw new TypeError("Cannot add initializers after decoration has completed");d.push(h(z||null))};var R=(0,r[j])(m==="accessor"?{get:x.get,set:x.set}:x[y],A);if(m==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(w=h(R.get))&&(x.get=w),(w=h(R.set))&&(x.set=w),(w=h(R.init))&&l.unshift(w)}else(w=h(R))&&(m==="field"?l.unshift(w):x[y]=w)}v&&Object.defineProperty(v,a.name,x),S=!0}function Sb(n,t,r){for(var a=arguments.length>2,l=0;l<t.length;l++)r=a?t[l].call(n,r):t[l].call(n);return a?r:void 0}function Tb(n){return typeof n=="symbol"?n:"".concat(n)}function Eb(n,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function jb(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function Se(n,t,r,a){function l(d){return d instanceof r?d:new r(function(h){h(d)})}return new(r||(r=Promise))(function(d,h){function m(x){try{v(a.next(x))}catch(w){h(w)}}function y(x){try{v(a.throw(x))}catch(w){h(w)}}function v(x){x.done?d(x.value):l(x.value).then(m,y)}v((a=a.apply(n,t||[])).next())})}function Cb(n,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,l,d,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(v){return function(x){return y([v,x])}}function y(v){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(r=0)),r;)try{if(a=1,l&&(d=v[0]&2?l.return:v[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,v[1])).done)return d;switch(l=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,l=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){r.label=v[1];break}if(v[0]===6&&r.label<d[1]){r.label=d[1],d=v;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(v);break}d[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(n,r)}catch(x){v=[6,x],l=0}finally{a=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var ah=Object.create?(function(n,t,r,a){a===void 0&&(a=r);var l=Object.getOwnPropertyDescriptor(t,r);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(n,a,l)}):(function(n,t,r,a){a===void 0&&(a=r),n[a]=t[r]});function Ab(n,t){for(var r in n)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ah(t,n,r)}function Nd(n){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&n[t],a=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $m(n,t){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var a=r.call(n),l,d=[],h;try{for(;(t===void 0||t-- >0)&&!(l=a.next()).done;)d.push(l.value)}catch(m){h={error:m}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(h)throw h.error}}return d}function kb(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat($m(arguments[t]));return n}function Rb(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;for(var a=Array(n),l=0,t=0;t<r;t++)for(var d=arguments[t],h=0,m=d.length;h<m;h++,l++)a[l]=d[h];return a}function Ob(n,t,r){if(r||arguments.length===2)for(var a=0,l=t.length,d;a<l;a++)(d||!(a in t))&&(d||(d=Array.prototype.slice.call(t,0,a)),d[a]=t[a]);return n.concat(d||Array.prototype.slice.call(t))}function ko(n){return this instanceof ko?(this.v=n,this):new ko(n)}function Mb(n,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(n,t||[]),l,d=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(j){return function(A){return Promise.resolve(A).then(j,w)}}function m(j,A){a[j]&&(l[j]=function(k){return new Promise(function(R,z){d.push([j,k,R,z])>1||y(j,k)})},A&&(l[j]=A(l[j])))}function y(j,A){try{v(a[j](A))}catch(k){S(d[0][3],k)}}function v(j){j.value instanceof ko?Promise.resolve(j.value.v).then(x,w):S(d[0][2],j)}function x(j){y("next",j)}function w(j){y("throw",j)}function S(j,A){j(A),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Lb(n){var t,r;return t={},a("next"),a("throw",function(l){throw l}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(l,d){t[l]=n[l]?function(h){return(r=!r)?{value:ko(n[l](h)),done:!1}:d?d(h):h}:d}}function zb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],r;return t?t.call(n):(n=typeof Nd=="function"?Nd(n):n[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(d){r[d]=n[d]&&function(h){return new Promise(function(m,y){h=n[d](h),l(m,y,h.done,h.value)})}}function l(d,h,m,y){Promise.resolve(y).then(function(v){d({value:v,done:m})},h)}}function Pb(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var PE=Object.create?(function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}):function(n,t){n.default=t},Yp=function(n){return Yp=Object.getOwnPropertyNames||function(t){var r=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[r.length]=a);return r},Yp(n)};function Db(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var r=Yp(n),a=0;a<r.length;a++)r[a]!=="default"&&ah(t,n,r[a]);return PE(t,n),t}function Bb(n){return n&&n.__esModule?n:{default:n}}function Nb(n,t,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!a:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(n):a?a.value:t.get(n)}function Ub(n,t,r,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!l:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(n,r):l?l.value=r:t.set(n,r),r}function Ib(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function Vb(n,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,l;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(l=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");l&&(a=function(){try{l.call(this)}catch(d){return Promise.reject(d)}}),n.stack.push({value:t,dispose:a,async:r})}else r&&n.stack.push({async:!0});return t}var DE=typeof SuppressedError=="function"?SuppressedError:function(n,t,r){var a=new Error(r);return a.name="SuppressedError",a.error=n,a.suppressed=t,a};function Hb(n){function t(d){n.error=n.hasError?new DE(d,n.error,"An error was suppressed during disposal."):d,n.hasError=!0}var r,a=0;function l(){for(;r=n.stack.pop();)try{if(!r.async&&a===1)return a=0,n.stack.push(r),Promise.resolve().then(l);if(r.dispose){var d=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(d).then(l,function(h){return t(h),l()})}else a|=1}catch(h){t(h)}if(a===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return l()}function qb(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,l,d,h){return a?t?".jsx":".js":l&&(!d||!h)?r:l+d+"."+h.toLowerCase()+"js"}):n}const BE={__extends:_b,__assign:Bd,__rest:Do,__decorate:xb,__param:bb,__esDecorate:wb,__runInitializers:Sb,__propKey:Tb,__setFunctionName:Eb,__metadata:jb,__awaiter:Se,__generator:Cb,__createBinding:ah,__exportStar:Ab,__values:Nd,__read:$m,__spread:kb,__spreadArrays:Rb,__spreadArray:Ob,__await:ko,__asyncGenerator:Mb,__asyncDelegator:Lb,__asyncValues:zb,__makeTemplateObject:Pb,__importStar:Db,__importDefault:Bb,__classPrivateFieldGet:Nb,__classPrivateFieldSet:Ub,__classPrivateFieldIn:Ib,__addDisposableResource:Vb,__disposeResources:Hb,__rewriteRelativeImportExtension:qb},NE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Vb,get __assign(){return Bd},__asyncDelegator:Lb,__asyncGenerator:Mb,__asyncValues:zb,__await:ko,__awaiter:Se,__classPrivateFieldGet:Nb,__classPrivateFieldIn:Ib,__classPrivateFieldSet:Ub,__createBinding:ah,__decorate:xb,__disposeResources:Hb,__esDecorate:wb,__exportStar:Ab,__extends:_b,__generator:Cb,__importDefault:Bb,__importStar:Db,__makeTemplateObject:Pb,__metadata:jb,__param:bb,__propKey:Tb,__read:$m,__rest:Do,__rewriteRelativeImportExtension:qb,__runInitializers:Sb,__setFunctionName:Eb,__spread:kb,__spreadArray:Ob,__spreadArrays:Rb,__values:Nd,default:BE},Symbol.toStringTag,{value:"Module"})),UE=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);let oh=class extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}},Fb=class extends oh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Xp=class extends oh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Jp=class extends oh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Ud;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Ud||(Ud={}));class IE{constructor(t,{headers:r={},customFetch:a,region:l=Ud.Any}={}){this.url=t,this.headers=r,this.region=l,this.fetch=UE(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Se(this,arguments,void 0,function*(r,a={}){var l;let d,h;try{const{headers:m,method:y,body:v,signal:x,timeout:w}=a;let S={},{region:j}=a;j||(j=this.region);const A=new URL(`${this.url}/${r}`);j&&j!=="any"&&(S["x-region"]=j,A.searchParams.set("forceFunctionRegion",j));let k;v&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",k=v):typeof v=="string"?(S["Content-Type"]="text/plain",k=v):typeof FormData<"u"&&v instanceof FormData?k=v:(S["Content-Type"]="application/json",k=JSON.stringify(v)):k=v;let R=x;w&&(h=new AbortController,d=setTimeout(()=>h.abort(),w),x?(R=h.signal,x.addEventListener("abort",()=>h.abort())):R=h.signal);const z=yield this.fetch(A.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),m),body:k,signal:R}).catch(q=>{throw new Fb(q)}),P=z.headers.get("x-relay-error");if(P&&P==="true")throw new Xp(z);if(!z.ok)throw new Jp(z);let D=((l=z.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),W;return D==="application/json"?W=yield z.json():D==="application/octet-stream"||D==="application/pdf"?W=yield z.blob():D==="text/event-stream"?W=z:D==="multipart/form-data"?W=yield z.formData():W=yield z.text(),{data:W,error:null,response:z}}catch(m){return{data:null,error:m,response:m instanceof Jp||m instanceof Xp?m.context:void 0}}finally{d&&clearTimeout(d)}})}}const VE=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ud},FunctionsClient:IE,FunctionsError:oh,FunctionsFetchError:Fb,FunctionsHttpError:Jp,FunctionsRelayError:Xp},Symbol.toStringTag,{value:"Module"})),Wb=wu(VE);var dn={};const Bo=wu(NE);var hd={},fd={},pd={},md={},gd={},yd={},n_;function $b(){if(n_)return yd;n_=1,Object.defineProperty(yd,"__esModule",{value:!0});class n extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yd.default=n,yd}var i_;function Zb(){if(i_)return gd;i_=1,Object.defineProperty(gd,"__esModule",{value:!0});const t=Bo.__importDefault($b());let r=class{constructor(l){var d,h;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(d=l.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=l.signal,this.isMaybeSingle=(h=l.isMaybeSingle)!==null&&h!==void 0?h:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,d){return this.headers=new Headers(this.headers),this.headers.set(l,d),this}then(l,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var v,x,w,S;let j=null,A=null,k=null,R=y.status,z=y.statusText;if(y.ok){if(this.method!=="HEAD"){const q=await y.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?A=q:A=JSON.parse(q))}const D=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),W=(w=y.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");D&&W&&W.length>1&&(k=parseInt(W[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(j={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,k=null,R=406,z="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const D=await y.text();try{j=JSON.parse(D),Array.isArray(j)&&y.status===404&&(A=[],j=null,R=200,z="OK")}catch{y.status===404&&D===""?(R=204,z="No Content"):j={message:D}}if(j&&this.isMaybeSingle&&(!((S=j?.details)===null||S===void 0)&&S.includes("0 rows"))&&(j=null,R=200,z="OK"),j&&this.shouldThrowOnError)throw new t.default(j)}return{error:j,data:A,count:k,status:R,statusText:z}});return this.shouldThrowOnError||(m=m.catch(y=>{var v,x,w,S,j,A;let k="";const R=y?.cause;if(R){const z=(v=R?.message)!==null&&v!==void 0?v:"",P=(x=R?.code)!==null&&x!==void 0?x:"";k=`${(w=y?.name)!==null&&w!==void 0?w:"FetchError"}: ${y?.message}`,k+=`

Caused by: ${(S=R?.name)!==null&&S!==void 0?S:"Error"}: ${z}`,P&&(k+=` (${P})`),R?.stack&&(k+=`
${R.stack}`)}else k=(j=y?.stack)!==null&&j!==void 0?j:"";return{error:{message:`${(A=y?.name)!==null&&A!==void 0?A:"FetchError"}: ${y?.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(l,d)}returns(){return this}overrideTypes(){return this}};return gd.default=r,gd}var r_;function Gb(){if(r_)return md;r_=1,Object.defineProperty(md,"__esModule",{value:!0});const t=Bo.__importDefault(Zb());let r=class extends t.default{select(l){let d=!1;const h=(l??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:d=!0,nullsFirst:h,foreignTable:m,referencedTable:y=m}={}){const v=y?`${y}.order`:"order",x=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${x?`${x},`:""}${l}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${l}`),this}range(l,d,{foreignTable:h,referencedTable:m=h}={}){const y=typeof m>"u"?"offset":`${m}.offset`,v=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(y,`${l}`),this.url.searchParams.set(v,`${d-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:d=!1,settings:h=!1,buffers:m=!1,wal:y=!1,format:v="text"}={}){var x;const w=[l?"analyze":null,d?"verbose":null,h?"settings":null,m?"buffers":null,y?"wal":null].filter(Boolean).join("|"),S=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${S}"; options=${w};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};return md.default=r,md}var s_;function Zm(){if(s_)return pd;s_=1,Object.defineProperty(pd,"__esModule",{value:!0});const t=Bo.__importDefault(Gb()),r=new RegExp("[,()]");let a=class extends t.default{eq(d,h){return this.url.searchParams.append(d,`eq.${h}`),this}neq(d,h){return this.url.searchParams.append(d,`neq.${h}`),this}gt(d,h){return this.url.searchParams.append(d,`gt.${h}`),this}gte(d,h){return this.url.searchParams.append(d,`gte.${h}`),this}lt(d,h){return this.url.searchParams.append(d,`lt.${h}`),this}lte(d,h){return this.url.searchParams.append(d,`lte.${h}`),this}like(d,h){return this.url.searchParams.append(d,`like.${h}`),this}likeAllOf(d,h){return this.url.searchParams.append(d,`like(all).{${h.join(",")}}`),this}likeAnyOf(d,h){return this.url.searchParams.append(d,`like(any).{${h.join(",")}}`),this}ilike(d,h){return this.url.searchParams.append(d,`ilike.${h}`),this}ilikeAllOf(d,h){return this.url.searchParams.append(d,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(d,h){return this.url.searchParams.append(d,`ilike(any).{${h.join(",")}}`),this}regexMatch(d,h){return this.url.searchParams.append(d,`match.${h}`),this}regexIMatch(d,h){return this.url.searchParams.append(d,`imatch.${h}`),this}is(d,h){return this.url.searchParams.append(d,`is.${h}`),this}isDistinct(d,h){return this.url.searchParams.append(d,`isdistinct.${h}`),this}in(d,h){const m=Array.from(new Set(h)).map(y=>typeof y=="string"&&r.test(y)?`"${y}"`:`${y}`).join(",");return this.url.searchParams.append(d,`in.(${m})`),this}contains(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cs.{${h.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(h)}`),this}containedBy(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cd.{${h.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(h)}`),this}rangeGt(d,h){return this.url.searchParams.append(d,`sr.${h}`),this}rangeGte(d,h){return this.url.searchParams.append(d,`nxl.${h}`),this}rangeLt(d,h){return this.url.searchParams.append(d,`sl.${h}`),this}rangeLte(d,h){return this.url.searchParams.append(d,`nxr.${h}`),this}rangeAdjacent(d,h){return this.url.searchParams.append(d,`adj.${h}`),this}overlaps(d,h){return typeof h=="string"?this.url.searchParams.append(d,`ov.${h}`):this.url.searchParams.append(d,`ov.{${h.join(",")}}`),this}textSearch(d,h,{config:m,type:y}={}){let v="";y==="plain"?v="pl":y==="phrase"?v="ph":y==="websearch"&&(v="w");const x=m===void 0?"":`(${m})`;return this.url.searchParams.append(d,`${v}fts${x}.${h}`),this}match(d){return Object.entries(d).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(d,h,m){return this.url.searchParams.append(d,`not.${h}.${m}`),this}or(d,{foreignTable:h,referencedTable:m=h}={}){const y=m?`${m}.or`:"or";return this.url.searchParams.append(y,`(${d})`),this}filter(d,h,m){return this.url.searchParams.append(d,`${h}.${m}`),this}};return pd.default=a,pd}var a_;function Kb(){if(a_)return fd;a_=1,Object.defineProperty(fd,"__esModule",{value:!0});const t=Bo.__importDefault(Zm());let r=class{constructor(l,{headers:d={},schema:h,fetch:m}){this.url=l,this.headers=new Headers(d),this.schema=h,this.fetch=m}select(l,d){const{head:h=!1,count:m}=d??{},y=h?"HEAD":"GET";let v=!1;const x=(l??"*").split("").map(w=>/\s/.test(w)&&!v?"":(w==='"'&&(v=!v),w)).join("");return this.url.searchParams.set("select",x),m&&this.headers.append("Prefer",`count=${m}`),new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:d,defaultToNull:h=!0}={}){var m;const y="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(v.length>0){const x=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(l,{onConflict:d,ignoreDuplicates:h=!1,count:m,defaultToNull:y=!0}={}){var v;const x="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),y||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((S,j)=>S.concat(Object.keys(j)),[]);if(w.length>0){const S=[...new Set(w)].map(j=>`"${j}"`);this.url.searchParams.set("columns",S.join(","))}}return new t.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(l,{count:d}={}){var h;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:l}={}){var d;const h="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return fd.default=r,fd}var o_;function HE(){if(o_)return hd;o_=1,Object.defineProperty(hd,"__esModule",{value:!0});const n=Bo,t=n.__importDefault(Kb()),r=n.__importDefault(Zm());let a=class Yb{constructor(d,{headers:h={},schema:m,fetch:y}={}){this.url=d,this.headers=new Headers(h),this.schemaName=m,this.fetch=y}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${d}`);return new t.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new Yb(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:y=!1,count:v}={}){var x;let w;const S=new URL(`${this.url}/rpc/${d}`);let j;m||y?(w=m?"HEAD":"GET",Object.entries(h).filter(([k,R])=>R!==void 0).map(([k,R])=>[k,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([k,R])=>{S.searchParams.append(k,R)})):(w="POST",j=h);const A=new Headers(this.headers);return v&&A.set("Prefer",`count=${v}`),new r.default({method:w,url:S,headers:A,schema:this.schemaName,body:j,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}};return hd.default=a,hd}var l_;function Xb(){if(l_)return dn;l_=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.PostgrestError=dn.PostgrestBuilder=dn.PostgrestTransformBuilder=dn.PostgrestFilterBuilder=dn.PostgrestQueryBuilder=dn.PostgrestClient=void 0;const n=Bo,t=n.__importDefault(HE());dn.PostgrestClient=t.default;const r=n.__importDefault(Kb());dn.PostgrestQueryBuilder=r.default;const a=n.__importDefault(Zm());dn.PostgrestFilterBuilder=a.default;const l=n.__importDefault(Gb());dn.PostgrestTransformBuilder=l.default;const d=n.__importDefault(Zb());dn.PostgrestBuilder=d.default;const h=n.__importDefault($b());return dn.PostgrestError=h.default,dn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:d.default,PostgrestError:h.default},dn}class Jb{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qE="2.87.1",FE=`realtime-js/${qE}`,Qb="1.0.0",WE="2.0.0",u_=Qb,Qp=1e4,$E=1e3,ZE=100;var ga;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ga||(ga={}));var Vt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Vt||(Vt={}));var Ei;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ei||(Ei={}));var em;(function(n){n.websocket="websocket"})(em||(em={}));var ya;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ya||(ya={}));class GE{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,a;const l=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var r,a;const l=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(t,r,a){var l,d;const h=t.topic,m=(l=t.ref)!==null&&l!==void 0?l:"",y=(d=t.join_ref)!==null&&d!==void 0?d:"",v=t.payload.event,x=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(x).length===0?"":JSON.stringify(x);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+m.length+h.length+v.length+w.length,j=new ArrayBuffer(this.HEADER_LENGTH+S);let A=new DataView(j),k=0;A.setUint8(k++,this.KINDS.userBroadcastPush),A.setUint8(k++,y.length),A.setUint8(k++,m.length),A.setUint8(k++,h.length),A.setUint8(k++,v.length),A.setUint8(k++,w.length),A.setUint8(k++,r),Array.from(y,z=>A.setUint8(k++,z.charCodeAt(0))),Array.from(m,z=>A.setUint8(k++,z.charCodeAt(0))),Array.from(h,z=>A.setUint8(k++,z.charCodeAt(0))),Array.from(v,z=>A.setUint8(k++,z.charCodeAt(0))),Array.from(w,z=>A.setUint8(k++,z.charCodeAt(0)));var R=new Uint8Array(j.byteLength+a.byteLength);return R.set(new Uint8Array(j),0),R.set(new Uint8Array(a),j.byteLength),R.buffer}decode(t,r){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return r(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,d,h,m,y]=a;return r({join_ref:l,ref:d,topic:h,event:m,payload:y})}return r({})}_binaryDecode(t){const r=new DataView(t),a=r.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,l)}}_decodeUserBroadcast(t,r,a){const l=r.getUint8(1),d=r.getUint8(2),h=r.getUint8(3),m=r.getUint8(4);let y=this.HEADER_LENGTH+4;const v=a.decode(t.slice(y,y+l));y=y+l;const x=a.decode(t.slice(y,y+d));y=y+d;const w=a.decode(t.slice(y,y+h));y=y+h;const S=t.slice(y,t.byteLength),j=m===this.JSON_ENCODING?JSON.parse(a.decode(S)):S,A={type:this.BROADCAST_EVENT,event:x,payload:j};return h>0&&(A.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>r.includes(a)))}}class e1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(pt||(pt={}));const c_=(n,t,r={})=>{var a;const l=(a=r.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((d,h)=>(d[h]=KE(h,n,t,l),d),{}):{}},KE=(n,t,r,a)=>{const l=t.find(m=>m.name===n),d=l?.type,h=r[n];return d&&!a.includes(d)?t1(d,h):tm(h)},t1=(n,t)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return QE(t,r)}switch(n){case pt.bool:return YE(t);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return XE(t);case pt.json:case pt.jsonb:return JE(t);case pt.timestamp:return ej(t);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return tm(t);default:return tm(t)}},tm=n=>n,YE=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},XE=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},JE=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},QE=(n,t)=>{if(typeof n!="string")return n;const r=n.length-1,a=n[r];if(n[0]==="{"&&a==="}"){let d;const h=n.slice(1,r);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>t1(t,m))}return n},ej=n=>typeof n=="string"?n.replace(" ","T"):n,n1=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class wp{constructor(t,r,a={},l=Qp){this.channel=t,this.event=r,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nm;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(nm||(nm={}));let i1=class Cd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cd.syncState(this.state,l,d,h),this.pendingDiffs.forEach(y=>{this.state=Cd.syncDiff(this.state,y,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},l=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Cd.syncDiff(this.state,l,d,h),m())}),this.onJoin((l,d,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:d,newPresences:h})}),this.onLeave((l,d,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,l){const d=this.cloneDeep(t),h=this.transformState(r),m={},y={};return this.map(d,(v,x)=>{h[v]||(y[v]=x)}),this.map(h,(v,x)=>{const w=d[v];if(w){const S=x.map(R=>R.presence_ref),j=w.map(R=>R.presence_ref),A=x.filter(R=>j.indexOf(R.presence_ref)<0),k=w.filter(R=>S.indexOf(R.presence_ref)<0);A.length>0&&(m[v]=A),k.length>0&&(y[v]=k)}else m[v]=x}),this.syncDiff(d,{joins:m,leaves:y},a,l)}static syncDiff(t,r,a,l){const{joins:d,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(d,(m,y)=>{var v;const x=(v=t[m])!==null&&v!==void 0?v:[];if(t[m]=this.cloneDeep(y),x.length>0){const w=t[m].map(j=>j.presence_ref),S=x.filter(j=>w.indexOf(j.presence_ref)<0);t[m].unshift(...S)}a(m,x,y)}),this.map(h,(m,y)=>{let v=t[m];if(!v)return;const x=y.map(w=>w.presence_ref);v=v.filter(w=>x.indexOf(w.presence_ref)<0),t[m]=v,l(m,v,y),v.length===0&&delete t[m]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const l=t[a];return"metas"in l?r[a]=l.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[a]=l,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var im;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(im||(im={}));var jo;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(jo||(jo={}));var Hi;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Hi||(Hi={}));const tj=Vt;let r1=class ru{constructor(t,r={config:{}},a){var l,d;if(this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wp(this,Ei.join,this.params,this.timeout),this.rejoinTimer=new e1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ei.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new i1(this),this.broadcastEndpointURL=n1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var a,l,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:h,presence:m,private:y}}=this.params,v=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(j=>j.filter))!==null&&l!==void 0?l:[],x=!!this.bindings[jo.PRESENCE]&&this.bindings[jo.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},S={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:x}),postgres_changes:v,private:y};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(j=>t?.(Hi.CHANNEL_ERROR,j)),this._onClose(()=>t?.(Hi.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:j})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){t?.(Hi.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,R=(A=k?.length)!==null&&A!==void 0?A:0,z=[];for(let P=0;P<R;P++){const D=k[P],{filter:{event:W,schema:q,table:H,filter:Z}}=D,ae=j&&j[P];if(ae&&ae.event===W&&ru.isFilterValueEqual(ae.schema,q)&&ru.isFilterValueEqual(ae.table,H)&&ru.isFilterValueEqual(ae.filter,Z))z.push(Object.assign(Object.assign({},D),{id:ae.id}));else{this.unsubscribe(),this.state=Vt.errored,t?.(Hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,t&&t(Hi.SUBSCRIBED);return}}).receive("error",j=>{this.state=Vt.errored,t?.(Hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{t?.(Hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===Vt.joined&&t===jo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,a)}async httpSend(t,r,a={}){var l;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(m.status===202)return{success:!0};let y=m.statusText;try{const v=await m.json();y=v.error||v.message||y}catch{}return Promise.reject(new Error(y))}async send(t,r={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=t,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,y;const v=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((y=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ei.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new wp(this,Ei.leave,{},t),a.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const l=new AbortController,d=setTimeout(()=>l.abort(),a),h=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(d),h}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new wp(this,t,r,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ZE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var l,d;const h=t.toLocaleLowerCase(),{close:m,error:y,leave:v,join:x}=Ei;if(a&&[m,y,v,x].indexOf(h)>=0&&a!==this._joinRef())return;let S=this._onMessage(h,r,a);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(j=>{var A,k,R;return((A=j.filter)===null||A===void 0?void 0:A.event)==="*"||((R=(k=j.filter)===null||k===void 0?void 0:k.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===h}).map(j=>j.callback(S,a)):(d=this.bindings[h])===null||d===void 0||d.filter(j=>{var A,k,R,z,P,D;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in j){const W=j.id,q=(A=j.filter)===null||A===void 0?void 0:A.event;return W&&((k=r.ids)===null||k===void 0?void 0:k.includes(W))&&(q==="*"||q?.toLocaleLowerCase()===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const W=(P=(z=j?.filter)===null||z===void 0?void 0:z.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return W==="*"||W===((D=r?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===h}).map(j=>{if(typeof S=="object"&&"ids"in S){const A=S.data,{schema:k,table:R,commit_timestamp:z,type:P,errors:D}=A;S=Object.assign(Object.assign({},{schema:k,table:R,commit_timestamp:z,eventType:P,new:{},old:{},errors:D}),this._getPayloadRecords(A))}j.callback(S,a)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const l=t.toLocaleLowerCase(),d={type:l,filter:r,callback:a};return this.bindings[l]?this.bindings[l].push(d):this.bindings[l]=[d],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var d;return!(((d=l.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===a&&ru.isEqual(l.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ei.close,{},t)}_onError(t){this._on(Ei.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=c_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=c_(t.columns,t.old_record)),r}};const Sp=()=>{},vd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nj=[1e3,2e3,5e3,1e4],ij=1e4,rj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let sj=class{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qp,this.transport=null,this.heartbeatIntervalMs=vd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sp,this.ref=0,this.reconnectTimer=null,this.vsn=u_,this.logger=Sp,this.conn=null,this.sendBuffer=[],this.serializer=new GE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...d)=>l(...d):(...d)=>fetch(...d),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${em.websocket}`,this.httpEndpoint=n1(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jb.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ga.connecting:return ya.Connecting;case ga.open:return ya.Open;case ga.closing:return ya.Closing;default:return ya.Closed}}isConnected(){return this.connectionState()===ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(d=>d.topic===a);if(l)return l;{const d=new r1(`realtime:${t}`,r,this);return this.channels.push(d),d}}push(t){const{topic:r,event:a,payload:l,ref:d}=t,h=()=>{this.encode(t,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${r} ${a} (${d})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($E,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:d,ref:h}=r,m=h?`(${h})`:"",y=d.status||"";this.log("receive",`${y} ${a} ${l} ${m}`.trim(),d),this.channels.filter(v=>v._isMember(a)).forEach(v=>v._trigger(l,d,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ga.open||this.conn.readyState===ga.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ei.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${t}${a}${l}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([rj],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,a=!1;if(t)r=t,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const d={access_token:r,version:FE};r&&l.updateJoinPayload(d),l.joinedOnce&&l._isJoined()&&l._push(Ei.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new e1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,l,d,h,m,y,v,x,w,S,j;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Qp,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:vd.HEARTBEAT_INTERVAL,this.worker=(d=t?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=t?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=t?.heartbeatCallback)!==null&&m!==void 0?m:Sp,this.vsn=(y=t?.vsn)!==null&&y!==void 0?y:u_,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=t?.reconnectAfterMs)!==null&&v!==void 0?v:(A=>nj[A-1]||ij),this.vsn){case Qb:this.encode=(x=t?.encode)!==null&&x!==void 0?x:((A,k)=>k(JSON.stringify(A))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((A,k)=>k(JSON.parse(A)));break;case WE:this.encode=(S=t?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(j=t?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const aj=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:tj,get REALTIME_LISTEN_TYPES(){return jo},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return im},get REALTIME_PRESENCE_LISTEN_EVENTS(){return nm},get REALTIME_SUBSCRIBE_STATES(){return Hi},RealtimeChannel:r1,RealtimeClient:sj,RealtimePresence:i1,WebSocketFactory:Jb},Symbol.toStringTag,{value:"Module"})),s1=wu(aj);class Eu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function bt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class a1 extends Eu{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Id extends Eu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Gm=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),oj=()=>Response,rm=n=>{if(Array.isArray(n))return n.map(r=>rm(r));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([r,a])=>{const l=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));t[l]=rm(a)}),t},lj=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},uj=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),Tp=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},cj=(n,t,r)=>Se(void 0,void 0,void 0,function*(){const a=yield oj();n instanceof a&&!r?.noResolveJson?n.json().then(l=>{const d=n.status||500,h=l?.statusCode||d+"";t(new a1(Tp(l),d,h))}).catch(l=>{t(new Id(Tp(l),l))}):t(new Id(Tp(n),n))}),dj=(n,t,r,a)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"||!a?l:(lj(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,t?.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),r))};function ju(n,t,r,a,l,d){return Se(this,void 0,void 0,function*(){return new Promise((h,m)=>{n(r,dj(t,a,l,d)).then(y=>{if(!y.ok)throw y;return a?.noResolveJson?y:y.json()}).then(y=>h(y)).catch(y=>cj(y,m,a))})})}function mu(n,t,r,a){return Se(this,void 0,void 0,function*(){return ju(n,"GET",t,r,a)})}function Ti(n,t,r,a,l){return Se(this,void 0,void 0,function*(){return ju(n,"POST",t,a,l,r)})}function sm(n,t,r,a,l){return Se(this,void 0,void 0,function*(){return ju(n,"PUT",t,a,l,r)})}function hj(n,t,r,a){return Se(this,void 0,void 0,function*(){return ju(n,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Km(n,t,r,a,l){return Se(this,void 0,void 0,function*(){return ju(n,"DELETE",t,a,l,r)})}class fj{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Se(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}}var o1;class pj{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[o1]="BlobDownloadBuilder",this.promise=null}asStream(){return new fj(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Se(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}}o1=Symbol.toStringTag;const mj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},d_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gj{constructor(t,r={},a,l){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=a,this.fetch=Gm(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,a,l){return Se(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},d_),l);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(h.upsert)});const y=h.metadata;typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),y&&d.append("metadata",this.encodeMetadata(y)),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),y&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(y))):(d=a,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,y&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(y))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),l?.headers&&(m=Object.assign(Object.assign({},m),l.headers));const v=this._removeEmptyFolders(r),x=this._getFinalPath(v),w=yield(t=="PUT"?sm:Ti)(this.fetch,`${this.url}/object/${x}`,d,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(bt(d))return{data:null,error:d};throw d}})}upload(t,r,a){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,l){return Se(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(t),h=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",r);try{let y;const v=Object.assign({upsert:d_.upsert},l),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&a instanceof Blob?(y=new FormData,y.append("cacheControl",v.cacheControl),y.append("",a)):typeof FormData<"u"&&a instanceof FormData?(y=a,y.append("cacheControl",v.cacheControl)):(y=a,x["cache-control"]=`max-age=${v.cacheControl}`,x["content-type"]=v.contentType);const w=yield sm(this.fetch,m.toString(),y,{headers:x});return{data:{path:d,fullPath:w.Key},error:null}}catch(y){if(this.shouldThrowOnError)throw y;if(bt(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(t,r){return Se(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const l=Object.assign({},this.headers);r?.upsert&&(l["x-upsert"]="true");const d=yield Ti(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),h=new URL(this.url+d.url),m=h.searchParams.get("token");if(!m)throw new Eu("No token returned by API");return{data:{signedUrl:h.toString(),path:t,token:m},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}update(t,r,a){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return Se(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}})}copy(t,r,a){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield Ti(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}})}createSignedUrl(t,r,a){return Se(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),d=yield Ti(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const h=a?.download?`&download=${a.download===!0?"":a.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}})}createSignedUrls(t,r,a){return Se(this,void 0,void 0,function*(){try{const l=yield Ti(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),d=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}})}download(t,r){const l=typeof r?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(r?.transform||{}),h=d?`?${d}`:"",m=this._getFinalPath(t),y=()=>mu(this.fetch,`${this.url}/${l}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new pj(y,this.shouldThrowOnError)}info(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield mu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:rm(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}exists(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield hj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a)&&a instanceof Id){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),l=[],d=r?.download?`download=${r.download===!0?"":r.download}`:"";d!==""&&l.push(d);const m=typeof r?.transform<"u"?"render/image":"object",y=this.transformOptsToQueryString(r?.transform||{});y!==""&&l.push(y);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${a}${v}`)}}}remove(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Km(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}list(t,r,a){return Se(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},mj),r),{prefix:t||""});return{data:yield Ti(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}})}listV2(t,r){return Se(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Ti(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const l1="2.87.1",u1={"X-Client-Info":`storage-js/${l1}`};class yj{constructor(t,r={},a,l){this.shouldThrowOnError=!1;const d=new URL(t);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},u1),r),this.fetch=Gm(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Se(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield mu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}getBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield mu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}createBucket(t){return Se(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}})}updateBucket(t,r){return Se(this,void 0,void 0,function*(){try{return{data:yield sm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}emptyBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Km(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var gu=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function vj(n,t,r){const a=new URL(t,n);if(r)for(const[l,d]of Object.entries(r))d!==void 0&&a.searchParams.set(l,d);return a.toString()}async function _j(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function xj(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:l,body:d,headers:h}){const m=vj(n.baseUrl,a,l),y=await _j(n.auth),v=await t(m,{method:r,headers:{...d?{"Content-Type":"application/json"}:{},...y,...h},body:d?JSON.stringify(d):void 0}),x=await v.text(),w=(v.headers.get("content-type")||"").includes("application/json"),S=w&&x?JSON.parse(x):x;if(!v.ok){const j=w?S:void 0,A=j?.error;throw new gu(A?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:A?.type,icebergCode:A?.code,details:j})}return{status:v.status,headers:v.headers,data:S}}}}function _d(n){return n.join("")}var bj=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:_d(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(n,t){const r={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_d(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_d(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_d(n.namespace)}`}),!0}catch(t){if(t instanceof gu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(r){if(r instanceof gu&&r.status===409)return;throw r}}};function mo(n){return n.join("")}var wj=class{constructor(n,t="",r){this.client=n,this.prefix=t,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mo(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mo(n.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(n,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mo(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mo(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mo(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mo(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(r){if(r instanceof gu&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(r){if(r instanceof gu&&r.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw r}}},Sj=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=xj({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new bj(this.client,t),this.tableOps=new wj(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}};class c1{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},u1),r),this.fetch=Gm(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}listBuckets(t){return Se(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const a=r.toString(),l=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield mu(this.fetch,l,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Km(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}from(t){if(!uj(t))throw new Eu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Sj({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Se(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(d,h){const m=d[h];return typeof m!="function"?m:(...y)=>Se(this,void 0,void 0,function*(){try{return{data:yield m.apply(d,y),error:null}}catch(v){if(a)throw v;return{data:null,error:v}}})}})}}const Ym={"X-Client-Info":`storage-js/${l1}`,"Content-Type":"application/json"};class Xm extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ln(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Ad extends Xm{constructor(t,r,a){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class d1 extends Xm{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var am;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(am||(am={}));const lh=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Tj=()=>Response,h1=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ej=n=>Array.from(new Float32Array(n)),jj=(n,t)=>{if(t!==void 0&&n.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${n.float32.length}`)},h_=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Cj=(n,t,r)=>Se(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const l=n.status||500,d=n;if(typeof d.json=="function")d.json().then(h=>{const m=h?.statusCode||h?.code||l+"";t(new Ad(h_(h),l,m))}).catch(()=>{const h=l+"",m=d.statusText||`HTTP ${l} error`;t(new Ad(m,l,h))});else{const h=l+"",m=d.statusText||`HTTP ${l} error`;t(new Ad(m,l,h))}}else t(new d1(h_(n),n))}),Aj=(n,t,r,a)=>{const l={method:n,headers:t?.headers||{}};return a?(h1(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),r)):l};function kj(n,t,r,a,l,d){return Se(this,void 0,void 0,function*(){return new Promise((h,m)=>{n(r,Aj(t,a,l,d)).then(y=>{if(!y.ok)throw y;if(a?.noResolveJson)return y;const v=y.headers.get("content-type");return!v||!v.includes("application/json")?{}:y.json()}).then(y=>h(y)).catch(y=>Cj(y,m,a))})})}function Wn(n,t,r,a,l){return Se(this,void 0,void 0,function*(){return kj(n,"POST",t,a,l,r)})}class f1{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ym),r),this.fetch=lh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield Wn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Se(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ln(a))return{data:null,error:a};throw a}})}listIndexes(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Se(this,void 0,void 0,function*(){try{return{data:(yield Wn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ln(a))return{data:null,error:a};throw a}})}}class p1{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ym),r),this.fetch=lh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Wn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}getVectors(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}listVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Wn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}queryVectors(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Wn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}}class m1{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ym),r),this.fetch=lh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield Wn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}getBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}listBuckets(){return Se(this,arguments,void 0,function*(t={}){try{return{data:yield Wn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield Wn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}}class g1 extends m1{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new y1(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Se(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Se(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Se(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Se(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class y1 extends f1{constructor(t,r,a,l){super(t,r,l),this.vectorBucketName=a}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Se(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Se(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Se(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Se(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new v1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class v1 extends p1{constructor(t,r,a,l,d){super(t,r,d),this.vectorBucketName=a,this.indexName=l}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Se(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Se(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Se(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Se(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Se(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Rj extends yj{constructor(t,r={},a,l){super(t,r,a,l)}from(t){return new gj(this.url,this.headers,t,this.fetch)}get vectors(){return new g1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new c1(this.url+"/iceberg",this.headers,this.fetch)}}const Oj=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:c1,StorageApiError:a1,StorageClient:Rj,StorageError:Eu,StorageUnknownError:Id,StorageVectorsApiError:Ad,StorageVectorsClient:g1,StorageVectorsError:Xm,get StorageVectorsErrorCode(){return am},StorageVectorsUnknownError:d1,VectorBucketApi:m1,VectorBucketScope:y1,VectorDataApi:p1,VectorIndexApi:f1,VectorIndexScope:v1,isPlainObject:h1,isStorageError:bt,isStorageVectorsError:Ln,normalizeToFloat32:Ej,resolveFetch:lh,resolveResponse:Tj,validateVectorDimension:jj},Symbol.toStringTag,{value:"Module"})),Mj=wu(Oj);var Ep={},Ql={},f_;function Lj(){return f_||(f_=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.version=void 0,Ql.version="2.87.1"),Ql}var p_;function zj(){return p_||(p_=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_REALTIME_OPTIONS=n.DEFAULT_AUTH_OPTIONS=n.DEFAULT_DB_OPTIONS=n.DEFAULT_GLOBAL_OPTIONS=n.DEFAULT_HEADERS=void 0;const t=Lj();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",n.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},n.DEFAULT_GLOBAL_OPTIONS={headers:n.DEFAULT_HEADERS},n.DEFAULT_DB_OPTIONS={schema:"public"},n.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n.DEFAULT_REALTIME_OPTIONS={}})(Ep)),Ep}var jp={},m_;function Pj(){return m_||(m_=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchWithAuth=n.resolveHeadersConstructor=n.resolveFetch=void 0;const t=l=>l?(...d)=>l(...d):(...d)=>fetch(...d);n.resolveFetch=t;const r=()=>Headers;n.resolveHeadersConstructor=r;const a=(l,d,h)=>{const m=(0,n.resolveFetch)(h),y=(0,n.resolveHeadersConstructor)();return async(v,x)=>{var w;const S=(w=await d())!==null&&w!==void 0?w:l;let j=new y(x?.headers);return j.has("apikey")||j.set("apikey",l),j.has("Authorization")||j.set("Authorization",`Bearer ${S}`),m(v,Object.assign(Object.assign({},x),{headers:j}))}};n.fetchWithAuth=a})(jp)),jp}var vr={},g_;function Dj(){if(g_)return vr;g_=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.isBrowser=void 0,vr.uuid=n,vr.ensureTrailingSlash=t,vr.applySettingDefaults=a,vr.validateSupabaseUrl=l;function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var h=Math.random()*16|0,m=d=="x"?h:h&3|8;return m.toString(16)})}function t(d){return d.endsWith("/")?d:d+"/"}const r=()=>typeof window<"u";vr.isBrowser=r;function a(d,h){var m,y;const{db:v,auth:x,realtime:w,global:S}=d,{db:j,auth:A,realtime:k,global:R}=h,z={db:Object.assign(Object.assign({},j),v),auth:Object.assign(Object.assign({},A),x),realtime:Object.assign(Object.assign({},k),w),storage:{},global:Object.assign(Object.assign(Object.assign({},R),S),{headers:Object.assign(Object.assign({},(m=R?.headers)!==null&&m!==void 0?m:{}),(y=S?.headers)!==null&&y!==void 0?y:{})}),accessToken:async()=>""};return d.accessToken?z.accessToken=d.accessToken:delete z.accessToken,z}function l(d){const h=d?.trim();if(!h)throw new Error("supabaseUrl is required.");if(!h.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(h))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return vr}var eu={};const _1="2.87.1",_o=30*1e3,om=3,Cp=om*_o,Bj="http://localhost:9999",Nj="supabase.auth.token",Uj={"X-Client-Info":`gotrue-js/${_1}`},lm="X-Supabase-Api-Version",x1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ij=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vj=600*1e3;let Ro=class extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function ke(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}let b1=class extends Ro{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function w1(n){return ke(n)&&n.name==="AuthApiError"}let hs=class extends Ro{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Tr=class extends Ro{constructor(t,r,a,l){super(t,a,l),this.name=r,this.status=a}},Mn=class extends Tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function S1(n){return ke(n)&&n.name==="AuthSessionMissingError"}let ha=class extends Tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},su=class extends Tr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},au=class extends Tr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function T1(n){return ke(n)&&n.name==="AuthImplicitGrantRedirectError"}let um=class extends Tr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Vd=class extends Tr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function kd(n){return ke(n)&&n.name==="AuthRetryableFetchError"}let cm=class extends Tr{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function Hj(n){return ke(n)&&n.name==="AuthWeakPasswordError"}let Hd=class extends Tr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const qd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y_=` 	
\r=`.split(""),qj=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<y_.length;t+=1)n[y_[t].charCodeAt(0)]=-2;for(let t=0;t<qd.length;t+=1)n[qd[t].charCodeAt(0)]=t;return n})();function v_(n,t,r){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(qd[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(qd[a]),t.queuedBits-=6}}function E1(n,t,r){const a=qj[n];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function __(n){const t=[],r=h=>{t.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},d=h=>{$j(h,a,r)};for(let h=0;h<n.length;h+=1)E1(n.charCodeAt(h),l,d);return t.join("")}function Fj(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Wj(n,t){for(let r=0;r<n.length;r+=1){let a=n.charCodeAt(r);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(n.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}Fj(a,t)}}function $j(n,t,r){if(t.utf8seq===0){if(n<=127){r(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Co(n){const t=[],r={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)E1(n.charCodeAt(l),r,a);return new Uint8Array(t)}function Zj(n){const t=[];return Wj(n,r=>t.push(r)),new Uint8Array(t)}function va(n){const t=[],r={queue:0,queuedBits:0},a=l=>{t.push(l)};return n.forEach(l=>v_(l,r,a)),v_(null,r,a),t.join("")}function Gj(n){return Math.round(Date.now()/1e3)+n}function Kj(){return Symbol("auth-callback")}const an=()=>typeof window<"u"&&typeof document<"u",ua={tested:!1,writable:!1},j1=()=>{if(!an())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ua.tested)return ua.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ua.tested=!0,ua.writable=!0}catch{ua.tested=!0,ua.writable=!1}return ua.writable};function Yj(n){const t={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,d)=>{t[d]=l})}catch{}return r.searchParams.forEach((a,l)=>{t[l]=a}),t}const C1=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Xj=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",xo=async(n,t,r)=>{await n.setItem(t,JSON.stringify(r))},ca=async(n,t)=>{const r=await n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sn=async(n,t)=>{await n.removeItem(t)};class uh{constructor(){this.promise=new uh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}uh.promiseConstructor=Promise;function Ap(n){const t=n.split(".");if(t.length!==3)throw new Hd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!Ij.test(t[a]))throw new Hd("JWT not in base64url format");return{header:JSON.parse(__(t[0])),payload:JSON.parse(__(t[1])),signature:Co(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jj(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function Qj(n,t){return new Promise((a,l)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await n(d);if(!t(d,null,h)){a(h);return}}catch(h){if(!t(d,h)){l(h);return}}})()})}function eC(n){return("0"+n.toString(16)).substr(-2)}function tC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let l="";for(let d=0;d<56;d++)l+=r.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,eC).join("")}async function nC(n){const r=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(a);return Array.from(l).map(d=>String.fromCharCode(d)).join("")}async function iC(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await nC(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function go(n,t,r=!1){const a=tC();let l=a;r&&(l+="/PASSWORD_RECOVERY"),await xo(n,`${t}-code-verifier`,l);const d=await iC(a);return[d,a===d?"plain":"s256"]}const rC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sC(n){const t=n.headers.get(lm);if(!t||!t.match(rC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aC(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function oC(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yo(n){if(!lC.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kp(){const n={};return new Proxy(n,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uC(n,t){return new Proxy(n,{get:(r,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const d=a.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,a,l)}})}function x_(n){return JSON.parse(JSON.stringify(n))}const fa=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cC=[502,503,504];async function b_(n){var t;if(!Xj(n))throw new Vd(fa(n),0);if(cC.includes(n.status))throw new Vd(fa(n),n.status);let r;try{r=await n.json()}catch(d){throw new hs(fa(d),d)}let a;const l=sC(n);if(l&&l.getTime()>=x1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new cm(fa(r),n.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Mn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new cm(fa(r),n.status,r.weak_password.reasons);throw new b1(fa(r),n.status||500,a)}const dC=(n,t,r,a)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),r))};async function Le(n,t,r,a){var l;const d=Object.assign({},a?.headers);d[lm]||(d[lm]=x1["2024-01-01"].name),a?.jwt&&(d.Authorization=`Bearer ${a.jwt}`);const h=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(h.redirect_to=a.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",y=await hC(n,t,r+m,{headers:d,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(y):{data:Object.assign({},y),error:null}}async function hC(n,t,r,a,l,d){const h=dC(t,a,l,d);let m;try{m=await n(r,Object.assign({},h))}catch(y){throw console.error(y),new Vd(fa(y),0)}if(m.ok||await b_(m),a?.noResolveJson)return m;try{return await m.json()}catch(y){await b_(y)}}function wi(n){var t;let r=null;mC(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=Gj(n.expires_in)));const a=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:r,user:a},error:null}}function w_(n){const t=wi(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=n.weak_password),t}function fs(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function fC(n){return{data:n,error:null}}function pC(n){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:l,verification_type:d}=n,h=Do(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:r,hashed_token:a,redirect_to:l,verification_type:d},y=Object.assign({},h);return{data:{properties:m,user:y},error:null}}function S_(n){return n}function mC(n){return n.access_token&&n.refresh_token&&n.expires_in}const Rd=["global","local","others"];let Jm=class{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=C1(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Rd[0]){if(Rd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rd.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fs})}catch(a){if(ke(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=Do(t,["options"]),l=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:pC,redirectTo:r?.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fs})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,l,d,h,m,y;try{const v={nextPage:null,lastPage:0,total:0},x=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(d=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&d!==void 0?d:""},xform:S_});if(x.error)throw x.error;const w=await x.json(),S=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(y=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return j.length>0&&(j.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);v[`${R}Page`]=k}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(ke(v))return{data:{users:[]},error:v};throw v}}async getUserById(t){yo(t);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fs})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){yo(t);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fs})}catch(a){if(ke(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){yo(t);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fs})}catch(a){if(ke(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){yo(t.userId);try{const{data:r,error:a}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:a}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){yo(t.userId),yo(t.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,a,l,d,h,m,y;try{const v={nextPage:null,lastPage:0,total:0},x=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(d=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&d!==void 0?d:""},xform:S_});if(x.error)throw x.error;const w=await x.json(),S=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(y=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return j.length>0&&(j.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);v[`${R}Page`]=k}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(ke(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ke(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}};function T_(n={}){return{getItem:t=>n[t]||null,setItem:(t,r)=>{n[t]=r},removeItem:t=>{delete n[t]}}}const pa={debug:!!(globalThis&&j1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let A1=class extends Qm{};class gC extends Qm{}async function k1(n,t,r){pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),pa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await r()}finally{pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new A1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(pa.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const E_={};async function yC(n,t,r){var a;const l=(a=E_[n])!==null&&a!==void 0?a:Promise.resolve(),d=Promise.race([l.catch(()=>null),t>=0?new Promise((h,m)=>{setTimeout(()=>{m(new gC(`Acquring process lock with name "${n}" timed out`))},t)}):null].filter(h=>h)).catch(h=>{if(h&&h.isAcquireTimeout)throw h;return null}).then(async()=>await r());return E_[n]=d.catch(async h=>{if(h&&h.isAcquireTimeout)return await l,null;throw h}),await d}function vC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function R1(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function _C(n){return parseInt(n,16)}function xC(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function bC(n){var t;const{chainId:r,domain:a,expirationTime:l,issuedAt:d=new Date,nonce:h,notBefore:m,requestId:y,resources:v,scheme:x,uri:w,version:S}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const j=R1(n.address),A=x?`${x}://${a}`:a,k=n.statement?`${n.statement}
`:"",R=`${A} wants you to sign in with your Ethereum account:
${j}

${k}`;let z=`URI: ${w}
Version: ${S}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(l&&(z+=`
Expiration Time: ${l.toISOString()}`),m&&(z+=`
Not Before: ${m.toISOString()}`),y&&(z+=`
Request ID: ${y}`),v){let P=`
Resources:`;for(const D of v){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);P+=`
- ${D}`}z+=P}return`${R}
${z}`}class Ht extends Error{constructor({message:t,code:r,cause:a,name:l}){var d;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(d=l??(a instanceof Error?a.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class Fd extends Ht{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function wC({error:n,options:t}){var r,a,l;const{publicKey:d}=t;if(!d)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((a=d.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ht({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const h=window.location.hostname;if(O1(h)){if(d.rp.id!==h)return new Ht({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function SC({error:n,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ht({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(O1(a)){if(r.rpId!==a)return new Ht({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class TC{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const EC=new TC;function jC(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:r,excludeCredentials:a}=n,l=Do(n,["challenge","user","excludeCredentials"]),d=Co(t).buffer,h=Object.assign(Object.assign({},r),{id:Co(r.id).buffer}),m=Object.assign(Object.assign({},l),{challenge:d,user:h});if(a&&a.length>0){m.excludeCredentials=new Array(a.length);for(let y=0;y<a.length;y++){const v=a[y];m.excludeCredentials[y]=Object.assign(Object.assign({},v),{id:Co(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return m}function CC(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:r}=n,a=Do(n,["challenge","allowCredentials"]),l=Co(t).buffer,d=Object.assign(Object.assign({},a),{challenge:l});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const m=r[h];d.allowCredentials[h]=Object.assign(Object.assign({},m),{id:Co(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function AC(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:va(new Uint8Array(n.response.attestationObject)),clientDataJSON:va(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kC(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,a=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:va(new Uint8Array(l.authenticatorData)),clientDataJSON:va(new Uint8Array(l.clientDataJSON)),signature:va(new Uint8Array(l.signature)),userHandle:l.userHandle?va(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function O1(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function j_(){var n,t;return!!(an()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function RC(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fd("Browser returned unexpected credential type",t)}:{data:null,error:new Fd("Empty credential response",t)}}catch(t){return{data:null,error:wC({error:t,options:n})}}}async function OC(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fd("Browser returned unexpected credential type",t)}:{data:null,error:new Fd("Empty credential response",t)}}catch(t){return{data:null,error:SC({error:t,options:n})}}}const MC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},LC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wd(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),r=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of n)if(l)for(const d in l){const h=l[d];if(h!==void 0)if(Array.isArray(h))a[d]=h;else if(r(h))a[d]=h;else if(t(h)){const m=a[d];t(m)?a[d]=Wd(m,h):a[d]=Wd(h)}else a[d]=h}return a}function zC(n,t){return Wd(MC,n,t||{})}function PC(n,t){return Wd(LC,n,t||{})}class DC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:a,signal:l},d){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!h)return{data:null,error:m};const y=l??EC.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${a}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=zC(h.webauthn.credential_options.publicKey,d?.create),{data:x,error:w}=await RC({publicKey:v,signal:y});return x?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const v=PC(h.webauthn.credential_options.publicKey,d?.request),{data:x,error:w}=await OC(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:y}));return x?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(h){return ke(h)?{data:null,error:h}:{data:null,error:new hs("Unexpected error in challenge",h)}}}async _verify({challengeId:t,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},d){if(!r)return{data:null,error:new Ro("rpId is required for WebAuthn authentication")};try{if(!j_())return{data:null,error:new hs("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:a},signal:l},{request:d});if(!h)return{data:null,error:m};const{webauthn:y}=h;return this._verify({factorId:t,challengeId:h.challengeId,webauthn:{type:y.type,rpId:r,rpOrigins:a,credential_response:y.credential_response}})}catch(h){return ke(h)?{data:null,error:h}:{data:null,error:new hs("Unexpected error in authenticate",h)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},d){if(!r)return{data:null,error:new Ro("rpId is required for WebAuthn registration")};try{if(!j_())return{data:null,error:new hs("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:t});if(!h)return await this.client.mfa.listFactors().then(x=>{var w;return(w=x.data)===null||w===void 0?void 0:w.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===t&&S.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:m};const{data:y,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:l},{create:d});return y?this._verify({factorId:h.id,challengeId:y.challengeId,webauthn:{rpId:r,rpOrigins:a,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:v}}catch(h){return ke(h)?{data:null,error:h}:{data:null,error:new hs("Unexpected error in register",h)}}}}vC();const BC={url:Bj,storageKey:Nj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function C_(n,t,r){return await r()}const vo={};let eg=class dm{get jwks(){var t,r;return(r=(t=vo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=vo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{cachedAt:t})}constructor(t){var r,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},BC),t);if(this.storageKey=d.storageKey,this.instanceID=(r=dm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,dm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&an()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Jm({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=C1(d.fetch),this.lock=d.lock||C_,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&an()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=k1:this.lock=C_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new DC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:j1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T_(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=T_(this.memoryStorage)),an()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},a="none";if(an()&&(r=Yj(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),an()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:d}=await this._getSessionFromURL(r,a);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),T1(d)){const y=(t=d.details)===null||t===void 0?void 0:t.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:m}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?this._returnResult({error:r}):this._returnResult({error:new hs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,l;try{const d=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:wi}),{data:h,error:m}=d;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const y=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(d){if(ke(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(t){var r,a,l;try{let d;if("email"in t){const{email:x,password:w,options:S}=t;let j=null,A=null;this.flowType==="pkce"&&([j,A]=await go(this.storage,this.storageKey)),d=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:x,password:w,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:j,code_challenge_method:A},xform:wi})}else if("phone"in t){const{phone:x,password:w,options:S}=t;d=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:w,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(l=S?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:wi})}else throw new su("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return await sn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const y=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(d){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ke(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(t){try{let r;if("email"in t){const{email:d,password:h,options:m}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:w_})}else if("phone"in t){const{phone:d,password:h,options:m}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:w_})}else throw new su("You must provide either an email or phone number and a password");const{data:a,error:l}=r;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const d=new ha;return this._returnResult({data:{user:null,session:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,a,l,d;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(d=t.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,l,d,h,m,y,v,x,w,S;let j,A;if("message"in t)j=t.message,A=t.signature;else{const{chain:k,wallet:R,statement:z,options:P}=t;let D;if(an())if(typeof R=="object")D=R;else{const ye=window;if("ethereum"in ye&&typeof ye.ethereum=="object"&&"request"in ye.ethereum&&typeof ye.ethereum.request=="function")D=ye.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=R}const W=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href),q=await D.request({method:"eth_requestAccounts"}).then(ye=>ye).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=R1(q[0]);let Z=(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Z){const ye=await D.request({method:"eth_chainId"});Z=_C(ye)}const ae={domain:W.host,address:H,statement:z,uri:W.href,version:"1",chainId:Z,nonce:(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=P?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(y=P?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(v=P?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(x=P?.signInWithEthereum)===null||x===void 0?void 0:x.resources};j=bC(ae),A=await D.request({method:"personal_sign",params:[xC(j),H]})}try{const{data:k,error:R}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:A},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:wi});if(R)throw R;if(!k||!k.session||!k.user){const z=new ha;return this._returnResult({data:{user:null,session:null},error:z})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:R})}catch(k){if(ke(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,a,l,d,h,m,y,v,x,w,S,j;let A,k;if("message"in t)A=t.message,k=t.signature;else{const{chain:R,wallet:z,statement:P,options:D}=t;let W;if(an())if(typeof z=="object")W=z;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))W=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=z}const q=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in W&&W.signIn){const H=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),P?{statement:P}:null));let Z;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")Z=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)Z=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)A=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),k=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${q.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(l=(a=D?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((d=D?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((h=D?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((y=D?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((v=D?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((w=(x=D?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||w===void 0)&&w.length?["Resources",...D.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const H=await W.signMessage(new TextEncoder().encode(A),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=H}}try{const{data:R,error:z}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:va(k)},!((S=t.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:wi});if(z)throw z;if(!R||!R.session||!R.user){const P=new ha;return this._returnResult({data:{user:null,session:null},error:P})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:z})}catch(R){if(ke(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(t){const r=await ca(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(r??"").split("/");try{const{data:d,error:h}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:wi});if(await sn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const m=new ha;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:l??null}),error:h})}catch(d){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ke(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(t){try{const{options:r,provider:a,token:l,access_token:d,nonce:h}=t,m=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:wi}),{data:y,error:v}=m;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!y||!y.session||!y.user){const x=new ha;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:v})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,a,l,d,h;try{if("email"in t){const{email:m,options:y}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await go(this.storage,this.storageKey));const{error:w}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=y?.data)!==null&&r!==void 0?r:{},create_user:(a=y?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:x},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:m,options:y}=t,{data:v,error:x}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(l=y?.data)!==null&&l!==void 0?l:{},create_user:(d=y?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(h=y?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:x})}throw new su("You must provide either an email or phone number.")}catch(m){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ke(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var r,a;try{let l,d;"options"in t&&(l=(r=t.options)===null||r===void 0?void 0:r.redirectTo,d=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:m}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:d}}),redirectTo:l,xform:wi});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const y=h.session,v=h.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(l){if(ke(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var r,a,l,d,h;try{let m=null,y=null;this.flowType==="pkce"&&([m,y]=await go(this.storage,this.storageKey));const v=await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:y}),headers:this.headers,xform:fC});return!((d=v.data)===null||d===void 0)&&d.url&&an()&&!(!((h=t.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(m){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ke(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new Mn;const{error:l}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:d}=t,{error:h}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in t){const{phone:a,type:l,options:d}=t,{data:h,error:m}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new su("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Cp:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const h=await ca(this.userStorage,this.storageKey+"-user");h?.user?t.user=h.user:t.user=kp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};t.user=uC(t.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:d}=await this._callRefreshToken(t.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fs}):await this._useSession(async r=>{var a,l,d;const{data:h,error:m}=r;if(m)throw m;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mn}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0,xform:fs})})}catch(r){if(ke(r))return S1(r)&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:l,error:d}=a;if(d)throw d;if(!l.session)throw new Mn;const h=l.session;let m=null,y=null;this.flowType==="pkce"&&t.email!=null&&([m,y]=await go(this.storage,this.storageKey));const{data:v,error:x}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:y}),jwt:h.access_token,xform:fs});if(x)throw x;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mn;const r=Date.now()/1e3;let a=r,l=!0,d=null;const{payload:h}=Ap(t.access_token);if(h.exp&&(a=h.exp,l=a<=r),l){const{data:m,error:y}=await this._callRefreshToken(t.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:y}=await this._getUser(t.access_token);if(y)throw y;d={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(r){if(ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:h,error:m}=r;if(m)throw m;t=(a=h.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Mn;const{data:l,error:d}=await this._callRefreshToken(t.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!an())throw new au("No browser detected.");if(t.error||t.error_description||t.error_code)throw new au(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new um("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new au("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new um("No code detected.");const{data:P,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:d,refresh_token:h,expires_in:m,expires_at:y,token_type:v}=t;if(!d||!m||!h||!v)throw new au("No session defined in URL");const x=Math.round(Date.now()/1e3),w=parseInt(m);let S=x+w;y&&(S=parseInt(y));const j=S-x;j*1e3<=_o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${w}s`);const A=S-w;x-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,S,x):x-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,S,x);const{data:k,error:R}=await this._getUser(d);if(R)throw R;const z={provider_token:a,provider_refresh_token:l,access_token:d,expires_in:w,expires_at:S,refresh_token:h,token_type:v,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:t.type},error:null})}catch(a){if(ke(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ca(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:l,error:d}=r;if(d)return this._returnResult({error:d});const h=(a=l.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:m}=await this.admin.signOut(h,t);if(m&&!(w1(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Kj(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,l;try{const{data:{session:d},error:h}=r;if(h)throw h;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",t,"session",d)}catch(d){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",d),console.error(d)}})}async resetPasswordForEmail(t,r={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await go(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ke(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:a,error:l}=await this._useSession(async d=>{var h,m,y,v,x;const{data:w,error:S}=d;if(S)throw S;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(h=t.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=t.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",j,{headers:this.headers,jwt:(x=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&x!==void 0?x:void 0})});if(l)throw l;return an()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(ke(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var a;try{const{error:l,data:{session:d}}=r;if(l)throw l;const{options:h,provider:m,token:y,access_token:v,nonce:x}=t,w=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=d?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:m,id_token:y,access_token:v,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wi}),{data:S,error:j}=w;return j?this._returnResult({data:{user:null,session:null},error:j}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new ha}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:j}))}catch(l){if(await sn(this.storage,`${this.storageKey}-code-verifier`),ke(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,l;const{data:d,error:h}=r;if(h)throw h;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await Qj(async l=>(l>0&&await Jj(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wi})),(l,d)=>{const h=200*Math.pow(2,l);return d&&kd(d)&&Date.now()+h-a<_o})}catch(a){if(this._debug(r,"error",a),ke(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),an()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await ca(this.storage,this.storageKey);if(l&&this.userStorage){let h=await ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await xo(this.userStorage,this.storageKey+"-user",h)),l.user=(t=h?.user)!==null&&t!==void 0?t:kp()}else if(l&&!l.user&&!l.user){const h=await ca(this.storage,this.storageKey+"-user");h&&h?.user?(l.user=h.user,await sn(this.storage,this.storageKey+"-user"),await xo(this.storage,this.storageKey,l)):l.user=kp()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const d=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cp;if(this._debug(a,`session has${d?"":" not"} expired with margin of ${Cp}s`),d){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),kd(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(l.access_token);!m&&h?.user?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new Mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new uh;const{data:d,error:h}=await this._refreshAccessToken(t);if(h)throw h;if(!d.session)throw new Mn;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(l,"error",d),ke(d)){const h={data:null,error:d};return kd(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(d),d}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,r,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,r)}catch(y){d.push(y)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await xo(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const d=x_(l);await xo(this.storage,this.storageKey,d)}else{const l=x_(r);await xo(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await sn(this.storage,this.storageKey),await sn(this.storage,this.storageKey+"-code-verifier"),await sn(this.storage,this.storageKey+"-user"),this.userStorage&&await sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&an()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_o);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/_o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${_o}ms, refresh threshold is ${om} ticks`),l<=om&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Qm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!an()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const l=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[d,h]=await go(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(m.toString())}if(a?.queryParams){const d=new URLSearchParams(a.queryParams);l.push(d.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:l,error:d}=r;return d?this._returnResult({data:null,error:d}):await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,l;const{data:d,error:h}=r;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:y,error:v}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(a=d?.session)===null||a===void 0?void 0:a.access_token});return v?this._returnResult({data:null,error:v}):(t.factorType==="totp"&&y.type==="totp"&&(!((l=y?.totp)===null||l===void 0)&&l.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:d}=r;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?AC(t.webauthn.credential_response):kC(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:y}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:y}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:d}=r;if(d)return this._returnResult({data:null,error:d});const h=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:jC(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:CC(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const d of(t=r?.factors)!==null&&t!==void 0?t:[])l.all.push(d),d.status==="verified"&&l[d.factor_type].push(d);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Ap(a.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const v=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;return l?this._returnResult({data:null,error:l}):a?await Le(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Mn})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:l},error:d}=a;if(d)return this._returnResult({data:null,error:d});if(!l)return this._returnResult({data:null,error:new Mn});const h=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&an()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(ke(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:l},error:d}=a;if(d)return this._returnResult({data:null,error:d});if(!l)return this._returnResult({data:null,error:new Mn});const h=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&an()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(ke(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?await Le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Mn})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;return l?this._returnResult({data:null,error:l}):a?(await Le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mn})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(m=>m.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(m=>m.kid===t),a&&this.jwks_cached_at+Vj>l)return a;const{data:d,error:h}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=l,a=d.keys.find(m=>m.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:j,error:A}=await this.getSession();if(A||!j.session)return this._returnResult({data:null,error:A});a=j.session.access_token}const{header:l,payload:d,signature:h,raw:{header:m,payload:y}}=Ap(a);r?.allowExpired||aC(d.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!v){const{error:j}=await this.getUser(a);if(j)throw j;return{data:{claims:d,header:l,signature:h},error:null}}const x=oC(l.alg),w=await crypto.subtle.importKey("jwk",v,x,!0,["verify"]);if(!await crypto.subtle.verify(x,w,h,Zj(`${m}.${y}`)))throw new Hd("Invalid JWT signature");return{data:{claims:d,header:l,signature:h},error:null}}catch(a){if(ke(a))return this._returnResult({data:null,error:a});throw a}}};eg.nextInstanceID={};const NC=Jm,UC=eg,IC=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:NC,AuthApiError:b1,AuthClient:UC,AuthError:Ro,AuthImplicitGrantRedirectError:au,AuthInvalidCredentialsError:su,AuthInvalidJwtError:Hd,AuthInvalidTokenResponseError:ha,AuthPKCEGrantCodeExchangeError:um,AuthRetryableFetchError:Vd,AuthSessionMissingError:Mn,AuthUnknownError:hs,AuthWeakPasswordError:cm,CustomAuthError:Tr,GoTrueAdminApi:Jm,GoTrueClient:eg,NavigatorLockAcquireTimeoutError:A1,SIGN_OUT_SCOPES:Rd,isAuthApiError:w1,isAuthError:ke,isAuthImplicitGrantRedirectError:T1,isAuthRetryableFetchError:kd,isAuthSessionMissingError:S1,isAuthWeakPasswordError:Hj,lockInternals:pa,navigatorLock:k1,processLock:yC},Symbol.toStringTag,{value:"Module"})),M1=wu(IC);var A_;function VC(){if(A_)return eu;A_=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.SupabaseAuthClient=void 0;const n=M1;let t=class extends n.AuthClient{constructor(a){super(a)}};return eu.SupabaseAuthClient=t,eu}var k_;function R_(){if(k_)return dd;k_=1,Object.defineProperty(dd,"__esModule",{value:!0});const n=Wb,t=Xb(),r=s1,a=Mj,l=zj(),d=Pj(),h=Dj(),m=VC();class y{constructor(x,w,S){var j,A,k;this.supabaseUrl=x,this.supabaseKey=w;const R=(0,h.validateSupabaseUrl)(x);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",R),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",R),this.storageUrl=new URL("storage/v1",R),this.functionsUrl=new URL("functions/v1",R);const z=`sb-${R.hostname.split(".")[0]}-auth-token`,P={db:l.DEFAULT_DB_OPTIONS,realtime:l.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},l.DEFAULT_AUTH_OPTIONS),{storageKey:z}),global:l.DEFAULT_GLOBAL_OPTIONS},D=(0,h.applySettingDefaults)(S??{},P);this.storageKey=(j=D.auth.storageKey)!==null&&j!==void 0?j:"",this.headers=(A=D.global.headers)!==null&&A!==void 0?A:{},D.accessToken?(this.accessToken=D.accessToken,this.auth=new Proxy({},{get:(W,q)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(q)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=D.auth)!==null&&k!==void 0?k:{},this.headers,D.global.fetch),this.fetch=(0,d.fetchWithAuth)(w,this._getAccessToken.bind(this),D.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},D.realtime)),this.accessToken&&this.accessToken().then(W=>this.realtime.setAuth(W)).catch(W=>console.warn("Failed to set initial Realtime auth token:",W)),this.rest=new t.PostgrestClient(new URL("rest/v1",R).href,{headers:this.headers,schema:D.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,S?.storage),D.accessToken||this._listenForAuthEvents()}get functions(){return new n.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(x){return this.rest.from(x)}schema(x){return this.rest.schema(x)}rpc(x,w={},S={head:!1,get:!1,count:void 0}){return this.rest.rpc(x,w,S)}channel(x,w={config:{}}){return this.realtime.channel(x,w)}getChannels(){return this.realtime.getChannels()}removeChannel(x){return this.realtime.removeChannel(x)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var x,w;if(this.accessToken)return await this.accessToken();const{data:S}=await this.auth.getSession();return(w=(x=S.session)===null||x===void 0?void 0:x.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:x,persistSession:w,detectSessionInUrl:S,storage:j,userStorage:A,storageKey:k,flowType:R,lock:z,debug:P,throwOnError:D},W,q){const H={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},H),W),storageKey:k,autoRefreshToken:x,persistSession:w,detectSessionInUrl:S,storage:j,userStorage:A,flowType:R,lock:z,debug:P,throwOnError:D,fetch:q,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Z=>Z.toLowerCase()==="authorization")})}_initRealtimeClient(x){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},x),{params:Object.assign({apikey:this.supabaseKey},x?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,S)=>{this._handleTokenChanged(w,"CLIENT",S?.access_token)})}_handleTokenChanged(x,w,S){(x==="TOKEN_REFRESHED"||x==="SIGNED_IN")&&this.changedAccessToken!==S?(this.changedAccessToken=S,this.realtime.setAuth(S)):x==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return dd.default=y,dd}var O_;function HC(){return O_||(O_=1,(function(n){var t=yr&&yr.__createBinding||(Object.create?(function(x,w,S,j){j===void 0&&(j=S);var A=Object.getOwnPropertyDescriptor(w,S);(!A||("get"in A?!w.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return w[S]}}),Object.defineProperty(x,j,A)}):(function(x,w,S,j){j===void 0&&(j=S),x[j]=w[S]})),r=yr&&yr.__exportStar||function(x,w){for(var S in x)S!=="default"&&!Object.prototype.hasOwnProperty.call(w,S)&&t(w,x,S)},a=yr&&yr.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(n,"__esModule",{value:!0}),n.createClient=n.SupabaseClient=n.FunctionRegion=n.FunctionsError=n.FunctionsRelayError=n.FunctionsFetchError=n.FunctionsHttpError=n.PostgrestError=void 0;const l=a(R_());r(M1,n);var d=Xb();Object.defineProperty(n,"PostgrestError",{enumerable:!0,get:function(){return d.PostgrestError}});var h=Wb;Object.defineProperty(n,"FunctionsHttpError",{enumerable:!0,get:function(){return h.FunctionsHttpError}}),Object.defineProperty(n,"FunctionsFetchError",{enumerable:!0,get:function(){return h.FunctionsFetchError}}),Object.defineProperty(n,"FunctionsRelayError",{enumerable:!0,get:function(){return h.FunctionsRelayError}}),Object.defineProperty(n,"FunctionsError",{enumerable:!0,get:function(){return h.FunctionsError}}),Object.defineProperty(n,"FunctionRegion",{enumerable:!0,get:function(){return h.FunctionRegion}}),r(s1,n);var m=R_();Object.defineProperty(n,"SupabaseClient",{enumerable:!0,get:function(){return a(m).default}});const y=(x,w,S)=>new l.default(x,w,S);n.createClient=y;function v(){if(typeof window<"u"||typeof process>"u")return!1;const x=process.version;if(x==null)return!1;const w=x.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}v()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(yr)),yr}var L1=HC();const z1=ih(L1),qC=J2({__proto__:null,default:z1},[L1]),{PostgrestError:Oz,FunctionsHttpError:Mz,FunctionsFetchError:Lz,FunctionsRelayError:zz,FunctionsError:Pz,FunctionRegion:Dz,SupabaseClient:Bz,createClient:FC,GoTrueAdminApi:Nz,GoTrueClient:Uz,AuthAdminApi:Iz,AuthClient:Vz,navigatorLock:Hz,NavigatorLockAcquireTimeoutError:qz,lockInternals:Fz,processLock:Wz,SIGN_OUT_SCOPES:$z,AuthError:Zz,AuthApiError:Gz,AuthUnknownError:Kz,CustomAuthError:Yz,AuthSessionMissingError:Xz,AuthInvalidTokenResponseError:Jz,AuthInvalidCredentialsError:Qz,AuthImplicitGrantRedirectError:eP,AuthPKCEGrantCodeExchangeError:tP,AuthRetryableFetchError:nP,AuthWeakPasswordError:iP,AuthInvalidJwtError:rP,isAuthError:sP,isAuthApiError:aP,isAuthSessionMissingError:oP,isAuthImplicitGrantRedirectError:lP,isAuthRetryableFetchError:uP,isAuthWeakPasswordError:cP,RealtimePresence:dP,RealtimeChannel:hP,RealtimeClient:fP,REALTIME_LISTEN_TYPES:pP,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:mP,REALTIME_PRESENCE_LISTEN_EVENTS:gP,REALTIME_SUBSCRIBE_STATES:yP,REALTIME_CHANNEL_STATES:vP}=z1||qC,WC="https://upisshnwndbiaiffladc.supabase.co",$C="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVwaXNzaG53bmRiaWFpZmZsYWRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzNDI4MDMsImV4cCI6MjA4MDkxODgwM30.1tmdQA5HFxlJBxUNbIlOUnW2rBvLdiVtOKALOEEyQAA",Q=FC(WC,$C),P1=C.createContext({}),Mt=()=>C.useContext(P1),ZC=({children:n})=>{const[t,r]=C.useState(null),[a,l]=C.useState(!0);C.useEffect(()=>{(async()=>{try{const{data:{session:y},error:v}=await Q.auth.getSession();v?console.error("Error getting session:",v):r(y?.user??null)}catch(y){console.error("Error initializing auth:",y)}finally{l(!1)}})();const{data:{subscription:m}}=Q.auth.onAuthStateChange((y,v)=>{console.log("Auth state changed:",y,v?.user?.id),y==="SIGNED_IN"&&v?(r(v.user),window.location.pathname.includes("/chai-in"),window.location.hash="#/en/home"):r(y==="SIGNED_OUT"?null:v?.user??null),l(!1)});return()=>{m&&m.unsubscribe()}},[]);const d={user:t,loading:a,signInWithGoogle:async()=>{const{error:h}=await Q.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}${window.location.pathname.includes("/chai-in")?"/chai-in":""}/`}});if(h)throw h},signOut:async()=>{const{error:h}=await Q.auth.signOut();if(h)throw h}};return f.jsx(P1.Provider,{value:d,children:n})},tg=C.createContext({});function ng(n){const t=C.useRef(null);return t.current===null&&(t.current=n()),t.current}const ig=typeof window<"u",D1=ig?C.useLayoutEffect:C.useEffect,ch=C.createContext(null);function rg(n,t){n.indexOf(t)===-1&&n.push(t)}function sg(n,t){const r=n.indexOf(t);r>-1&&n.splice(r,1)}const br=(n,t,r)=>r>t?t:r<n?n:r;let ag=()=>{};const wr={},B1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function N1(n){return typeof n=="object"&&n!==null}const U1=n=>/^0[^.\s]+$/u.test(n);function og(n){let t;return()=>(t===void 0&&(t=n()),t)}const ai=n=>n,GC=(n,t)=>r=>t(n(r)),Cu=(...n)=>n.reduce(GC),yu=(n,t,r)=>{const a=t-n;return a===0?1:(r-n)/a};class lg{constructor(){this.subscriptions=[]}add(t){return rg(this.subscriptions,t),()=>sg(this.subscriptions,t)}notify(t,r,a){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,r,a);else for(let d=0;d<l;d++){const h=this.subscriptions[d];h&&h(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qi=n=>n*1e3,si=n=>n/1e3;function I1(n,t){return t?n*(1e3/t):0}const V1=(n,t,r)=>(((1-3*r+3*t)*n+(3*r-6*t))*n+3*t)*n,KC=1e-7,YC=12;function XC(n,t,r,a,l){let d,h,m=0;do h=t+(r-t)/2,d=V1(h,a,l)-n,d>0?r=h:t=h;while(Math.abs(d)>KC&&++m<YC);return h}function Au(n,t,r,a){if(n===t&&r===a)return ai;const l=d=>XC(d,0,1,n,r);return d=>d===0||d===1?d:V1(l(d),t,a)}const H1=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,q1=n=>t=>1-n(1-t),F1=Au(.33,1.53,.69,.99),ug=q1(F1),W1=H1(ug),$1=n=>(n*=2)<1?.5*ug(n):.5*(2-Math.pow(2,-10*(n-1))),cg=n=>1-Math.sin(Math.acos(n)),Z1=q1(cg),G1=H1(cg),JC=Au(.42,0,1,1),QC=Au(0,0,.58,1),K1=Au(.42,0,.58,1),eA=n=>Array.isArray(n)&&typeof n[0]!="number",Y1=n=>Array.isArray(n)&&typeof n[0]=="number",tA={linear:ai,easeIn:JC,easeInOut:K1,easeOut:QC,circIn:cg,circInOut:G1,circOut:Z1,backIn:ug,backInOut:W1,backOut:F1,anticipate:$1},nA=n=>typeof n=="string",M_=n=>{if(Y1(n)){ag(n.length===4);const[t,r,a,l]=n;return Au(t,r,a,l)}else if(nA(n))return tA[n];return n},xd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iA(n,t){let r=new Set,a=new Set,l=!1,d=!1;const h=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(x){h.has(x)&&(v.schedule(x),n()),x(m)}const v={schedule:(x,w=!1,S=!1)=>{const A=S&&l?r:a;return w&&h.add(x),A.has(x)||A.add(x),x},cancel:x=>{a.delete(x),h.delete(x)},process:x=>{if(m=x,l){d=!0;return}l=!0,[r,a]=[a,r],r.forEach(y),r.clear(),l=!1,d&&(d=!1,v.process(x))}};return v}const rA=40;function X1(n,t){let r=!1,a=!0;const l={delta:0,timestamp:0,isProcessing:!1},d=()=>r=!0,h=xd.reduce((D,W)=>(D[W]=iA(d),D),{}),{setup:m,read:y,resolveKeyframes:v,preUpdate:x,update:w,preRender:S,render:j,postRender:A}=h,k=()=>{const D=wr.useManualTiming?l.timestamp:performance.now();r=!1,wr.useManualTiming||(l.delta=a?1e3/60:Math.max(Math.min(D-l.timestamp,rA),1)),l.timestamp=D,l.isProcessing=!0,m.process(l),y.process(l),v.process(l),x.process(l),w.process(l),S.process(l),j.process(l),A.process(l),l.isProcessing=!1,r&&t&&(a=!1,n(k))},R=()=>{r=!0,a=!0,l.isProcessing||n(k)};return{schedule:xd.reduce((D,W)=>{const q=h[W];return D[W]=(H,Z=!1,ae=!1)=>(r||R(),q.schedule(H,Z,ae)),D},{}),cancel:D=>{for(let W=0;W<xd.length;W++)h[xd[W]].cancel(D)},state:l,steps:h}}const{schedule:wt,cancel:ms,state:on,steps:Rp}=X1(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0);let Od;function sA(){Od=void 0}const zn={now:()=>(Od===void 0&&zn.set(on.isProcessing||wr.useManualTiming?on.timestamp:performance.now()),Od),set:n=>{Od=n,queueMicrotask(sA)}},J1=n=>t=>typeof t=="string"&&t.startsWith(n),Q1=J1("--"),aA=J1("var(--"),dg=n=>aA(n)?oA.test(n.split("/*")[0].trim()):!1,oA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,No={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},vu={...No,transform:n=>br(0,1,n)},bd={...No,default:1},uu=n=>Math.round(n*1e5)/1e5,hg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lA(n){return n==null}const uA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fg=(n,t)=>r=>!!(typeof r=="string"&&uA.test(r)&&r.startsWith(n)||t&&!lA(r)&&Object.prototype.hasOwnProperty.call(r,t)),ew=(n,t,r)=>a=>{if(typeof a!="string")return a;const[l,d,h,m]=a.match(hg);return{[n]:parseFloat(l),[t]:parseFloat(d),[r]:parseFloat(h),alpha:m!==void 0?parseFloat(m):1}},cA=n=>br(0,255,n),Op={...No,transform:n=>Math.round(cA(n))},_a={test:fg("rgb","red"),parse:ew("red","green","blue"),transform:({red:n,green:t,blue:r,alpha:a=1})=>"rgba("+Op.transform(n)+", "+Op.transform(t)+", "+Op.transform(r)+", "+uu(vu.transform(a))+")"};function dA(n){let t="",r="",a="",l="";return n.length>5?(t=n.substring(1,3),r=n.substring(3,5),a=n.substring(5,7),l=n.substring(7,9)):(t=n.substring(1,2),r=n.substring(2,3),a=n.substring(3,4),l=n.substring(4,5),t+=t,r+=r,a+=a,l+=l),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:l?parseInt(l,16)/255:1}}const hm={test:fg("#"),parse:dA,transform:_a.transform},ku=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),cs=ku("deg"),Fi=ku("%"),Pe=ku("px"),hA=ku("vh"),fA=ku("vw"),L_={...Fi,parse:n=>Fi.parse(n)/100,transform:n=>Fi.transform(n*100)},bo={test:fg("hsl","hue"),parse:ew("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(n)+", "+Fi.transform(uu(t))+", "+Fi.transform(uu(r))+", "+uu(vu.transform(a))+")"},qt={test:n=>_a.test(n)||hm.test(n)||bo.test(n),parse:n=>_a.test(n)?_a.parse(n):bo.test(n)?bo.parse(n):hm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?_a.transform(n):bo.transform(n),getAnimatableNone:n=>{const t=qt.parse(n);return t.alpha=0,qt.transform(t)}},pA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mA(n){return isNaN(n)&&typeof n=="string"&&(n.match(hg)?.length||0)+(n.match(pA)?.length||0)>0}const tw="number",nw="color",gA="var",yA="var(",z_="${}",vA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _u(n){const t=n.toString(),r=[],a={color:[],number:[],var:[]},l=[];let d=0;const m=t.replace(vA,y=>(qt.test(y)?(a.color.push(d),l.push(nw),r.push(qt.parse(y))):y.startsWith(yA)?(a.var.push(d),l.push(gA),r.push(y)):(a.number.push(d),l.push(tw),r.push(parseFloat(y))),++d,z_)).split(z_);return{values:r,split:m,indexes:a,types:l}}function iw(n){return _u(n).values}function rw(n){const{split:t,types:r}=_u(n),a=t.length;return l=>{let d="";for(let h=0;h<a;h++)if(d+=t[h],l[h]!==void 0){const m=r[h];m===tw?d+=uu(l[h]):m===nw?d+=qt.transform(l[h]):d+=l[h]}return d}}const _A=n=>typeof n=="number"?0:qt.test(n)?qt.getAnimatableNone(n):n;function xA(n){const t=iw(n);return rw(n)(t.map(_A))}const gs={test:mA,parse:iw,createTransformer:rw,getAnimatableNone:xA};function Mp(n,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(t-n)*6*r:r<1/2?t:r<2/3?n+(t-n)*(2/3-r)*6:n}function bA({hue:n,saturation:t,lightness:r,alpha:a}){n/=360,t/=100,r/=100;let l=0,d=0,h=0;if(!t)l=d=h=r;else{const m=r<.5?r*(1+t):r+t-r*t,y=2*r-m;l=Mp(y,m,n+1/3),d=Mp(y,m,n),h=Mp(y,m,n-1/3)}return{red:Math.round(l*255),green:Math.round(d*255),blue:Math.round(h*255),alpha:a}}function $d(n,t){return r=>r>0?t:n}const jt=(n,t,r)=>n+(t-n)*r,Lp=(n,t,r)=>{const a=n*n,l=r*(t*t-a)+a;return l<0?0:Math.sqrt(l)},wA=[hm,_a,bo],SA=n=>wA.find(t=>t.test(n));function P_(n){const t=SA(n);if(!t)return!1;let r=t.parse(n);return t===bo&&(r=bA(r)),r}const D_=(n,t)=>{const r=P_(n),a=P_(t);if(!r||!a)return $d(n,t);const l={...r};return d=>(l.red=Lp(r.red,a.red,d),l.green=Lp(r.green,a.green,d),l.blue=Lp(r.blue,a.blue,d),l.alpha=jt(r.alpha,a.alpha,d),_a.transform(l))},fm=new Set(["none","hidden"]);function TA(n,t){return fm.has(n)?r=>r<=0?n:t:r=>r>=1?t:n}function EA(n,t){return r=>jt(n,t,r)}function pg(n){return typeof n=="number"?EA:typeof n=="string"?dg(n)?$d:qt.test(n)?D_:AA:Array.isArray(n)?sw:typeof n=="object"?qt.test(n)?D_:jA:$d}function sw(n,t){const r=[...n],a=r.length,l=n.map((d,h)=>pg(d)(d,t[h]));return d=>{for(let h=0;h<a;h++)r[h]=l[h](d);return r}}function jA(n,t){const r={...n,...t},a={};for(const l in r)n[l]!==void 0&&t[l]!==void 0&&(a[l]=pg(n[l])(n[l],t[l]));return l=>{for(const d in a)r[d]=a[d](l);return r}}function CA(n,t){const r=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const d=t.types[l],h=n.indexes[d][a[d]],m=n.values[h]??0;r[l]=m,a[d]++}return r}const AA=(n,t)=>{const r=gs.createTransformer(t),a=_u(n),l=_u(t);return a.indexes.var.length===l.indexes.var.length&&a.indexes.color.length===l.indexes.color.length&&a.indexes.number.length>=l.indexes.number.length?fm.has(n)&&!l.values.length||fm.has(t)&&!a.values.length?TA(n,t):Cu(sw(CA(a,l),l.values),r):$d(n,t)};function aw(n,t,r){return typeof n=="number"&&typeof t=="number"&&typeof r=="number"?jt(n,t,r):pg(n)(n,t)}const kA=n=>{const t=({timestamp:r})=>n(r);return{start:(r=!0)=>wt.update(t,r),stop:()=>ms(t),now:()=>on.isProcessing?on.timestamp:zn.now()}},ow=(n,t,r=10)=>{let a="";const l=Math.max(Math.round(t/r),2);for(let d=0;d<l;d++)a+=Math.round(n(d/(l-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Zd=2e4;function mg(n){let t=0;const r=50;let a=n.next(t);for(;!a.done&&t<Zd;)t+=r,a=n.next(t);return t>=Zd?1/0:t}function RA(n,t=100,r){const a=r({...n,keyframes:[0,t]}),l=Math.min(mg(a),Zd);return{type:"keyframes",ease:d=>a.next(l*d).value/t,duration:si(l)}}const OA=5;function lw(n,t,r){const a=Math.max(t-OA,0);return I1(r-n(a),t-a)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zp=.001;function MA({duration:n=Ot.duration,bounce:t=Ot.bounce,velocity:r=Ot.velocity,mass:a=Ot.mass}){let l,d,h=1-t;h=br(Ot.minDamping,Ot.maxDamping,h),n=br(Ot.minDuration,Ot.maxDuration,si(n)),h<1?(l=v=>{const x=v*h,w=x*n,S=x-r,j=pm(v,h),A=Math.exp(-w);return zp-S/j*A},d=v=>{const w=v*h*n,S=w*r+r,j=Math.pow(h,2)*Math.pow(v,2)*n,A=Math.exp(-w),k=pm(Math.pow(v,2),h);return(-l(v)+zp>0?-1:1)*((S-j)*A)/k}):(l=v=>{const x=Math.exp(-v*n),w=(v-r)*n+1;return-zp+x*w},d=v=>{const x=Math.exp(-v*n),w=(r-v)*(n*n);return x*w});const m=5/n,y=zA(l,d,m);if(n=qi(n),isNaN(y))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:n};{const v=Math.pow(y,2)*a;return{stiffness:v,damping:h*2*Math.sqrt(a*v),duration:n}}}const LA=12;function zA(n,t,r){let a=r;for(let l=1;l<LA;l++)a=a-n(a)/t(a);return a}function pm(n,t){return n*Math.sqrt(1-t*t)}const PA=["duration","bounce"],DA=["stiffness","damping","mass"];function B_(n,t){return t.some(r=>n[r]!==void 0)}function BA(n){let t={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...n};if(!B_(n,DA)&&B_(n,PA))if(n.visualDuration){const r=n.visualDuration,a=2*Math.PI/(r*1.2),l=a*a,d=2*br(.05,1,1-(n.bounce||0))*Math.sqrt(l);t={...t,mass:Ot.mass,stiffness:l,damping:d}}else{const r=MA(n);t={...t,...r,mass:Ot.mass},t.isResolvedFromDuration=!0}return t}function Gd(n=Ot.visualDuration,t=Ot.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:a,restDelta:l}=r;const d=r.keyframes[0],h=r.keyframes[r.keyframes.length-1],m={done:!1,value:d},{stiffness:y,damping:v,mass:x,duration:w,velocity:S,isResolvedFromDuration:j}=BA({...r,velocity:-si(r.velocity||0)}),A=S||0,k=v/(2*Math.sqrt(y*x)),R=h-d,z=si(Math.sqrt(y/x)),P=Math.abs(R)<5;a||(a=P?Ot.restSpeed.granular:Ot.restSpeed.default),l||(l=P?Ot.restDelta.granular:Ot.restDelta.default);let D;if(k<1){const q=pm(z,k);D=H=>{const Z=Math.exp(-k*z*H);return h-Z*((A+k*z*R)/q*Math.sin(q*H)+R*Math.cos(q*H))}}else if(k===1)D=q=>h-Math.exp(-z*q)*(R+(A+z*R)*q);else{const q=z*Math.sqrt(k*k-1);D=H=>{const Z=Math.exp(-k*z*H),ae=Math.min(q*H,300);return h-Z*((A+k*z*R)*Math.sinh(ae)+q*R*Math.cosh(ae))/q}}const W={calculatedDuration:j&&w||null,next:q=>{const H=D(q);if(j)m.done=q>=w;else{let Z=q===0?A:0;k<1&&(Z=q===0?qi(A):lw(D,q,H));const ae=Math.abs(Z)<=a,ye=Math.abs(h-H)<=l;m.done=ae&&ye}return m.value=m.done?h:H,m},toString:()=>{const q=Math.min(mg(W),Zd),H=ow(Z=>W.next(q*Z).value,q,30);return q+"ms "+H},toTransition:()=>{}};return W}Gd.applyToOptions=n=>{const t=RA(n,100,Gd);return n.ease=t.ease,n.duration=qi(t.duration),n.type="keyframes",n};function mm({keyframes:n,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:l=10,bounceStiffness:d=500,modifyTarget:h,min:m,max:y,restDelta:v=.5,restSpeed:x}){const w=n[0],S={done:!1,value:w},j=ae=>m!==void 0&&ae<m||y!==void 0&&ae>y,A=ae=>m===void 0?y:y===void 0||Math.abs(m-ae)<Math.abs(y-ae)?m:y;let k=r*t;const R=w+k,z=h===void 0?R:h(R);z!==R&&(k=z-w);const P=ae=>-k*Math.exp(-ae/a),D=ae=>z+P(ae),W=ae=>{const ye=P(ae),be=D(ae);S.done=Math.abs(ye)<=v,S.value=S.done?z:be};let q,H;const Z=ae=>{j(S.value)&&(q=ae,H=Gd({keyframes:[S.value,A(S.value)],velocity:lw(D,ae,S.value),damping:l,stiffness:d,restDelta:v,restSpeed:x}))};return Z(0),{calculatedDuration:null,next:ae=>{let ye=!1;return!H&&q===void 0&&(ye=!0,W(ae),Z(ae)),q!==void 0&&ae>=q?H.next(ae-q):(!ye&&W(ae),S)}}}function NA(n,t,r){const a=[],l=r||wr.mix||aw,d=n.length-1;for(let h=0;h<d;h++){let m=l(n[h],n[h+1]);if(t){const y=Array.isArray(t)?t[h]||ai:t;m=Cu(y,m)}a.push(m)}return a}function UA(n,t,{clamp:r=!0,ease:a,mixer:l}={}){const d=n.length;if(ag(d===t.length),d===1)return()=>t[0];if(d===2&&t[0]===t[1])return()=>t[1];const h=n[0]===n[1];n[0]>n[d-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=NA(t,a,l),y=m.length,v=x=>{if(h&&x<n[0])return t[0];let w=0;if(y>1)for(;w<n.length-2&&!(x<n[w+1]);w++);const S=yu(n[w],n[w+1],x);return m[w](S)};return r?x=>v(br(n[0],n[d-1],x)):v}function IA(n,t){const r=n[n.length-1];for(let a=1;a<=t;a++){const l=yu(0,t,a);n.push(jt(r,1,l))}}function VA(n){const t=[0];return IA(t,n.length-1),t}function HA(n,t){return n.map(r=>r*t)}function qA(n,t){return n.map(()=>t||K1).splice(0,n.length-1)}function cu({duration:n=300,keyframes:t,times:r,ease:a="easeInOut"}){const l=eA(a)?a.map(M_):M_(a),d={done:!1,value:t[0]},h=HA(r&&r.length===t.length?r:VA(t),n),m=UA(h,t,{ease:Array.isArray(l)?l:qA(t,l)});return{calculatedDuration:n,next:y=>(d.value=m(y),d.done=y>=n,d)}}const FA=n=>n!==null;function gg(n,{repeat:t,repeatType:r="loop"},a,l=1){const d=n.filter(FA),m=l<0||t&&r!=="loop"&&t%2===1?0:d.length-1;return!m||a===void 0?d[m]:a}const WA={decay:mm,inertia:mm,tween:cu,keyframes:cu,spring:Gd};function uw(n){typeof n.type=="string"&&(n.type=WA[n.type])}class yg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const $A=n=>n/100;class vg extends yg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==zn.now()&&this.tick(zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;uw(t);const{type:r=cu,repeat:a=0,repeatDelay:l=0,repeatType:d,velocity:h=0}=t;let{keyframes:m}=t;const y=r||cu;y!==cu&&typeof m[0]!="number"&&(this.mixKeyframes=Cu($A,aw(m[0],m[1])),m=[0,100]);const v=y({...t,keyframes:m});d==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...m].reverse(),velocity:-h})),v.calculatedDuration===null&&(v.calculatedDuration=mg(v));const{calculatedDuration:x}=v;this.calculatedDuration=x,this.resolvedDuration=x+l,this.totalDuration=this.resolvedDuration*(a+1)-l,this.generator=v}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:l,mixKeyframes:d,mirroredGenerator:h,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return a.next(0);const{delay:v=0,keyframes:x,repeat:w,repeatType:S,repeatDelay:j,type:A,onUpdate:k,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const z=this.currentTime-v*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?z<0:z>l;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let D=this.currentTime,W=a;if(w){const ae=Math.min(this.currentTime,l)/m;let ye=Math.floor(ae),be=ae%1;!be&&ae>=1&&(be=1),be===1&&ye--,ye=Math.min(ye,w+1),!!(ye%2)&&(S==="reverse"?(be=1-be,j&&(be-=j/m)):S==="mirror"&&(W=h)),D=br(0,1,be)*m}const q=P?{done:!1,value:x[0]}:W.next(D);d&&(q.value=d(q.value));let{done:H}=q;!P&&y!==null&&(H=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return Z&&A!==mm&&(q.value=gg(x,this.options,R,this.speed)),k&&k(q.value),Z&&this.finish(),q}then(t,r){return this.finished.then(t,r)}get duration(){return si(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+si(t)}get time(){return si(this.currentTime)}set time(t){t=qi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(zn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=si(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=kA,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function ZA(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const xa=n=>n*180/Math.PI,gm=n=>{const t=xa(Math.atan2(n[1],n[0]));return ym(t)},GA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:gm,rotateZ:gm,skewX:n=>xa(Math.atan(n[1])),skewY:n=>xa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},ym=n=>(n=n%360,n<0&&(n+=360),n),N_=gm,U_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),I_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),KA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:U_,scaleY:I_,scale:n=>(U_(n)+I_(n))/2,rotateX:n=>ym(xa(Math.atan2(n[6],n[5]))),rotateY:n=>ym(xa(Math.atan2(-n[2],n[0]))),rotateZ:N_,rotate:N_,skewX:n=>xa(Math.atan(n[4])),skewY:n=>xa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function vm(n){return n.includes("scale")?1:0}function _m(n,t){if(!n||n==="none")return vm(t);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,l;if(r)a=KA,l=r;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=GA,l=m}if(!l)return vm(t);const d=a[t],h=l[1].split(",").map(XA);return typeof d=="function"?d(h):h[d]}const YA=(n,t)=>{const{transform:r="none"}=getComputedStyle(n);return _m(r,t)};function XA(n){return parseFloat(n.trim())}const Uo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Io=new Set(Uo),V_=n=>n===No||n===Pe,JA=new Set(["x","y","z"]),QA=Uo.filter(n=>!JA.has(n));function ek(n){const t=[];return QA.forEach(r=>{const a=n.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const ba={width:({x:n},{paddingLeft:t="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(t)-parseFloat(r),height:({y:n},{paddingTop:t="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(t)-parseFloat(r),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>_m(t,"x"),y:(n,{transform:t})=>_m(t,"y")};ba.translateX=ba.x;ba.translateY=ba.y;const wa=new Set;let xm=!1,bm=!1,wm=!1;function cw(){if(bm){const n=Array.from(wa).filter(a=>a.needsMeasurement),t=new Set(n.map(a=>a.element)),r=new Map;t.forEach(a=>{const l=ek(a);l.length&&(r.set(a,l),a.render())}),n.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const l=r.get(a);l&&l.forEach(([d,h])=>{a.getValue(d)?.set(h)})}),n.forEach(a=>a.measureEndState()),n.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}bm=!1,xm=!1,wa.forEach(n=>n.complete(wm)),wa.clear()}function dw(){wa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(bm=!0)})}function tk(){wm=!0,dw(),cw(),wm=!1}class _g{constructor(t,r,a,l,d,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=l,this.element=d,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(wa.add(this),xm||(xm=!0,wt.read(dw),wt.resolveKeyframes(cw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:l}=this;if(t[0]===null){const d=l?.get(),h=t[t.length-1];if(d!==void 0)t[0]=d;else if(a&&r){const m=a.readValue(r,h);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=h),l&&d===void 0&&l.set(t[0])}ZA(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),wa.delete(this)}cancel(){this.state==="scheduled"&&(wa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nk=n=>n.startsWith("--");function ik(n,t,r){nk(t)?n.style.setProperty(t,r):n.style[t]=r}const rk=og(()=>window.ScrollTimeline!==void 0),sk={};function ak(n,t){const r=og(n);return()=>sk[t]??r()}const hw=ak(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ou=([n,t,r,a])=>`cubic-bezier(${n}, ${t}, ${r}, ${a})`,H_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ou([0,.65,.55,1]),circOut:ou([.55,0,1,.45]),backIn:ou([.31,.01,.66,-.59]),backOut:ou([.33,1.53,.69,.99])};function fw(n,t){if(n)return typeof n=="function"?hw()?ow(n,t):"ease-out":Y1(n)?ou(n):Array.isArray(n)?n.map(r=>fw(r,t)||H_.easeOut):H_[n]}function ok(n,t,r,{delay:a=0,duration:l=300,repeat:d=0,repeatType:h="loop",ease:m="easeOut",times:y}={},v=void 0){const x={[t]:r};y&&(x.offset=y);const w=fw(m,l);Array.isArray(w)&&(x.easing=w);const S={delay:a,duration:l,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:d+1,direction:h==="reverse"?"alternate":"normal"};return v&&(S.pseudoElement=v),n.animate(x,S)}function pw(n){return typeof n=="function"&&"applyToOptions"in n}function lk({type:n,...t}){return pw(n)&&hw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class uk extends yg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:a,keyframes:l,pseudoElement:d,allowFlatten:h=!1,finalKeyframe:m,onComplete:y}=t;this.isPseudoElement=!!d,this.allowFlatten=h,this.options=t,ag(typeof t.type!="string");const v=lk(t);this.animation=ok(r,a,l,v,d),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const x=gg(l,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(x):ik(r,a,x),this.animation.cancel()}y?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return si(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+si(t)}get time(){return si(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&rk()?(this.animation.timeline=t,ai):r(this)}}const mw={anticipate:$1,backInOut:W1,circInOut:G1};function ck(n){return n in mw}function dk(n){typeof n.ease=="string"&&ck(n.ease)&&(n.ease=mw[n.ease])}const q_=10;class hk extends uk{constructor(t){dk(t),uw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:l,element:d,...h}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const m=new vg({...h,autoplay:!1}),y=qi(this.finishedTime??this.time);r.setWithVelocity(m.sample(y-q_).value,m.sample(y).value,q_),m.stop()}}const F_=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(gs.test(n)||n==="0")&&!n.startsWith("url("));function fk(n){const t=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==t)return!0}function pk(n,t,r,a){const l=n[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const d=n[n.length-1],h=F_(l,t),m=F_(d,t);return!h||!m?!1:fk(n)||(r==="spring"||pw(r))&&a}function Sm(n){n.duration=0,n.type="keyframes"}const mk=new Set(["opacity","clipPath","filter","transform"]),gk=og(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yk(n){const{motionValue:t,name:r,repeatDelay:a,repeatType:l,damping:d,type:h}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:v}=t.owner.getProps();return gk()&&r&&mk.has(r)&&(r!=="transform"||!v)&&!y&&!a&&l!=="mirror"&&d!==0&&h!=="inertia"}const vk=40;class _k extends yg{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:l=0,repeatDelay:d=0,repeatType:h="loop",keyframes:m,name:y,motionValue:v,element:x,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zn.now();const S={autoplay:t,delay:r,type:a,repeat:l,repeatDelay:d,repeatType:h,name:y,motionValue:v,element:x,...w},j=x?.KeyframeResolver||_g;this.keyframeResolver=new j(m,(A,k,R)=>this.onKeyframesResolved(A,k,S,!R),y,v,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,a,l){this.keyframeResolver=void 0;const{name:d,type:h,velocity:m,delay:y,isHandoff:v,onUpdate:x}=a;this.resolvedAt=zn.now(),pk(t,d,h,m)||((wr.instantAnimations||!y)&&x?.(gg(t,a,r)),t[0]=t[t.length-1],Sm(a),a.repeat=0);const S={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>vk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},j=!v&&yk(S)?new hk({...S,element:S.motionValue.owner.current}):new vg(S);j.finished.then(()=>this.notifyFinished()).catch(ai),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const xk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bk(n){const t=xk.exec(n);if(!t)return[,];const[,r,a,l]=t;return[`--${r??a}`,l]}function gw(n,t,r=1){const[a,l]=bk(n);if(!a)return;const d=window.getComputedStyle(t).getPropertyValue(a);if(d){const h=d.trim();return B1(h)?parseFloat(h):h}return dg(l)?gw(l,t,r+1):l}function xg(n,t){return n?.[t]??n?.default??n}const yw=new Set(["width","height","top","left","right","bottom",...Uo]),wk={test:n=>n==="auto",parse:n=>n},vw=n=>t=>t.test(n),_w=[No,Pe,Fi,cs,fA,hA,wk],W_=n=>_w.find(vw(n));function Sk(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||U1(n):!0}const Tk=new Set(["brightness","contrast","saturate","opacity"]);function Ek(n){const[t,r]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[a]=r.match(hg)||[];if(!a)return n;const l=r.replace(a,"");let d=Tk.has(t)?1:0;return a!==r&&(d*=100),t+"("+d+l+")"}const jk=/\b([a-z-]*)\(.*?\)/gu,Tm={...gs,getAnimatableNone:n=>{const t=n.match(jk);return t?t.map(Ek).join(" "):n}},$_={...No,transform:Math.round},Ck={rotate:cs,rotateX:cs,rotateY:cs,rotateZ:cs,scale:bd,scaleX:bd,scaleY:bd,scaleZ:bd,skew:cs,skewX:cs,skewY:cs,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:vu,originX:L_,originY:L_,originZ:Pe},bg={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...Ck,zIndex:$_,fillOpacity:vu,strokeOpacity:vu,numOctaves:$_},Ak={...bg,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Tm,WebkitFilter:Tm},xw=n=>Ak[n];function bw(n,t){let r=xw(n);return r!==Tm&&(r=gs),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const kk=new Set(["auto","none","0"]);function Rk(n,t,r){let a=0,l;for(;a<n.length&&!l;){const d=n[a];typeof d=="string"&&!kk.has(d)&&_u(d).values.length&&(l=n[a]),a++}if(l&&r)for(const d of t)n[d]=bw(r,l)}class Ok extends _g{constructor(t,r,a,l,d){super(t,r,a,l,d,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),dg(v))){const x=gw(v,r.current);x!==void 0&&(t[y]=x),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!yw.has(a)||t.length!==2)return;const[l,d]=t,h=W_(l),m=W_(d);if(h!==m)if(V_(h)&&V_(m))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else ba[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let l=0;l<t.length;l++)(t[l]===null||Sk(t[l]))&&a.push(l);a.length&&Rk(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ba[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const l=r[r.length-1];l!==void 0&&t.getValue(a,l).jump(l,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const l=t.getValue(r);l&&l.jump(this.measuredOrigin,!1);const d=a.length-1,h=a[d];a[d]=ba[r](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,y])=>{t.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function Mk(n,t,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const l=r?.[n]??a.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}const ww=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Sw(n){return N1(n)&&"offsetHeight"in n}const Z_=30,Lk=n=>!isNaN(parseFloat(n));class zk{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const l=zn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=zn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Lk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new lg);const a=this.events[t].add(r);return t==="change"?()=>{a(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Z_)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Z_);return I1(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oo(n,t){return new zk(n,t)}const{schedule:wg}=X1(queueMicrotask,!1),Si={x:!1,y:!1};function Tw(){return Si.x||Si.y}function Pk(n){return n==="x"||n==="y"?Si[n]?null:(Si[n]=!0,()=>{Si[n]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function Ew(n,t){const r=Mk(n),a=new AbortController,l={passive:!0,...t,signal:a.signal};return[r,l,()=>a.abort()]}function G_(n){return!(n.pointerType==="touch"||Tw())}function Dk(n,t,r={}){const[a,l,d]=Ew(n,r),h=m=>{if(!G_(m))return;const{target:y}=m,v=t(y,m);if(typeof v!="function"||!y)return;const x=w=>{G_(w)&&(v(w),y.removeEventListener("pointerleave",x))};y.addEventListener("pointerleave",x,l)};return a.forEach(m=>{m.addEventListener("pointerenter",h,l)}),d}const jw=(n,t)=>t?n===t?!0:jw(n,t.parentElement):!1,Sg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Bk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Nk(n){return Bk.has(n.tagName)||n.tabIndex!==-1}const Md=new WeakSet;function K_(n){return t=>{t.key==="Enter"&&n(t)}}function Pp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Uk=(n,t)=>{const r=n.currentTarget;if(!r)return;const a=K_(()=>{if(Md.has(r))return;Pp(r,"down");const l=K_(()=>{Pp(r,"up")}),d=()=>Pp(r,"cancel");r.addEventListener("keyup",l,t),r.addEventListener("blur",d,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function Y_(n){return Sg(n)&&!Tw()}function Ik(n,t,r={}){const[a,l,d]=Ew(n,r),h=m=>{const y=m.currentTarget;if(!Y_(m))return;Md.add(y);const v=t(y,m),x=(j,A)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",S),Md.has(y)&&Md.delete(y),Y_(j)&&typeof v=="function"&&v(j,{success:A})},w=j=>{x(j,y===window||y===document||r.useGlobalTarget||jw(y,j.target))},S=j=>{x(j,!1)};window.addEventListener("pointerup",w,l),window.addEventListener("pointercancel",S,l)};return a.forEach(m=>{(r.useGlobalTarget?window:m).addEventListener("pointerdown",h,l),Sw(m)&&(m.addEventListener("focus",v=>Uk(v,l)),!Nk(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),d}function Cw(n){return N1(n)&&"ownerSVGElement"in n}function Vk(n){return Cw(n)&&n.tagName==="svg"}const hn=n=>!!(n&&n.getVelocity),Hk=[..._w,qt,gs],qk=n=>Hk.find(vw(n)),Tg=C.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function X_(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Fk(...n){return t=>{let r=!1;const a=n.map(l=>{const d=X_(l,t);return!r&&typeof d=="function"&&(r=!0),d});if(r)return()=>{for(let l=0;l<a.length;l++){const d=a[l];typeof d=="function"?d():X_(n[l],null)}}}}function Wk(...n){return C.useCallback(Fk(...n),n)}class $k extends C.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=r.offsetParent,l=Sw(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=r.offsetHeight||0,d.width=r.offsetWidth||0,d.top=r.offsetTop,d.left=r.offsetLeft,d.right=l-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Zk({children:n,isPresent:t,anchorX:r,root:a}){const l=C.useId(),d=C.useRef(null),h=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=C.useContext(Tg),y=Wk(d,n?.ref);return C.useInsertionEffect(()=>{const{width:v,height:x,top:w,left:S,right:j}=h.current;if(t||!d.current||!v||!x)return;const A=r==="left"?`left: ${S}`:`right: ${j}`;d.current.dataset.motionPopId=l;const k=document.createElement("style");m&&(k.nonce=m);const R=a??document.head;return R.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${x}px !important;
            ${A}px !important;
            top: ${w}px !important;
          }
        `),()=>{R.contains(k)&&R.removeChild(k)}},[t]),f.jsx($k,{isPresent:t,childRef:d,sizeRef:h,children:C.cloneElement(n,{ref:y})})}const Gk=({children:n,initial:t,isPresent:r,onExitComplete:a,custom:l,presenceAffectsLayout:d,mode:h,anchorX:m,root:y})=>{const v=ng(Kk),x=C.useId();let w=!0,S=C.useMemo(()=>(w=!1,{id:x,initial:t,isPresent:r,custom:l,onExitComplete:j=>{v.set(j,!0);for(const A of v.values())if(!A)return;a&&a()},register:j=>(v.set(j,!1),()=>v.delete(j))}),[r,v,a]);return d&&w&&(S={...S}),C.useMemo(()=>{v.forEach((j,A)=>v.set(A,!1))},[r]),C.useEffect(()=>{!r&&!v.size&&a&&a()},[r]),h==="popLayout"&&(n=f.jsx(Zk,{isPresent:r,anchorX:m,root:y,children:n})),f.jsx(ch.Provider,{value:S,children:n})};function Kk(){return new Map}function Aw(n=!0){const t=C.useContext(ch);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:l}=t,d=C.useId();C.useEffect(()=>{if(n)return l(d)},[n]);const h=C.useCallback(()=>n&&a&&a(d),[d,a,n]);return!r&&a?[!1,h]:[!0]}const wd=n=>n.key||"";function J_(n){const t=[];return C.Children.forEach(n,r=>{C.isValidElement(r)&&t.push(r)}),t}const Ru=({children:n,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:d="sync",propagate:h=!1,anchorX:m="left",root:y})=>{const[v,x]=Aw(h),w=C.useMemo(()=>J_(n),[n]),S=h&&!v?[]:w.map(wd),j=C.useRef(!0),A=C.useRef(w),k=ng(()=>new Map),[R,z]=C.useState(w),[P,D]=C.useState(w);D1(()=>{j.current=!1,A.current=w;for(let H=0;H<P.length;H++){const Z=wd(P[H]);S.includes(Z)?k.delete(Z):k.get(Z)!==!0&&k.set(Z,!1)}},[P,S.length,S.join("-")]);const W=[];if(w!==R){let H=[...w];for(let Z=0;Z<P.length;Z++){const ae=P[Z],ye=wd(ae);S.includes(ye)||(H.splice(Z,0,ae),W.push(ae))}return d==="wait"&&W.length&&(H=W),D(J_(H)),z(w),null}const{forceRender:q}=C.useContext(tg);return f.jsx(f.Fragment,{children:P.map(H=>{const Z=wd(H),ae=h&&!v?!1:w===P||S.includes(Z),ye=()=>{if(k.has(Z))k.set(Z,!0);else return;let be=!0;k.forEach(oe=>{oe||(be=!1)}),be&&(q?.(),D(A.current),h&&x?.(),a&&a())};return f.jsx(Gk,{isPresent:ae,initial:!j.current||r?void 0:!1,custom:t,presenceAffectsLayout:l,mode:d,root:y,onExitComplete:ae?void 0:ye,anchorX:m,children:H},Z)})})},kw=C.createContext({strict:!1}),Q_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mo={};for(const n in Q_)Mo[n]={isEnabled:t=>Q_[n].some(r=>!!t[r])};function Yk(n){for(const t in n)Mo[t]={...Mo[t],...n[t]}}const Xk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Xk.has(n)}let Rw=n=>!Kd(n);function Jk(n){typeof n=="function"&&(Rw=t=>t.startsWith("on")?!Kd(t):n(t))}try{Jk(require("@emotion/is-prop-valid").default)}catch{}function Qk(n,t,r){const a={};for(const l in n)l==="values"&&typeof n.values=="object"||(Rw(l)||r===!0&&Kd(l)||!t&&!Kd(l)||n.draggable&&l.startsWith("onDrag"))&&(a[l]=n[l]);return a}const dh=C.createContext({});function hh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function xu(n){return typeof n=="string"||Array.isArray(n)}const Eg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jg=["initial",...Eg];function fh(n){return hh(n.animate)||jg.some(t=>xu(n[t]))}function Ow(n){return!!(fh(n)||n.variants)}function eR(n,t){if(fh(n)){const{initial:r,animate:a}=n;return{initial:r===!1||xu(r)?r:void 0,animate:xu(a)?a:void 0}}return n.inherit!==!1?t:{}}function tR(n){const{initial:t,animate:r}=eR(n,C.useContext(dh));return C.useMemo(()=>({initial:t,animate:r}),[ex(t),ex(r)])}function ex(n){return Array.isArray(n)?n.join(" "):n}function tx(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const tu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Pe.test(n))n=parseFloat(n);else return n;const r=tx(n,t.target.x),a=tx(n,t.target.y);return`${r}% ${a}%`}},nR={correct:(n,{treeScale:t,projectionDelta:r})=>{const a=n,l=gs.parse(n);if(l.length>5)return a;const d=gs.createTransformer(n),h=typeof l[0]!="number"?1:0,m=r.x.scale*t.x,y=r.y.scale*t.y;l[0+h]/=m,l[1+h]/=y;const v=jt(m,y,.5);return typeof l[2+h]=="number"&&(l[2+h]/=v),typeof l[3+h]=="number"&&(l[3+h]/=v),d(l)}},Em={borderRadius:{...tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tu,borderTopRightRadius:tu,borderBottomLeftRadius:tu,borderBottomRightRadius:tu,boxShadow:nR};function Mw(n,{layout:t,layoutId:r}){return Io.has(n)||n.startsWith("origin")||(t||r!==void 0)&&(!!Em[n]||n==="opacity")}const iR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rR=Uo.length;function sR(n,t,r){let a="",l=!0;for(let d=0;d<rR;d++){const h=Uo[d],m=n[h];if(m===void 0)continue;let y=!0;if(typeof m=="number"?y=m===(h.startsWith("scale")?1:0):y=parseFloat(m)===0,!y||r){const v=ww(m,bg[h]);if(!y){l=!1;const x=iR[h]||h;a+=`${x}(${v}) `}r&&(t[h]=v)}}return a=a.trim(),r?a=r(t,l?"":a):l&&(a="none"),a}function Cg(n,t,r){const{style:a,vars:l,transformOrigin:d}=n;let h=!1,m=!1;for(const y in t){const v=t[y];if(Io.has(y)){h=!0;continue}else if(Q1(y)){l[y]=v;continue}else{const x=ww(v,bg[y]);y.startsWith("origin")?(m=!0,d[y]=x):a[y]=x}}if(t.transform||(h||r?a.transform=sR(t,n.transform,r):a.transform&&(a.transform="none")),m){const{originX:y="50%",originY:v="50%",originZ:x=0}=d;a.transformOrigin=`${y} ${v} ${x}`}}const Ag=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Lw(n,t,r){for(const a in t)!hn(t[a])&&!Mw(a,r)&&(n[a]=t[a])}function aR({transformTemplate:n},t){return C.useMemo(()=>{const r=Ag();return Cg(r,t,n),Object.assign({},r.vars,r.style)},[t])}function oR(n,t){const r=n.style||{},a={};return Lw(a,r,n),Object.assign(a,aR(n,t)),a}function lR(n,t){const r={},a=oR(n,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=a,r}const uR={offset:"stroke-dashoffset",array:"stroke-dasharray"},cR={offset:"strokeDashoffset",array:"strokeDasharray"};function dR(n,t,r=1,a=0,l=!0){n.pathLength=1;const d=l?uR:cR;n[d.offset]=Pe.transform(-a);const h=Pe.transform(t),m=Pe.transform(r);n[d.array]=`${h} ${m}`}function zw(n,{attrX:t,attrY:r,attrScale:a,pathLength:l,pathSpacing:d=1,pathOffset:h=0,...m},y,v,x){if(Cg(n,m,v),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:S}=n;w.transform&&(S.transform=w.transform,delete w.transform),(S.transform||w.transformOrigin)&&(S.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),S.transform&&(S.transformBox=x?.transformBox??"fill-box",delete w.transformBox),t!==void 0&&(w.x=t),r!==void 0&&(w.y=r),a!==void 0&&(w.scale=a),l!==void 0&&dR(w,l,d,h,!1)}const Pw=()=>({...Ag(),attrs:{}}),Dw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function hR(n,t,r,a){const l=C.useMemo(()=>{const d=Pw();return zw(d,t,Dw(a),n.transformTemplate,n.style),{...d.attrs,style:{...d.style}}},[t]);if(n.style){const d={};Lw(d,n.style,n),l.style={...d,...l.style}}return l}const fR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kg(n){return typeof n!="string"||n.includes("-")?!1:!!(fR.indexOf(n)>-1||/[A-Z]/u.test(n))}function pR(n,t,r,{latestValues:a},l,d=!1){const m=(kg(n)?hR:lR)(t,a,l,n),y=Qk(t,typeof n=="string",d),v=n!==C.Fragment?{...y,...m,ref:r}:{},{children:x}=t,w=C.useMemo(()=>hn(x)?x.get():x,[x]);return C.createElement(n,{...v,children:w})}function nx(n){const t=[{},{}];return n?.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function Rg(n,t,r,a){if(typeof t=="function"){const[l,d]=nx(a);t=t(r!==void 0?r:n.custom,l,d)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[l,d]=nx(a);t=t(r!==void 0?r:n.custom,l,d)}return t}function Ld(n){return hn(n)?n.get():n}function mR({scrapeMotionValuesFromProps:n,createRenderState:t},r,a,l){return{latestValues:gR(r,a,l,n),renderState:t()}}function gR(n,t,r,a){const l={},d=a(n,{});for(const S in d)l[S]=Ld(d[S]);let{initial:h,animate:m}=n;const y=fh(n),v=Ow(n);t&&v&&!y&&n.inherit!==!1&&(h===void 0&&(h=t.initial),m===void 0&&(m=t.animate));let x=r?r.initial===!1:!1;x=x||h===!1;const w=x?m:h;if(w&&typeof w!="boolean"&&!hh(w)){const S=Array.isArray(w)?w:[w];for(let j=0;j<S.length;j++){const A=Rg(n,S[j]);if(A){const{transitionEnd:k,transition:R,...z}=A;for(const P in z){let D=z[P];if(Array.isArray(D)){const W=x?D.length-1:0;D=D[W]}D!==null&&(l[P]=D)}for(const P in k)l[P]=k[P]}}}return l}const Bw=n=>(t,r)=>{const a=C.useContext(dh),l=C.useContext(ch),d=()=>mR(n,t,a,l);return r?d():ng(d)};function Og(n,t,r){const{style:a}=n,l={};for(const d in a)(hn(a[d])||t.style&&hn(t.style[d])||Mw(d,n)||r?.getValue(d)?.liveStyle!==void 0)&&(l[d]=a[d]);return l}const yR=Bw({scrapeMotionValuesFromProps:Og,createRenderState:Ag});function Nw(n,t,r){const a=Og(n,t,r);for(const l in n)if(hn(n[l])||hn(t[l])){const d=Uo.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;a[d]=n[l]}return a}const vR=Bw({scrapeMotionValuesFromProps:Nw,createRenderState:Pw}),_R=Symbol.for("motionComponentSymbol");function wo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function xR(n,t,r){return C.useCallback(a=>{a&&n.onMount&&n.onMount(a),t&&(a?t.mount(a):t.unmount()),r&&(typeof r=="function"?r(a):wo(r)&&(r.current=a))},[t])}const Mg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bR="framerAppearId",Uw="data-"+Mg(bR),Iw=C.createContext({});function wR(n,t,r,a,l){const{visualElement:d}=C.useContext(dh),h=C.useContext(kw),m=C.useContext(ch),y=C.useContext(Tg).reducedMotion,v=C.useRef(null);a=a||h.renderer,!v.current&&a&&(v.current=a(n,{visualState:t,parent:d,props:r,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const x=v.current,w=C.useContext(Iw);x&&!x.projection&&l&&(x.type==="html"||x.type==="svg")&&SR(v.current,r,l,w);const S=C.useRef(!1);C.useInsertionEffect(()=>{x&&S.current&&x.update(r,m)});const j=r[Uw],A=C.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return D1(()=>{x&&(S.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),A.current&&x.animationState&&x.animationState.animateChanges())}),C.useEffect(()=>{x&&(!A.current&&x.animationState&&x.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),A.current=!1),x.enteringChildren=void 0)}),x}function SR(n,t,r,a){const{layoutId:l,layout:d,drag:h,dragConstraints:m,layoutScroll:y,layoutRoot:v,layoutCrossfade:x}=t;n.projection=new r(n.latestValues,t["data-framer-portal-id"]?void 0:Vw(n.parent)),n.projection.setOptions({layoutId:l,layout:d,alwaysMeasureLayout:!!h||m&&wo(m),visualElement:n,animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,crossfade:x,layoutScroll:y,layoutRoot:v})}function Vw(n){if(n)return n.options.allowProjection!==!1?n.projection:Vw(n.parent)}function Dp(n,{forwardMotionProps:t=!1}={},r,a){r&&Yk(r);const l=kg(n)?vR:yR;function d(m,y){let v;const x={...C.useContext(Tg),...m,layoutId:TR(m)},{isStatic:w}=x,S=tR(m),j=l(m,w);if(!w&&ig){ER();const A=jR(x);v=A.MeasureLayout,S.visualElement=wR(n,j,x,a,A.ProjectionNode)}return f.jsxs(dh.Provider,{value:S,children:[v&&S.visualElement?f.jsx(v,{visualElement:S.visualElement,...x}):null,pR(n,m,xR(j,S.visualElement,y),j,w,t)]})}d.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=C.forwardRef(d);return h[_R]=n,h}function TR({layoutId:n}){const t=C.useContext(tg).id;return t&&n!==void 0?t+"-"+n:n}function ER(n,t){C.useContext(kw).strict}function jR(n){const{drag:t,layout:r}=Mo;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t?.isEnabled(n)||r?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function CR(n,t){if(typeof Proxy>"u")return Dp;const r=new Map,a=(d,h)=>Dp(d,h,n,t),l=(d,h)=>a(d,h);return new Proxy(l,{get:(d,h)=>h==="create"?a:(r.has(h)||r.set(h,Dp(h,void 0,n,t)),r.get(h))})}function Hw({top:n,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:n,max:a}}}function AR({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function kR(n,t){if(!t)return n;const r=t({x:n.left,y:n.top}),a=t({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function Bp(n){return n===void 0||n===1}function jm({scale:n,scaleX:t,scaleY:r}){return!Bp(n)||!Bp(t)||!Bp(r)}function ma(n){return jm(n)||qw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function qw(n){return ix(n.x)||ix(n.y)}function ix(n){return n&&n!=="0%"}function Yd(n,t,r){const a=n-r,l=t*a;return r+l}function rx(n,t,r,a,l){return l!==void 0&&(n=Yd(n,l,a)),Yd(n,r,a)+t}function Cm(n,t=0,r=1,a,l){n.min=rx(n.min,t,r,a,l),n.max=rx(n.max,t,r,a,l)}function Fw(n,{x:t,y:r}){Cm(n.x,t.translate,t.scale,t.originPoint),Cm(n.y,r.translate,r.scale,r.originPoint)}const sx=.999999999999,ax=1.0000000000001;function RR(n,t,r,a=!1){const l=r.length;if(!l)return;t.x=t.y=1;let d,h;for(let m=0;m<l;m++){d=r[m],h=d.projectionDelta;const{visualElement:y}=d.options;y&&y.props.style&&y.props.style.display==="contents"||(a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&To(n,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,Fw(n,h)),a&&ma(d.latestValues)&&To(n,d.latestValues))}t.x<ax&&t.x>sx&&(t.x=1),t.y<ax&&t.y>sx&&(t.y=1)}function So(n,t){n.min=n.min+t,n.max=n.max+t}function ox(n,t,r,a,l=.5){const d=jt(n.min,n.max,l);Cm(n,t,r,d,a)}function To(n,t){ox(n.x,t.x,t.scaleX,t.scale,t.originX),ox(n.y,t.y,t.scaleY,t.scale,t.originY)}function Ww(n,t){return Hw(kR(n.getBoundingClientRect(),t))}function OR(n,t,r){const a=Ww(n,r),{scroll:l}=t;return l&&(So(a.x,l.offset.x),So(a.y,l.offset.y)),a}const lx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eo=()=>({x:lx(),y:lx()}),ux=()=>({min:0,max:0}),Gt=()=>({x:ux(),y:ux()}),Am={current:null},$w={current:!1};function MR(){if($w.current=!0,!!ig)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Am.current=n.matches;n.addEventListener("change",t),t()}else Am.current=!1}const LR=new WeakMap;function zR(n,t,r){for(const a in t){const l=t[a],d=r[a];if(hn(l))n.addValue(a,l);else if(hn(d))n.addValue(a,Oo(l,{owner:n}));else if(d!==l)if(n.hasValue(a)){const h=n.getValue(a);h.liveStyle===!0?h.jump(l):h.hasAnimated||h.set(l)}else{const h=n.getStaticValue(a);n.addValue(a,Oo(h!==void 0?h:l,{owner:n}))}}for(const a in r)t[a]===void 0&&n.removeValue(a);return t}const cx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PR{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:l,blockInitialAnimation:d,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_g,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=zn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,wt.render(this.render,!1,!0))};const{latestValues:y,renderState:v}=h;this.latestValues=y,this.baseTarget={...y},this.initialValues=r.initial?{...y}:{},this.renderState=v,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!d,this.isControllingVariants=fh(r),this.isVariantNode=Ow(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const S in w){const j=w[S];y[S]!==void 0&&hn(j)&&j.set(y[S])}}mount(t){this.current=t,LR.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),$w.current||MR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Am.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ms(this.notifyUpdate),ms(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Io.has(t);a&&this.onBindTransform&&this.onBindTransform();const l=r.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&wt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{l(),d&&d(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Mo){const r=Mo[t];if(!r)continue;const{isEnabled:a,Feature:l}=r;if(!this.features[t]&&l&&a(this.props)&&(this.features[t]=new l(this)),this.features[t]){const d=this.features[t];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<cx.length;a++){const l=cx[a];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const d="on"+l,h=t[d];h&&(this.propEventSubscriptions[l]=this.on(l,h))}this.prevMotionValues=zR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=Oo(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(B1(a)||U1(a))?a=parseFloat(a):!qk(a)&&gs.test(r)&&(a=bw(t,r)),this.setBaseTarget(t,hn(a)?a.get():a)),hn(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const d=Rg(this.props,r,this.presenceContext?.custom);d&&(a=d[t])}if(r&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!hn(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new lg),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){wg.render(this.render)}}class Zw extends PR{constructor(){super(...arguments),this.KeyframeResolver=Ok}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Gw(n,{style:t,vars:r},a,l){const d=n.style;let h;for(h in t)d[h]=t[h];l?.applyProjectionStyles(d,a);for(h in r)d.setProperty(h,r[h])}function DR(n){return window.getComputedStyle(n)}class BR extends Zw{constructor(){super(...arguments),this.type="html",this.renderInstance=Gw}readValueFromInstance(t,r){if(Io.has(r))return this.projection?.isProjecting?vm(r):YA(t,r);{const a=DR(t),l=(Q1(r)?a.getPropertyValue(r):a[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Ww(t,r)}build(t,r,a){Cg(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return Og(t,r,a)}}const Kw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NR(n,t,r,a){Gw(n,t,void 0,a);for(const l in t.attrs)n.setAttribute(Kw.has(l)?l:Mg(l),t.attrs[l])}class UR extends Zw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Io.has(r)){const a=xw(r);return a&&a.default||0}return r=Kw.has(r)?r:Mg(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return Nw(t,r,a)}build(t,r,a){zw(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,l){NR(t,r,a,l)}mount(t){this.isSVGTag=Dw(t.tagName),super.mount(t)}}const IR=(n,t)=>kg(n)?new UR(t):new BR(t,{allowProjection:n!==C.Fragment});function Ao(n,t,r){const a=n.getProps();return Rg(a,t,r!==void 0?r:a.custom,n)}const km=n=>Array.isArray(n);function VR(n,t,r){n.hasValue(t)?n.getValue(t).set(r):n.addValue(t,Oo(r))}function HR(n){return km(n)?n[n.length-1]||0:n}function qR(n,t){const r=Ao(n,t);let{transitionEnd:a={},transition:l={},...d}=r||{};d={...d,...a};for(const h in d){const m=HR(d[h]);VR(n,h,m)}}function FR(n){return!!(hn(n)&&n.add)}function Rm(n,t){const r=n.getValue("willChange");if(FR(r))return r.add(t);if(!r&&wr.WillChange){const a=new wr.WillChange("auto");n.addValue("willChange",a),a.add(t)}}function Yw(n){return n.props[Uw]}const WR=n=>n!==null;function $R(n,{repeat:t,repeatType:r="loop"},a){const l=n.filter(WR),d=t&&r!=="loop"&&t%2===1?0:l.length-1;return l[d]}const ZR={type:"spring",stiffness:500,damping:25,restSpeed:10},GR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),KR={type:"keyframes",duration:.8},YR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XR=(n,{keyframes:t})=>t.length>2?KR:Io.has(n)?n.startsWith("scale")?GR(t[1]):ZR:YR;function JR({when:n,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:l,repeat:d,repeatType:h,repeatDelay:m,from:y,elapsed:v,...x}){return!!Object.keys(x).length}const Lg=(n,t,r,a={},l,d)=>h=>{const m=xg(a,n)||{},y=m.delay||a.delay||0;let{elapsed:v=0}=a;v=v-qi(y);const x={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-v,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{h(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:d?void 0:l};JR(m)||Object.assign(x,XR(n,x)),x.duration&&(x.duration=qi(x.duration)),x.repeatDelay&&(x.repeatDelay=qi(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let w=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(Sm(x),x.delay===0&&(w=!0)),(wr.instantAnimations||wr.skipAnimations)&&(w=!0,Sm(x),x.delay=0),x.allowFlatten=!m.type&&!m.ease,w&&!d&&t.get()!==void 0){const S=$R(x.keyframes,m);if(S!==void 0){wt.update(()=>{x.onUpdate(S),x.onComplete()});return}}return m.isSync?new vg(x):new _k(x)};function QR({protectedKeys:n,needsAnimating:t},r){const a=n.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function Xw(n,t,{delay:r=0,transitionOverride:a,type:l}={}){let{transition:d=n.getDefaultTransition(),transitionEnd:h,...m}=t;a&&(d=a);const y=[],v=l&&n.animationState&&n.animationState.getState()[l];for(const x in m){const w=n.getValue(x,n.latestValues[x]??null),S=m[x];if(S===void 0||v&&QR(v,x))continue;const j={delay:r,...xg(d||{},x)},A=w.get();if(A!==void 0&&!w.isAnimating&&!Array.isArray(S)&&S===A&&!j.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const z=Yw(n);if(z){const P=window.MotionHandoffAnimation(z,x,wt);P!==null&&(j.startTime=P,k=!0)}}Rm(n,x),w.start(Lg(x,w,S,n.shouldReduceMotion&&yw.has(x)?{type:!1}:j,n,k));const R=w.animation;R&&y.push(R)}return h&&Promise.all(y).then(()=>{wt.update(()=>{h&&qR(n,h)})}),y}function Jw(n,t,r,a=0,l=1){const d=Array.from(n).sort((v,x)=>v.sortNodePosition(x)).indexOf(t),h=n.size,m=(h-1)*a;return typeof r=="function"?r(d,h):l===1?d*a:m-d*a}function Om(n,t,r={}){const a=Ao(n,t,r.type==="exit"?n.presenceContext?.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(l=r.transitionOverride);const d=a?()=>Promise.all(Xw(n,a,r)):()=>Promise.resolve(),h=n.variantChildren&&n.variantChildren.size?(y=0)=>{const{delayChildren:v=0,staggerChildren:x,staggerDirection:w}=l;return e5(n,t,y,v,x,w,r)}:()=>Promise.resolve(),{when:m}=l;if(m){const[y,v]=m==="beforeChildren"?[d,h]:[h,d];return y().then(()=>v())}else return Promise.all([d(),h(r.delay)])}function e5(n,t,r=0,a=0,l=0,d=1,h){const m=[];for(const y of n.variantChildren)y.notify("AnimationStart",t),m.push(Om(y,t,{...h,delay:r+(typeof a=="function"?0:a)+Jw(n.variantChildren,y,a,l,d)}).then(()=>y.notify("AnimationComplete",t)));return Promise.all(m)}function t5(n,t,r={}){n.notify("AnimationStart",t);let a;if(Array.isArray(t)){const l=t.map(d=>Om(n,d,r));a=Promise.all(l)}else if(typeof t=="string")a=Om(n,t,r);else{const l=typeof t=="function"?Ao(n,t,r.custom):t;a=Promise.all(Xw(n,l,r))}return a.then(()=>{n.notify("AnimationComplete",t)})}function Qw(n,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==n.length)return!1;for(let a=0;a<r;a++)if(t[a]!==n[a])return!1;return!0}const n5=jg.length;function eS(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?eS(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const t={};for(let r=0;r<n5;r++){const a=jg[r],l=n.props[a];(xu(l)||l===!1)&&(t[a]=l)}return t}const i5=[...Eg].reverse(),r5=Eg.length;function s5(n){return t=>Promise.all(t.map(({animation:r,options:a})=>t5(n,r,a)))}function a5(n){let t=s5(n),r=dx(),a=!0;const l=y=>(v,x)=>{const w=Ao(n,x,y==="exit"?n.presenceContext?.custom:void 0);if(w){const{transition:S,transitionEnd:j,...A}=w;v={...v,...A,...j}}return v};function d(y){t=y(n)}function h(y){const{props:v}=n,x=eS(n.parent)||{},w=[],S=new Set;let j={},A=1/0;for(let R=0;R<r5;R++){const z=i5[R],P=r[z],D=v[z]!==void 0?v[z]:x[z],W=xu(D),q=z===y?P.isActive:null;q===!1&&(A=R);let H=D===x[z]&&D!==v[z]&&W;if(H&&a&&n.manuallyAnimateOnMount&&(H=!1),P.protectedKeys={...j},!P.isActive&&q===null||!D&&!P.prevProp||hh(D)||typeof D=="boolean")continue;const Z=o5(P.prevProp,D);let ae=Z||z===y&&P.isActive&&!H&&W||R>A&&W,ye=!1;const be=Array.isArray(D)?D:[D];let oe=be.reduce(l(z),{});q===!1&&(oe={});const{prevResolvedValues:G={}}=P,de={...G,...oe},we=ie=>{ae=!0,S.has(ie)&&(ye=!0,S.delete(ie)),P.needsAnimating[ie]=!0;const ne=n.getValue(ie);ne&&(ne.liveStyle=!1)};for(const ie in de){const ne=oe[ie],Te=G[ie];if(j.hasOwnProperty(ie))continue;let pe=!1;km(ne)&&km(Te)?pe=!Qw(ne,Te):pe=ne!==Te,pe?ne!=null?we(ie):S.add(ie):ne!==void 0&&S.has(ie)?we(ie):P.protectedKeys[ie]=!0}P.prevProp=D,P.prevResolvedValues=oe,P.isActive&&(j={...j,...oe}),a&&n.blockInitialAnimation&&(ae=!1);const se=H&&Z;ae&&(!se||ye)&&w.push(...be.map(ie=>{const ne={type:z};if(typeof ie=="string"&&a&&!se&&n.manuallyAnimateOnMount&&n.parent){const{parent:Te}=n,pe=Ao(Te,ie);if(Te.enteringChildren&&pe){const{delayChildren:B}=pe.transition||{};ne.delay=Jw(Te.enteringChildren,n,B)}}return{animation:ie,options:ne}}))}if(S.size){const R={};if(typeof v.initial!="boolean"){const z=Ao(n,Array.isArray(v.initial)?v.initial[0]:v.initial);z&&z.transition&&(R.transition=z.transition)}S.forEach(z=>{const P=n.getBaseTarget(z),D=n.getValue(z);D&&(D.liveStyle=!0),R[z]=P??null}),w.push({animation:R})}let k=!!w.length;return a&&(v.initial===!1||v.initial===v.animate)&&!n.manuallyAnimateOnMount&&(k=!1),a=!1,k?t(w):Promise.resolve()}function m(y,v){if(r[y].isActive===v)return Promise.resolve();n.variantChildren?.forEach(w=>w.animationState?.setActive(y,v)),r[y].isActive=v;const x=h(y);for(const w in r)r[w].protectedKeys={};return x}return{animateChanges:h,setActive:m,setAnimateFunction:d,getState:()=>r,reset:()=>{r=dx()}}}function o5(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Qw(t,n):!1}function da(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dx(){return{animate:da(!0),whileInView:da(),whileHover:da(),whileTap:da(),whileDrag:da(),whileFocus:da(),exit:da()}}class vs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class l5 extends vs{constructor(t){super(t),t.animationState||(t.animationState=a5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let u5=0;class c5 extends vs{constructor(){super(...arguments),this.id=u5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const l=this.node.animationState.setActive("exit",!t);r&&!t&&l.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const d5={animation:{Feature:l5},exit:{Feature:c5}};function bu(n,t,r,a={passive:!0}){return n.addEventListener(t,r,a),()=>n.removeEventListener(t,r)}function Ou(n){return{point:{x:n.pageX,y:n.pageY}}}const h5=n=>t=>Sg(t)&&n(t,Ou(t));function du(n,t,r,a){return bu(n,t,h5(r),a)}const tS=1e-4,f5=1-tS,p5=1+tS,nS=.01,m5=0-nS,g5=0+nS;function _n(n){return n.max-n.min}function y5(n,t,r){return Math.abs(n-t)<=r}function hx(n,t,r,a=.5){n.origin=a,n.originPoint=jt(t.min,t.max,n.origin),n.scale=_n(r)/_n(t),n.translate=jt(r.min,r.max,n.origin)-n.originPoint,(n.scale>=f5&&n.scale<=p5||isNaN(n.scale))&&(n.scale=1),(n.translate>=m5&&n.translate<=g5||isNaN(n.translate))&&(n.translate=0)}function hu(n,t,r,a){hx(n.x,t.x,r.x,a?a.originX:void 0),hx(n.y,t.y,r.y,a?a.originY:void 0)}function fx(n,t,r){n.min=r.min+t.min,n.max=n.min+_n(t)}function v5(n,t,r){fx(n.x,t.x,r.x),fx(n.y,t.y,r.y)}function px(n,t,r){n.min=t.min-r.min,n.max=n.min+_n(t)}function Xd(n,t,r){px(n.x,t.x,r.x),px(n.y,t.y,r.y)}function ri(n){return[n("x"),n("y")]}const iS=({current:n})=>n?n.ownerDocument.defaultView:null,mx=(n,t)=>Math.abs(n-t);function _5(n,t){const r=mx(n.x,t.x),a=mx(n.y,t.y);return Math.sqrt(r**2+a**2)}class rS{constructor(t,r,{transformPagePoint:a,contextWindow:l=window,dragSnapToOrigin:d=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Up(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,A=_5(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!A)return;const{point:k}=S,{timestamp:R}=on;this.history.push({...k,timestamp:R});const{onStart:z,onMove:P}=this.handlers;j||(z&&z(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,S)},this.handlePointerMove=(S,j)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Np(j,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(S,j)=>{this.end();const{onEnd:A,onSessionEnd:k,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Up(S.type==="pointercancel"?this.lastMoveEventInfo:Np(j,this.transformPagePoint),this.history);this.startEvent&&A&&A(S,z),k&&k(S,z)},!Sg(t))return;this.dragSnapToOrigin=d,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=h,this.contextWindow=l||window;const m=Ou(t),y=Np(m,this.transformPagePoint),{point:v}=y,{timestamp:x}=on;this.history=[{...v,timestamp:x}];const{onSessionStart:w}=r;w&&w(t,Up(y,this.history)),this.removeListeners=Cu(du(this.contextWindow,"pointermove",this.handlePointerMove),du(this.contextWindow,"pointerup",this.handlePointerUp),du(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ms(this.updatePoint)}}function Np(n,t){return t?{point:t(n.point)}:n}function gx(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Up({point:n},t){return{point:n,delta:gx(n,sS(t)),offset:gx(n,x5(t)),velocity:b5(t,.1)}}function x5(n){return n[0]}function sS(n){return n[n.length-1]}function b5(n,t){if(n.length<2)return{x:0,y:0};let r=n.length-1,a=null;const l=sS(n);for(;r>=0&&(a=n[r],!(l.timestamp-a.timestamp>qi(t)));)r--;if(!a)return{x:0,y:0};const d=si(l.timestamp-a.timestamp);if(d===0)return{x:0,y:0};const h={x:(l.x-a.x)/d,y:(l.y-a.y)/d};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function w5(n,{min:t,max:r},a){return t!==void 0&&n<t?n=a?jt(t,n,a.min):Math.max(n,t):r!==void 0&&n>r&&(n=a?jt(r,n,a.max):Math.min(n,r)),n}function yx(n,t,r){return{min:t!==void 0?n.min+t:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function S5(n,{top:t,left:r,bottom:a,right:l}){return{x:yx(n.x,r,l),y:yx(n.y,t,a)}}function vx(n,t){let r=t.min-n.min,a=t.max-n.max;return t.max-t.min<n.max-n.min&&([r,a]=[a,r]),{min:r,max:a}}function T5(n,t){return{x:vx(n.x,t.x),y:vx(n.y,t.y)}}function E5(n,t){let r=.5;const a=_n(n),l=_n(t);return l>a?r=yu(t.min,t.max-a,n.min):a>l&&(r=yu(n.min,n.max-l,t.min)),br(0,1,r)}function j5(n,t){const r={};return t.min!==void 0&&(r.min=t.min-n.min),t.max!==void 0&&(r.max=t.max-n.min),r}const Mm=.35;function C5(n=Mm){return n===!1?n=0:n===!0&&(n=Mm),{x:_x(n,"left","right"),y:_x(n,"top","bottom")}}function _x(n,t,r){return{min:xx(n,t),max:xx(n,r)}}function xx(n,t){return typeof n=="number"?n:n[t]||0}const A5=new WeakMap;class k5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const d=w=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ou(w).point)},h=(w,S)=>{const{drag:j,dragPropagation:A,onDragStart:k}=this.getProps();if(j&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Pk(j),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(z=>{let P=this.getAxisMotionValue(z).get()||0;if(Fi.test(P)){const{projection:D}=this.visualElement;if(D&&D.layout){const W=D.layout.layoutBox[z];W&&(P=_n(W)*(parseFloat(P)/100))}}this.originPoint[z]=P}),k&&wt.postRender(()=>k(w,S)),Rm(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},m=(w,S)=>{this.latestPointerEvent=w,this.latestPanInfo=S;const{dragPropagation:j,dragDirectionLock:A,onDirectionLock:k,onDrag:R}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:z}=S;if(A&&this.currentDirection===null){this.currentDirection=R5(z),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",S.point,z),this.updateAxis("y",S.point,z),this.visualElement.render(),R&&R(w,S)},y=(w,S)=>{this.latestPointerEvent=w,this.latestPanInfo=S,this.stop(w,S),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>ri(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new rS(t,{onSessionStart:d,onStart:h,onMove:m,onSessionEnd:y,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:a,contextWindow:iS(this.visualElement)})}stop(t,r){const a=t||this.latestPointerEvent,l=r||this.latestPanInfo,d=this.isDragging;if(this.cancel(),!d||!l||!a)return;const{velocity:h}=l;this.startAnimation(h);const{onDragEnd:m}=this.getProps();m&&wt.postRender(()=>m(a,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:l}=this.getProps();if(!a||!Sd(t,l,this.currentDirection))return;const d=this.getAxisMotionValue(t);let h=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(h=w5(h,this.constraints[t],this.elastic[t])),d.set(h)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&wo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=S5(a.layoutBox,t):this.constraints=!1,this.elastic=C5(r),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ri(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=j5(a.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!wo(t))return!1;const a=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const d=OR(a,l.root,this.visualElement.getTransformPagePoint());let h=T5(l.layout.layoutBox,d);if(r){const m=r(AR(h));this.hasMutatedConstraints=!!m,m&&(h=Hw(m))}return h}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:l,dragTransition:d,dragSnapToOrigin:h,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},v=ri(x=>{if(!Sd(x,r,this.currentDirection))return;let w=y&&y[x]||{};h&&(w={min:0,max:0});const S=l?200:1e6,j=l?40:1e7,A={type:"inertia",velocity:a?t[x]:0,bounceStiffness:S,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...d,...w};return this.startAxisValueAnimation(x,A)});return Promise.all(v).then(m)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return Rm(this.visualElement,t),a.start(Lg(t,a,0,r,this.visualElement,!1))}stopAnimation(){ri(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ri(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),l=a[r];return l||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){ri(r=>{const{drag:a}=this.getProps();if(!Sd(r,a,this.currentDirection))return;const{projection:l}=this.visualElement,d=this.getAxisMotionValue(r);if(l&&l.layout){const{min:h,max:m}=l.layout.layoutBox[r];d.set(t[r]-jt(h,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!wo(r)||!a||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};ri(h=>{const m=this.getAxisMotionValue(h);if(m&&this.constraints!==!1){const y=m.get();l[h]=E5({min:y,max:y},this.constraints[h])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),ri(h=>{if(!Sd(h,t,null))return;const m=this.getAxisMotionValue(h),{min:y,max:v}=this.constraints[h];m.set(jt(y,v,l[h]))})}addListeners(){if(!this.visualElement.current)return;A5.set(this.visualElement,this);const t=this.visualElement.current,r=du(t,"pointerdown",y=>{const{drag:v,dragListener:x=!0}=this.getProps();v&&x&&this.start(y)}),a=()=>{const{dragConstraints:y}=this.getProps();wo(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,d=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),wt.read(a);const h=bu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:v})=>{this.isDragging&&v&&(ri(x=>{const w=this.getAxisMotionValue(x);w&&(this.originPoint[x]+=y[x].translate,w.set(w.get()+y[x].translate))}),this.visualElement.render())}));return()=>{h(),r(),d(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:d=!1,dragElastic:h=Mm,dragMomentum:m=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:l,dragConstraints:d,dragElastic:h,dragMomentum:m}}}function Sd(n,t,r){return(t===!0||t===n)&&(r===null||r===n)}function R5(n,t=10){let r=null;return Math.abs(n.y)>t?r="y":Math.abs(n.x)>t&&(r="x"),r}class O5 extends vs{constructor(t){super(t),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new k5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const bx=n=>(t,r)=>{n&&wt.postRender(()=>n(t,r))};class M5 extends vs{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(t){this.session=new rS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:l}=this.node.getProps();return{onSessionStart:bx(t),onStart:bx(r),onMove:a,onEnd:(d,h)=>{delete this.session,l&&wt.postRender(()=>l(d,h))}}}mount(){this.removePointerDownListener=du(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ip=!1;class L5 extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:l}=this.props,{projection:d}=t;d&&(r.group&&r.group.add(d),a&&a.register&&l&&a.register(d),Ip&&d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:l,isPresent:d}=this.props,{projection:h}=a;return h&&(h.isPresent=d,Ip=!0,l||t.layoutDependency!==r||r===void 0||t.isPresent!==d?h.willUpdate():this.safeToRemove(),t.isPresent!==d&&(d?h.promote():h.relegate()||wt.postRender(()=>{const m=h.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:l}=t;Ip=!0,l&&(l.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(l),a&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aS(n){const[t,r]=Aw(),a=C.useContext(tg);return f.jsx(L5,{...n,layoutGroup:a,switchLayoutGroup:C.useContext(Iw),isPresent:t,safeToRemove:r})}function z5(n,t,r){const a=hn(n)?n:Oo(n);return a.start(Lg("",a,t,r)),a.animation}const P5=(n,t)=>n.depth-t.depth;class D5{constructor(){this.children=[],this.isDirty=!1}add(t){rg(this.children,t),this.isDirty=!0}remove(t){sg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(P5),this.isDirty=!1,this.children.forEach(t)}}function B5(n,t){const r=zn.now(),a=({timestamp:l})=>{const d=l-r;d>=t&&(ms(a),n(d-t))};return wt.setup(a,!0),()=>ms(a)}const oS=["TopLeft","TopRight","BottomLeft","BottomRight"],N5=oS.length,wx=n=>typeof n=="string"?parseFloat(n):n,Sx=n=>typeof n=="number"||Pe.test(n);function U5(n,t,r,a,l,d){l?(n.opacity=jt(0,r.opacity??1,I5(a)),n.opacityExit=jt(t.opacity??1,0,V5(a))):d&&(n.opacity=jt(t.opacity??1,r.opacity??1,a));for(let h=0;h<N5;h++){const m=`border${oS[h]}Radius`;let y=Tx(t,m),v=Tx(r,m);if(y===void 0&&v===void 0)continue;y||(y=0),v||(v=0),y===0||v===0||Sx(y)===Sx(v)?(n[m]=Math.max(jt(wx(y),wx(v),a),0),(Fi.test(v)||Fi.test(y))&&(n[m]+="%")):n[m]=v}(t.rotate||r.rotate)&&(n.rotate=jt(t.rotate||0,r.rotate||0,a))}function Tx(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const I5=lS(0,.5,Z1),V5=lS(.5,.95,ai);function lS(n,t,r){return a=>a<n?0:a>t?1:r(yu(n,t,a))}function Ex(n,t){n.min=t.min,n.max=t.max}function bi(n,t){Ex(n.x,t.x),Ex(n.y,t.y)}function jx(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function Cx(n,t,r,a,l){return n-=t,n=Yd(n,1/r,a),l!==void 0&&(n=Yd(n,1/l,a)),n}function H5(n,t=0,r=1,a=.5,l,d=n,h=n){if(Fi.test(t)&&(t=parseFloat(t),t=jt(h.min,h.max,t/100)-h.min),typeof t!="number")return;let m=jt(d.min,d.max,a);n===d&&(m-=t),n.min=Cx(n.min,t,r,m,l),n.max=Cx(n.max,t,r,m,l)}function Ax(n,t,[r,a,l],d,h){H5(n,t[r],t[a],t[l],t.scale,d,h)}const q5=["x","scaleX","originX"],F5=["y","scaleY","originY"];function kx(n,t,r,a){Ax(n.x,t,q5,r?r.x:void 0,a?a.x:void 0),Ax(n.y,t,F5,r?r.y:void 0,a?a.y:void 0)}function Rx(n){return n.translate===0&&n.scale===1}function uS(n){return Rx(n.x)&&Rx(n.y)}function Ox(n,t){return n.min===t.min&&n.max===t.max}function W5(n,t){return Ox(n.x,t.x)&&Ox(n.y,t.y)}function Mx(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function cS(n,t){return Mx(n.x,t.x)&&Mx(n.y,t.y)}function Lx(n){return _n(n.x)/_n(n.y)}function zx(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class $5{constructor(){this.members=[]}add(t){rg(this.members,t),t.scheduleRender()}remove(t){if(sg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(l=>t===l);if(r===0)return!1;let a;for(let l=r;l>=0;l--){const d=this.members[l];if(d.isPresent!==!1){a=d;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z5(n,t,r){let a="";const l=n.x.translate/t.x,d=n.y.translate/t.y,h=r?.z||0;if((l||d||h)&&(a=`translate3d(${l}px, ${d}px, ${h}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:v,rotate:x,rotateX:w,rotateY:S,skewX:j,skewY:A}=r;v&&(a=`perspective(${v}px) ${a}`),x&&(a+=`rotate(${x}deg) `),w&&(a+=`rotateX(${w}deg) `),S&&(a+=`rotateY(${S}deg) `),j&&(a+=`skewX(${j}deg) `),A&&(a+=`skewY(${A}deg) `)}const m=n.x.scale*t.x,y=n.y.scale*t.y;return(m!==1||y!==1)&&(a+=`scale(${m}, ${y})`),a||"none"}const Vp=["","X","Y","Z"],G5=1e3;let K5=0;function Hp(n,t,r,a){const{latestValues:l}=t;l[n]&&(r[n]=l[n],t.setStaticValue(n,0),a&&(a[n]=0))}function dS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const r=Yw(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:l,layoutId:d}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",wt,!(l||d))}const{parent:a}=n;a&&!a.hasCheckedOptimisedAppear&&dS(a)}function hS({attachResizeListener:n,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:l}){return class{constructor(h={},m=t?.()){this.id=K5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J5),this.nodes.forEach(nO),this.nodes.forEach(iO),this.nodes.forEach(Q5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new D5)}addEventListener(h,m){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new lg),this.eventHandlers.get(h).add(m)}notifyListeners(h,...m){const y=this.eventHandlers.get(h);y&&y.notify(...m)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=Cw(h)&&!Vk(h),this.instance=h;const{layoutId:m,layout:y,visualElement:v}=this.options;if(v&&!v.current&&v.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),n){let x,w=0;const S=()=>this.root.updateBlockedByResize=!1;wt.read(()=>{w=window.innerWidth}),n(h,()=>{const j=window.innerWidth;j!==w&&(w=j,this.root.updateBlockedByResize=!0,x&&x(),x=B5(S,250),zd.hasAnimatedSinceResize&&(zd.hasAnimatedSinceResize=!1,this.nodes.forEach(Bx)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||y)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:w,hasRelativeLayoutChanged:S,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||v.getDefaultTransition()||lO,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=v.getProps(),z=!this.targetLayout||!cS(this.targetLayout,j),P=!w&&S;if(this.options.layoutRoot||this.resumeFrom||P||w&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...xg(A,"layout"),onPlay:k,onComplete:R};(v.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(x,P)}else w||Bx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rO),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const w=this.path[x];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Px);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Dx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tO),this.nodes.forEach(Y5),this.nodes.forEach(X5)):this.nodes.forEach(Dx),this.clearAllSnapshots();const m=zn.now();on.delta=br(0,1e3/60,m-on.timestamp),on.timestamp=m,on.isProcessing=!0,Rp.update.process(on),Rp.preRender.process(on),Rp.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eO),this.sharedNodes.forEach(sO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(m=!1),m&&this.instance){const y=a(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:y,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!l)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!uS(this.projectionDelta),y=this.getTransformTemplate(),v=y?y(this.latestValues,""):void 0,x=v!==this.prevTransformTemplateValue;h&&this.instance&&(m||ma(this.latestValues)||x)&&(l(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return h&&(y=this.removeTransform(y)),uO(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return Gt();const m=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cO))){const{scroll:v}=this.root;v&&(So(m.x,v.offset.x),So(m.y,v.offset.y))}return m}removeElementScroll(h){const m=Gt();if(bi(m,h),this.scroll?.wasRoot)return m;for(let y=0;y<this.path.length;y++){const v=this.path[y],{scroll:x,options:w}=v;v!==this.root&&x&&w.layoutScroll&&(x.wasRoot&&bi(m,h),So(m.x,x.offset.x),So(m.y,x.offset.y))}return m}applyTransform(h,m=!1){const y=Gt();bi(y,h);for(let v=0;v<this.path.length;v++){const x=this.path[v];!m&&x.options.layoutScroll&&x.scroll&&x!==x.root&&To(y,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),ma(x.latestValues)&&To(y,x.latestValues)}return ma(this.latestValues)&&To(y,this.latestValues),y}removeTransform(h){const m=Gt();bi(m,h);for(let y=0;y<this.path.length;y++){const v=this.path[y];if(!v.instance||!ma(v.latestValues))continue;jm(v.latestValues)&&v.updateSnapshot();const x=Gt(),w=v.measurePageBox();bi(x,w),kx(m,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,x)}return ma(this.latestValues)&&kx(m,this.latestValues),m}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(h||y&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:w}=this.options;if(!this.layout||!(x||w))return;this.resolvedRelativeTargetAt=on.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),Fw(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||jm(this.parent.latestValues)||qw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(h,m,y){this.relativeParent=h,this.linkedParentVersion=h.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),Xd(this.relativeTargetOrigin,m,y),bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const h=this.getLead(),m=!!this.resumingFrom||this!==h;let y=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===on.timestamp&&(y=!1),y)return;const{layout:v,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||x))return;bi(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,S=this.treeScale.y;RR(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Gt());const{target:j}=h;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jx(this.prevProjectionDelta.x,this.projectionDelta.x),jx(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==S||!zx(this.projectionDelta.x,this.prevProjectionDelta.x)||!zx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Eo(),this.projectionDelta=Eo(),this.projectionDeltaWithTransform=Eo()}setAnimationOrigin(h,m=!1){const y=this.snapshot,v=y?y.latestValues:{},x={...this.latestValues},w=Eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=Gt(),j=y?y.source:void 0,A=this.layout?this.layout.source:void 0,k=j!==A,R=this.getStack(),z=!R||R.members.length<=1,P=!!(k&&!z&&this.options.crossfade===!0&&!this.path.some(oO));this.animationProgress=0;let D;this.mixTargetDelta=W=>{const q=W/1e3;Nx(w.x,h.x,q),Nx(w.y,h.y,q),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xd(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aO(this.relativeTarget,this.relativeTargetOrigin,S,q),D&&W5(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Gt()),bi(D,this.relativeTarget)),k&&(this.animationValues=x,U5(x,v,this.latestValues,q,P,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{zd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oo(0)),this.currentAnimation=z5(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),h.onUpdate&&h.onUpdate(m)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:m,target:y,layout:v,latestValues:x}=h;if(!(!m||!y||!v)){if(this!==h&&this.layout&&v&&fS(this.options.animationType,this.layout.layoutBox,v.layoutBox)){y=this.target||Gt();const w=_n(this.layout.layoutBox.x);y.x.min=h.target.x.min,y.x.max=y.x.min+w;const S=_n(this.layout.layoutBox.y);y.y.min=h.target.y.min,y.y.max=y.y.min+S}bi(m,y),To(m,x),hu(this.projectionDeltaWithTransform,this.layoutCorrected,m,x)}}registerSharedNode(h,m){this.sharedNodes.has(h)||this.sharedNodes.set(h,new $5),this.sharedNodes.get(h).add(m);const v=m.options.initialPromotionConfig;m.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(m):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:m,preserveFollowOpacity:y}={}){const v=this.getStack();v&&v.promote(this,y),h&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let m=!1;const{latestValues:y}=h;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const v={};y.z&&Hp("z",h,v,this.animationValues);for(let x=0;x<Vp.length;x++)Hp(`rotate${Vp[x]}`,h,v,this.animationValues),Hp(`skew${Vp[x]}`,h,v,this.animationValues);h.render();for(const x in v)h.setStaticValue(x,v[x]),this.animationValues&&(this.animationValues[x]=v[x]);h.scheduleRender()}applyProjectionStyles(h,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=Ld(m?.pointerEvents)||"",h.transform=y?y(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Ld(m?.pointerEvents)||""),this.hasProjected&&!ma(this.latestValues)&&(h.transform=y?y({},""):"none",this.hasProjected=!1);return}h.visibility="";const x=v.animationValues||v.latestValues;this.applyTransformsToTarget();let w=Z5(this.projectionDeltaWithTransform,this.treeScale,x);y&&(w=y(x,w)),h.transform=w;const{x:S,y:j}=this.projectionDelta;h.transformOrigin=`${S.origin*100}% ${j.origin*100}% 0`,v.animationValues?h.opacity=v===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const A in Em){if(x[A]===void 0)continue;const{correct:k,applyTo:R,isCSSVariable:z}=Em[A],P=w==="none"?x[A]:k(x[A],v);if(R){const D=R.length;for(let W=0;W<D;W++)h[R[W]]=P}else z?this.options.visualElement.renderState.vars[A]=P:h[A]=P}this.options.layoutId&&(h.pointerEvents=v===this?Ld(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(Px),this.root.sharedNodes.clear()}}}function Y5(n){n.updateLayout()}function X5(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:l}=n.options,d=t.source!==n.layout.source;l==="size"?ri(x=>{const w=d?t.measuredBox[x]:t.layoutBox[x],S=_n(w);w.min=r[x].min,w.max=w.min+S}):fS(l,t.layoutBox,r)&&ri(x=>{const w=d?t.measuredBox[x]:t.layoutBox[x],S=_n(r[x]);w.max=w.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[x].max=n.relativeTarget[x].min+S)});const h=Eo();hu(h,r,t.layoutBox);const m=Eo();d?hu(m,n.applyTransform(a,!0),t.measuredBox):hu(m,r,t.layoutBox);const y=!uS(h);let v=!1;if(!n.resumeFrom){const x=n.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:w,layout:S}=x;if(w&&S){const j=Gt();Xd(j,t.layoutBox,w.layoutBox);const A=Gt();Xd(A,r,S.layoutBox),cS(j,A)||(v=!0),x.options.layoutRoot&&(n.relativeTarget=A,n.relativeTargetOrigin=j,n.relativeParent=x)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:h,hasLayoutChanged:y,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function J5(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Q5(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function eO(n){n.clearSnapshot()}function Px(n){n.clearMeasurements()}function Dx(n){n.isLayoutDirty=!1}function tO(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function Bx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function nO(n){n.resolveTargetDelta()}function iO(n){n.calcProjection()}function rO(n){n.resetSkewAndRotation()}function sO(n){n.removeLeadSnapshot()}function Nx(n,t,r){n.translate=jt(t.translate,0,r),n.scale=jt(t.scale,1,r),n.origin=t.origin,n.originPoint=t.originPoint}function Ux(n,t,r,a){n.min=jt(t.min,r.min,a),n.max=jt(t.max,r.max,a)}function aO(n,t,r,a){Ux(n.x,t.x,r.x,a),Ux(n.y,t.y,r.y,a)}function oO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const lO={duration:.45,ease:[.4,0,.1,1]},Ix=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Vx=Ix("applewebkit/")&&!Ix("chrome/")?Math.round:ai;function Hx(n){n.min=Vx(n.min),n.max=Vx(n.max)}function uO(n){Hx(n.x),Hx(n.y)}function fS(n,t,r){return n==="position"||n==="preserve-aspect"&&!y5(Lx(t),Lx(r),.2)}function cO(n){return n!==n.root&&n.scroll?.wasRoot}const dO=hS({attachResizeListener:(n,t)=>bu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qp={current:void 0},pS=hS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!qp.current){const n=new dO({});n.mount(window),n.setOptions({layoutScroll:!0}),qp.current=n}return qp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),hO={pan:{Feature:M5},drag:{Feature:O5,ProjectionNode:pS,MeasureLayout:aS}};function qx(n,t,r){const{props:a}=n;n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",r==="Start");const l="onHover"+r,d=a[l];d&&wt.postRender(()=>d(t,Ou(t)))}class fO extends vs{mount(){const{current:t}=this.node;t&&(this.unmount=Dk(t,(r,a)=>(qx(this.node,a,"Start"),l=>qx(this.node,l,"End"))))}unmount(){}}class pO extends vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cu(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fx(n,t,r){const{props:a}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&a.whileTap&&n.animationState.setActive("whileTap",r==="Start");const l="onTap"+(r==="End"?"":r),d=a[l];d&&wt.postRender(()=>d(t,Ou(t)))}class mO extends vs{mount(){const{current:t}=this.node;t&&(this.unmount=Ik(t,(r,a)=>(Fx(this.node,a,"Start"),(l,{success:d})=>Fx(this.node,l,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lm=new WeakMap,Fp=new WeakMap,gO=n=>{const t=Lm.get(n.target);t&&t(n)},yO=n=>{n.forEach(gO)};function vO({root:n,...t}){const r=n||document;Fp.has(r)||Fp.set(r,{});const a=Fp.get(r),l=JSON.stringify(t);return a[l]||(a[l]=new IntersectionObserver(yO,{root:n,...t})),a[l]}function _O(n,t,r){const a=vO(t);return Lm.set(n,r),a.observe(n),()=>{Lm.delete(n),a.unobserve(n)}}const xO={some:0,all:1};class bO extends vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:l="some",once:d}=t,h={root:r?r.current:void 0,rootMargin:a,threshold:typeof l=="number"?l:xO[l]},m=y=>{const{isIntersecting:v}=y;if(this.isInView===v||(this.isInView=v,d&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:x,onViewportLeave:w}=this.node.getProps(),S=v?x:w;S&&S(y)};return _O(this.node.current,h,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(wO(t,r))&&this.startObserver()}unmount(){}}function wO({viewport:n={}},{viewport:t={}}={}){return r=>n[r]!==t[r]}const SO={inView:{Feature:bO},tap:{Feature:mO},focus:{Feature:pO},hover:{Feature:fO}},TO={layout:{ProjectionNode:pS,MeasureLayout:aS}},EO={...d5,...SO,...hO,...TO},fe=CR(EO,IR);const jO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),Wx=n=>{const t=CO(n);return t.charAt(0).toUpperCase()+t.slice(1)},mS=(...n)=>n.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),AO=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var kO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RO=C.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:d,iconNode:h,...m},y)=>C.createElement("svg",{ref:y,...kO,width:t,height:t,stroke:n,strokeWidth:a?Number(r)*24/Number(t):r,className:mS("lucide",l),...!d&&!AO(m)&&{"aria-hidden":"true"},...m},[...h.map(([v,x])=>C.createElement(v,x)),...Array.isArray(d)?d:[d]]));const je=(n,t)=>{const r=C.forwardRef(({className:a,...l},d)=>C.createElement(RO,{ref:d,iconNode:t,className:mS(`lucide-${jO(Wx(n))}`,`lucide-${n}`,a),...l}));return r.displayName=Wx(n),r};const OO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_s=je("arrow-left",OO);const MO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LO=je("arrow-right",MO);const zO=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],PO=je("award",zO);const DO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jd=je("bell",DO);const BO=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Mu=je("camera",BO);const NO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zm=je("check",NO);const UO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Lu=je("chevron-left",UO);const IO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ds=je("chevron-right",IO);const VO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],HO=je("circle-alert",VO);const qO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gS=je("circle-check-big",qO);const FO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yS=je("circle-x",FO);const WO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qd=je("clock",WO);const $O=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],ZO=je("coffee",$O);const GO=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vS=je("compass",GO);const KO=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],YO=je("crop",KO);const XO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],JO=je("crosshair",XO);const QO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_S=je("crown",QO);const eM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xS=je("dollar-sign",eM);const tM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bS=je("eye",tM);const nM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zg=je("file-text",nM);const iM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Pm=je("globe",iM);const rM=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Sr=je("heart",rM);const sM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Pg=je("house",sM);const aM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$x=je("image",aM);const oM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lM=je("info",oM);const uM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],wS=je("instagram",uM);const cM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],dM=je("layers",cM);const hM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ph=je("loader",hM);const fM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pM=je("lock",fM);const mM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gM=je("log-out",mM);const yM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vM=je("mail",yM);const _M=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pn=je("map-pin",_M);const xM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Dg=je("map",xM);const bM=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],zu=je("message-circle",bM);const wM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],SS=je("message-square",wM);const SM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],TM=je("moon",SM);const EM=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],TS=je("navigation",EM);const jM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],CM=je("pause",jM);const AM=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Bg=je("pen-line",AM);const kM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],eh=je("phone",kM);const RM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],OM=je("play",RM);const MM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sa=je("plus",MM);const LM=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],zM=je("rotate-cw",LM);const PM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],th=je("search",PM);const DM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ES=je("send",DM);const BM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],NM=je("settings",BM);const UM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],IM=je("shield-alert",UM);const VM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dm=je("shield",VM);const HM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qM=je("sparkles",HM);const FM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wi=je("star",FM);const WM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$M=je("sun",WM);const ZM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],nh=je("tag",ZM);const GM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ng=je("trash-2",GM);const KM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],jS=je("trending-up",KM);const YM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],XM=je("triangle-alert",YM);const JM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],CS=je("trophy",JM);const QM=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],eL=je("user-check",QM);const tL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$i=je("user",tL);const nL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vo=je("users",nL);const iL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Er=je("x",iL);const rL=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],sL=je("youtube",rL);const aL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],oL=je("zap",aL),lL=()=>{const{signInWithGoogle:n,user:t,loading:r}=Mt(),a=vt(),[l,d]=C.useState(!1);C.useEffect(()=>{t&&(console.log("User logged in, redirecting to home:",t),a("/en/home"))},[t,a]);const h=async()=>{d(!0);try{console.log("Starting Google sign in..."),await n(),console.log("Google sign in initiated")}catch(m){console.error("Login error:",m),d(!1)}};return r?f.jsx("div",{style:{minHeight:"100vh",background:"var(--bg-white)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx("div",{children:"Loading..."})}):f.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",textAlign:"center",position:"relative",overflow:"hidden"},children:[f.jsx(fe.div,{animate:{rotate:360},transition:{repeat:1/0,duration:20,ease:"linear"},style:{position:"absolute",top:"-100px",right:"-100px",width:"300px",height:"300px",borderRadius:"50%",background:"rgba(239, 42, 57, 0.05)",zIndex:0}}),f.jsx(fe.div,{animate:{rotate:-360},transition:{repeat:1/0,duration:25,ease:"linear"},style:{position:"absolute",bottom:"-80px",left:"-80px",width:"250px",height:"250px",borderRadius:"50%",background:"rgba(239, 42, 57, 0.05)",zIndex:0}}),f.jsxs(fe.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:12},style:{marginBottom:"40px",zIndex:1},children:[f.jsx(fe.div,{animate:{opacity:[.9,1,.9]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},style:{position:"relative",width:"120px",height:"120px",margin:"0 auto",background:"white",borderRadius:"24px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"var(--shadow-lg)",marginBottom:"24px",border:"3px solid var(--secondary)"},children:f.jsx(fe.img,{src:"./chai_icon.png",alt:"Chai-in Logo",style:{width:"80px",height:"80px",objectFit:"contain"},animate:{opacity:[.8,1,.8]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},onError:m=>{m.target.style.display="none",m.target.parentElement.innerHTML='<div style="font-size: 48px; color: var(--primary);"></div>'}})}),f.jsx("h1",{style:{marginTop:"20px",fontSize:"2.5rem",fontWeight:"900",color:"var(--primary)",letterSpacing:"-1px",marginBottom:"8px"},children:"Chai-in"}),f.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.1rem",fontWeight:"600"},children:"Discover Kerala's Best Eats"})]}),f.jsxs(fe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},style:{width:"100%",maxWidth:"350px",zIndex:1},children:[f.jsx(fe.button,{whileTap:{scale:.98},whileHover:{scale:1.02},onClick:h,disabled:l,style:{width:"100%",padding:"18px",borderRadius:"24px",background:"var(--primary)",color:"white",border:"none",fontSize:"1.1rem",fontWeight:"800",boxShadow:"var(--shadow-lg)",cursor:l?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",transition:"all 0.3s ease"},children:l?f.jsx(fe.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},children:f.jsx(fe.img,{src:"./chai_icon.png",alt:"Loading",style:{width:"24px",height:"24px",objectFit:"contain",filter:"brightness(0) invert(1)"},onError:m=>{m.target.style.display="none",m.target.parentElement.innerHTML='<div style="font-size: 24px; color: white;"></div>'}})}):f.jsxs(f.Fragment,{children:[f.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",width:"20",alt:"Google"}),"Sign in with Google"]})}),f.jsxs("div",{style:{marginTop:"32px",display:"flex",justifyContent:"center",gap:"24px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[f.jsxs(fe.div,{whileHover:{scale:1.1},style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx(Pn,{size:16,color:"var(--primary)"}),f.jsx("span",{children:"Discover"})]}),f.jsxs(fe.div,{whileHover:{scale:1.1},style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx(Wi,{size:16,color:"var(--primary)"}),f.jsx("span",{children:"Rate"})]}),f.jsxs(fe.div,{whileHover:{scale:1.1},style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx(Sr,{size:16,color:"var(--primary)"}),f.jsx("span",{children:"Share"})]})]}),f.jsx("p",{style:{marginTop:"24px",color:"var(--text-muted)",fontSize:"0.9rem",lineHeight:"1.5"},children:"Join thousands of foodies exploring Kerala's hidden gems"})]})]})},AS=({images:n,interval:t=3e3,showControls:r=!1})=>{const a=n&&n.length>0?n.slice(0,5):["https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&q=80"],[l,d]=C.useState(0),[h,m]=C.useState(!0);C.useEffect(()=>{let v;return h&&a.length>1&&(v=setInterval(()=>{d(x=>(x+1)%a.length)},t)),()=>clearInterval(v)},[h,a.length,t]);const y=v=>{v.stopPropagation(),m(!h)};return a.length===0?null:f.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[a.map((v,x)=>f.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:x===l?1:0,transition:"opacity 0.5s ease-in-out",pointerEvents:"none"},children:f.jsx("img",{src:v,alt:`Slide ${x+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},x)),r&&a.length>1&&f.jsx("button",{onClick:y,style:{position:"absolute",bottom:"20px",left:"20px",background:"rgba(0, 0, 0, 0.5)",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:20,color:"white",backdropFilter:"blur(4px)"},children:h?f.jsx(CM,{size:16,fill:"white"}):f.jsx(OM,{size:16,fill:"white"})}),a.length>1&&f.jsx("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"6px",zIndex:20},children:a.map((v,x)=>f.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:x===l?"white":"rgba(255,255,255,0.4)",transition:"background 0.3s"}},x))})]})},uL=({rating:n=0,onRatingChange:t,readonly:r=!1,size:a=24,color:l="#f59e0b",showValue:d=!1})=>{const[h,m]=C.useState(0),[y,v]=C.useState(n),x=A=>{r||m(A)},w=()=>{r||m(0)},S=A=>{!r&&t&&(v(A),t(A))},j=h||y;return f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(A=>{const k=A<=j,R=A===Math.ceil(j)&&j%1!==0;return f.jsx("div",{onMouseEnter:()=>x(A),onMouseLeave:w,onClick:()=>S(A),style:{cursor:r?"default":"pointer",transition:"transform 0.2s ease",transform:h===A&&!r?"scale(1.1)":"scale(1)"},children:f.jsx(Wi,{size:a,fill:k?l:"none",color:k?l:"#d1d5db",strokeWidth:R?0:2,style:{filter:k?"drop-shadow(0 2px 4px rgba(245, 158, 11, 0.3))":"none"}})},A)})}),d&&f.jsx("span",{style:{fontSize:a*.6,fontWeight:"600",color:"#374151",marginLeft:"8px"},children:y.toFixed(1)})]})},Lo=C.memo(({spot:n})=>{const{name:t,average_rating:r,total_ratings:a,images:l,distance:d,tags:h,price_level:m,id:y,instagram_handle:v,whatsapp_number:x}=n,w=vt(),{user:S}=Mt(),[j,A]=ps.useState(!1),[k,R]=ps.useState(!1),[z,P]=ps.useState(0),[D,W]=ps.useState(null),q=G=>({1:"50-150",2:"150-300",3:"300-600",4:"600+"})[G]||"50-150";C.useEffect(()=>{let G=!0;return y&&(be(G),H(G),n.opening_hours?W(ye(n.opening_hours)):W(null)),()=>{G=!1}},[y,S,n.opening_hours]);const H=async G=>{if(!S)return;const{data:de}=await Q.from("user_favorites").select("*").eq("spot_id",y).eq("user_id",S.id).maybeSingle();G&&R(!!de)},Z=async G=>{if(G.stopPropagation(),!S)return;const de=k;R(!de);try{de?await Q.from("user_favorites").delete().eq("spot_id",y).eq("user_id",S.id):await Q.from("user_favorites").insert({spot_id:y,user_id:S.id})}catch{R(de)}},ae=()=>new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),ye=G=>{if(!G||!G.open||!G.close)return null;const de=ae(),[we,se=0]=G.open.split(":").map(Number),[V,ie=0]=G.close.split(":").map(Number),ne=new Date(de);ne.setHours(we,se,0,0);const Te=new Date(de);return Te.setHours(V,ie,0,0),Te<=ne&&(de<ne?ne.setDate(ne.getDate()-1):Te.setDate(Te.getDate()+1)),de>=ne&&de<=Te},be=async G=>{try{const{count:de}=await Q.from("visited_spots").select("*",{count:"exact",head:!0}).eq("spot_id",y);if(G&&P(de||0),S){const{data:we}=await Q.from("visited_spots").select("user_id").eq("spot_id",y).eq("user_id",S.id).maybeSingle();G&&A(!!we)}}catch(de){console.error(de)}},oe=()=>{const G=window.location.pathname.includes("/ml/")?"ml":"en";w(`/${G}/spot/${y}`)};return f.jsxs(fe.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},whileHover:{y:-5},transition:{duration:.3},onClick:oe,style:{background:"var(--bg-white)",borderRadius:"var(--radius-lg)",padding:"8px",boxShadow:"var(--shadow-md)",cursor:"pointer",marginBottom:"8px",display:"flex",flexDirection:"column",gap:"6px",width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:[f.jsxs("div",{style:{position:"relative",height:"120px",borderRadius:"20px",overflow:"hidden"},onClick:G=>G.stopPropagation(),children:[f.jsx(AS,{images:l,interval:4e3}),f.jsxs("div",{style:{position:"absolute",top:"6px",left:"50%",transform:"translateX(-50%)",background:D===null?"rgba(100, 116, 139, 0.7)":D?"rgba(16, 185, 129, 0.9)":"rgba(239, 68, 68, 0.9)",backdropFilter:"blur(8px)",color:"white",padding:"3px 8px",borderRadius:"16px",fontSize:"0.55rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"3px"},children:[f.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:"white"}}),D===null?"HOURS N/A":D?"OPEN":"CLOSED"]}),f.jsx("div",{style:{position:"absolute",bottom:"6px",left:"6px",background:"white",padding:"2px 6px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"3px",fontSize:"0.65rem",fontWeight:"800"},children:r&&a>0?f.jsxs(f.Fragment,{children:[f.jsx(Wi,{size:8,fill:"#FFB800",color:"#FFB800"}),f.jsx("span",{style:{marginLeft:"2px"},children:r.toFixed(1)})]}):f.jsxs(f.Fragment,{children:[f.jsx(Wi,{size:8,fill:"#FFB800",color:"#FFB800"}),f.jsx("span",{children:"New"})]})})]}),f.jsxs("div",{style:{padding:"0 2px"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[f.jsxs("div",{style:{flex:1,minWidth:0,marginRight:"8px"},children:[f.jsx("h3",{style:{fontSize:"0.85rem",fontWeight:"900",margin:"0 0 2px 0",color:"var(--text-main)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",lineHeight:"1.2"},children:t}),f.jsxs("p",{style:{fontSize:"0.7rem",color:"var(--text-muted)",margin:0,lineHeight:"1.2"},children:[d," km"]})]}),f.jsx(fe.button,{whileTap:{scale:.8},onClick:Z,style:{background:"none",border:"none",cursor:"pointer",padding:"2px",flexShrink:0},children:f.jsx(Sr,{size:18,fill:k?"var(--primary)":"none",color:k?"var(--primary)":"var(--text-muted)"})})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[f.jsx("div",{style:{display:"flex",gap:"4px"},children:(h||[]).slice(0,1).map((G,de)=>f.jsxs("span",{style:{fontSize:"0.65rem",color:"var(--primary)",fontWeight:"700"},children:["#",G]},de))}),f.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"900",color:"var(--primary)",background:"rgba(239, 42, 57, 0.1)",padding:"4px 8px",borderRadius:"8px"},children:q(m)})]}),f.jsx("div",{style:{marginTop:"6px",fontSize:"0.7rem",color:"var(--text-muted)",fontWeight:"700"},children:n.opening_hours?.open&&n.opening_hours?.close?`Kerala time: ${n.opening_hours.open} - ${n.opening_hours.close}`:"Hours not set"})]})]})}),Ho=({message:n="Tasting the flavors..."})=>f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",gap:"20px"},children:[f.jsxs("div",{style:{position:"relative",width:"80px",height:"80px"},children:[f.jsx(fe.div,{animate:{rotate:360},transition:{repeat:1/0,duration:2,ease:"linear"},style:{width:"100%",height:"100%",borderRadius:"50%",border:"4px dashed var(--primary)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(fe.img,{src:"./chai_icon.png",alt:"Loading",style:{width:"40px",height:"40px",objectFit:"contain"},animate:{rotate:360},transition:{repeat:1/0,duration:2,ease:"linear"},onError:t=>{t.target.style.display="none",t.target.parentElement.innerHTML='<div style="font-size: 40px; color: var(--primary);"></div>'}})}),f.jsx(fe.div,{animate:{scale:[1,1.2,1],opacity:[.3,.7,.3]},transition:{repeat:1/0,duration:1.5},style:{position:"absolute",top:-10,right:-10,background:"white",padding:"4px",borderRadius:"50%",boxShadow:"var(--shadow-sm)"},children:f.jsx(ZO,{size:16,color:"var(--primary)"})})]}),f.jsx(fe.p,{animate:{opacity:[.4,1,.4]},transition:{repeat:1/0,duration:2},style:{fontWeight:"800",color:"var(--text-main)",fontSize:"1rem",margin:0},children:n})]}),cL=({lang:n})=>{const t=vt(),{user:r}=Mt(),[a,l]=C.useState([]),[d,h]=C.useState(!0),[m,y]=C.useState(""),[v,x]=C.useState(null),[w,S]=C.useState("All Kerala"),[j,A]=C.useState(!1),[k,R]=C.useState(""),[z,P]=C.useState(!1),[D,W]=C.useState([]),[q,H]=C.useState([]);C.useEffect(()=>{ye(),Z(),ae();const de=Q.channel("home_spots_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"spots",filter:"is_verified=eq.true"},V=>{console.log("Home page received real-time update:",V),V.new.is_verified&&(ye(),Z(),ae())}).subscribe(),we=Q.channel("home_ratings_changes").on("postgres_changes",{event:"*",schema:"public",table:"spot_ratings"},V=>{console.log("Home page received rating change:",V),ye(),Z(),ae()}).subscribe(),se=V=>{console.log("Home page received custom verification event:",V.detail),ye()};return window.addEventListener("spotVerified",se),()=>{de.unsubscribe(),we.unsubscribe(),window.removeEventListener("spotVerified",se)}},[v]);const Z=async()=>{const de=new Date(Date.now()-6048e5),{data:we}=await Q.from("spots").select("*, reviews(count)").eq("is_verified",!0).gte("created_at",de.toISOString()).order("reviews.count",{ascending:!1}).limit(5);W(we||[])},ae=async()=>{const{data:de}=await Q.from("spots").select("*").eq("is_verified",!0).order("created_at",{ascending:!1}).limit(5);H(de||[])},ye=async()=>{h(!0),console.log("Fetching spots from database...");const{data:de,error:we}=await Q.from("spots").select("*").eq("is_verified",!0).order("created_at",{ascending:!1});if(we)console.error("Error fetching spots:",we);else{console.log("Fetched spots:",de);let se=de||[];v&&(se=se.filter(V=>be(v.lat,v.lng,V.latitude,V.longitude)<=30)),console.log("Setting spots state:",se),l(se)}h(!1)};C.useMemo(()=>a.filter(de=>{const we=m.toLowerCase();return we.replace(/\s+/g,""),we.replace(/\s+/g,"-"),!m||de.name.toLowerCase().includes(we)||de.location?.toLowerCase().includes(we)}),[a,m]);function be(de,we,se,V){var ie=6371,ne=(se-de)*Math.PI/180,Te=(V-we)*Math.PI/180,pe=Math.sin(ne/2)*Math.sin(ne/2)+Math.cos(de*Math.PI/180)*Math.cos(se*Math.PI/180)*Math.sin(Te/2);return ie*(2*Math.atan2(Math.sqrt(pe),Math.sqrt(1-pe)))}const oe=async()=>{if(k.trim()){P(!0);try{const we=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(k+", Kerala, India")}&limit=1`)).json();if(we&&we.length>0){const se={lat:parseFloat(we[0].lat),lng:parseFloat(we[0].lon),name:we[0].display_name.split(",")[0]};x(se),S(se.name),A(!1)}}catch(de){console.error("Error searching location:",de)}finally{P(!1)}}},G=()=>{x(null),S("All Kerala"),R("")};return f.jsx("div",{style:{paddingBottom:"100px",background:"var(--bg-main)",minHeight:"100vh"},children:f.jsxs("div",{className:"container",style:{padding:"0 16px",maxWidth:"100%",boxSizing:"border-box"},children:[f.jsxs("header",{style:{marginBottom:"24px"},children:[f.jsxs("p",{style:{margin:0,fontSize:"1rem",color:"var(--text-muted)"},children:["Hello ",r?.user_metadata?.full_name?.split(" ")[0]||"Foodie",","]}),f.jsx("h1",{style:{margin:"4px 0",fontSize:"1.6rem",fontWeight:"900",color:"var(--text-main)"},children:"What do you want to eat today?"})]}),f.jsxs("div",{style:{position:"relative",marginBottom:"24px"},children:[f.jsx("input",{type:"text",placeholder:"Search dishes, restaurants...",value:m,onChange:de=>{const we=de.target.value;we==="#admin"?(t(`/${n}/admin`),y("")):y(we)},style:{width:"100%",padding:"16px 20px 16px 50px",borderRadius:"var(--radius-lg)",border:"none",background:"var(--secondary)",fontSize:"1rem",fontWeight:"600"}}),f.jsx(th,{size:22,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[f.jsxs(fe.button,{whileTap:{scale:.95},onClick:()=>A(!j),style:{background:"rgba(239, 42, 57, 0.1)",color:"var(--primary)",padding:"8px 16px",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"6px",border:"none",cursor:"pointer",transition:"all 0.3s ease",flexShrink:0},children:[f.jsx(Pn,{size:16})," ",w]}),f.jsx("div",{style:{flex:1,minWidth:"200px"},children:f.jsxs("div",{style:{position:"relative"},children:[f.jsx("input",{type:"text",placeholder:"Search location in Kerala...",value:k,onChange:de=>R(de.target.value),onKeyPress:de=>de.key==="Enter"&&oe(),style:{width:"100%",padding:"0 70px 0 45px",borderRadius:"25px",border:"2px solid var(--primary)",background:"var(--bg-white)",fontSize:"0.85rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(239, 42, 57, 0.15)",transition:"all 0.3s ease",boxSizing:"border-box",lineHeight:"44px"}}),f.jsx(th,{size:20,color:"var(--primary)",style:{position:"absolute",left:"15px",top:"12px",zIndex:2}}),f.jsx(fe.button,{whileTap:{scale:.95},onClick:oe,disabled:z,style:{position:"absolute",right:"8px",top:"7px",background:"var(--primary)",color:"white",border:"none",padding:"8px 16px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700",cursor:z?"not-allowed":"pointer",opacity:z?.6:1,boxShadow:"0 2px 8px rgba(239, 42, 57, 0.3)",zIndex:2,height:"30px"},children:z?"...":"Go"}),k&&f.jsx(fe.button,{whileTap:{scale:.95},onClick:G,style:{position:"absolute",right:"70px",top:"7px",background:"transparent",color:"#6b7280",border:"none",padding:"8px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700",cursor:"pointer",zIndex:2,height:"30px"},children:f.jsx(Er,{size:16})})]})})]}),D.length>0&&f.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},style:{marginBottom:"30px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[f.jsx(jS,{size:24,color:"var(--primary)"}),f.jsx("h3",{style:{fontSize:"1.3rem",fontWeight:"800",color:"var(--text-main)"},children:"Trending This Week"})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"16px"},children:D.map(de=>f.jsx(Lo,{spot:de},de.id))})]}),q.length>0&&f.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},style:{marginBottom:"30px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[f.jsx(Qd,{size:24,color:"var(--primary)"}),f.jsx("h3",{style:{fontSize:"1.3rem",fontWeight:"800",color:"var(--text-main)"},children:"Popular Spots"})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"16px"},children:q.map(de=>f.jsx(Lo,{spot:de},de.id))})]})]})})},dL=({lang:n})=>{const{user:t,signOut:r}=Mt(),a=vt(),[l,d]=C.useState(!0),[h,m]=C.useState(null),[y,v]=C.useState({spots:0,reviews:0,xp:0}),[x,w]=C.useState("favorites"),[S,j]=C.useState([]),[A,k]=C.useState(!1),[R,z]=C.useState(!1),[P,D]=C.useState(!1),[W,q]=C.useState(!1);C.useEffect(()=>{if(t){H(),window.addEventListener("focus",H),window.addEventListener("userProfileUpdated",H),window.addEventListener("visitUpdated",H);const G=localStorage.getItem("darkMode")==="true";q(G),G&&document.body.classList.add("dark-mode")}return()=>{window.removeEventListener("focus",H),window.removeEventListener("userProfileUpdated",H),window.removeEventListener("visitUpdated",H)}},[t]),C.useEffect(()=>{t&&Z()},[x,t]);const H=async()=>{d(!0);const{data:G}=await Q.from("user_preferences").select("*").eq("user_id",t.id).maybeSingle();m(G);const{count:de}=await Q.from("spots").select("*",{count:"exact",head:!0}).eq("created_by",t.id),{count:we}=await Q.from("reviews").select("*",{count:"exact",head:!0}).eq("user_id",t.id),{count:se}=await Q.from("user_favorites").select("*",{count:"exact",head:!0}).eq("user_id",t.id),{count:V}=await Q.from("visited_spots").select("*",{count:"exact",head:!0}).eq("user_id",t.id);v({spots:de||0,reviews:we||0,favorites:se||0,visits:V||0,xp:(de||0)*100+(we||0)*10+(V||0)*5}),d(!1)},Z=async()=>{if(k(!0),x==="favorites"){const{data:G}=await Q.from("user_favorites").select("spot_id").eq("user_id",t.id);if(G&&G.length>0){const de=G.map(se=>se.spot_id),{data:we}=await Q.from("spots").select("*").in("id",de);j(we||[])}else j([])}else if(x==="reviews"){const{data:G}=await Q.from("reviews").select("*, spots(name)").eq("user_id",t.id).order("created_at",{ascending:!1});j(G||[])}else if(x==="added"){const{data:G}=await Q.from("spots").select("*").eq("created_by",t.id).order("created_at",{ascending:!1});j(G||[])}k(!1)},ae=async()=>{await r(),a(`/${n||"en"}/login`)},ye=()=>{const G=!W;q(G),G?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("darkMode",G.toString())},be=async()=>{if(t){D(!0);try{const{data:G}=await Q.from("user_preferences").select("user_id").eq("username","admin").maybeSingle(),de=G?.user_id;if(!de)throw new Error("Admin user not found. Please contact support.");await Q.from("community_posts").delete().eq("user_id",t.id),await Q.from("post_comments").delete().eq("user_id",t.id),await Q.from("reviews").delete().eq("user_id",t.id),await Q.from("user_favorites").delete().eq("user_id",t.id),await Q.from("visited_spots").delete().eq("user_id",t.id),await Q.from("spots").update({created_by:de}).eq("created_by",t.id),await Q.from("user_preferences").delete().eq("user_id",t.id),await Q.auth.updateUser({data:{deleted:!0,email:`deleted_${t.id}@deleted.com`}}),await r(),a(`/${n||"en"}/login`)}catch(G){console.error("Error deleting account:",G),alert("Error deleting account: "+G.message)}finally{D(!1),z(!1)}}},oe=[{id:"favorites",label:"Favorites",icon:Sr,count:y.favorites},{id:"reviews",label:"Reviews",icon:SS,count:y.reviews},{id:"added",label:"Added",icon:Sa,count:y.spots}];return f.jsxs("div",{style:{paddingBottom:"120px",background:"var(--bg-white)",minHeight:"100vh"},children:[f.jsx("div",{style:{height:"180px",background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx("div",{style:{position:"absolute",inset:0,opacity:.1,backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"24px 24px"}})}),f.jsxs("div",{style:{marginTop:"-60px",textAlign:"center",padding:"0 20px",position:"relative"},children:[f.jsx(fe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},style:{width:"120px",height:"120px",borderRadius:"40px",background:"white",margin:"0 auto",padding:"6px",boxShadow:"var(--shadow-lg)"},children:f.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"34px",overflow:"hidden",background:"var(--secondary)",display:"flex",alignItems:"center",justifyContent:"center"},children:h?.avatar_url?f.jsx("img",{src:h.avatar_url,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx($i,{size:50,color:"var(--text-muted)"})})}),f.jsx("h1",{style:{marginTop:"16px",fontSize:"1.6rem",fontWeight:"900",color:"var(--text-main)",margin:"16px 0 4px 0"},children:h?.display_name||t?.user_metadata?.full_name||"Foodie Voyager"}),f.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",fontWeight:"500"},children:"Elite Level Discoverer  Kerala, IN"})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",padding:"24px 20px"},children:[{label:"Visits",value:y.visits,icon:Pn},{label:"Reviews",value:y.reviews,icon:Wi},{label:"Added",value:y.spots,icon:Sa},{label:"XP",value:y.xp,icon:oL}].map((G,de)=>f.jsxs("div",{style:{background:"var(--secondary)",padding:"16px 8px",borderRadius:"24px",textAlign:"center"},children:[f.jsx(G.icon,{size:20,color:"var(--primary)",style:{marginBottom:"8px"}}),f.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"900",color:"var(--text-main)"},children:G.value}),f.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"700",color:"var(--text-muted)",marginTop:"2px"},children:G.label})]},de))}),f.jsx("div",{style:{padding:"0 20px",marginBottom:"20px"},children:f.jsx("div",{style:{display:"flex",gap:"8px",background:"var(--secondary)",padding:"6px",borderRadius:"20px"},children:oe.map(G=>f.jsxs("button",{onClick:()=>a(`/${n}/profile/${G.id}`),style:{flex:1,padding:"12px",borderRadius:"16px",background:"transparent",border:"none",fontWeight:"800",fontSize:"0.85rem",color:"var(--text-muted)",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[f.jsx(G.icon,{size:16}),G.label," (",G.count,")"]},G.id))})}),f.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",gap:"12px",marginTop:"20px"},children:[f.jsxs(fe.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/settings`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[f.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#EEF2FF"},children:f.jsx(NM,{size:22,color:"#4F46E5"})}),f.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Settings"})]}),f.jsx(ds,{size:20,color:"var(--text-muted)"})]}),f.jsxs(fe.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/leaderboard`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[f.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#FFFBEB"},children:f.jsx(PO,{size:22,color:"#F59E0B"})}),f.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Leaderboard"})]}),f.jsx(ds,{size:20,color:"var(--text-muted)"})]}),f.jsxs(fe.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/privacy-policy`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[f.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#F0FDF4"},children:f.jsx(Dm,{size:22,color:"#10B981"})}),f.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Privacy Policy"})]}),f.jsx(ds,{size:20,color:"var(--text-muted)"})]}),f.jsxs(fe.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/contact-admin`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[f.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#FEF2F2"},children:f.jsx(zu,{size:22,color:"#EF4444"})}),f.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Contact Admin"})]}),f.jsx(ds,{size:20,color:"var(--text-muted)"})]}),f.jsxs(fe.div,{whileTap:{scale:.98},onClick:ye,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[f.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:W?"#1F2937":"#FEF3C7"},children:W?f.jsx(TM,{size:22,color:"#F59E0B"}):f.jsx($M,{size:22,color:"#F59E0B"})}),f.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:W?"Dark Mode":"Light Mode"})]}),f.jsx(ds,{size:20,color:"var(--text-muted)"})]}),f.jsxs(fe.div,{whileTap:{scale:.98},onClick:ae,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[f.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#F3F4F6"},children:f.jsx(gM,{size:22,color:"#6B7280"})}),f.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Logout"})]}),f.jsx(ds,{size:20,color:"var(--text-muted)"})]}),f.jsxs(fe.div,{whileTap:{scale:.98},onClick:()=>z(!0),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid #FEE2E2"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[f.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#FEE2E2"},children:f.jsx(Ng,{size:22,color:"#DC2626"})}),f.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"#DC2626"},children:"Delete Account"})]}),f.jsx(ds,{size:20,color:"#DC2626"})]})]}),R&&f.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},children:f.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",maxWidth:"400px",width:"100%",textAlign:"center"},children:[f.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"#FEE2E2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:f.jsx(XM,{size:30,color:"#DC2626"})}),f.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"900",color:"var(--text-main)",marginBottom:"12px"},children:"Delete Account?"}),f.jsx("p",{style:{color:"var(--text-muted)",lineHeight:"1.6",marginBottom:"24px"},children:"This action cannot be undone. All your data including posts, reviews, favorites, and visits will be permanently deleted. Your added spots will be transferred to admin."}),f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsx("button",{onClick:()=>z(!1),disabled:P,style:{flex:1,padding:"16px",borderRadius:"16px",border:"2px solid var(--secondary)",background:"white",color:"var(--text-main)",fontWeight:"800",cursor:P?"not-allowed":"pointer"},children:"Cancel"}),f.jsx("button",{onClick:be,disabled:P,style:{flex:1,padding:"16px",borderRadius:"16px",border:"none",background:"#DC2626",color:"white",fontWeight:"800",cursor:P?"not-allowed":"pointer",opacity:P?.7:1},children:P?"Deleting...":"Delete Forever"})]})]})})]})},fu=({children:n,onClick:t,variant:r="primary",className:a="",...l})=>{const m={...{padding:"12px 24px",borderRadius:"var(--radius-full)",fontWeight:"600",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"transform var(--transition-fast), box-shadow var(--transition-fast)",boxShadow:"var(--shadow-sm)"},...{primary:{background:"var(--primary)",color:"#fff"},secondary:{background:"var(--secondary)",color:"var(--text-main)"},outline:{background:"transparent",border:"2px solid var(--primary)",color:"var(--primary)"}}[r]};return f.jsx("button",{onClick:t,style:m,className:a,onMouseEnter:y=>y.target.style.transform="scale(1.05)",onMouseLeave:y=>y.target.style.transform="scale(1)",...l,children:n})},qo=({message:n,type:t="success",onClose:r})=>(C.useEffect(()=>{const a=setTimeout(()=>{r()},3e3);return()=>clearTimeout(a)},[r]),f.jsxs("div",{className:"animate-fade-in",style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",background:t==="success"?"#2e7d32":"#c62828",color:"white",padding:"12px 24px",borderRadius:"30px",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:2e3,minWidth:"300px",justifyContent:"center"},children:[t==="success"?f.jsx(gS,{size:20}):f.jsx(yS,{size:20}),f.jsx("span",{style:{fontWeight:600},children:n})]})),hL=()=>{const{user:n}=Mt(),t=vt(),[r,a]=C.useState(!0),[l,d]=C.useState(!1),[h,m]=C.useState(!1),[y,v]=C.useState(null),[x,w]=C.useState({displayName:"",avatarUrl:"",notificationsEnabled:!0,notifyNewSpots:!0,notifyReviewReplies:!0,notifyWeeklyDigest:!1,lastDisplayNameChange:null});C.useEffect(()=>{n&&S()},[n]);const S=async()=>{a(!0);const{data:k}=await Q.from("user_preferences").select("*").eq("user_id",n.id).single();k&&w({displayName:k.display_name||n.user_metadata?.full_name||"",avatarUrl:k.avatar_url||n.user_metadata?.avatar_url||"",notificationsEnabled:k.notifications_enabled,notifyNewSpots:k.notify_new_spots,notifyReviewReplies:k.notify_review_replies,notifyWeeklyDigest:k.notify_weekly_digest,lastDisplayNameChange:k.last_display_name_change}),a(!1)},j=async k=>{const R=k.target.files[0];if(R){m(!0);try{const z=`${n.id}-${Date.now()}.${R.name.split(".").pop()}`;await Q.storage.from("avatars").upload(`avatars/${z}`,R);const{data:{publicUrl:P}}=Q.storage.from("avatars").getPublicUrl(`avatars/${z}`);w({...x,avatarUrl:P}),v({message:"Avatar updated! Ready to save.",type:"success"})}catch{v({message:"Upload failed",type:"error"})}finally{m(!1)}}},A=async()=>{d(!0);const{data:k}=await Q.from("user_preferences").select("display_name").eq("user_id",n.id).single(),R=k?.display_name!==x.displayName;if(R){const D=new Date,W=x.lastDisplayNameChange?new Date(x.lastDisplayNameChange):null,q=W?(D-W)/(1e3*60*60):25;if(q<24){const H=Math.ceil(24-q);v({message:`You can only change your display name once every 24 hours. Please wait ${H} more hours. Profile picture can be changed anytime!`,type:"error"}),d(!1);return}}if(R){const{data:D}=await Q.from("user_preferences").select("display_name").eq("display_name",x.displayName).not("user_id","eq",n.id).maybeSingle();if(D){v({message:"This display name is already taken.",type:"error"}),d(!1);return}}const z=new Date,P={user_id:n.id,display_name:x.displayName,avatar_url:x.avatarUrl,notifications_enabled:x.notificationsEnabled,notify_new_spots:x.notifyNewSpots,notify_review_replies:x.notifyReviewReplies,notify_weekly_digest:x.notifyWeeklyDigest,last_display_name_change:R?z.toISOString():x.lastDisplayNameChange};try{await Q.from("user_preferences").upsert(P,{onConflict:"user_id"}),window.dispatchEvent(new CustomEvent("userProfileUpdated",{detail:{displayName:x.displayName,avatarUrl:x.avatarUrl}})),v({message:R?"Settings saved successfully! Display name updated ":"Profile picture updated successfully! ",type:"success"}),setTimeout(()=>t(-1),1500)}catch{v({message:"Failed to save",type:"error"})}finally{d(!1)}};return f.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[y&&f.jsx(qo,{message:y.message,type:y.type,onClose:()=>v(null)}),f.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[f.jsx("button",{onClick:()=>t(-1),style:{position:"absolute",left:"20px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:f.jsx(Lu,{size:24})}),f.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"App Settings"})]}),f.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:r?f.jsx("div",{style:{textAlign:"center",padding:"40px"},children:f.jsx(fe.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},children:f.jsx(lM,{size:30,color:"var(--primary)"})})}):f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[f.jsxs("div",{style:{background:"white",borderRadius:"32px",padding:"24px",boxShadow:"var(--shadow-md)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[f.jsx($i,{size:20,color:"var(--primary)"}),f.jsx("h2",{style:{fontSize:"1.1rem",fontWeight:"900",color:"var(--text-main)",margin:0},children:"Account Details"})]}),f.jsx("div",{style:{textAlign:"center",marginBottom:"24px"},children:f.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[f.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"32px",border:"4px solid var(--secondary)",overflow:"hidden",boxShadow:"var(--shadow-sm)"},children:x.avatarUrl?f.jsx("img",{src:x.avatarUrl,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--secondary)"},children:f.jsx($i,{size:40,color:"var(--text-muted)"})})}),f.jsx("label",{htmlFor:"avatar-upload",style:{position:"absolute",bottom:"-5px",right:"-5px",background:"var(--primary)",color:"white",padding:"8px",borderRadius:"12px",cursor:"pointer",boxShadow:"var(--shadow-md)"},children:f.jsx(Mu,{size:18})}),f.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:j,style:{display:"none"}})]})}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[f.jsxs("div",{children:[f.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"DISPLAY NAME"}),f.jsx("input",{type:"text",value:x.displayName,onChange:k=>w({...x,displayName:k.target.value}),style:{width:"100%",padding:"14px",borderRadius:"16px",background:"var(--secondary)",border:"none",fontWeight:"700",outline:"none"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"EMAIL ADDRESS"}),f.jsx("div",{style:{width:"100%",padding:"14px",borderRadius:"16px",background:"var(--secondary)",color:"var(--text-muted)",fontWeight:"700",opacity:.8},children:n?.email})]})]})]}),f.jsxs("div",{style:{background:"white",borderRadius:"32px",padding:"24px",boxShadow:"var(--shadow-md)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[f.jsx(Jd,{size:20,color:"var(--primary)"}),f.jsx("h2",{style:{fontSize:"1.1rem",fontWeight:"900",color:"var(--text-main)",margin:0},children:"Notifications"})]}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[{id:"notificationsEnabled",label:"Push Notifications",desc:"Main alert switch"},{id:"notifyNewSpots",label:"New Spots",desc:"Alerts for nearby additions"},{id:"notifyReviewReplies",label:"Review Replies",desc:"When someone chats back"}].map(k=>f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{fontWeight:"800",fontSize:"0.95rem"},children:k.label}),f.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",fontWeight:"600"},children:k.desc})]}),f.jsx("input",{type:"checkbox",checked:x[k.id],onChange:R=>w({...x,[k.id]:R.target.checked}),style:{width:"22px",height:"22px",accentColor:"var(--primary)"}})]},k.id))})]}),f.jsx(fe.button,{whileTap:{scale:.95},onClick:A,disabled:l,style:{width:"100%",padding:"20px",borderRadius:"24px",background:"var(--primary)",color:"white",border:"none",fontWeight:"900",fontSize:"1rem",boxShadow:"var(--shadow-md)",opacity:l?.6:1},children:l?"Saving...":"Save Settings "})]})})]})},kS=({isOpen:n,onClose:t,onSelectLocation:r,initialCenter:a=[11.2588,75.7804]})=>{const[l,d]=C.useState(null),[h,m]=C.useState(!1),[y,v]=C.useState(!1),[x,w]=C.useState(""),[S,j]=C.useState(!1),A=C.useRef(null),k=C.useRef(null),R=C.useRef(null),z=C.useRef(null),P=C.useRef(null);C.useEffect(()=>{if(!n)return;(()=>{if(window.L){m(!0);return}if(document.getElementById("leaflet-script")){document.getElementById("leaflet-script").addEventListener("load",()=>m(!0));return}if(!document.getElementById("leaflet-css")){const ae=document.createElement("link");ae.id="leaflet-css",ae.rel="stylesheet",ae.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(ae)}const Z=document.createElement("script");Z.id="leaflet-script",Z.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",Z.async=!0,Z.onload=()=>m(!0),document.body.appendChild(Z)})()},[n]),C.useEffect(()=>{if(!(!n||!h||!A.current)){k.current&&(k.current.remove(),k.current=null);try{const H=window.L.map(A.current).setView(a,13);k.current=H;const Z=window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}),ae=window.L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EBP, and the GIS User Community"});y?ae.addTo(H):Z.addTo(H),z.current=Z,P.current=ae;const ye=window.L.marker(a,{draggable:!0,icon:window.L.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})}).addTo(H);R.current=ye,ye.bindPopup("Drag me to select location!").openPopup(),ye.on("dragend",function(oe){const G=oe.target.getLatLng();d({lat:G.lat,lng:G.lng})}),H.on("click",function(oe){ye.setLatLng(oe.latlng),d({lat:oe.latlng.lat,lng:oe.latlng.lng})});const be=window.L.Control.extend({options:{position:"bottomright"},onAdd:function(oe){const G=window.L.DomUtil.create("button","leaflet-bar leaflet-control leaflet-control-custom");return G.innerHTML="",G.style.backgroundColor="white",G.style.width="30px",G.style.height="30px",G.style.cursor="pointer",G.style.border="2px solid rgba(0,0,0,0.2)",G.style.borderRadius="4px",G.title="Locate Me",G.onclick=function(de){de.preventDefault(),de.stopPropagation(),oe.locate({setView:!0,maxZoom:16})},G}});H.addControl(new be),H.on("locationfound",function(oe){ye.setLatLng(oe.latlng),d({lat:oe.latlng.lat,lng:oe.latlng.lng})}),setTimeout(()=>{H.invalidateSize()},300),d({lat:a[0],lng:a[1]})}catch(H){console.error("Map initialization error:",H)}return()=>{k.current&&(k.current.remove(),k.current=null)}}},[n,h]);const D=()=>{if(!k.current||!z.current||!P.current)return;const H=k.current;y?(H.removeLayer(P.current),z.current.addTo(H)):(H.removeLayer(z.current),P.current.addTo(H)),v(!y)},W=async()=>{if(!(!x.trim()||S)){j(!0);try{const Z=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(x)}`)).json();if(Z&&Z.length>0){const{lat:ae,lon:ye}=Z[0],be=[parseFloat(ae),parseFloat(ye)];k.current&&R.current&&(k.current.setView(be,16),R.current.setLatLng(be),d({lat:parseFloat(ae),lng:parseFloat(ye)}))}else alert("Location not found.")}catch(H){console.error("Search error:",H)}finally{j(!1)}}},q=()=>{l&&r(l.lat,l.lng)};return n?f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backdropFilter:"blur(4px)"},children:f.jsxs("div",{style:{background:"white",borderRadius:"16px",width:"100%",maxWidth:"600px",height:"80vh",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[f.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"white",zIndex:10},children:[f.jsxs("div",{children:[f.jsx("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:"700",color:"#1a1a1a"},children:" Select Location"}),f.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"0.85rem",color:"#666"},children:"Drag pin or click map to pinpoint spot"})]}),f.jsx("button",{onClick:t,style:{background:"#f5f5f5",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#666",transition:"all 0.2s"},children:f.jsx(Er,{size:20})})]}),f.jsxs("div",{style:{padding:"0.8rem 1rem",background:"#fff",borderBottom:"1px solid #eee",display:"flex",gap:"8px"},children:[f.jsxs("div",{style:{flex:1,position:"relative"},children:[f.jsx("input",{type:"text",placeholder:"Search location (e.g. Kozhikode)",value:x,onChange:H=>w(H.target.value),onKeyDown:H=>H.key==="Enter"&&W(),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"0.9rem"}}),f.jsx(th,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}})]}),f.jsx("button",{onClick:W,disabled:S||!x.trim(),style:{padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"10px",fontWeight:"600",fontSize:"0.85rem",cursor:"pointer",opacity:S?.6:1},children:S?"...":"Search"})]}),f.jsxs("div",{style:{flex:1,position:"relative"},children:[!h&&f.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#f8fafc",zIndex:20},children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[f.jsx(ph,{className:"animate-spin",size:32,color:"var(--primary)"}),f.jsx("span",{style:{color:"#64748b",fontWeight:"500"},children:"Loading map resources..."})]})}),f.jsxs("button",{onClick:H=>{H.preventDefault(),D()},style:{position:"absolute",top:"12px",right:"12px",zIndex:1e3,background:y?"#10b981":"white",color:y?"white":"#1e293b",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.85rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[f.jsx(dM,{size:16}),y?"Satellite":"Map View"]}),f.jsx("div",{ref:A,style:{width:"100%",height:"100%",background:"#e2e8f0",touchAction:"none"}})]}),f.jsxs("div",{style:{padding:"1rem",borderTop:"1px solid #eee",background:"white",zIndex:10},children:[f.jsx("div",{style:{display:"flex",gap:"12px"},children:f.jsx("div",{style:{flex:1},children:l?f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",color:"#0f172a",background:"#f1f5f9",padding:"8px 12px",borderRadius:"8px",marginBottom:"12px"},children:[f.jsx(Pn,{size:16,className:"text-primary"}),f.jsxs("span",{children:[l.lat.toFixed(4),", ",l.lng.toFixed(4)]})]}):f.jsx("div",{style:{height:"36px"}})})}),f.jsx("button",{onClick:q,disabled:!l,style:{width:"100%",padding:"14px",background:l?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"#e2e8f0",color:l?"white":"#94a3b8",border:"none",borderRadius:"12px",fontWeight:"700",fontSize:"1rem",cursor:l?"pointer":"not-allowed",transition:"all 0.2s",boxShadow:l?"0 4px 12px rgba(16, 185, 129, 0.2)":"none"},children:"Confirm Location"})]})]})}):null},fL=({lang:n})=>{const t=vt(),{user:r}=Mt(),a=C.useRef(null),[l,d]=C.useState(1),[h,m]=C.useState(!1),[y,v]=C.useState(!1),[x,w]=C.useState(!1),[S,j]=C.useState([11.2588,75.7804]),[A,k]=C.useState(null),[R,z]=C.useState({name:"",category:"",price:2,location_text:"",latitude:null,longitude:null,description:"",instagram:"",instagram_link:"",whatsapp:"",opening_time:"10:00",closing_time:"22:00",tags:[],images:[]}),P=["Cafe","Restaurant","Street Food","Bakery","Juice Shop","Tea Stall"],D=[{level:1,label:"50-150",description:"Budget Friendly"},{level:2,label:"150-300",description:"Moderate"},{level:3,label:"300-600",description:"Premium"},{level:4,label:"600+",description:"Fine Dining"}],W=(oe,G="success")=>{k({message:oe,type:G})},q=()=>{if(l===1&&!R.name)return W("Please enter a name","error");if(l===1&&!R.category)return W("Please select a category","error");if(l===2&&!R.location_text)return W("Please set a location","error");d(oe=>oe+1)},H=()=>d(oe=>oe-1),Z=()=>{m(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(oe=>{const G=oe.coords.latitude,de=oe.coords.longitude;z({...R,latitude:G,longitude:de,location_text:`${G.toFixed(4)}, ${de.toFixed(4)}`}),j([G,de]),m(!1),W("Location updated!")},oe=>{W("Could not get location.","error"),m(!1)}):(W("Geolocation not supported","error"),m(!1))},ae=(oe,G)=>{z({...R,latitude:oe,longitude:G,location_text:`${oe.toFixed(4)}, ${G.toFixed(4)}`}),w(!1),W("Location selected from map!")},ye=async oe=>{const G=Array.from(oe.target.files);if(G.length!==0){if(R.images.length+G.length>5)return W("Max 5 images allowed","error");v(!0);try{for(const de of G){const we=`${Math.random()}.${de.name.split(".").pop()}`;await Q.storage.from("food-images").upload(we,de);const{data:se}=Q.storage.from("food-images").getPublicUrl(we);z(V=>({...V,images:[...V.images,se.publicUrl]}))}W(`${G.length} images uploaded!`)}catch{W("Error uploading images.","error")}finally{v(!1)}}},be=async()=>{if(!r)return W("Please login first","error");m(!0);try{const oe={name:R.name,category:R.category,price_level:R.price,location_text:R.location_text,latitude:R.latitude,longitude:R.longitude,description:R.description,instagram_handle:R.instagram,whatsapp_number:R.whatsapp,opening_hours:{open:R.opening_time,close:R.closing_time},tags:R.tags,images:R.images,created_by:r.id},{error:G}=await Q.from("spots").insert([oe]);if(G)throw G;W("Spot shared! Redirecting...","success"),setTimeout(()=>t(`/${n}/home`),2e3)}catch(oe){console.error("Error saving spot:",oe),W(`Error saving spot: ${oe.message}`,"error"),m(!1)}};return f.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"100px"},children:[A&&f.jsx(qo,{message:A.message,type:A.type,onClose:()=>k(null)}),f.jsx(kS,{isOpen:x,onClose:()=>w(!1),onSelectLocation:ae,initialCenter:S}),f.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:[f.jsx("button",{onClick:()=>t(-1),style:{position:"absolute",left:"20px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:f.jsx(Lu,{size:24})}),f.jsx("h1",{style:{color:"white",fontSize:"1.4rem",fontWeight:"900"},children:"Add New Spot"})]}),f.jsxs("div",{className:"container",style:{marginTop:"-40px",padding:"0 16px",maxWidth:"100%",boxSizing:"border-box"},children:[f.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",justifyContent:"center"},children:[1,2,3,4].map(oe=>f.jsx("div",{style:{width:oe===l?"32px":"10px",height:"10px",borderRadius:"5px",background:oe<=l?"var(--primary)":"#ddd",transition:"all 0.3s"}},oe))}),f.jsxs(fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{background:"rgba(239, 42, 57, 0.05)",padding:"16px",borderRadius:"20px",marginBottom:"16px",border:"2px dashed var(--primary)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"12px"},children:[f.jsx(HO,{size:20,color:"var(--primary)",style:{flexShrink:0,marginTop:"2px"}}),f.jsxs("div",{children:[f.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:"800",color:"var(--primary)",margin:"0 0 4px 0"},children:" Verification Required"}),f.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",margin:0,lineHeight:"1.5"},children:"Your spot will be added to Chai.in only after our admin team verifies it. This helps maintain quality and accuracy!"})]})]}),f.jsxs("a",{href:"https://www.youtube.com/watch?v=PLACEHOLDER_VIDEO_ID",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"8px",background:"#FF0000",color:"white",padding:"10px 16px",borderRadius:"12px",textDecoration:"none",fontWeight:"700",fontSize:"0.85rem",justifyContent:"center"},children:[f.jsx(sL,{size:18}),"Watch Tutorial: How to Add a Spot"]})]}),f.jsx(fe.div,{layout:!0,style:{background:"white",borderRadius:"32px",padding:"24px",boxShadow:"var(--shadow-md)"},children:f.jsxs(Ru,{mode:"wait",children:[l===1&&f.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[f.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"The Basics "}),f.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"SPOT NAME"}),f.jsx("input",{type:"text",placeholder:"Enter spot name...",value:R.name,onChange:oe=>z({...R,name:oe.target.value}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"20px",boxSizing:"border-box"}}),f.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"12px",display:"block"},children:"CATEGORY"}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"10px",marginBottom:"24px"},children:P.map(oe=>f.jsx("button",{onClick:()=>z({...R,category:oe}),style:{padding:"14px",borderRadius:"18px",border:"none",background:R.category===oe?"var(--primary)":"var(--secondary)",color:R.category===oe?"white":"var(--text-main)",fontWeight:"800",transition:"all 0.2s",fontSize:"0.9rem"},children:oe},oe))}),f.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"12px",display:"block"},children:"PRICE RANGE"}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"10px",marginBottom:"24px"},children:D.map(oe=>f.jsxs("button",{onClick:()=>z({...R,price:oe.level}),style:{padding:"16px 12px",borderRadius:"18px",border:"none",background:R.price===oe.level?"var(--primary)":"var(--secondary)",color:R.price===oe.level?"white":"var(--text-main)",fontWeight:"800",transition:"all 0.2s",textAlign:"left",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px"},children:[f.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"900"},children:oe.label}),f.jsx("div",{style:{fontSize:"0.75rem",opacity:.8},children:oe.description})]},oe.level))}),f.jsx(fu,{onClick:q,style:{width:"100%",padding:"18px",borderRadius:"24px",justifyContent:"center"},children:"Continue"})]},"step1"),l===2&&f.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[f.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"Location "}),f.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px"},children:[f.jsxs("button",{onClick:Z,style:{flex:1,padding:"14px",borderRadius:"18px",border:"none",background:"#ECFDF5",color:"#10B981",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[f.jsx(JO,{size:18})," GPS"]}),f.jsxs("button",{onClick:()=>w(!0),style:{flex:1,padding:"14px",borderRadius:"18px",border:"none",background:"#EFF6FF",color:"#3B82F6",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[f.jsx(Dg,{size:18})," Map"]})]}),f.jsx("input",{type:"text",placeholder:"Location address...",value:R.location_text,onChange:oe=>z({...R,location_text:oe.target.value}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"20px"}}),f.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[f.jsx("button",{onClick:H,style:{flex:1,padding:"18px",borderRadius:"24px",background:"var(--secondary)",border:"none",fontWeight:"800"},children:"Back"}),f.jsx(fu,{onClick:q,style:{flex:2,padding:"18px",borderRadius:"24px",justifyContent:"center"},children:"Next"})]})]},"step2"),l===3&&f.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[f.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"Socials & Details "}),f.jsx("textarea",{placeholder:"Add a juicy description...",value:R.description,onChange:oe=>z({...R,description:oe.target.value}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"16px",minHeight:"100px"}}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"16px"},children:[f.jsx("input",{placeholder:"WhatsApp Number",value:R.whatsapp,onChange:oe=>z({...R,whatsapp:oe.target.value}),style:{padding:"14px",borderRadius:"16px",background:"var(--secondary)",border:"none",fontWeight:"700"}}),f.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",flex:1},children:[f.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"800",color:"var(--text-muted)"},children:"Opening"}),f.jsx("input",{type:"time",value:R.opening_time,onChange:oe=>z({...R,opening_time:oe.target.value}),style:{padding:"12px",borderRadius:"14px",background:"var(--secondary)",border:"none",fontWeight:"700"}})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",flex:1},children:[f.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"800",color:"var(--text-muted)"},children:"Closing"}),f.jsx("input",{type:"time",value:R.closing_time,onChange:oe=>z({...R,closing_time:oe.target.value}),style:{padding:"12px",borderRadius:"14px",background:"var(--secondary)",border:"none",fontWeight:"700"}})]})]})]}),f.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"INSTAGRAM"}),f.jsx("input",{placeholder:"Insta @user or instagram.com/user",value:R.instagram,onChange:oe=>z({...R,instagram:oe.target.value}),style:{width:"100%",padding:"14px",borderRadius:"16px",background:"var(--secondary)",border:"none",fontWeight:"700",marginBottom:"16px"}}),f.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"TAGS"}),f.jsx("input",{type:"text",placeholder:"e.g. burger, spicy, budget-friendly",onChange:oe=>z({...R,tags:oe.target.value.split(",").map(G=>G.trim())}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"20px"}}),f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsx("button",{onClick:H,style:{flex:1,padding:"18px",borderRadius:"24px",background:"var(--secondary)",border:"none",fontWeight:"800"},children:"Back"}),f.jsx(fu,{onClick:q,style:{flex:2,padding:"18px",borderRadius:"24px",justifyContent:"center"},children:"Next"})]})]},"step3"),l===4&&f.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[f.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"Photos "}),f.jsxs("div",{onClick:()=>a.current.click(),style:{border:"2px dashed #ddd",borderRadius:"24px",padding:"30px",textAlign:"center",background:"var(--secondary)",cursor:"pointer",marginBottom:"20px"},children:[f.jsx("input",{type:"file",multiple:!0,ref:a,onChange:ye,style:{display:"none"}}),y?f.jsx(ph,{className:"animate-spin",size:30,color:"var(--primary)"}):f.jsx(Mu,{size:40,color:"var(--primary)"}),f.jsx("p",{style:{fontWeight:"800",marginTop:"10px",fontSize:"0.9rem"},children:"Upload up to 5 photos"})]}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"20px"},children:R.images.map((oe,G)=>f.jsx("div",{style:{width:"100%",paddingTop:"100%",position:"relative",borderRadius:"14px",overflow:"hidden"},children:f.jsx("img",{src:oe,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})},G))}),f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsx("button",{onClick:H,style:{flex:1,padding:"18px",borderRadius:"24px",background:"var(--secondary)",border:"none",fontWeight:"800"},children:"Back"}),f.jsx("button",{onClick:be,disabled:h,style:{flex:2,padding:"18px",borderRadius:"24px",background:"var(--primary)",color:"white",border:"none",fontWeight:"900",fontSize:"1.1rem",boxShadow:"var(--shadow-md)"},children:h?"Submitting...":"Post Spot "})]})]},"step4")]})})]})]})};function RS(n,t){const r=C.useRef(t);C.useEffect(function(){t!==r.current&&n.attributionControl!=null&&(r.current!=null&&n.attributionControl.removeAttribution(r.current),t!=null&&n.attributionControl.addAttribution(t)),r.current=t},[n,t])}const pL=1;function mL(n){return Object.freeze({__version:pL,map:n})}function gL(n,t){return Object.freeze({...n,...t})}const Ug=C.createContext(null);function Ig(){const n=C.use(Ug);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function yL(n){function t(r,a){const{instance:l,context:d}=n(r).current;C.useImperativeHandle(a,()=>l);const{children:h}=r;return h==null?null:ps.createElement(Ug,{value:d},h)}return C.forwardRef(t)}function vL(n){function t(r,a){const[l,d]=C.useState(!1),{instance:h}=n(r,d).current;C.useImperativeHandle(a,()=>h),C.useEffect(function(){l&&h.update()},[h,l,r.children]);const m=h._contentNode;return m?zE.createPortal(r.children,m):null}return C.forwardRef(t)}function _L(n){function t(r,a){const{instance:l}=n(r).current;return C.useImperativeHandle(a,()=>l),null}return C.forwardRef(t)}function OS(n,t){const r=C.useRef(void 0);C.useEffect(function(){return t!=null&&n.instance.on(t),r.current=t,function(){r.current!=null&&n.instance.off(r.current),r.current=null}},[n,t])}function Vg(n,t){const r=n.pane??t.pane;return r?{...n,pane:r}:n}function xL(n,t){return function(a,l){const d=Ig(),h=n(Vg(a,d),d);return RS(d.map,a.attribution),OS(h.current,a.eventHandlers),t(h.current,d,a,l),h}}var lu={exports:{}};var bL=lu.exports,Zx;function wL(){return Zx||(Zx=1,(function(n,t){(function(r,a){a(t)})(bL,(function(r){var a="1.9.4";function l(s){var u,p,b,T;for(p=1,b=arguments.length;p<b;p++){T=arguments[p];for(u in T)s[u]=T[u]}return s}var d=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function h(s,u){var p=Array.prototype.slice;if(s.bind)return s.bind.apply(s,p.call(arguments,1));var b=p.call(arguments,2);return function(){return s.apply(u,b.length?b.concat(p.call(arguments)):arguments)}}var m=0;function y(s){return"_leaflet_id"in s||(s._leaflet_id=++m),s._leaflet_id}function v(s,u,p){var b,T,O,N;return N=function(){b=!1,T&&(O.apply(p,T),T=!1)},O=function(){b?T=arguments:(s.apply(p,arguments),setTimeout(N,u),b=!0)},O}function x(s,u,p){var b=u[1],T=u[0],O=b-T;return s===b&&p?s:((s-T)%O+O)%O+T}function w(){return!1}function S(s,u){if(u===!1)return s;var p=Math.pow(10,u===void 0?6:u);return Math.round(s*p)/p}function j(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function A(s){return j(s).split(/\s+/)}function k(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var p in u)s.options[p]=u[p];return s.options}function R(s,u,p){var b=[];for(var T in s)b.push(encodeURIComponent(p?T.toUpperCase():T)+"="+encodeURIComponent(s[T]));return(!u||u.indexOf("?")===-1?"?":"&")+b.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function P(s,u){return s.replace(z,function(p,b){var T=u[b];if(T===void 0)throw new Error("No value provided for variable "+p);return typeof T=="function"&&(T=T(u)),T})}var D=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function W(s,u){for(var p=0;p<s.length;p++)if(s[p]===u)return p;return-1}var q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Z=0;function ae(s){var u=+new Date,p=Math.max(0,16-(u-Z));return Z=u+p,window.setTimeout(s,p)}var ye=window.requestAnimationFrame||H("RequestAnimationFrame")||ae,be=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function oe(s,u,p){if(p&&ye===ae)s.call(u);else return ye.call(window,h(s,u))}function G(s){s&&be.call(window,s)}var de={__proto__:null,extend:l,create:d,bind:h,get lastId(){return m},stamp:y,throttle:v,wrapNum:x,falseFn:w,formatNum:S,trim:j,splitWords:A,setOptions:k,getParamString:R,template:P,isArray:D,indexOf:W,emptyImageUrl:q,requestFn:ye,cancelFn:be,requestAnimFrame:oe,cancelAnimFrame:G};function we(){}we.extend=function(s){var u=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,b=d(p);b.constructor=u,u.prototype=b;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(u[T]=this[T]);return s.statics&&l(u,s.statics),s.includes&&(se(s.includes),l.apply(null,[b].concat(s.includes))),l(b,s),delete b.statics,delete b.includes,b.options&&(b.options=p.options?d(p.options):{},l(b.options,s.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,N=b._initHooks.length;O<N;O++)b._initHooks[O].call(this)}},u},we.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},we.mergeOptions=function(s){return l(this.prototype.options,s),this},we.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),p=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function se(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=D(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(s,u,p){if(typeof s=="object")for(var b in s)this._on(b,s[b],u);else{s=A(s);for(var T=0,O=s.length;T<O;T++)this._on(s[T],u,p)}return this},off:function(s,u,p){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var b in s)this._off(b,s[b],u);else{s=A(s);for(var T=arguments.length===1,O=0,N=s.length;O<N;O++)T?this._off(s[O]):this._off(s[O],u,p)}return this},_on:function(s,u,p,b){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,p)===!1){p===this&&(p=void 0);var T={fn:u,ctx:p};b&&(T.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(T)}},_off:function(s,u,p){var b,T,O;if(this._events&&(b=this._events[s],!!b)){if(arguments.length===1){if(this._firingCount)for(T=0,O=b.length;T<O;T++)b[T].fn=w;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var N=this._listens(s,u,p);if(N!==!1){var $=b[N];this._firingCount&&($.fn=w,this._events[s]=b=b.slice()),b.splice(N,1)}}},fire:function(s,u,p){if(!this.listens(s,p))return this;var b=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var T=this._events[s];if(T){this._firingCount=this._firingCount+1||1;for(var O=0,N=T.length;O<N;O++){var $=T[O],X=$.fn;$.once&&this.off(s,X,$.ctx),X.call($.ctx||this,b)}this._firingCount--}}return p&&this._propagateEvent(b),this},listens:function(s,u,p,b){typeof s!="string"&&console.warn('"string" type argument expected');var T=u;typeof u!="function"&&(b=!!u,T=void 0,p=void 0);var O=this._events&&this._events[s];if(O&&O.length&&this._listens(s,T,p)!==!1)return!0;if(b){for(var N in this._eventParents)if(this._eventParents[N].listens(s,u,p,b))return!0}return!1},_listens:function(s,u,p){if(!this._events)return!1;var b=this._events[s]||[];if(!u)return!!b.length;p===this&&(p=void 0);for(var T=0,O=b.length;T<O;T++)if(b[T].fn===u&&b[T].ctx===p)return T;return!1},once:function(s,u,p){if(typeof s=="object")for(var b in s)this._on(b,s[b],u,!0);else{s=A(s);for(var T=0,O=s.length;T<O;T++)this._on(s[T],u,p,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[y(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[y(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var ie=we.extend(V);function ne(s,u,p){this.x=p?Math.round(s):s,this.y=p?Math.round(u):u}var Te=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(s){return this.clone()._add(pe(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(pe(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ne(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ne(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Te(this.x),this.y=Te(this.y),this},distanceTo:function(s){s=pe(s);var u=s.x-this.x,p=s.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(s){return s=pe(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=pe(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function pe(s,u,p){return s instanceof ne?s:D(s)?new ne(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ne(s.x,s.y):new ne(s,u,p)}function B(s,u){if(s)for(var p=u?[s,u]:s,b=0,T=p.length;b<T;b++)this.extend(p[b])}B.prototype={extend:function(s){var u,p;if(!s)return this;if(s instanceof ne||typeof s[0]=="number"||"x"in s)u=p=pe(s);else if(s=te(s),u=s.min,p=s.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(s){return pe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return pe(this.min.x,this.max.y)},getTopRight:function(){return pe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,p;return typeof s[0]=="number"||s instanceof ne?s=pe(s):s=te(s),s instanceof B?(u=s.min,p=s.max):u=p=s,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(s){s=te(s);var u=this.min,p=this.max,b=s.min,T=s.max,O=T.x>=u.x&&b.x<=p.x,N=T.y>=u.y&&b.y<=p.y;return O&&N},overlaps:function(s){s=te(s);var u=this.min,p=this.max,b=s.min,T=s.max,O=T.x>u.x&&b.x<p.x,N=T.y>u.y&&b.y<p.y;return O&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,p=this.max,b=Math.abs(u.x-p.x)*s,T=Math.abs(u.y-p.y)*s;return te(pe(u.x-b,u.y-T),pe(p.x+b,p.y+T))},equals:function(s){return s?(s=te(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function te(s,u){return!s||s instanceof B?s:new B(s,u)}function me(s,u){if(s)for(var p=u?[s,u]:s,b=0,T=p.length;b<T;b++)this.extend(p[b])}me.prototype={extend:function(s){var u=this._southWest,p=this._northEast,b,T;if(s instanceof ve)b=s,T=s;else if(s instanceof me){if(b=s._southWest,T=s._northEast,!b||!T)return this}else return s?this.extend(xe(s)||he(s)):this;return!u&&!p?(this._southWest=new ve(b.lat,b.lng),this._northEast=new ve(T.lat,T.lng)):(u.lat=Math.min(b.lat,u.lat),u.lng=Math.min(b.lng,u.lng),p.lat=Math.max(T.lat,p.lat),p.lng=Math.max(T.lng,p.lng)),this},pad:function(s){var u=this._southWest,p=this._northEast,b=Math.abs(u.lat-p.lat)*s,T=Math.abs(u.lng-p.lng)*s;return new me(new ve(u.lat-b,u.lng-T),new ve(p.lat+b,p.lng+T))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ve||"lat"in s?s=xe(s):s=he(s);var u=this._southWest,p=this._northEast,b,T;return s instanceof me?(b=s.getSouthWest(),T=s.getNorthEast()):b=T=s,b.lat>=u.lat&&T.lat<=p.lat&&b.lng>=u.lng&&T.lng<=p.lng},intersects:function(s){s=he(s);var u=this._southWest,p=this._northEast,b=s.getSouthWest(),T=s.getNorthEast(),O=T.lat>=u.lat&&b.lat<=p.lat,N=T.lng>=u.lng&&b.lng<=p.lng;return O&&N},overlaps:function(s){s=he(s);var u=this._southWest,p=this._northEast,b=s.getSouthWest(),T=s.getNorthEast(),O=T.lat>u.lat&&b.lat<p.lat,N=T.lng>u.lng&&b.lng<p.lng;return O&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=he(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(s,u){return s instanceof me?s:new me(s,u)}function ve(s,u,p){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,p!==void 0&&(this.alt=+p)}ve.prototype={equals:function(s,u){if(!s)return!1;s=xe(s);var p=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return p<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+S(this.lat,s)+", "+S(this.lng,s)+")"},distanceTo:function(s){return ft.distance(this,xe(s))},wrap:function(){return ft.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,p=u/Math.cos(Math.PI/180*this.lat);return he([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function xe(s,u,p){return s instanceof ve?s:D(s)&&typeof s[0]!="object"?s.length===3?new ve(s[0],s[1],s[2]):s.length===2?new ve(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ve(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new ve(s,u,p)}var Be={latLngToPoint:function(s,u){var p=this.projection.project(s),b=this.scale(u);return this.transformation._transform(p,b)},pointToLatLng:function(s,u){var p=this.scale(u),b=this.transformation.untransform(s,p);return this.projection.unproject(b)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(s),b=this.transformation.transform(u.min,p),T=this.transformation.transform(u.max,p);return new B(b,T)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?x(s.lng,this.wrapLng,!0):s.lng,p=this.wrapLat?x(s.lat,this.wrapLat,!0):s.lat,b=s.alt;return new ve(p,u,b)},wrapLatLngBounds:function(s){var u=s.getCenter(),p=this.wrapLatLng(u),b=u.lat-p.lat,T=u.lng-p.lng;if(b===0&&T===0)return s;var O=s.getSouthWest(),N=s.getNorthEast(),$=new ve(O.lat-b,O.lng-T),X=new ve(N.lat-b,N.lng-T);return new me($,X)}},ft=l({},Be,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var p=Math.PI/180,b=s.lat*p,T=u.lat*p,O=Math.sin((u.lat-s.lat)*p/2),N=Math.sin((u.lng-s.lng)*p/2),$=O*O+Math.cos(b)*Math.cos(T)*N*N,X=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*X}}),ge=6378137,De={R:ge,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,p=this.MAX_LATITUDE,b=Math.max(Math.min(p,s.lat),-p),T=Math.sin(b*u);return new ne(this.R*s.lng*u,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(s){var u=180/Math.PI;return new ve((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=ge*Math.PI;return new B([-s,-s],[s,s])})()};function Ye(s,u,p,b){if(D(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=p,this._d=b}Ye.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new ne((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function tt(s,u,p,b){return new Ye(s,u,p,b)}var Ft=l({},ft,{code:"EPSG:3857",projection:De,transformation:(function(){var s=.5/(Math.PI*De.R);return tt(s,.5,-s,.5)})()}),Tt=l({},Ft,{code:"EPSG:900913"});function it(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function fn(s,u){var p="",b,T,O,N,$,X;for(b=0,O=s.length;b<O;b++){for($=s[b],T=0,N=$.length;T<N;T++)X=$[T],p+=(T?"L":"M")+X.x+" "+X.y;p+=u?Ae.svg?"z":"x":""}return p||"M0 0"}var Fo=document.documentElement.style,xs="ActiveXObject"in window,Wo=xs&&!document.addEventListener,Ea="msLaunchUri"in navigator&&!("documentMode"in document),bs=xn("webkit"),Du=xn("android"),Bu=xn("android 2")||xn("android 3"),pn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mh=Du&&xn("Google")&&pn<537&&!("AudioNode"in window),ja=!!window.opera,$o=!Ea&&xn("chrome"),ws=xn("gecko")&&!bs&&!ja&&!xs,gh=!$o&&xn("safari"),Zo=xn("phantom"),Nu="OTransition"in Fo,yh=navigator.platform.indexOf("Win")===0,jr=xs&&"transition"in Fo,Qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bu,ci="MozPerspective"in Fo,mn=!window.L_DISABLE_3D&&(jr||Qt||ci)&&!Nu&&!Zo,Ss=typeof orientation<"u"||xn("mobile"),vh=Ss&&bs,_h=Ss&&Qt,Ts=!window.PointerEvent&&window.MSPointerEvent,Es=!!(window.PointerEvent||Ts),js="ontouchstart"in window||!!window.TouchEvent,Zi=!window.L_NO_TOUCH&&(js||Es),Ca=Ss&&ja,Cs=Ss&&ws,xh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Uu=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return s})(),Go=(function(){return!!document.createElement("canvas").getContext})(),Gi=!!(document.createElementNS&&it("svg").createSVGRect),bh=!!Gi&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Iu=!Gi&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Vu=navigator.platform.indexOf("Mac")===0,Hu=navigator.platform.indexOf("Linux")===0;function xn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ae={ie:xs,ielt9:Wo,edge:Ea,webkit:bs,android:Du,android23:Bu,androidStock:mh,opera:ja,chrome:$o,gecko:ws,safari:gh,phantom:Zo,opera12:Nu,win:yh,ie3d:jr,webkit3d:Qt,gecko3d:ci,any3d:mn,mobile:Ss,mobileWebkit:vh,mobileWebkit3d:_h,msPointer:Ts,pointer:Es,touch:Zi,touchNative:js,mobileOpera:Ca,mobileGecko:Cs,retina:xh,passiveEvents:Uu,canvas:Go,svg:Gi,vml:Iu,inlineSvg:bh,mac:Vu,linux:Hu},Ko=Ae.msPointer?"MSPointerDown":"pointerdown",Yo=Ae.msPointer?"MSPointerMove":"pointermove",di=Ae.msPointer?"MSPointerUp":"pointerup",Pt=Ae.msPointer?"MSPointerCancel":"pointercancel",Kt={touchstart:Ko,touchmove:Yo,touchend:di,touchcancel:Pt},Ki={touchstart:Ar,touchmove:Ci,touchend:Ci,touchcancel:Ci},ji={},qu=!1;function wh(s,u,p){return u==="touchstart"&&Cr(),Ki[u]?(p=Ki[u].bind(this,p),s.addEventListener(Kt[u],p,!1),p):(console.warn("wrong event specified:",u),w)}function Fu(s,u,p){if(!Kt[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Kt[u],p,!1)}function As(s){ji[s.pointerId]=s}function Xo(s){ji[s.pointerId]&&(ji[s.pointerId]=s)}function Yi(s){delete ji[s.pointerId]}function Cr(){qu||(document.addEventListener(Ko,As,!0),document.addEventListener(Yo,Xo,!0),document.addEventListener(di,Yi,!0),document.addEventListener(Pt,Yi,!0),qu=!0)}function Ci(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in ji)u.touches.push(ji[p]);u.changedTouches=[u],s(u)}}function Ar(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ct(u),Ci(s,u)}function Dt(s){var u={},p,b;for(b in s)p=s[b],u[b]=p&&p.bind?p.bind(s):p;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Wu=200;function $u(s,u){s.addEventListener("dblclick",u);var p=0,b;function T(O){if(O.detail!==1){b=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var N=Ps(O);if(!(N.some(function(X){return X instanceof HTMLLabelElement&&X.attributes.for})&&!N.some(function(X){return X instanceof HTMLInputElement||X instanceof HTMLSelectElement}))){var $=Date.now();$-p<=Wu?(b++,b===2&&u(Dt(O))):b=1,p=$}}}return s.addEventListener("click",T),{dblclick:u,simDblclick:T}}function Xi(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var Ai=Os(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ks=Os(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Jo=ks==="webkitTransition"||ks==="OTransition"?ks+"End":"transitionend";function Qo(s){return typeof s=="string"?document.getElementById(s):s}function Rs(s,u){var p=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(s,null);p=b?b[u]:null}return p==="auto"?null:p}function qe(s,u,p){var b=document.createElement(s);return b.className=u||"",p&&p.appendChild(b),b}function ot(s){var u=s.parentNode;u&&u.removeChild(s)}function bn(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Wt(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Ji(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function el(s,u){if(s.classList!==void 0)return s.classList.contains(u);var p=Aa(s);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function Ne(s,u){if(s.classList!==void 0)for(var p=A(u),b=0,T=p.length;b<T;b++)s.classList.add(p[b]);else if(!el(s,u)){var O=Aa(s);kr(s,(O?O+" ":"")+u)}}function _t(s,u){s.classList!==void 0?s.classList.remove(u):kr(s,j((" "+Aa(s)+" ").replace(" "+u+" "," ")))}function kr(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Aa(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function mt(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&tl(s,u)}function tl(s,u){var p=!1,b="DXImageTransform.Microsoft.Alpha";try{p=s.filters.item(b)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):s.style.filter+=" progid:"+b+"(opacity="+u+")"}function Os(s){for(var u=document.documentElement.style,p=0;p<s.length;p++)if(s[p]in u)return s[p];return!1}function hi(s,u,p){var b=u||new ne(0,0);s.style[Ai]=(Ae.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(p?" scale("+p+")":"")}function dt(s,u){s._leaflet_pos=u,Ae.any3d?hi(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function ki(s){return s._leaflet_pos||new ne(0,0)}var Rr,Zn,nl;if("onselectstart"in document)Rr=function(){ze(window,"selectstart",Ct)},Zn=function(){rt(window,"selectstart",Ct)};else{var Or=Os(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Rr=function(){if(Or){var s=document.documentElement.style;nl=s[Or],s[Or]="none"}},Zn=function(){Or&&(document.documentElement.style[Or]=nl,nl=void 0)}}function ka(){ze(window,"dragstart",Ct)}function Ms(){rt(window,"dragstart",Ct)}var Ra,il;function Mr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(wn(),Ra=s,il=s.style.outlineStyle,s.style.outlineStyle="none",ze(window,"keydown",wn))}function wn(){Ra&&(Ra.style.outlineStyle=il,Ra=void 0,il=void 0,rt(window,"keydown",wn))}function Oa(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ls(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var Lr={__proto__:null,TRANSFORM:Ai,TRANSITION:ks,TRANSITION_END:Jo,get:Qo,getStyle:Rs,create:qe,remove:ot,empty:bn,toFront:Wt,toBack:Ji,hasClass:el,addClass:Ne,removeClass:_t,setClass:kr,getClass:Aa,setOpacity:mt,testProp:Os,setTransform:hi,setPosition:dt,getPosition:ki,get disableTextSelection(){return Rr},get enableTextSelection(){return Zn},disableImageDrag:ka,enableImageDrag:Ms,preventOutline:Mr,restoreOutline:wn,getSizedParentNode:Oa,getScale:Ls};function ze(s,u,p,b){if(u&&typeof u=="object")for(var T in u)Bn(s,T,u[T],p);else{u=A(u);for(var O=0,N=u.length;O<N;O++)Bn(s,u[O],p,b)}return this}var Dn="_leaflet_events";function rt(s,u,p,b){if(arguments.length===1)rl(s),delete s[Dn];else if(u&&typeof u=="object")for(var T in u)zs(s,T,u[T],p);else if(u=A(u),arguments.length===2)rl(s,function($){return W(u,$)!==-1});else for(var O=0,N=u.length;O<N;O++)zs(s,u[O],p,b);return this}function rl(s,u){for(var p in s[Dn]){var b=p.split(/\d/)[0];(!u||u(b))&&zs(s,b,null,null,p)}}var Qi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bn(s,u,p,b){var T=u+y(p)+(b?"_"+y(b):"");if(s[Dn]&&s[Dn][T])return this;var O=function($){return p.call(b||s,$||window.event)},N=O;!Ae.touchNative&&Ae.pointer&&u.indexOf("touch")===0?O=wh(s,u,O):Ae.touch&&u==="dblclick"?O=$u(s,O):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Qi[u]||u,O,Ae.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(O=function($){$=$||window.event,fi(s,$)&&N($)},s.addEventListener(Qi[u],O,!1)):s.addEventListener(u,N,!1):s.attachEvent("on"+u,O),s[Dn]=s[Dn]||{},s[Dn][T]=O}function zs(s,u,p,b,T){T=T||u+y(p)+(b?"_"+y(b):"");var O=s[Dn]&&s[Dn][T];if(!O)return this;!Ae.touchNative&&Ae.pointer&&u.indexOf("touch")===0?Fu(s,u,O):Ae.touch&&u==="dblclick"?Xi(s,O):"removeEventListener"in s?s.removeEventListener(Qi[u]||u,O,!1):s.detachEvent("on"+u,O),s[Dn][T]=null}function Nn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Gn(s){return Bn(s,"wheel",Nn),this}function er(s){return ze(s,"mousedown touchstart dblclick contextmenu",Nn),s._leaflet_disable_click=!0,this}function Ct(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ri(s){return Ct(s),Nn(s),this}function Ps(s){if(s.composedPath)return s.composedPath();for(var u=[],p=s.target;p;)u.push(p),p=p.parentNode;return u}function Ds(s,u){if(!u)return new ne(s.clientX,s.clientY);var p=Ls(u),b=p.boundingClientRect;return new ne((s.clientX-b.left)/p.x-u.clientLeft,(s.clientY-b.top)/p.y-u.clientTop)}var Zu=Ae.linux&&Ae.chrome?window.devicePixelRatio:Ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function en(s){return Ae.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Zu:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function fi(s,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==s;)p=p.parentNode}catch{return!1}return p!==s}var Ma={__proto__:null,on:ze,off:rt,stopPropagation:Nn,disableScrollPropagation:Gn,disableClickPropagation:er,preventDefault:Ct,stop:Ri,getPropagationPath:Ps,getMousePosition:Ds,getWheelDelta:en,isExternalTarget:fi,addListener:ze,removeListener:rt},zr=ie.extend({run:function(s,u,p,b){this.stop(),this._el=s,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=ki(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=oe(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var p=this._startPos.add(this._offset.multiplyBy(s));u&&p._round(),dt(this._el,p),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ze=ie.extend({options:{crs:Ft,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=k(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(xe(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ks&&Ae.any3d&&!Ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,Jo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(xe(s),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=l({animate:p.animate},p.zoom),p.pan=l({animate:p.animate,duration:p.duration},p.pan));var b=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,p.zoom):this._tryAnimatedPan(s,p.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,p){var b=this.getZoomScale(u),T=this.getSize().divideBy(2),O=s instanceof ne?s:this.latLngToContainerPoint(s),N=O.subtract(T).multiplyBy(1-1/b),$=this.containerPointToLatLng(T.add(N));return this.setView($,u,{zoom:p})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():he(s);var p=pe(u.paddingTopLeft||u.padding||[0,0]),b=pe(u.paddingBottomRight||u.padding||[0,0]),T=this.getBoundsZoom(s,!1,p.add(b));if(T=typeof u.maxZoom=="number"?Math.min(u.maxZoom,T):T,T===1/0)return{center:s.getCenter(),zoom:T};var O=b.subtract(p).divideBy(2),N=this.project(s.getSouthWest(),T),$=this.project(s.getNorthEast(),T),X=this.unproject(N.add($).divideBy(2).add(O),T);return{center:X,zoom:T}},fitBounds:function(s,u){if(s=he(s),!s.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(s,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=pe(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ne(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,p){if(p=p||{},p.animate===!1||!Ae.any3d)return this.setView(s,u,p);this._stop();var b=this.project(this.getCenter()),T=this.project(s),O=this.getSize(),N=this._zoom;s=xe(s),u=u===void 0?N:u;var $=Math.max(O.x,O.y),X=$*this.getZoomScale(N,u),ue=T.distanceTo(b)||1,_e=1.42,Re=_e*_e;function Ve(Et){var yi=Et?-1:1,rr=Et?X:$,_l=X*X-$*$+yi*Re*Re*ue*ue,Js=2*rr*Re*ue,Qs=_l/Js,Ui=Math.sqrt(Qs*Qs+1)-Qs,vi=Ui<1e-9?-18:Math.log(Ui);return vi}function $t(Et){return(Math.exp(Et)-Math.exp(-Et))/2}function At(Et){return(Math.exp(Et)+Math.exp(-Et))/2}function yn(Et){return $t(Et)/At(Et)}var Xe=Ve(0);function Je(Et){return $*(At(Xe)/At(Xe+_e*Et))}function Fe(Et){return $*(At(Xe)*yn(Xe+_e*Et)-$t(Xe))/Re}function Bi(Et){return 1-Math.pow(1-Et,1.5)}var jn=Date.now(),$a=(Ve(1)-Xe)/_e,Ni=p.duration?1e3*p.duration:1e3*$a*.8;function vl(){var Et=(Date.now()-jn)/Ni,yi=Bi(Et)*$a;Et<=1?(this._flyToFrame=oe(vl,this),this._move(this.unproject(b.add(T.subtract(b).multiplyBy(Fe(yi)/ue)),N),this.getScaleZoom($/Je(yi),N),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),vl.call(this),this},flyToBounds:function(s,u){var p=this._getBoundsCenterZoom(s,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(s){return s=he(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var p=this.getCenter(),b=this._limitCenter(p,this._zoom,he(s));return p.equals(b)||this.panTo(b,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var p=pe(u.paddingTopLeft||u.padding||[0,0]),b=pe(u.paddingBottomRight||u.padding||[0,0]),T=this.project(this.getCenter()),O=this.project(s),N=this.getPixelBounds(),$=te([N.min.add(p),N.max.subtract(b)]),X=$.getSize();if(!$.contains(O)){this._enforcingBounds=!0;var ue=O.subtract($.getCenter()),_e=$.extend(O).getSize().subtract(X);T.x+=ue.x<0?-_e.x:_e.x,T.y+=ue.y<0?-_e.y:_e.y,this.panTo(this.unproject(T),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),b=u.divideBy(2).round(),T=p.divideBy(2).round(),O=b.subtract(T);return!O.x&&!O.y?this:(s.animate&&s.pan?this.panBy(O):(s.pan&&this._rawPanBy(O),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=h(this._handleGeolocationResponse,this),p=h(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,s):navigator.geolocation.getCurrentPosition(u,p,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,p=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,p=s.coords.longitude,b=new ve(u,p),T=b.toBounds(s.coords.accuracy*2),O=this._locateOptions;if(O.setView){var N=this.getBoundsZoom(T);this.setView(b,O.maxZoom?Math.min(N,O.maxZoom):N)}var $={latlng:b,bounds:T,timestamp:s.timestamp};for(var X in s.coords)typeof s.coords[X]=="number"&&($[X]=s.coords[X]);this.fire("locationfound",$)}},addHandler:function(s,u){if(!u)return this;var p=this[s]=new u(this);return this._handlers.push(p),this.options[s]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ot(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)ot(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var p="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),b=qe("div",p,u||this._mapPane);return s&&(this._panes[s]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),p=this.unproject(s.getTopRight());return new me(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,p){s=he(s),p=pe(p||[0,0]);var b=this.getZoom()||0,T=this.getMinZoom(),O=this.getMaxZoom(),N=s.getNorthWest(),$=s.getSouthEast(),X=this.getSize().subtract(p),ue=te(this.project($,b),this.project(N,b)).getSize(),_e=Ae.any3d?this.options.zoomSnap:1,Re=X.x/ue.x,Ve=X.y/ue.y,$t=u?Math.max(Re,Ve):Math.min(Re,Ve);return b=this.getScaleZoom($t,b),_e&&(b=Math.round(b/(_e/100))*(_e/100),b=u?Math.ceil(b/_e)*_e:Math.floor(b/_e)*_e),Math.max(T,Math.min(O,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var p=this._getTopLeftPoint(s,u);return new B(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(s)/p.scale(u)},getScaleZoom:function(s,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var b=p.zoom(s*p.scale(u));return isNaN(b)?1/0:b},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(xe(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(pe(s),u)},layerPointToLatLng:function(s){var u=pe(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(xe(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(xe(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(he(s))},distance:function(s,u){return this.options.crs.distance(xe(s),xe(u))},containerPointToLayerPoint:function(s){return pe(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return pe(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(pe(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(s)))},mouseEventToContainerPoint:function(s){return Ds(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Qo(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ae.any3d,Ne(s,"leaflet-container"+(Ae.touch?" leaflet-touch":"")+(Ae.retina?" leaflet-retina":"")+(Ae.ielt9?" leaflet-oldie":"")+(Ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Rs(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dt(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ne(s.markerPane,"leaflet-zoom-hide"),Ne(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,p){dt(this._mapPane,new ne(0,0));var b=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var T=this._zoom!==u;this._moveStart(T,p)._move(s,u)._moveEnd(T),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,p,b){u===void 0&&(u=this._zoom);var T=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),b?p&&p.pinch&&this.fire("zoom",p):((T||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){dt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[y(this._container)]=this;var u=s?rt:ze;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ae.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=oe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var p=[],b,T=u==="mouseout"||u==="mouseover",O=s.target||s.srcElement,N=!1;O;){if(b=this._targets[y(O)],b&&(u==="click"||u==="preclick")&&this._draggableMoved(b)){N=!0;break}if(b&&b.listens(u,!0)&&(T&&!fi(O,s)||(p.push(b),T))||O===this._container)break;O=O.parentNode}return!p.length&&!N&&!T&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var p=s.type;p==="mousedown"&&Mr(u),this._fireDOMEvent(s,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,p){if(s.type==="click"){var b=l({},s);b.type="preclick",this._fireDOMEvent(b,b.type,p)}var T=this._findEventTargets(s,u);if(p){for(var O=[],N=0;N<p.length;N++)p[N].listens(u,!0)&&O.push(p[N]);T=O.concat(T)}if(T.length){u==="contextmenu"&&Ct(s);var $=T[0],X={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ue=$.getLatLng&&(!$._radius||$._radius<=10);X.containerPoint=ue?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(s),X.layerPoint=this.containerPointToLayerPoint(X.containerPoint),X.latlng=ue?$.getLatLng():this.layerPointToLatLng(X.layerPoint)}for(N=0;N<T.length;N++)if(T[N].fire(u,X,!0),X.originalEvent._stopped||T[N].options.bubblingMouseEvents===!1&&W(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return ki(this._mapPane)||new ne(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var p=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var p=this.getSize()._divideBy(2);return this.project(s,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,p){var b=this._getNewPixelOrigin(p,u);return this.project(s,u)._subtract(b)},_latLngBoundsToNewLayerBounds:function(s,u,p){var b=this._getNewPixelOrigin(p,u);return te([this.project(s.getSouthWest(),u)._subtract(b),this.project(s.getNorthWest(),u)._subtract(b),this.project(s.getSouthEast(),u)._subtract(b),this.project(s.getNorthEast(),u)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,p){if(!p)return s;var b=this.project(s,u),T=this.getSize().divideBy(2),O=new B(b.subtract(T),b.add(T)),N=this._getBoundsOffset(O,p,u);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?s:this.unproject(b.add(N),u)},_limitOffset:function(s,u){if(!u)return s;var p=this.getPixelBounds(),b=new B(p.min.add(s),p.max.add(s));return s.add(this._getBoundsOffset(b,u))},_getBoundsOffset:function(s,u,p){var b=te(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),T=b.min.subtract(s.min),O=b.max.subtract(s.max),N=this._rebound(T.x,-O.x),$=this._rebound(T.y,-O.y);return new ne(N,$)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),p=this.getMaxZoom(),b=Ae.any3d?this.options.zoomSnap:1;return b&&(s=Math.round(s/b)*b),Math.max(u,Math.min(p,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var p=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var s=this._proxy=qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var p=Ai,b=this._proxy.style[p];hi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),b===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ot(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();hi(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(u),T=this._getCenterOffset(s)._divideBy(1-1/b);return p.animate!==!0&&!this.getSize().contains(T)?!1:(oe(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,p,b){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sl(s,u){return new Ze(s,u)}var gn=we.extend({options:{position:"topright"},initialize:function(s){k(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),p=this.getPosition(),b=s._controlCorners[p];return Ne(u,"leaflet-control"),p.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ot(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),pi=function(s){return new gn(s)};Ze.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",p=this._controlContainer=qe("div",u+"control-container",this._container);function b(T,O){var N=u+T+" "+u+O;s[T+O]=qe("div",N,p)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ot(this._controlCorners[s]);ot(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Bs=gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,p,b){return p<b?-1:b<p?1:0}},initialize:function(s,u,p){k(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in s)this._addLayer(s[b],b);for(b in u)this._addLayer(u[b],b,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return gn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=qe("div",s),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),er(u),Gn(u);var b=this._section=qe("section",s+"-list");p&&(this._map.on("click",this.collapse,this),ze(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=qe("a",s+"-toggle",u);T.href="#",T.title="Layers",T.setAttribute("role","button"),ze(T,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){Ct(O),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=qe("div",s+"-base",b),this._separator=qe("div",s+"-separator",b),this._overlaysList=qe("div",s+"-overlays",b),u.appendChild(b)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,p){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(h(function(b,T){return this.options.sortFunction(b.layer,T.layer,b.name,T.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;bn(this._baseLayersList),bn(this._overlaysList),this._layerControlInputs=[];var s,u,p,b,T=0;for(p=0;p<this._layers.length;p++)b=this._layers[p],this._addItem(b),u=u||b.overlay,s=s||!b.overlay,T+=b.overlay?0:1;return this.options.hideSingleBase&&(s=s&&T>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(y(s.target)),p=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(s,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=p,b.firstChild},_addItem:function(s){var u=document.createElement("label"),p=this._map.hasLayer(s.layer),b;s.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=p):b=this._createRadioElement("leaflet-base-layers_"+y(this),p),this._layerControlInputs.push(b),b.layerId=y(s.layer),ze(b,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+s.name;var O=document.createElement("span");u.appendChild(O),O.appendChild(b),O.appendChild(T);var N=s.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,p,b=[],T=[];this._handlingClick=!0;for(var O=s.length-1;O>=0;O--)u=s[O],p=this._getLayer(u.layerId).layer,u.checked?b.push(p):u.checked||T.push(p);for(O=0;O<T.length;O++)this._map.hasLayer(T[O])&&this._map.removeLayer(T[O]);for(O=0;O<b.length;O++)this._map.hasLayer(b[O])||this._map.addLayer(b[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,p,b=this._map.getZoom(),T=s.length-1;T>=0;T--)u=s[T],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&b<p.options.minZoom||p.options.maxZoom!==void 0&&b>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ze(s,"click",Ct),this.expand();var u=this;setTimeout(function(){rt(s,"click",Ct),u._preventClick=!1})}}),Gu=function(s,u,p){return new Bs(s,u,p)},al=gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",p=qe("div",u+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,p,b,T){var O=qe("a",p,b);return O.innerHTML=s,O.href="#",O.title=u,O.setAttribute("role","button"),O.setAttribute("aria-label",u),er(O),ze(O,"click",Ri),ze(O,"click",T,this),ze(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";_t(this._zoomInButton,u),_t(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ne(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ne(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ze.mergeOptions({zoomControl:!0}),Ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new al,this.addControl(this.zoomControl))});var Sh=function(s){return new al(s)},Ku=gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",p=qe("div",u),b=this.options;return this._addScales(b,u+"-line",p),s.on(b.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),p},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,p){s.metric&&(this._mScale=qe("div",u,p)),s.imperial&&(this._iScale=qe("div",u,p))},_update:function(){var s=this._map,u=s.getSize().y/2,p=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/s)},_updateImperial:function(s){var u=s*3.2808399,p,b,T;u>5280?(p=u/5280,b=this._getRoundNum(p),this._updateScale(this._iScale,b+" mi",b/p)):(T=this._getRoundNum(u),this._updateScale(this._iScale,T+" ft",T/u))},_updateScale:function(s,u,p){s.style.width=Math.round(this.options.maxWidth*p)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),p=s/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),ol=function(s){return new Ku(s)},Th='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ll=gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ae.inlineSvg?Th+" ":"")+"Leaflet</a>"},initialize:function(s){k(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=qe("div","leaflet-control-attribution"),er(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),s.length&&p.push(s.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Ze.mergeOptions({attributionControl:!0}),Ze.addInitHook(function(){this.options.attributionControl&&new ll().addTo(this)});var Eh=function(s){return new ll(s)};gn.Layers=Bs,gn.Zoom=al,gn.Scale=Ku,gn.Attribution=ll,pi.layers=Gu,pi.zoom=Sh,pi.scale=ol,pi.attribution=Eh;var Kn=we.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Kn.addTo=function(s,u){return s.addHandler(u,this),this};var jh={Events:V},ul=Ae.touch?"touchstart mousedown":"mousedown",Oi=ie.extend({options:{clickTolerance:3},initialize:function(s,u,p,b){k(this,b),this._element=s,this._dragStartTarget=u||s,this._preventOutline=p},enable:function(){this._enabled||(ze(this._dragStartTarget,ul,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Oi._dragging===this&&this.finishDrag(!0),rt(this._dragStartTarget,ul,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!el(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Oi._dragging===this&&this.finishDrag();return}if(!(Oi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Oi._dragging=this,this._preventOutline&&Mr(this._element),ka(),Rr(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,p=Oa(this._element);this._startPoint=new ne(u.clientX,u.clientY),this._startPos=ki(this._element),this._parentScale=Ls(p);var b=s.type==="mousedown";ze(document,b?"mousemove":"touchmove",this._onMove,this),ze(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,p=new ne(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Ct(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ne(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),dt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),rt(document,"mousemove touchmove",this._onMove,this),rt(document,"mouseup touchend touchcancel",this._onUp,this),Ms(),Zn();var u=this._moved&&this._moving;this._moving=!1,Oi._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Yu(s,u,p){var b,T=[1,4,2,8],O,N,$,X,ue,_e,Re,Ve;for(O=0,_e=s.length;O<_e;O++)s[O]._code=tr(s[O],u);for($=0;$<4;$++){for(Re=T[$],b=[],O=0,_e=s.length,N=_e-1;O<_e;N=O++)X=s[O],ue=s[N],X._code&Re?ue._code&Re||(Ve=La(ue,X,Re,u,p),Ve._code=tr(Ve,u),b.push(Ve)):(ue._code&Re&&(Ve=La(ue,X,Re,u,p),Ve._code=tr(Ve,u),b.push(Ve)),b.push(X));s=b}return s}function Xu(s,u){var p,b,T,O,N,$,X,ue,_e;if(!s||s.length===0)throw new Error("latlngs not passed");Sn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Re=xe([0,0]),Ve=he(s),$t=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());$t<1700&&(Re=cl(s));var At=s.length,yn=[];for(p=0;p<At;p++){var Xe=xe(s[p]);yn.push(u.project(xe([Xe.lat-Re.lat,Xe.lng-Re.lng])))}for($=X=ue=0,p=0,b=At-1;p<At;b=p++)T=yn[p],O=yn[b],N=T.y*O.x-O.y*T.x,X+=(T.x+O.x)*N,ue+=(T.y+O.y)*N,$+=N*3;$===0?_e=yn[0]:_e=[X/$,ue/$];var Je=u.unproject(pe(_e));return xe([Je.lat+Re.lat,Je.lng+Re.lng])}function cl(s){for(var u=0,p=0,b=0,T=0;T<s.length;T++){var O=xe(s[T]);u+=O.lat,p+=O.lng,b++}return xe([u/b,p/b])}var dl={__proto__:null,clipPolygon:Yu,polygonCenter:Xu,centroid:cl};function Ju(s,u){if(!u||!s.length)return s.slice();var p=u*u;return s=Ah(s,p),s=ec(s,p),s}function Qu(s,u,p){return Math.sqrt(Ns(s,u,p,!0))}function Ch(s,u,p){return Ns(s,u,p)}function ec(s,u){var p=s.length,b=typeof Uint8Array<"u"?Uint8Array:Array,T=new b(p);T[0]=T[p-1]=1,hl(s,T,u,0,p-1);var O,N=[];for(O=0;O<p;O++)T[O]&&N.push(s[O]);return N}function hl(s,u,p,b,T){var O=0,N,$,X;for($=b+1;$<=T-1;$++)X=Ns(s[$],s[b],s[T],!0),X>O&&(N=$,O=X);O>p&&(u[N]=1,hl(s,u,p,b,N),hl(s,u,p,N,T))}function Ah(s,u){for(var p=[s[0]],b=1,T=0,O=s.length;b<O;b++)kh(s[b],s[T])>u&&(p.push(s[b]),T=b);return T<O-1&&p.push(s[O-1]),p}var tc;function nc(s,u,p,b,T){var O=b?tc:tr(s,p),N=tr(u,p),$,X,ue;for(tc=N;;){if(!(O|N))return[s,u];if(O&N)return!1;$=O||N,X=La(s,u,$,p,T),ue=tr(X,p),$===O?(s=X,O=ue):(u=X,N=ue)}}function La(s,u,p,b,T){var O=u.x-s.x,N=u.y-s.y,$=b.min,X=b.max,ue,_e;return p&8?(ue=s.x+O*(X.y-s.y)/N,_e=X.y):p&4?(ue=s.x+O*($.y-s.y)/N,_e=$.y):p&2?(ue=X.x,_e=s.y+N*(X.x-s.x)/O):p&1&&(ue=$.x,_e=s.y+N*($.x-s.x)/O),new ne(ue,_e,T)}function tr(s,u){var p=0;return s.x<u.min.x?p|=1:s.x>u.max.x&&(p|=2),s.y<u.min.y?p|=4:s.y>u.max.y&&(p|=8),p}function kh(s,u){var p=u.x-s.x,b=u.y-s.y;return p*p+b*b}function Ns(s,u,p,b){var T=u.x,O=u.y,N=p.x-T,$=p.y-O,X=N*N+$*$,ue;return X>0&&(ue=((s.x-T)*N+(s.y-O)*$)/X,ue>1?(T=p.x,O=p.y):ue>0&&(T+=N*ue,O+=$*ue)),N=s.x-T,$=s.y-O,b?N*N+$*$:new ne(T,O)}function Sn(s){return!D(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function za(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Sn(s)}function Pr(s,u){var p,b,T,O,N,$,X,ue;if(!s||s.length===0)throw new Error("latlngs not passed");Sn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var _e=xe([0,0]),Re=he(s),Ve=Re.getNorthWest().distanceTo(Re.getSouthWest())*Re.getNorthEast().distanceTo(Re.getNorthWest());Ve<1700&&(_e=cl(s));var $t=s.length,At=[];for(p=0;p<$t;p++){var yn=xe(s[p]);At.push(u.project(xe([yn.lat-_e.lat,yn.lng-_e.lng])))}for(p=0,b=0;p<$t-1;p++)b+=At[p].distanceTo(At[p+1])/2;if(b===0)ue=At[0];else for(p=0,O=0;p<$t-1;p++)if(N=At[p],$=At[p+1],T=N.distanceTo($),O+=T,O>b){X=(O-b)/T,ue=[$.x-X*($.x-N.x),$.y-X*($.y-N.y)];break}var Xe=u.unproject(pe(ue));return xe([Xe.lat+_e.lat,Xe.lng+_e.lng])}var Rh={__proto__:null,simplify:Ju,pointToSegmentDistance:Qu,closestPointOnSegment:Ch,clipSegment:nc,_getEdgeIntersection:La,_getBitCode:tr,_sqClosestPointOnSegment:Ns,isFlat:Sn,_flat:za,polylineCenter:Pr},Pa={project:function(s){return new ne(s.lng,s.lat)},unproject:function(s){return new ve(s.y,s.x)},bounds:new B([-180,-90],[180,90])},Da={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,p=this.R,b=s.lat*u,T=this.R_MINOR/p,O=Math.sqrt(1-T*T),N=O*Math.sin(b),$=Math.tan(Math.PI/4-b/2)/Math.pow((1-N)/(1+N),O/2);return b=-p*Math.log(Math.max($,1e-10)),new ne(s.lng*u*p,b)},unproject:function(s){for(var u=180/Math.PI,p=this.R,b=this.R_MINOR/p,T=Math.sqrt(1-b*b),O=Math.exp(-s.y/p),N=Math.PI/2-2*Math.atan(O),$=0,X=.1,ue;$<15&&Math.abs(X)>1e-7;$++)ue=T*Math.sin(N),ue=Math.pow((1-ue)/(1+ue),T/2),X=Math.PI/2-2*Math.atan(O*ue)-N,N+=X;return new ve(N*u,s.x*u/p)}},ic={__proto__:null,LonLat:Pa,Mercator:Da,SphericalMercator:De},rc=l({},ft,{code:"EPSG:3395",projection:Da,transformation:(function(){var s=.5/(Math.PI*Da.R);return tt(s,.5,-s,.5)})()}),fl=l({},ft,{code:"EPSG:4326",projection:Pa,transformation:tt(1/180,1,-1/180,.5)}),Dr=l({},Be,{projection:Pa,transformation:tt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var p=u.lng-s.lng,b=u.lat-s.lat;return Math.sqrt(p*p+b*b)},infinite:!0});Be.Earth=ft,Be.EPSG3395=rc,Be.EPSG3857=Ft,Be.EPSG900913=Tt,Be.EPSG4326=fl,Be.Simple=Dr;var Un=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[y(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[y(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ze.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=y(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return y(s)in this._layers},eachLayer:function(s,u){for(var p in this._layers)s.call(u,this._layers[p]);return this},_addLayers:function(s){s=s?D(s)?s:[s]:[];for(var u=0,p=s.length;u<p;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[y(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=y(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,p=this._getZoomSpan();for(var b in this._zoomBoundLayers){var T=this._zoomBoundLayers[b].options;s=T.minZoom===void 0?s:Math.min(s,T.minZoom),u=T.maxZoom===void 0?u:Math.max(u,T.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Br=Un.extend({initialize:function(s,u){k(this,u),this._layers={};var p,b;if(s)for(p=0,b=s.length;p<b;p++)this.addLayer(s[p])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),p,b;for(p in this._layers)b=this._layers[p],b[s]&&b[s].apply(b,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var p in this._layers)s.call(u,this._layers[p]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return y(s)}}),Oh=function(s,u){return new Br(s,u)},Yn=Br.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Br.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Br.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new me;for(var u in this._layers){var p=this._layers[u];s.extend(p.getBounds?p.getBounds():p.getLatLng())}return s}}),sc=function(s,u){return new Yn(s,u)},Xn=we.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){k(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var p=this._getIconUrl(s);if(!p){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(b,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(s,u){var p=this.options,b=p[u+"Size"];typeof b=="number"&&(b=[b,b]);var T=pe(b),O=pe(u==="shadow"&&p.shadowAnchor||p.iconAnchor||T&&T.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(p.className||""),O&&(s.style.marginLeft=-O.x+"px",s.style.marginTop=-O.y+"px"),T&&(s.style.width=T.x+"px",s.style.height=T.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Ae.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Us(s){return new Xn(s)}var Is=Xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Is.imagePath!="string"&&(Is.imagePath=this._detectIconPath()),(this.options.imagePath||Is.imagePath)+Xn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(p,b,T){var O=b.exec(p);return O&&O[T]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=qe("div","leaflet-default-icon-path",document.body),u=Rs(s,"background-image")||Rs(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Vs=Kn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Oi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ne(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,p=u._map,b=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,O=ki(u._icon),N=p.getPixelBounds(),$=p.getPixelOrigin(),X=te(N.min._subtract($).add(T),N.max._subtract($).subtract(T));if(!X.contains(O)){var ue=pe((Math.max(X.max.x,O.x)-X.max.x)/(N.max.x-X.max.x)-(Math.min(X.min.x,O.x)-X.min.x)/(N.min.x-X.min.x),(Math.max(X.max.y,O.y)-X.max.y)/(N.max.y-X.max.y)-(Math.min(X.min.y,O.y)-X.min.y)/(N.min.y-X.min.y)).multiplyBy(b);p.panBy(ue,{animate:!1}),this._draggable._newPos._add(ue),this._draggable._startPos._add(ue),dt(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=oe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=oe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,p=u._shadow,b=ki(u._icon),T=u._map.layerPointToLatLng(b);p&&dt(p,b),u._latlng=T,s.latlng=T,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Hs=Un.extend({options:{icon:new Is,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){k(this,u),this._latlng=xe(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=xe(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=s.icon.createIcon(this._icon),b=!1;p!==this._icon&&(this._icon&&this._removeIcon(),b=!0,s.title&&(p.title=s.title),p.tagName==="IMG"&&(p.alt=s.alt||"")),Ne(p,u),s.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(p,"focus",this._panOnFocus,this);var T=s.icon.createShadow(this._shadow),O=!1;T!==this._shadow&&(this._removeShadow(),O=!0),T&&(Ne(T,u),T.alt=""),this._shadow=T,s.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&O&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rt(this._icon,"focus",this._panOnFocus,this),ot(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ot(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&dt(this._icon,s),this._shadow&&dt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Vs)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Vs(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&mt(this._icon,s),this._shadow&&mt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,p=u.iconSize?pe(u.iconSize):pe(0,0),b=u.iconAnchor?pe(u.iconAnchor):pe(0,0);s.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:p.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ac(s,u){return new Hs(s,u)}var Jn=Un.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return k(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Nr=Jn.extend({options:{fill:!0,radius:10},initialize:function(s,u){k(this,u),this._latlng=xe(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=xe(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Jn.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,p=this._clickTolerance(),b=[s+p,u+p];this._pxBounds=new B(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function oc(s,u){return new Nr(s,u)}var Ba=Nr.extend({initialize:function(s,u,p){if(typeof u=="number"&&(u=l({},p,{radius:u})),k(this,u),this._latlng=xe(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Jn.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,p=this._map,b=p.options.crs;if(b.distance===ft.distance){var T=Math.PI/180,O=this._mRadius/ft.R/T,N=p.project([u+O,s]),$=p.project([u-O,s]),X=N.add($).divideBy(2),ue=p.unproject(X).lat,_e=Math.acos((Math.cos(O*T)-Math.sin(u*T)*Math.sin(ue*T))/(Math.cos(u*T)*Math.cos(ue*T)))/T;(isNaN(_e)||_e===0)&&(_e=O/Math.cos(Math.PI/180*u)),this._point=X.subtract(p.getPixelOrigin()),this._radius=isNaN(_e)?0:X.x-p.project([ue,s-_e]).x,this._radiusY=X.y-N.y}else{var Re=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Re).x}this._updateBounds()}});function lc(s,u,p){return new Ba(s,u,p)}var mi=Jn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){k(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,p=null,b=Ns,T,O,N=0,$=this._parts.length;N<$;N++)for(var X=this._parts[N],ue=1,_e=X.length;ue<_e;ue++){T=X[ue-1],O=X[ue];var Re=b(s,T,O,!0);Re<u&&(u=Re,p=b(s,T,O))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=xe(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new me,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Sn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],p=Sn(s),b=0,T=s.length;b<T;b++)p?(u[b]=xe(s[b]),this._bounds.extend(u[b])):u[b]=this._convertLatLngs(s[b]);return u},_project:function(){var s=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new ne(s,s);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,p){var b=s[0]instanceof ve,T=s.length,O,N;if(b){for(N=[],O=0;O<T;O++)N[O]=this._map.latLngToLayerPoint(s[O]),p.extend(N[O]);u.push(N)}else for(O=0;O<T;O++)this._projectLatlngs(s[O],u,p)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,b,T,O,N,$,X;for(p=0,T=0,O=this._rings.length;p<O;p++)for(X=this._rings[p],b=0,N=X.length;b<N-1;b++)$=nc(X[b],X[b+1],s,b,!0),$&&(u[T]=u[T]||[],u[T].push($[0]),($[1]!==X[b+1]||b===N-2)&&(u[T].push($[1]),T++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,p=0,b=s.length;p<b;p++)s[p]=Ju(s[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var p,b,T,O,N,$,X=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(p=0,O=this._parts.length;p<O;p++)for($=this._parts[p],b=0,N=$.length,T=N-1;b<N;T=b++)if(!(!u&&b===0)&&Qu(s,$[T],$[b])<=X)return!0;return!1}});function Mh(s,u){return new mi(s,u)}mi._flat=za;var Ur=mi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=mi.prototype._convertLatLngs.call(this,s),p=u.length;return p>=2&&u[0]instanceof ve&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(s){mi.prototype._setLatLngs.call(this,s),Sn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Sn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,p=new ne(u,u);if(s=new B(s.min.subtract(p),s.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,T=this._rings.length,O;b<T;b++)O=Yu(this._rings[b],s,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,p,b,T,O,N,$,X,ue;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(O=0,X=this._parts.length;O<X;O++)for(p=this._parts[O],N=0,ue=p.length,$=ue-1;N<ue;$=N++)b=p[N],T=p[$],b.y>s.y!=T.y>s.y&&s.x<(T.x-b.x)*(s.y-b.y)/(T.y-b.y)+b.x&&(u=!u);return u||mi.prototype._containsPoint.call(this,s,!0)}});function Lh(s,u){return new Ur(s,u)}var gi=Yn.extend({initialize:function(s,u){k(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=D(s)?s:s.features,p,b,T;if(u){for(p=0,b=u.length;p<b;p++)T=u[p],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var O=this.options;if(O.filter&&!O.filter(s))return this;var N=Yt(s,O);return N?(N.feature=Ia(s),N.defaultOptions=N.options,this.resetStyle(N),O.onEachFeature&&O.onEachFeature(s,N),this.addLayer(N)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function Yt(s,u){var p=s.type==="Feature"?s.geometry:s,b=p?p.coordinates:null,T=[],O=u&&u.pointToLayer,N=u&&u.coordsToLatLng||Na,$,X,ue,_e;if(!b&&!p)return null;switch(p.type){case"Point":return $=N(b),Ir(O,s,$,u);case"MultiPoint":for(ue=0,_e=b.length;ue<_e;ue++)$=N(b[ue]),T.push(Ir(O,s,$,u));return new Yn(T);case"LineString":case"MultiLineString":return X=qs(b,p.type==="LineString"?0:1,N),new mi(X,u);case"Polygon":case"MultiPolygon":return X=qs(b,p.type==="Polygon"?1:2,N),new Ur(X,u);case"GeometryCollection":for(ue=0,_e=p.geometries.length;ue<_e;ue++){var Re=Yt({geometry:p.geometries[ue],type:"Feature",properties:s.properties},u);Re&&T.push(Re)}return new Yn(T);case"FeatureCollection":for(ue=0,_e=p.features.length;ue<_e;ue++){var Ve=Yt(p.features[ue],u);Ve&&T.push(Ve)}return new Yn(T);default:throw new Error("Invalid GeoJSON object.")}}function Ir(s,u,p,b){return s?s(u,p):new Hs(p,b&&b.markersInheritOptions&&b)}function Na(s){return new ve(s[1],s[0],s[2])}function qs(s,u,p){for(var b=[],T=0,O=s.length,N;T<O;T++)N=u?qs(s[T],u-1,p):(p||Na)(s[T]),b.push(N);return b}function Ua(s,u){return s=xe(s),s.alt!==void 0?[S(s.lng,u),S(s.lat,u),S(s.alt,u)]:[S(s.lng,u),S(s.lat,u)]}function Fs(s,u,p,b){for(var T=[],O=0,N=s.length;O<N;O++)T.push(u?Fs(s[O],Sn(s[O])?0:u-1,p,b):Ua(s[O],b));return!u&&p&&T.length>0&&T.push(T[0].slice()),T}function Mi(s,u){return s.feature?l({},s.feature,{geometry:u}):Ia(u)}function Ia(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Li={toGeoJSON:function(s){return Mi(this,{type:"Point",coordinates:Ua(this.getLatLng(),s)})}};Hs.include(Li),Ba.include(Li),Nr.include(Li),mi.include({toGeoJSON:function(s){var u=!Sn(this._latlngs),p=Fs(this._latlngs,u?1:0,!1,s);return Mi(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),Ur.include({toGeoJSON:function(s){var u=!Sn(this._latlngs),p=u&&!Sn(this._latlngs[0]),b=Fs(this._latlngs,p?2:u?1:0,!0,s);return u||(b=[b]),Mi(this,{type:(p?"Multi":"")+"Polygon",coordinates:b})}}),Br.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(s).geometry.coordinates)}),Mi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var p=u==="GeometryCollection",b=[];return this.eachLayer(function(T){if(T.toGeoJSON){var O=T.toGeoJSON(s);if(p)b.push(O.geometry);else{var N=Ia(O);N.type==="FeatureCollection"?b.push.apply(b,N.features):b.push(N)}}}),p?Mi(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Va(s,u){return new gi(s,u)}var Ws=Va,Vr=Un.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,p){this._url=s,this._bounds=he(u),k(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ot(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Wt(this._image),this},bringToBack:function(){return this._map&&Ji(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=he(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:qe("img");if(Ne(u,"leaflet-image-layer"),this._zoomAnimated&&Ne(u,"leaflet-zoom-animated"),this.options.className&&Ne(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=h(this.fire,this,"load"),u.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;hi(this._image,p,u)},_reset:function(){var s=this._image,u=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();dt(s,u.min),s.style.width=p.x+"px",s.style.height=p.y+"px"},_updateOpacity:function(){mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),uc=function(s,u,p){return new Vr(s,u,p)},zi=Vr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:qe("video");if(Ne(u,"leaflet-image-layer"),this._zoomAnimated&&Ne(u,"leaflet-zoom-animated"),this.options.className&&Ne(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=h(this.fire,this,"load"),s){for(var p=u.getElementsByTagName("source"),b=[],T=0;T<p.length;T++)b.push(p[T].src);this._url=p.length>0?b:[u.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var N=qe("source");N.src=this._url[O],u.appendChild(N)}}});function Hr(s,u,p){return new zi(s,u,p)}var Ha=Vr.extend({_initImage:function(){var s=this._image=this._url;Ne(s,"leaflet-image-layer"),this._zoomAnimated&&Ne(s,"leaflet-zoom-animated"),this.options.className&&Ne(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function cc(s,u,p){return new Ha(s,u,p)}var Xt=Un.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ve||D(s))?(this._latlng=xe(s),k(this,u)):(k(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&mt(this._container,1),this.bringToFront(),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(mt(this._container,0),this._removeTimeout=setTimeout(h(ot,void 0,this._container),200)):ot(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=xe(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Wt(this._container),this},bringToBack:function(){return this._map&&Ji(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Yn){u=null;var p=this._source._layers;for(var b in p)if(p[b]._map){u=p[b];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=pe(this.options.offset),p=this._getAnchor();this._zoomAnimated?dt(this._container,s.add(p)):u=u.add(s).add(p);var b=this._containerBottom=-u.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=b+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});Ze.include({_initOverlay:function(s,u,p,b){var T=u;return T instanceof s||(T=new s(b).setContent(u)),p&&T.setLatLng(p),T}}),Un.include({_initOverlay:function(s,u,p,b){var T=p;return T instanceof s?(k(T,b),T._source=this):(T=u&&!b?u:new s(b,this),T.setContent(p)),T}});var $s=Xt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Xt.prototype.openOn.call(this,s)},onAdd:function(s){Xt.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Jn||this._source.on("preclick",Nn))},onRemove:function(s){Xt.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Jn||this._source.off("preclick",Nn))},getEvents:function(){var s=Xt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=qe("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=qe("div",s+"-content-wrapper",u);if(this._contentNode=qe("div",s+"-content",p),er(u),Gn(this._contentNode),ze(u,"contextmenu",Nn),this._tipContainer=qe("div",s+"-tip-container",u),this._tip=qe("div",s+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=qe("a",s+"-close-button",u);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',ze(b,"click",function(T){Ct(T),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var p=s.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var b=s.offsetHeight,T=this.options.maxHeight,O="leaflet-popup-scrolled";T&&b>T?(u.height=T+"px",Ne(s,O)):_t(s,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),p=this._getAnchor();dt(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Rs(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,b=this._containerWidth,T=new ne(this._containerLeft,-p-this._containerBottom);T._add(ki(this._container));var O=s.layerPointToContainerPoint(T),N=pe(this.options.autoPanPadding),$=pe(this.options.autoPanPaddingTopLeft||N),X=pe(this.options.autoPanPaddingBottomRight||N),ue=s.getSize(),_e=0,Re=0;O.x+b+X.x>ue.x&&(_e=O.x+b-ue.x+X.x),O.x-_e-$.x<0&&(_e=O.x-$.x),O.y+p+X.y>ue.y&&(Re=O.y+p-ue.y+X.y),O.y-Re-$.y<0&&(Re=O.y-$.y),(_e||Re)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([_e,Re]))}},_getAnchor:function(){return pe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),dc=function(s,u){return new $s(s,u)};Ze.mergeOptions({closePopupOnClick:!0}),Ze.include({openPopup:function(s,u,p){return this._initOverlay($s,s,u,p).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Un.include({bindPopup:function(s,u){return this._popup=this._initOverlay($s,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Yn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Ri(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Jn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Zs=Xt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Xt.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Xt.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Xt.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qe("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,p,b=this._map,T=this._container,O=b.latLngToContainerPoint(b.getCenter()),N=b.layerPointToContainerPoint(s),$=this.options.direction,X=T.offsetWidth,ue=T.offsetHeight,_e=pe(this.options.offset),Re=this._getAnchor();$==="top"?(u=X/2,p=ue):$==="bottom"?(u=X/2,p=0):$==="center"?(u=X/2,p=ue/2):$==="right"?(u=0,p=ue/2):$==="left"?(u=X,p=ue/2):N.x<O.x?($="right",u=0,p=ue/2):($="left",u=X+(_e.x+Re.x)*2,p=ue/2),s=s.subtract(pe(u,p,!0)).add(_e).add(Re),_t(T,"leaflet-tooltip-right"),_t(T,"leaflet-tooltip-left"),_t(T,"leaflet-tooltip-top"),_t(T,"leaflet-tooltip-bottom"),Ne(T,"leaflet-tooltip-"+$),dt(T,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&mt(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return pe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),zh=function(s,u){return new Zs(s,u)};Ze.include({openTooltip:function(s,u,p){return this._initOverlay(Zs,s,u,p).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Un.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Zs,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Yn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(ze(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ze(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,p,b;this._tooltip.options.sticky&&s.originalEvent&&(p=this._map.mouseEventToContainerPoint(s.originalEvent),b=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(u)}});var hc=Xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),p=this.options;if(p.html instanceof Element?(bn(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var b=pe(p.bgPos);u.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Ph(s){return new hc(s)}Xn.Default=Is;var qr=Un.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){k(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ot(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Wt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ji(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ne?s:new ne(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,p=-s(-1/0,1/0),b=0,T=u.length,O;b<T;b++)O=u[b].style.zIndex,u[b]!==this._container&&O&&(p=s(p,+O));isFinite(p)&&(this.options.zIndex=p+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ae.ielt9){mt(this._container,this.options.opacity);var s=+new Date,u=!1,p=!1;for(var b in this._tiles){var T=this._tiles[b];if(!(!T.current||!T.loaded)){var O=Math.min(1,(s-T.loaded)/200);mt(T.el,O),O<1?u=!0:(T.active?p=!0:this._onOpaqueTile(T),T.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(G(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===s?(this._levels[p].el.style.zIndex=u-Math.abs(s-p),this._onUpdateLevel(p)):(ot(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var b=this._levels[s],T=this._map;return b||(b=this._levels[s]={},b.el=qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=u,b.origin=T.project(T.unproject(T.getPixelOrigin()),s).round(),b.zoom=s,this._setZoomTransform(b,T.getCenter(),T.getZoom()),w(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var b=u.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ot(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,p,b){var T=Math.floor(s/2),O=Math.floor(u/2),N=p-1,$=new ne(+T,+O);$.z=+N;var X=this._tileCoordsToKey($),ue=this._tiles[X];return ue&&ue.active?(ue.retain=!0,!0):(ue&&ue.loaded&&(ue.retain=!0),N>b?this._retainParent(T,O,N,b):!1)},_retainChildren:function(s,u,p,b){for(var T=2*s;T<2*s+2;T++)for(var O=2*u;O<2*u+2;O++){var N=new ne(T,O);N.z=p+1;var $=this._tileCoordsToKey(N),X=this._tiles[$];if(X&&X.active){X.retain=!0;continue}else X&&X.loaded&&(X.retain=!0);p+1<b&&this._retainChildren(T,O,p+1,b)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,p,b){var T=Math.round(u);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var O=this.options.updateWhenZooming&&T!==this._tileZoom;(!b||O)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(s),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],s,u)},_setZoomTransform:function(s,u,p){var b=this._map.getZoomScale(p,s.zoom),T=s.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(u,p)).round();Ae.any3d?hi(s.el,T,b):dt(s.el,T)},_resetGrid:function(){var s=this._map,u=s.options.crs,p=this._tileSize=this.getTileSize(),b=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],b).x/p.x),Math.ceil(s.project([0,u.wrapLng[1]],b).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],b).y/p.x),Math.ceil(s.project([u.wrapLat[1],0],b).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),b=u.getZoomScale(p,this._tileZoom),T=u.project(s,this._tileZoom).floor(),O=u.getSize().divideBy(b*2);return new B(T.subtract(O),T.add(O))},_update:function(s){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(s),T=this._pxBoundsToTileRange(b),O=T.getCenter(),N=[],$=this.options.keepBuffer,X=new B(T.getBottomLeft().subtract([$,-$]),T.getTopRight().add([$,-$]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ue in this._tiles){var _e=this._tiles[ue].coords;(_e.z!==this._tileZoom||!X.contains(new ne(_e.x,_e.y)))&&(this._tiles[ue].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(s,p);return}for(var Re=T.min.y;Re<=T.max.y;Re++)for(var Ve=T.min.x;Ve<=T.max.x;Ve++){var $t=new ne(Ve,Re);if($t.z=this._tileZoom,!!this._isValidTile($t)){var At=this._tiles[this._tileCoordsToKey($t)];At?At.current=!0:N.push($t)}}if(N.sort(function(Xe,Je){return Xe.distanceTo(O)-Je.distanceTo(O)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yn=document.createDocumentFragment();for(Ve=0;Ve<N.length;Ve++)this._addTile(N[Ve],yn);this._level.el.appendChild(yn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(s.x<p.min.x||s.x>p.max.x)||!u.wrapLat&&(s.y<p.min.y||s.y>p.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(s);return he(this.options.bounds).overlaps(b)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,p=this.getTileSize(),b=s.scaleBy(p),T=b.add(p),O=u.unproject(b,s.z),N=u.unproject(T,s.z);return[O,N]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),p=new me(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),p=new ne(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(s){var u=this._tiles[s];u&&(ot(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ne(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=w,s.onmousemove=w,Ae.ielt9&&this.options.opacity<1&&mt(s,this.options.opacity)},_addTile:function(s,u){var p=this._getTilePos(s),b=this._tileCoordsToKey(s),T=this.createTile(this._wrapCoords(s),h(this._tileReady,this,s));this._initTile(T),this.createTile.length<2&&oe(h(this._tileReady,this,s,null,T)),dt(T,p),this._tiles[b]={el:T,coords:s,current:!0},u.appendChild(T),this.fire("tileloadstart",{tile:T,coords:s})},_tileReady:function(s,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:s});var b=this._tileCoordsToKey(s);p=this._tiles[b],p&&(p.loaded=+new Date,this._map._fadeAnimated?(mt(p.el,0),G(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(Ne(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ae.ielt9||!this._map._fadeAnimated?oe(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new ne(this._wrapX?x(s.x,this._wrapX):s.x,this._wrapY?x(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new B(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function fc(s){return new qr(s)}var Pi=qr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=k(this,u),u.detectRetina&&Ae.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var p=document.createElement("img");return ze(p,"load",h(this._tileOnLoad,this,u,p)),ze(p,"error",h(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(s),p},getTileUrl:function(s){var u={r:Ae.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=p),u["-y"]=p}return P(this._url,l(u,this.options))},_tileOnLoad:function(s,u){Ae.ielt9?setTimeout(h(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,p){var b=this.options.errorTileUrl;b&&u.getAttribute("src")!==b&&(u.src=b),s(p,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,b=this.options.zoomOffset;return p&&(s=u-s),s+b},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=w,u.onerror=w,!u.complete)){u.src=q;var p=this._tiles[s].coords;ot(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",q),qr.prototype._removeTile.call(this,s)},_tileReady:function(s,u,p){if(!(!this._map||p&&p.getAttribute("src")===q))return qr.prototype._tileReady.call(this,s,u,p)}});function Tn(s,u){return new Pi(s,u)}var Gs=Pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var p=l({},this.defaultWmsParams);for(var b in u)b in this.options||(p[b]=u[b]);u=k(this,u);var T=u.detectRetina&&Ae.retina?2:1,O=this.getTileSize();p.width=O.x*T,p.height=O.y*T,this.wmsParams=p},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Pi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),p=this._crs,b=te(p.project(u[0]),p.project(u[1])),T=b.min,O=b.max,N=(this._wmsVersion>=1.3&&this._crs===fl?[T.y,T.x,O.y,O.x]:[T.x,T.y,O.x,O.y]).join(","),$=Pi.prototype.getTileUrl.call(this,s);return $+R(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function En(s,u){return new Gs(s,u)}Pi.WMS=Gs,Tn.wms=En;var ln=Un.extend({options:{padding:.1},initialize:function(s){k(this,s),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var p=this._map.getZoomScale(u,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,u),O=b.multiplyBy(-p).add(T).subtract(this._map._getNewPixelOrigin(s,u));Ae.any3d?hi(this._container,O,p):dt(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new B(p,p.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qa=ln.extend({options:{tolerance:0},getEvents:function(){var s=ln.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ze(s,"mousemove",this._onMouseMove,this),ze(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,ot(this._container),rt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var s=this._bounds,u=this._container,p=s.getSize(),b=Ae.retina?2:1;dt(u,s.min),u.width=b*p.x,u.height=b*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[y(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,p=u.next,b=u.prev;p?p.prev=b:this._drawLast=b,b?b.next=p:this._drawFirst=p,delete s._order,delete this._layers[y(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),p=[],b,T;for(T=0;T<u.length;T++){if(b=Number(u[T]),isNaN(b))return;p.push(b)}s.options._dashArray=p}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||oe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)s=b.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var p,b,T,O,N=s._parts,$=N.length,X=this._ctx;if($){for(X.beginPath(),p=0;p<$;p++){for(b=0,T=N[p].length;b<T;b++)O=N[p][b],X[b?"lineTo":"moveTo"](O.x,O.y);u&&X.closePath()}this._fillStroke(X,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,p=this._ctx,b=Math.max(Math.round(s._radius),1),T=(Math.max(Math.round(s._radiusY),1)||b)/b;T!==1&&(p.save(),p.scale(1,T)),p.beginPath(),p.arc(u.x,u.y/T,b,0,Math.PI*2,!1),T!==1&&p.restore(),this._fillStroke(p,s)}},_fillStroke:function(s,u){var p=u.options;p.fill&&(s.globalAlpha=p.fillOpacity,s.fillStyle=p.fillColor||p.color,s.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=p.opacity,s.lineWidth=p.weight,s.strokeStyle=p.color,s.lineCap=p.lineCap,s.lineJoin=p.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),p,b,T=this._drawFirst;T;T=T.next)p=T.layer,p.options.interactive&&p._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(p))&&(b=p);this._fireEvent(b?[b]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(_t(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var p,b,T=this._drawFirst;T;T=T.next)p=T.layer,p.options.interactive&&p._containsPoint(u)&&(b=p);b!==this._hoveredLayer&&(this._handleMouseOut(s),b&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([b],s,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,p){this._map._fireDOMEvent(u,p||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var p=u.next,b=u.prev;if(p)p.prev=b;else return;b?b.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var p=u.next,b=u.prev;if(b)b.next=p;else return;p?p.prev=b:b&&(this._drawLast=b),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Ks(s){return Ae.canvas?new qa(s):null}var Di=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),pl={_initContainer:function(){this._container=qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ln.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Di("shape");Ne(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Di("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;ot(u),s.removeInteractiveTarget(u),delete this._layers[y(s)]},_updateStyle:function(s){var u=s._stroke,p=s._fill,b=s.options,T=s._container;T.stroked=!!b.stroke,T.filled=!!b.fill,b.stroke?(u||(u=s._stroke=Di("stroke")),T.appendChild(u),u.weight=b.weight+"px",u.color=b.color,u.opacity=b.opacity,b.dashArray?u.dashStyle=D(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=b.lineCap.replace("butt","flat"),u.joinstyle=b.lineJoin):u&&(T.removeChild(u),s._stroke=null),b.fill?(p||(p=s._fill=Di("fill")),T.appendChild(p),p.color=b.fillColor||b.color,p.opacity=b.fillOpacity):p&&(T.removeChild(p),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),p=Math.round(s._radius),b=Math.round(s._radiusY||p);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+b+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Wt(s._container)},_bringToBack:function(s){Ji(s._container)}},Qn=Ae.vml?Di:it,Fr=ln.extend({_initContainer:function(){this._container=Qn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ot(this._container),rt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var s=this._bounds,u=s.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),dt(p,s.min),p.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Qn("path");s.options.className&&Ne(u,s.options.className),s.options.interactive&&Ne(u,"leaflet-interactive"),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ot(s._path),s.removeInteractiveTarget(s._path),delete this._layers[y(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,p=s.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,fn(s._parts,u))},_updateCircle:function(s){var u=s._point,p=Math.max(Math.round(s._radius),1),b=Math.max(Math.round(s._radiusY),1)||p,T="a"+p+","+b+" 0 1,0 ",O=s._empty()?"M0 0":"M"+(u.x-p)+","+u.y+T+p*2+",0 "+T+-p*2+",0 ";this._setPath(s,O)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Wt(s._path)},_bringToBack:function(s){Ji(s._path)}});Ae.vml&&Fr.include(pl);function Ys(s){return Ae.svg||Ae.vml?new Fr(s):null}Ze.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Ks(s)||Ys(s)}});var nr=Ur.extend({initialize:function(s,u){Ur.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=he(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Dh(s,u){return new nr(s,u)}Fr.create=Qn,Fr.pointsToPath=fn,gi.geometryToLayer=Yt,gi.coordsToLatLng=Na,gi.coordsToLatLngs=qs,gi.latLngToCoords=Ua,gi.latLngsToCoords=Fs,gi.getFeature=Mi,gi.asFeature=Ia,Ze.mergeOptions({boxZoom:!0});var un=Kn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){rt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ot(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Rr(),ka(),this._startPoint=this._map.mouseEventToContainerPoint(s),ze(document,{contextmenu:Ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=qe("div","leaflet-zoom-box",this._container),Ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new B(this._point,this._startPoint),p=u.getSize();dt(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(ot(this._box),_t(this._container,"leaflet-crosshair")),Zn(),Ms(),rt(document,{contextmenu:Ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var u=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ze.addInitHook("addHandler","boxZoom",un),Ze.mergeOptions({doubleClickZoom:!0});var Fa=Kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,p=u.getZoom(),b=u.options.zoomDelta,T=s.originalEvent.shiftKey?p-b:p+b;u.options.doubleClickZoom==="center"?u.setZoom(T):u.setZoomAround(s.containerPoint,T)}});Ze.addInitHook("addHandler","doubleClickZoom",Fa),Ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ei=Kn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Oi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=he(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),p=this._initialWorldOffset,b=this._draggable._newPos.x,T=(b-u+p)%s+u-p,O=(b+u+p)%s-u-p,N=Math.abs(T+p)<Math.abs(O+p)?T:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(s){var u=this._map,p=u.options,b=!p.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),b)u.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,N=p.easeLinearity,$=T.multiplyBy(N/O),X=$.distanceTo([0,0]),ue=Math.min(p.inertiaMaxSpeed,X),_e=$.multiplyBy(ue/X),Re=ue/(p.inertiaDeceleration*N),Ve=_e.multiplyBy(-Re/2).round();!Ve.x&&!Ve.y?u.fire("moveend"):(Ve=u._limitOffset(Ve,u.options.maxBounds),oe(function(){u.panBy(Ve,{duration:Re,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Ze.addInitHook("addHandler","dragging",ei),Ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ml=Kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ze(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),rt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,p=s.scrollTop||u.scrollTop,b=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(b,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},p=this.keyCodes,b,T;for(b=0,T=p.left.length;b<T;b++)u[p.left[b]]=[-1*s,0];for(b=0,T=p.right.length;b<T;b++)u[p.right[b]]=[s,0];for(b=0,T=p.down.length;b<T;b++)u[p.down[b]]=[0,s];for(b=0,T=p.up.length;b<T;b++)u[p.up[b]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},p=this.keyCodes,b,T;for(b=0,T=p.zoomIn.length;b<T;b++)u[p.zoomIn[b]]=s;for(b=0,T=p.zoomOut.length;b<T;b++)u[p.zoomOut[b]]=-s},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){rt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,p=this._map,b;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(b=this._panKeys[u],s.shiftKey&&(b=pe(b).multiplyBy(3)),p.options.maxBounds&&(b=p._limitOffset(pe(b),p.options.maxBounds)),p.options.worldCopyJump){var T=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(b)));p.panTo(T)}else p.panBy(b)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Ri(s)}}});Ze.addInitHook("addHandler","keyboard",ml),Ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xs=Kn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){rt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=en(s),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var b=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),b),Ri(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),p=this._map.options.zoomSnap||0;s._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,O=p?Math.ceil(T/p)*p:T,N=s._limitZoom(u+(this._delta>0?O:-O))-u;this._delta=0,this._startTime=null,N&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+N):s.setZoomAround(this._lastMousePos,u+N))}});Ze.addInitHook("addHandler","scrollWheelZoom",Xs);var ir=600;Ze.mergeOptions({tapHold:Ae.touchNative&&Ae.safari&&Ae.mobile,tapTolerance:15});var Wa=Kn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){rt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new ne(u.clientX,u.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Ct),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),ir),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){rt(document,"touchend",Ct),rt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),rt(document,"touchend touchcancel contextmenu",this._cancel,this),rt(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new ne(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var p=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Ze.addInitHook("addHandler","tapHold",Wa),Ze.mergeOptions({touchZoom:Ae.touch,bounceAtZoomLimits:!0});var gl=Kn.extend({addHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),rt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(s.touches[0]),b=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(b)._divideBy(2))),this._startDist=p.distanceTo(b),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Ct(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(s.touches[0]),b=u.mouseEventToContainerPoint(s.touches[1]),T=p.distanceTo(b)/this._startDist;if(this._zoom=u.getScaleZoom(T,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&T<1||this._zoom>u.getMaxZoom()&&T>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var O=p._add(b)._divideBy(2)._subtract(this._centerPoint);if(T===1&&O.x===0&&O.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var N=h(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=oe(N,this,!0),Ct(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),rt(document,"touchmove",this._onTouchMove,this),rt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ze.addInitHook("addHandler","touchZoom",gl),Ze.BoxZoom=un,Ze.DoubleClickZoom=Fa,Ze.Drag=ei,Ze.Keyboard=ml,Ze.ScrollWheelZoom=Xs,Ze.TapHold=Wa,Ze.TouchZoom=gl,r.Bounds=B,r.Browser=Ae,r.CRS=Be,r.Canvas=qa,r.Circle=Ba,r.CircleMarker=Nr,r.Class=we,r.Control=gn,r.DivIcon=hc,r.DivOverlay=Xt,r.DomEvent=Ma,r.DomUtil=Lr,r.Draggable=Oi,r.Evented=ie,r.FeatureGroup=Yn,r.GeoJSON=gi,r.GridLayer=qr,r.Handler=Kn,r.Icon=Xn,r.ImageOverlay=Vr,r.LatLng=ve,r.LatLngBounds=me,r.Layer=Un,r.LayerGroup=Br,r.LineUtil=Rh,r.Map=Ze,r.Marker=Hs,r.Mixin=jh,r.Path=Jn,r.Point=ne,r.PolyUtil=dl,r.Polygon=Ur,r.Polyline=mi,r.Popup=$s,r.PosAnimation=zr,r.Projection=ic,r.Rectangle=nr,r.Renderer=ln,r.SVG=Fr,r.SVGOverlay=Ha,r.TileLayer=Pi,r.Tooltip=Zs,r.Transformation=Ye,r.Util=de,r.VideoOverlay=zi,r.bind=h,r.bounds=te,r.canvas=Ks,r.circle=lc,r.circleMarker=oc,r.control=pi,r.divIcon=Ph,r.extend=l,r.featureGroup=sc,r.geoJSON=Va,r.geoJson=Ws,r.gridLayer=fc,r.icon=Us,r.imageOverlay=uc,r.latLng=xe,r.latLngBounds=he,r.layerGroup=Oh,r.map=sl,r.marker=ac,r.point=pe,r.polygon=Lh,r.polyline=Mh,r.popup=dc,r.rectangle=Dh,r.setOptions=k,r.stamp=y,r.svg=Ys,r.svgOverlay=cc,r.tileLayer=Tn,r.tooltip=zh,r.transformation=tt,r.version=a,r.videoOverlay=Hr;var yl=window.L;r.noConflict=function(){return window.L=yl,this},window.L=r}))})(lu,lu.exports)),lu.exports}var Pu=wL();const MS=ih(Pu);function Hg(n,t,r){return Object.freeze({instance:n,context:t,container:r})}function qg(n,t){return t==null?function(a,l){const d=C.useRef(void 0);return d.current||(d.current=n(a,l)),d}:function(a,l){const d=C.useRef(void 0);d.current||(d.current=n(a,l));const h=C.useRef(a),{instance:m}=d.current;return C.useEffect(function(){h.current!==a&&(t(m,a,h.current),h.current=a)},[m,a,t]),d}}function SL(n,t){C.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function LS(n){return function(r){const a=Ig(),l=n(Vg(r,a),a);return RS(a.map,r.attribution),OS(l.current,r.eventHandlers),SL(l.current,a),l}}function TL(n,t){const r=qg(n,t),a=LS(r);return yL(a)}function EL(n,t){const r=qg(n),a=xL(r,t);return vL(a)}function jL(n,t){const r=qg(n,t),a=LS(r);return _L(a)}function CL(n,t,r){const{opacity:a,zIndex:l}=t;a!=null&&a!==r.opacity&&n.setOpacity(a),l!=null&&l!==r.zIndex&&n.setZIndex(l)}function AL(){return Ig().map}function kL({bounds:n,boundsOptions:t,center:r,children:a,className:l,id:d,placeholder:h,style:m,whenReady:y,zoom:v,...x},w){const[S]=C.useState({className:l,id:d,style:m}),[j,A]=C.useState(null),k=C.useRef(void 0);C.useImperativeHandle(w,()=>j?.map??null,[j]);const R=C.useCallback(P=>{if(P!==null&&!k.current){const D=new Pu.Map(P,x);k.current=D,r!=null&&v!=null?D.setView(r,v):n!=null&&D.fitBounds(n,t),y!=null&&D.whenReady(y),A(mL(D))}},[]);C.useEffect(()=>()=>{j?.map.remove()},[j]);const z=j?ps.createElement(Ug,{value:j},a):h??null;return ps.createElement("div",{...S,ref:R},z)}const RL=C.forwardRef(kL),Gx=TL(function({position:t,...r},a){const l=new Pu.Marker(t,r);return Hg(l,gL(a,{overlayContainer:l}))},function(t,r,a){r.position!==a.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),Kx=EL(function(t,r){const a=new Pu.Popup(t,r.overlayContainer);return Hg(a,r)},function(t,r,{position:a},l){C.useEffect(function(){const{instance:h}=t;function m(v){v.popup===h&&(h.update(),l(!0))}function y(v){v.popup===h&&l(!1)}return r.map.on({popupopen:m,popupclose:y}),r.overlayContainer==null?(a!=null&&h.setLatLng(a),h.openOn(r.map)):r.overlayContainer.bindPopup(h),function(){r.map.off({popupopen:m,popupclose:y}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(h)}},[t,r,l,a])}),OL=jL(function({url:t,...r},a){const l=new Pu.TileLayer(t,Vg(r,a));return Hg(l,a)},function(t,r,a){CL(t,r,a);const{url:l}=r;l!=null&&l!==a.url&&t.setUrl(l)}),ML=()=>MS.divIcon({html:'<div style="background: var(--primary); width: 32px; height: 32px; border-radius: 12px; border: 3px solid white; display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow-md); transform: rotate(45deg);"><div style="transform: rotate(-45deg);"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg></div></div>',className:"custom-div-icon",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),LL=()=>MS.divIcon({html:'<div style="background: #3B82F6; width: 40px; height: 40px; border-radius: 50%; border: 4px solid white; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></div>',className:"custom-user-icon",iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20]}),zL=({center:n,zoom:t})=>{const r=AL();return C.useEffect(()=>{n&&r.setView(n,t||13)},[n,t,r]),null},PL=()=>{const n=vt(),[t,r]=C.useState([]),[a,l]=C.useState(null),[d,h]=C.useState(!1),m=[11.2588,75.7804];C.useEffect(()=>{(async()=>{const{data:j}=await Q.from("spots").select("*").eq("is_verified",!0);j&&r(j)})()},[]);const y=()=>{h(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(S=>{const{latitude:j,longitude:A}=S.coords;l([j,A]),h(!1)},S=>{console.error("Error getting location:",S),h(!1),alert("Unable to get your location. Please enable location services.")}):(h(!1),alert("Geolocation is not supported by your browser."))},v=(S,j,A,k)=>{const z=(A-S)*Math.PI/180,P=(k-j)*Math.PI/180,D=Math.sin(z/2)*Math.sin(z/2)+Math.cos(S*Math.PI/180)*Math.cos(A*Math.PI/180)*Math.sin(P/2)*Math.sin(P/2);return 6371*(2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D)))},x=S=>S<.1?`${(S*1e3).toFixed(0)} m away`:S<1?`${(S*1e3).toFixed(0)} m away`:S<10?`${S.toFixed(1)} km away`:`${S.toFixed(0)} km away`,w=S=>{const j=window.location.pathname.includes("/ml/")?"ml":"en";n(`/${j}/spot/${S}`)};return f.jsxs("div",{style:{height:"100vh",width:"100%",position:"relative"},children:[f.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3,display:"flex",gap:"12px",alignItems:"center"},children:[f.jsx(fe.button,{whileTap:{scale:.9},onClick:()=>n(-1),style:{background:"white",border:"none",padding:"12px",borderRadius:"18px",boxShadow:"var(--shadow-md)",cursor:"pointer"},children:f.jsx(Lu,{size:24,color:"var(--text-main)"})}),f.jsxs("div",{style:{background:"white",padding:"12px 24px",borderRadius:"18px",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",gap:"10px"},children:[f.jsx(Pn,{size:20,color:"var(--primary)"}),f.jsx("span",{style:{fontWeight:"800",fontSize:"0.95rem"},children:"Eats Around You"})]}),f.jsxs(fe.button,{whileTap:{scale:.9},onClick:y,disabled:d,style:{background:"white",border:"none",padding:"12px 20px",borderRadius:"18px",boxShadow:"var(--shadow-md)",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx(TS,{size:20,color:d?"#9CA3AF":"#3B82F6"}),f.jsx("span",{style:{fontWeight:"800",fontSize:"0.9rem",color:d?"#9CA3AF":"#3B82F6"},children:d?"Finding...":"Find Me"})]})]}),f.jsxs(RL,{center:m,zoom:13,style:{height:"100%",width:"100%"},children:[f.jsx(zL,{center:a,zoom:14}),f.jsx(OL,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),a&&f.jsx(Gx,{position:a,icon:LL(),children:f.jsx(Kx,{className:"chai-in-popup",children:f.jsxs("div",{style:{padding:"8px",textAlign:"center"},children:[f.jsx("div",{style:{fontWeight:"900",fontSize:"0.9rem",color:"#3B82F6",marginBottom:"4px"},children:"Your Location"}),f.jsx("div",{style:{fontWeight:"600",fontSize:"0.8rem",color:"var(--text-muted)"},children:"You are here"})]})})}),t.map(S=>{const j=a?v(a[0],a[1],S.latitude||11.2588,S.longitude||75.7804):null;return f.jsx(Gx,{position:[S.latitude||11.2588,S.longitude||75.7804],icon:ML(),children:f.jsx(Kx,{className:"chai-in-popup",children:f.jsxs("div",{style:{padding:"8px",minWidth:"200px"},children:[f.jsx("div",{style:{fontWeight:"900",fontSize:"1rem",color:"var(--primary)",marginBottom:"4px"},children:S.name}),f.jsx("div",{style:{fontWeight:"700",fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"8px"},children:S.category}),j!==null&&f.jsxs("div",{style:{fontWeight:"600",fontSize:"0.8rem",color:"#059669",marginBottom:"8px"},children:[" ",x(j)]}),f.jsx("button",{onClick:()=>w(S.id),style:{marginTop:"8px",width:"100%",background:"var(--text-main)",color:"white",border:"none",padding:"10px",borderRadius:"10px",fontWeight:"800",fontSize:"0.8rem",cursor:"pointer"},children:"View Details"})]})})},S.id)})]}),f.jsx("style",{children:`
                .chai-in-popup .leaflet-popup-content-wrapper {
                    border-radius: 20px !important;
                    padding: 4px !important;
                }
                .chai-in-popup .leaflet-popup-tip-container {
                    display: none !important;
                }
            `})]})},Td=43200,Yx=1440,Xx=Symbol.for("constructDateFrom");function Fg(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&Xx in n?n[Xx](t):n instanceof Date?new n.constructor(t):new Date(t)}function ys(n,t){return Fg(n,n)}let DL={};function BL(){return DL}function Jx(n){const t=ys(n),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+n-+r}function Wg(n,...t){const r=Fg.bind(null,n||t.find(a=>typeof a=="object"));return t.map(r)}function Pd(n,t){const r=+ys(n)-+ys(t);return r<0?-1:r>0?1:r}function NL(n){return Fg(n,Date.now())}function UL(n,t,r){const[a,l]=Wg(r?.in,n,t),d=a.getFullYear()-l.getFullYear(),h=a.getMonth()-l.getMonth();return d*12+h}function IL(n){return t=>{const a=(n?Math[n]:Math.trunc)(t);return a===0?0:a}}function VL(n,t){return+ys(n)-+ys(t)}function HL(n,t){const r=ys(n);return r.setHours(23,59,59,999),r}function qL(n,t){const r=ys(n),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function FL(n,t){const r=ys(n);return+HL(r)==+qL(r)}function WL(n,t,r){const[a,l,d]=Wg(r?.in,n,n,t),h=Pd(l,d),m=Math.abs(UL(l,d));if(m<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-h*m);let y=Pd(l,d)===-h;FL(a)&&m===1&&Pd(a,d)===1&&(y=!1);const v=h*(m-+y);return v===0?0:v}function $L(n,t,r){const a=VL(n,t)/1e3;return IL(r?.roundingMethod)(a)}const ZL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GL=(n,t,r)=>{let a;const l=ZL[n];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Wp(n){return(t={})=>{const r=t.width?String(t.width):n.defaultWidth;return n.formats[r]||n.formats[n.defaultWidth]}}const KL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JL={date:Wp({formats:KL,defaultWidth:"full"}),time:Wp({formats:YL,defaultWidth:"full"}),dateTime:Wp({formats:XL,defaultWidth:"full"})},QL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},e4=(n,t,r,a)=>QL[n];function nu(n){return(t,r)=>{const a=r?.context?String(r.context):"standalone";let l;if(a==="formatting"&&n.formattingValues){const h=n.defaultFormattingWidth||n.defaultWidth,m=r?.width?String(r.width):h;l=n.formattingValues[m]||n.formattingValues[h]}else{const h=n.defaultWidth,m=r?.width?String(r.width):n.defaultWidth;l=n.values[m]||n.values[h]}const d=n.argumentCallback?n.argumentCallback(t):t;return l[d]}}const t4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},n4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},i4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},r4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},a4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},o4=(n,t)=>{const r=Number(n),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},l4={ordinalNumber:o4,era:nu({values:t4,defaultWidth:"wide"}),quarter:nu({values:n4,defaultWidth:"wide",argumentCallback:n=>n-1}),month:nu({values:i4,defaultWidth:"wide"}),day:nu({values:r4,defaultWidth:"wide"}),dayPeriod:nu({values:s4,defaultWidth:"wide",formattingValues:a4,defaultFormattingWidth:"wide"})};function iu(n){return(t,r={})=>{const a=r.width,l=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],d=t.match(l);if(!d)return null;const h=d[0],m=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],y=Array.isArray(m)?c4(m,w=>w.test(h)):u4(m,w=>w.test(h));let v;v=n.valueCallback?n.valueCallback(y):y,v=r.valueCallback?r.valueCallback(v):v;const x=t.slice(h.length);return{value:v,rest:x}}}function u4(n,t){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&t(n[r]))return r}function c4(n,t){for(let r=0;r<n.length;r++)if(t(n[r]))return r}function d4(n){return(t,r={})=>{const a=t.match(n.matchPattern);if(!a)return null;const l=a[0],d=t.match(n.parsePattern);if(!d)return null;let h=n.valueCallback?n.valueCallback(d[0]):d[0];h=r.valueCallback?r.valueCallback(h):h;const m=t.slice(l.length);return{value:h,rest:m}}}const h4=/^(\d+)(th|st|nd|rd)?/i,f4=/\d+/i,p4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},m4={any:[/^b/i,/^(a|c)/i]},g4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},y4={any:[/1/i,/2/i,/3/i,/4/i]},v4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},x4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},w4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},S4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},T4={ordinalNumber:d4({matchPattern:h4,parsePattern:f4,valueCallback:n=>parseInt(n,10)}),era:iu({matchPatterns:p4,defaultMatchWidth:"wide",parsePatterns:m4,defaultParseWidth:"any"}),quarter:iu({matchPatterns:g4,defaultMatchWidth:"wide",parsePatterns:y4,defaultParseWidth:"any",valueCallback:n=>n+1}),month:iu({matchPatterns:v4,defaultMatchWidth:"wide",parsePatterns:_4,defaultParseWidth:"any"}),day:iu({matchPatterns:x4,defaultMatchWidth:"wide",parsePatterns:b4,defaultParseWidth:"any"}),dayPeriod:iu({matchPatterns:w4,defaultMatchWidth:"any",parsePatterns:S4,defaultParseWidth:"any"})},E4={code:"en-US",formatDistance:GL,formatLong:JL,formatRelative:e4,localize:l4,match:T4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function j4(n,t,r){const a=BL(),l=r?.locale??a.locale??E4,d=2520,h=Pd(n,t);if(isNaN(h))throw new RangeError("Invalid time value");const m=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:h}),[y,v]=Wg(r?.in,...h>0?[t,n]:[n,t]),x=$L(v,y),w=(Jx(v)-Jx(y))/1e3,S=Math.round((x-w)/60);let j;if(S<2)return r?.includeSeconds?x<5?l.formatDistance("lessThanXSeconds",5,m):x<10?l.formatDistance("lessThanXSeconds",10,m):x<20?l.formatDistance("lessThanXSeconds",20,m):x<40?l.formatDistance("halfAMinute",0,m):x<60?l.formatDistance("lessThanXMinutes",1,m):l.formatDistance("xMinutes",1,m):S===0?l.formatDistance("lessThanXMinutes",1,m):l.formatDistance("xMinutes",S,m);if(S<45)return l.formatDistance("xMinutes",S,m);if(S<90)return l.formatDistance("aboutXHours",1,m);if(S<Yx){const A=Math.round(S/60);return l.formatDistance("aboutXHours",A,m)}else{if(S<d)return l.formatDistance("xDays",1,m);if(S<Td){const A=Math.round(S/Yx);return l.formatDistance("xDays",A,m)}else if(S<Td*2)return j=Math.round(S/Td),l.formatDistance("aboutXMonths",j,m)}if(j=WL(v,y),j<12){const A=Math.round(S/Td);return l.formatDistance("xMonths",A,m)}else{const A=j%12,k=Math.trunc(j/12);return A<3?l.formatDistance("aboutXYears",k,m):A<9?l.formatDistance("overXYears",k,m):l.formatDistance("almostXYears",k+1,m)}}function zS(n,t){return j4(n,NL(n),t)}const C4=({onClose:n,onPostComplete:t})=>{const[r,a]=C.useState("select"),[l,d]=C.useState(null),[h,m]=C.useState(null),[y,v]=C.useState(1),[x,w]=C.useState(0),[S,j]=C.useState(""),[A,k]=C.useState(!1),R=C.useRef(null),z=C.useRef(null),P=C.useRef(null),D=G=>{d(G),m(URL.createObjectURL(G)),a("edit"),v(1),w(0)},W=G=>{const de=G.target.files[0];de&&D(de)},q=()=>{const G=document.createElement("input");G.type="file",G.accept="image/*",G.capture="camera",G.onchange=de=>{const we=de.target.files[0];we&&D(we)},G.click()},H=()=>{v(G=>Math.min(G+.1,3))},Z=()=>{v(G=>Math.max(G-.1,.5))},ae=()=>{w(G=>(G+90)%360)},ye=()=>{const G=P.current,de=G.getContext("2d"),we=z.current;if(!G||!we)return;const se=1080;G.width=se,G.height=se,de.clearRect(0,0,G.width,G.height),de.save();const V=se/2,ie=se/2;de.translate(V,ie),de.rotate(x*Math.PI/180),de.scale(y,y);const ne=Math.min(we.naturalWidth,we.naturalHeight);de.drawImage(we,-ne/2,-ne/2,ne,ne),de.restore();const Te=G.toDataURL("image/jpeg",.9);Te&&fetch(Te).then(pe=>pe.blob()).then(pe=>{const B=new File([pe],"cropped-image.jpg",{type:"image/jpeg"});d(B),m(URL.createObjectURL(B)),a("caption")})},be=async()=>{if(!(!l||!S.trim())){k(!0);try{await t(l,S.trim()),n()}catch(G){console.error("Error posting:",G)}finally{k(!1)}}},oe=()=>{A||n()};return f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:f.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{background:"white",borderRadius:"20px",width:"90%",maxWidth:"400px",maxHeight:"80vh",overflow:"hidden",position:"relative"},children:[f.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid var(--secondary)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:"900"},children:[r==="select"&&"Create Post",r==="edit"&&"Edit Photo",r==="caption"&&"Add Caption"]}),f.jsx("button",{onClick:oe,style:{background:"var(--secondary)",border:"none",padding:"8px",borderRadius:"8px",cursor:"pointer"},disabled:A,children:f.jsx(Er,{size:20})})]}),f.jsxs("div",{style:{padding:"20px"},children:[r==="select"&&f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[f.jsxs("div",{style:{height:"200px",border:"2px dashed var(--secondary)",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"var(--secondary)"},children:[f.jsx($x,{size:40,color:"var(--primary)"}),f.jsx("p",{style:{margin:"10px 0 0 0",fontWeight:"600",color:"var(--text-muted)"},children:"Choose photo source"})]}),f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsxs("button",{onClick:()=>R.current?.click(),style:{flex:1,padding:"16px",borderRadius:"12px",background:"var(--primary)",color:"white",border:"none",fontSize:"1rem",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[f.jsx($x,{size:20}),"Gallery"]}),f.jsxs("button",{onClick:q,style:{flex:1,padding:"16px",borderRadius:"12px",background:"var(--primary)",color:"white",border:"none",fontSize:"1rem",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[f.jsx(Mu,{size:20}),"Camera"]})]}),f.jsx("input",{ref:R,type:"file",accept:"image/*",style:{display:"none"},onChange:W})]}),r==="edit"&&f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[f.jsx("div",{style:{width:"100%",height:"250px",borderRadius:"12px",overflow:"hidden",border:"2px solid var(--primary)",position:"relative",background:"black"},children:f.jsx("img",{ref:z,src:h,style:{width:"100%",height:"100%",objectFit:"contain",transform:`scale(${y}) rotate(${x}deg)`,transition:"transform 0.3s ease"}})}),f.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[f.jsx("button",{onClick:Z,style:{background:"var(--secondary)",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Zoom -"}),f.jsx("button",{onClick:H,style:{background:"var(--secondary)",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Zoom +"}),f.jsxs("button",{onClick:ae,style:{background:"var(--secondary)",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx(zM,{size:16}),"Rotate"]})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[f.jsx("button",{onClick:()=>a("select"),style:{background:"var(--secondary)",border:"none",padding:"12px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Back"}),f.jsxs("button",{onClick:ye,style:{background:"var(--primary)",color:"white",border:"none",padding:"12px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"1rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx(YO,{size:18}),"Confirm"]})]})]}),r==="caption"&&f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[f.jsx("div",{style:{width:"100%",height:"200px",borderRadius:"12px",overflow:"hidden",border:"2px solid var(--secondary)"},children:f.jsx("img",{src:h,style:{width:"100%",height:"100%",objectFit:"cover"}})}),f.jsx("textarea",{placeholder:"Write a caption...",value:S,onChange:G=>j(G.target.value),style:{width:"100%",padding:"16px",borderRadius:"12px",background:"var(--secondary)",border:"none",fontSize:"1rem",fontWeight:"600",minHeight:"100px",outline:"none",resize:"vertical"}}),f.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[f.jsx("button",{onClick:()=>a("edit"),style:{background:"var(--secondary)",border:"none",padding:"12px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Back"}),f.jsx("button",{onClick:be,disabled:A||!S.trim(),style:{background:"var(--primary)",color:"white",border:"none",padding:"12px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"1rem",fontWeight:"800",opacity:A||!S.trim()?.6:1},children:A?"Sharing...":"Share Post"})]})]})]}),f.jsx("canvas",{ref:P,style:{display:"none"}})]})})},A4=()=>{const{user:n}=Mt(),[t,r]=C.useState([]),[a,l]=C.useState(!0),[d,h]=C.useState(!1),[m,y]=C.useState(null),[v,x]=C.useState(null),w=async()=>{console.log("Fetching posts..."),l(!0);try{const{data:A,error:k}=await Q.from("community_posts").select("*").order("created_at",{ascending:!1});if(k){console.error("Error fetching posts:",k),l(!1);return}if(console.log("Raw posts data:",A),A&&A.length>0){const R=[...new Set(A.map(be=>be.user_id))];console.log("User IDs to fetch:",R);const{data:z,error:P}=await Q.from("user_preferences").select("user_id, username, display_name, avatar_url").in("user_id",R);P&&console.error("Error fetching users:",P),console.log("Users data:",z);const D={};z?.forEach(be=>D[be.user_id]=be);const W=A.map(be=>be.id),{data:q,error:H}=await Q.from("post_likes").select("post_id, user_id").in("post_id",W);H&&console.error("Error fetching likes:",H),console.log("Likes data:",q);const Z={},ae={};q?.forEach(be=>{Z[be.post_id]=(Z[be.post_id]||0)+1,be.user_id===n?.id&&(ae[be.post_id]=!0)});const ye=A.map(be=>({...be,likes_count:Z[be.id]||0,author:D[be.user_id]||{display_name:"Foodie",username:null},isLikedByUser:!!ae[be.id]}));console.log("Processed posts:",ye),r(ye)}else console.log("No posts found"),r([])}catch(A){console.error("Error in fetchPosts:",A)}finally{l(!1)}};C.useEffect(()=>{w();const A=()=>{w()};window.addEventListener("userProfileUpdated",A);const k=Q.channel("user_preferences_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_preferences"},R=>{w()}).subscribe();return()=>{window.removeEventListener("userProfileUpdated",A),Q.removeChannel(k)}},[n]);const S=async(A,k)=>{console.log("Starting post creation...",{imageFile:A.name,caption:k});try{const{data:R,error:z}=await Q.from("user_preferences").select("*").eq("user_id",n.id).maybeSingle();if(z&&console.error("Error checking user preferences:",z),console.log("User preferences check:",R),!R){console.log("Creating user preferences...");const{data:Z,error:ae}=await Q.from("user_preferences").insert({user_id:n.id,display_name:n.user_metadata?.full_name||n.email?.split("@")[0]||"User",avatar_url:n.user_metadata?.avatar_url||null,notifications_enabled:!0,notify_new_spots:!0,notify_review_replies:!0,notify_weekly_digest:!1}).select().single();if(ae)throw console.error("Error creating user preferences:",ae),ae;console.log("User preferences created:",Z)}console.log("Uploading image...");const P=`${n.id}-${Date.now()}.${A.name.split(".").pop()}`,{error:D}=await Q.storage.from("food-images").upload(`community/${P}`,A);if(D)throw console.error("Image upload error:",D),D;const{data:{publicUrl:W}}=Q.storage.from("food-images").getPublicUrl(`community/${P}`);console.log("Image uploaded successfully:",W),console.log("Creating post in database...");const{data:q,error:H}=await Q.from("community_posts").insert({user_id:n.id,image_url:W,caption:k}).select().single();if(H)throw console.error("Post creation error:",H),H;console.log("Post created successfully:",q),y({message:"Shared with community! ",type:"success"}),console.log("Refreshing posts..."),await w()}catch(R){console.error("Complete post creation error:",R),y({message:"Failed to share post: "+R.message,type:"error"})}},j=async(A,k)=>{if(!n)return;const{data:R}=await Q.from("post_likes").select("*").eq("post_id",A).eq("user_id",n.id).maybeSingle();R?(await Q.from("post_likes").delete().eq("id",R.id),r(t.map(z=>z.id===A?{...z,likes_count:Math.max(0,z.likes_count-1),isLikedByUser:!1}:z))):(await Q.from("post_likes").insert({post_id:A,user_id:n.id}),r(t.map(z=>z.id===A?{...z,likes_count:(z.likes_count||0)+1,isLikedByUser:!0}:z)))};return f.jsxs("div",{style:{paddingBottom:"120px",background:"linear-gradient(135deg, #fef3c7 0%, #fbbf24 50%, #f59e0b 100%)",minHeight:"100vh"},children:[m&&f.jsx(qo,{message:m.message,type:m.type,onClose:()=>y(null)}),f.jsxs("div",{style:{padding:"24px 20px",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.2)"},children:[f.jsxs("div",{children:[f.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"900",color:"#1f2937",margin:0},children:"Community"}),f.jsx("p",{style:{fontSize:"0.85rem",color:"#6b7280",fontWeight:"600",margin:0},children:"Discover Kerala's tastes"})]}),f.jsx(fe.button,{whileTap:{scale:.9},onClick:()=>h(!0),style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"white",border:"none",padding:"12px",borderRadius:"18px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(239, 68, 68, 0.3)"},children:f.jsx(Sa,{size:24})})]}),f.jsx("div",{className:"container",style:{padding:"20px",maxWidth:"500px",margin:"0 auto"},children:a?f.jsx("div",{style:{textAlign:"center",padding:"40px"},children:f.jsx(ph,{className:"animate-spin",color:"var(--primary)"})}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:t.map((A,k)=>f.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.1},style:{background:"rgba(255,255,255,0.1)",borderRadius:"32px",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:[f.jsxs("div",{style:{padding:"16px",display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"14px",background:"linear-gradient(135deg, #f59e0b, #d97706)",overflow:"hidden"},children:A.author.avatar_url?f.jsx("img",{src:A.author.avatar_url,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx($i,{size:20,color:"white"})})}),f.jsxs("div",{children:[f.jsx("div",{style:{fontWeight:"800",fontSize:"0.95rem",color:"#1f2937"},children:A.author.username||A.author.display_name}),f.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",fontWeight:"600"},children:zS(new Date(A.created_at),{addSuffix:!0})})]})]}),f.jsx("div",{style:{position:"relative",width:"100%",paddingTop:"100%"},children:f.jsx("img",{src:A.image_url,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})}),f.jsxs("div",{style:{padding:"20px"},children:[f.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"12px"},children:[f.jsx(fe.div,{whileTap:{scale:.8},onClick:()=>j(A.id,A.likes_count),style:{cursor:"pointer"},children:f.jsx(Sr,{size:26,color:"#ef4444",fill:A.isLikedByUser?"#ef4444":"none"})}),f.jsx(fe.div,{whileTap:{scale:.8},onClick:()=>x(A),style:{cursor:"pointer"},children:f.jsx(zu,{size:26,color:"#6b7280"})})]}),f.jsxs("div",{style:{fontWeight:"850",fontSize:"0.9rem",marginBottom:"8px",color:"#1f2937"},children:[A.likes_count||0," likes"]}),f.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.5",color:"#1f2937"},children:[f.jsx("span",{style:{fontWeight:"900",marginRight:"6px",color:"#1f2937"},children:A.author.username||A.author.display_name}),A.caption]})]})]},A.id))})}),v&&f.jsx(k4,{post:v,onClose:()=>x(null)}),f.jsx(Ru,{children:d&&f.jsx(C4,{onClose:()=>h(!1),onPostComplete:S})})]})},k4=({post:n,onClose:t})=>{const{user:r}=Mt(),[a,l]=C.useState([]),[d,h]=C.useState(""),[m,y]=C.useState(!0),v=async()=>{y(!0);const{data:w}=await Q.from("post_comments").select("*").eq("post_id",n.id).order("created_at",{ascending:!1});if(w){const S=[...new Set(w.map(k=>k.user_id))],{data:j}=await Q.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",S),A={};j?.forEach(k=>A[k.user_id]=k),l(w.map(k=>({...k,user:A[k.user_id]||{display_name:"User",avatar_url:null}})))}else l([]);y(!1)};C.useEffect(()=>{v();const w=()=>{v()};window.addEventListener("userProfileUpdated",w);const S=Q.channel("user_preferences_changes_comments").on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_preferences"},j=>{v()}).subscribe();return()=>{window.removeEventListener("userProfileUpdated",w),Q.removeChannel(S)}},[n.id]);const x=async()=>{if(!d.trim()||!r)return;const{data:w}=await Q.from("user_preferences").select("*").eq("user_id",r.id).maybeSingle();w||await Q.from("user_preferences").insert({user_id:r.id,display_name:r.user_metadata?.full_name||r.email?.split("@")[0]||"User",avatar_url:r.user_metadata?.avatar_url||null,notifications_enabled:!0,notify_new_spots:!0,notify_review_replies:!0,notify_weekly_digest:!1}),await Q.from("post_comments").insert({post_id:n.id,user_id:r.id,comment:d.trim()}),h(""),v()};return f.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:1100,display:"flex",alignItems:"flex-end"},onClick:t,children:f.jsxs(fe.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},style:{background:"white",width:"100%",borderTopLeftRadius:"40px",borderTopRightRadius:"40px",padding:"24px",maxHeight:"80vh",overflowY:"auto"},onClick:w=>w.stopPropagation(),children:[f.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"900",margin:"0 0 24px 0",textAlign:"center"},children:"Comments"}),m?f.jsx(ph,{className:"animate-spin"}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginBottom:"24px"},children:a.map(w=>f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsx("img",{src:w.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"14px"}}),f.jsxs("div",{children:[f.jsx("span",{style:{fontWeight:"800"},children:w.user?.display_name||"User"}),f.jsx("p",{style:{margin:"2px 0 0 0"},children:w.comment})]})]},w.id))}),f.jsxs("div",{style:{display:"flex",gap:"10px"},children:[f.jsx("input",{type:"text",value:d,onChange:w=>h(w.target.value),placeholder:"Add a comment...",style:{flex:1,padding:"14px",borderRadius:"16px",border:"2px solid var(--secondary)",outline:"none",fontWeight:"700"}}),f.jsx("button",{onClick:x,style:{padding:"14px 20px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",fontWeight:"800"},children:"Send"})]})]})})},R4=()=>{const n=vt(),[t,r]=C.useState([]),[a,l]=C.useState(!0),[d,h]=C.useState(!1);C.useEffect(()=>{m(),setTimeout(()=>{h(!0)},2e3);const y=()=>{m()};window.addEventListener("userProfileUpdated",y);const v=Q.channel("user_preferences_changes_leaderboard").on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_preferences"},x=>{m()}).subscribe();return()=>{window.removeEventListener("userProfileUpdated",y),Q.removeChannel(v)}},[]);const m=async()=>{l(!0);const{data:y}=await Q.from("spots").select("created_by"),{data:v}=await Q.from("reviews").select("user_id"),x={};y?.forEach(z=>{const P=z.created_by;P&&(x[P]||(x[P]={spots:0,reviews:0,xp:0}),x[P].spots+=1,x[P].xp+=100)}),v?.forEach(z=>{const P=z.user_id;P&&(x[P]||(x[P]={spots:0,reviews:0,xp:0}),x[P].reviews+=1,x[P].xp+=10)});const w=Object.keys(x),{data:S}=await Q.from("user_preferences").select("user_id, username, display_name, avatar_url").in("user_id",w),{data:{user:j}}=await Q.auth.getUser(),A={};S?.forEach(z=>A[z.user_id]=z);const k=new Set;Object.values(A).forEach(z=>{const P=["admin","sinxn","moderator"],D=(z.username||"").toLowerCase(),W=(z.display_name||"").toLowerCase();P.some(q=>D.includes(q)||W.includes(q))&&k.add(z.user_id)});const R=w.filter(z=>!k.has(z)).map(z=>{const P=A[z];return{id:z,name:P?.display_name||P?.username||j?.user_metadata?.full_name||"Foodie",avatar:P?.avatar_url,isMe:j&&z===j.id,...x[z]}}).sort((z,P)=>P.xp-z.xp);r(R),l(!1)};return f.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #fef3c7 0%, #fbbf24 50%, #f59e0b 100%)",paddingBottom:"120px"},children:[f.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, #f59e0b, #d97706)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:"0 8px 32px rgba(245, 158, 11, 0.3)"},children:[f.jsx("button",{onClick:()=>n(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:f.jsx(Lu,{size:24})}),f.jsx(_S,{size:48,color:"white",style:{marginBottom:"8px"}}),f.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"Top Foodies"}),f.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"Kerala's most active explorers"})]}),f.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-30px"},children:a?f.jsx("div",{style:{textAlign:"center",padding:"40px"},children:f.jsx(fe.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},children:f.jsx(CS,{size:40,color:"var(--primary)"})})}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:t.map((y,v)=>f.jsxs(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},style:{background:v===0?"linear-gradient(135deg, rgba(254, 243, 199, 0.8), rgba(251, 191, 36, 0.8))":v===1?"linear-gradient(135deg, rgba(229, 231, 235, 0.8), rgba(209, 213, 219, 0.8))":"rgba(255,255,255,0.1)",padding:"16px",borderRadius:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",backdropFilter:"blur(10px)",border:y.isMe?"2px solid #f59e0b":"1px solid rgba(255,255,255,0.2)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[f.jsx("div",{style:{width:"28px",fontWeight:"900",color:v<3?"#f59e0b":"#6b7280",fontSize:"1.1rem"},children:v===0?"":v===1?"":v===2?"":`#${v+1}`}),f.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"16px",background:"linear-gradient(135deg, #f59e0b, #d97706)",overflow:"hidden"},children:y.avatar?f.jsx("img",{src:y.avatar,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx($i,{size:24,color:"white"})})}),f.jsxs("div",{children:[f.jsxs("div",{style:{fontWeight:"800",fontSize:"1rem",color:y.isMe?"#f59e0b":"#1f2937"},children:[y.name," ",y.isMe&&"(You!)"]}),f.jsxs("div",{style:{fontSize:"0.8rem",color:"#6b7280",fontWeight:"600"},children:[y.spots," Spots shared"]})]})]}),f.jsxs("div",{style:{background:"linear-gradient(135deg, #f59e0b, #d97706)",padding:"8px 16px",borderRadius:"14px",fontWeight:"900",color:"white",fontSize:"0.9rem",boxShadow:"0 4px 20px rgba(245, 158, 11, 0.3)"},children:[y.xp," XP"]})]},y.id))})}),f.jsx(Ru,{children:d&&f.jsxs(f.Fragment,{children:[f.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9998,backdropFilter:"blur(4px)"},onClick:()=>h(!1)}),f.jsxs(fe.div,{initial:{opacity:0,y:-50,x:"-50%",scale:.95},animate:{opacity:1,y:0,x:"-50%",scale:1},exit:{opacity:0,y:-50,x:"-50%",scale:.95},style:{position:"fixed",top:"80px",left:"50%",transform:"translateX(-50%)",background:"white",padding:"32px",borderRadius:"24px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",zIndex:9999,maxWidth:"90vw",width:"400px",maxHeight:"80vh",overflow:"auto",boxSizing:"border-box"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.4)"},children:f.jsx(Wi,{size:24,color:"white"})}),f.jsxs("div",{children:[f.jsx("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:"900",color:"var(--text-main)"},children:"XP Points"}),f.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.9rem",color:"var(--text-muted)",lineHeight:"1.4"},children:"Your XP points can be used for future features and rewards in the app! Keep exploring and reviewing to earn more XP."})]})]}),f.jsx(fe.button,{whileTap:{scale:.9},onClick:()=>h(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"12px",color:"var(--text-muted)"},children:f.jsx(Er,{size:20})})]}),f.jsx("div",{style:{textAlign:"center"},children:f.jsx(fe.button,{whileTap:{scale:.95},onClick:()=>h(!1),style:{background:"var(--primary)",color:"white",border:"none",padding:"12px 24px",borderRadius:"16px",fontWeight:"800",fontSize:"1rem",cursor:"pointer",width:"100%"},children:"Got it! "})})]})]})})]})},O4=()=>{const{user:n}=Mt(),[t,r]=C.useState([]),[a,l]=C.useState(!0),[d,h]=C.useState(!1),[m,y]=C.useState(null);return C.useEffect(()=>{(async()=>{l(!0);try{const{data:x,error:w}=await Q.from("community_posts").select("*").order("created_at",{ascending:!1});w?console.error("Error fetching posts:",w):r(x||[])}catch(x){console.error("Error:",x)}finally{l(!1)}})()},[]),f.jsxs("div",{style:{minHeight:"calc(100vh - 60px)",background:"linear-gradient(135deg, #fef3c7 0%, #fbbf24 50%, #f59e0b 100%)",paddingBottom:"80px"},children:[f.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 8px 32px rgba(0,0,0,0.1)"},children:[f.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, #ef4444, #dc2626)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:"0 4px 20px rgba(239, 68, 68, 0.3)"},children:f.jsx(Vo,{size:30,color:"white"})}),f.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"800",color:"#1f2937",marginBottom:"8px"},children:"Community"}),f.jsx("p",{style:{color:"#6b7280",fontSize:"1rem",margin:0},children:"Share your food experiences with community"})]}),f.jsx("div",{style:{padding:"0 20px",marginBottom:"20px"},children:f.jsxs("button",{onClick:()=>h(!0),style:{width:"100%",background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"white",border:"none",padding:"16px",borderRadius:"16px",fontSize:"1rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 4px 20px rgba(239, 68, 68, 0.3)",cursor:"pointer"},children:[f.jsx(Sa,{size:20}),"Create Post"]})}),f.jsx("div",{style:{padding:"0 20px"},children:a?f.jsx("div",{style:{textAlign:"center",padding:"40px"},children:f.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid rgba(239, 68, 68, 0.3)",borderTop:"4px solid #ef4444",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})}):t.length===0?f.jsx("div",{style:{textAlign:"center",padding:"40px",background:"rgba(255,255,255,0.1)",borderRadius:"16px",backdropFilter:"blur(10px)"},children:f.jsx("p",{style:{color:"#6b7280",fontSize:"1rem"},children:"No posts yet. Be the first to share!"})}):t.map(v=>f.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",borderRadius:"16px",padding:"20px",marginBottom:"16px",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[f.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #f59e0b, #d97706)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"12px"},children:f.jsx($i,{size:20,color:"white"})}),f.jsxs("div",{children:[f.jsx("h4",{style:{color:"#1f2937",fontWeight:"700",margin:0},children:v.user_name||"Anonymous"}),f.jsx("p",{style:{color:"#6b7280",fontSize:"0.9rem",margin:0},children:new Date(v.created_at).toLocaleDateString()})]})]}),f.jsx("p",{style:{color:"#1f2937",lineHeight:"1.5",marginBottom:"12px"},children:v.content}),f.jsxs("div",{style:{display:"flex",gap:"16px"},children:[f.jsxs("button",{style:{background:"none",border:"none",color:"#ef4444",display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[f.jsx(Sr,{size:16}),v.likes||0]}),f.jsxs("button",{style:{background:"none",border:"none",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[f.jsx(zu,{size:16}),v.comments||0]})]})]},v.id))}),f.jsx("style",{children:`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `})]})},M4=()=>{const[n,t]=C.useState([]),[r,a]=C.useState(!0);return C.useEffect(()=>{(async()=>{a(!0);try{const{data:d}=await Q.from("spots").select("created_by"),{data:h}=await Q.from("reviews").select("user_id"),m={};d?.forEach(S=>{const j=S.created_by;j&&(m[j]||(m[j]={spots:0,reviews:0,xp:0}),m[j].spots+=1,m[j].xp+=100)}),h?.forEach(S=>{const j=S.user_id;j&&(m[j]||(m[j]={spots:0,reviews:0,xp:0}),m[j].reviews+=1,m[j].xp+=10)});const y=Object.keys(m),{data:v}=await Q.from("user_preferences").select("user_id, username, display_name, avatar_url").in("user_id",y),x={};v?.forEach(S=>x[S.user_id]=S);const w=Object.keys(m).map(S=>({id:S,name:x[S]?.display_name||x[S]?.username||"Foodie",avatar:x[S]?.avatar_url,...m[S]})).sort((S,j)=>j.xp-S.xp).slice(0,10);t(w)}catch(d){console.error("Error fetching leaderboard:",d)}finally{a(!1)}})()},[]),f.jsxs("div",{style:{minHeight:"calc(100vh - 60px)",background:"linear-gradient(135deg, #fef3c7 0%, #fbbf24 50%, #f59e0b 100%)",paddingBottom:"80px"},children:[f.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 8px 32px rgba(0,0,0,0.1)"},children:[f.jsx("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, #f59e0b, #d97706)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:"0 4px 20px rgba(245, 158, 11, 0.3)"},children:f.jsx(CS,{size:30,color:"white"})}),f.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"800",color:"#1f2937",marginBottom:"8px"},children:"Leaderboard"}),f.jsx("p",{style:{color:"#6b7280",fontSize:"1rem",margin:0},children:"Top contributors in our food community"})]}),f.jsx("div",{style:{padding:"0 20px"},children:r?f.jsx("div",{style:{textAlign:"center",padding:"40px"},children:f.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid rgba(245, 158, 11, 0.3)",borderTop:"4px solid #f59e0b",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})}):n.length===0?f.jsx("div",{style:{textAlign:"center",padding:"40px",background:"rgba(255,255,255,0.1)",borderRadius:"16px",backdropFilter:"blur(10px)"},children:f.jsx("p",{style:{color:"#6b7280",fontSize:"1rem"},children:"No contributors yet. Start contributing!"})}):n.map((l,d)=>f.jsx("div",{style:{background:d===0?"linear-gradient(135deg, rgba(254, 243, 199, 0.8), rgba(251, 191, 36, 0.8))":d===1?"linear-gradient(135deg, rgba(229, 231, 235, 0.8), rgba(209, 213, 219, 0.8))":"rgba(255,255,255,0.1)",borderRadius:"16px",padding:"20px",marginBottom:"16px",backdropFilter:"blur(10px)",border:d===0?"2px solid #f59e0b":"1px solid rgba(255,255,255,0.2)",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:f.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[f.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:d===0?"linear-gradient(135deg, #f59e0b, #d97706)":d===1?"linear-gradient(135deg, #6b7280, #4b5563)":"linear-gradient(135deg, #9ca3af, #6b7280)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"1.2rem",marginRight:"16px"},children:d+1}),f.jsxs("div",{style:{flex:1},children:[f.jsx("h4",{style:{fontWeight:"700",color:"#1f2937",marginBottom:"4px"},children:l.name}),f.jsxs("p",{style:{color:"#6b7280",fontSize:"0.9rem",margin:0},children:[l.xp," XP  ",l.spots," spots  ",l.reviews," reviews"]})]}),f.jsx("div",{style:{background:d===0?"#f59e0b":d===1?"#6b7280":"#9ca3af",color:"white",padding:"6px 12px",borderRadius:"20px",fontSize:"0.8rem",fontWeight:"600"},children:d===0?" Champion":d===1?" Rising Star":d===2?" Contender":" Contributor"})]})},l.id))}),f.jsx("style",{children:`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `})]})},L4=({lang:n})=>{const[t,r]=C.useState("club"),a=vt(),l=[{id:"club",label:"Club",icon:Vo},{id:"leaderboard",label:"Leaderboard",icon:_S},{id:"home",label:"Home",icon:Pg}];return f.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #fef3c7 0%, #fbbf24 50%, #f59e0b 100%)",padding:"20px"},children:[f.jsxs("div",{style:{minHeight:"calc(100vh - 60px)",paddingBottom:"20px",background:"transparent"},children:[t==="club"&&f.jsx(O4,{}),t==="leaderboard"&&f.jsx(M4,{})]}),f.jsx("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",height:"60px",width:"90%",maxWidth:"400px",display:"flex",alignItems:"center",justifyContent:"space-around",padding:"0 20px",background:"rgba(239, 68, 68, 0.8)",backdropFilter:"blur(10px)",borderRadius:"20px",zIndex:1e3,boxShadow:"0 8px 32px rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.2)"},children:l.map(d=>f.jsx("button",{onClick:()=>{d.id==="home"?a(`/${n}/home`):r(d.id)},style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",opacity:t===d.id?1:.7},children:f.jsx(d.icon,{size:24})},d.id))})]})},z4=({showToast:n})=>{const[t,r]=C.useState([]),[a,l]=C.useState(!0),[d,h]=C.useState(null),[m,y]=C.useState({});C.useEffect(()=>{v()},[]);const v=async()=>{l(!0);try{const{data:k,error:R}=await supabase.from("spot_edit_suggestions").select(`
                    *,
                    spots:spot_id(name, location_text, category),
                    user:user_id(email, user_metadata)
                `).order("created_at",{ascending:!1});if(R)throw R;r(k||[])}catch(k){console.error("Error fetching suggestions:",k),n("Failed to load suggestions","error")}finally{l(!1)}},x=async(k,R=!1)=>{y(z=>({...z,[k]:!0}));try{const z=t.find(D=>D.id===k);if(R&&z){const{error:D}=await supabase.from("spots").update(z.suggested_data).eq("id",z.spot_id);if(D)throw D}const{error:P}=await supabase.from("spot_edit_suggestions").update({status:"approved",reviewed_by:(await supabase.auth.getUser()).data.user.id,reviewed_at:new Date().toISOString()}).eq("id",k);if(P)throw P;n(`Suggestion ${R?"approved and applied":"approved"}!`,"success"),v(),h(null)}catch(z){console.error("Error approving suggestion:",z),n("Failed to approve suggestion","error")}finally{y(z=>({...z,[k]:!1}))}},w=async(k,R="")=>{y(z=>({...z,[k]:!0}));try{const{error:z}=await supabase.from("spot_edit_suggestions").update({status:"rejected",admin_notes:R,reviewed_by:(await supabase.auth.getUser()).data.user.id,reviewed_at:new Date().toISOString()}).eq("id",k);if(z)throw z;n("Suggestion rejected","success"),v(),h(null)}catch(z){console.error("Error rejecting suggestion:",z),n("Failed to reject suggestion","error")}finally{y(z=>({...z,[k]:!1}))}},S=k=>{switch(k){case"pending":return"#f59e0b";case"approved":return"#10b981";case"rejected":return"#ef4444";default:return"#6b7280"}},j=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=(k,R,z)=>{const P={name:f.jsx(Pn,{size:14}),description:f.jsx(zg,{size:14}),location_text:f.jsx(Pn,{size:14}),phone:f.jsx(eh,{size:14}),website:f.jsx(Pm,{size:14}),opening_hours:f.jsx(Qd,{size:14}),tags:f.jsx(nh,{size:14}),price_level:f.jsx(xS,{size:14}),category:f.jsx(nh,{size:14}),instagram_handle:f.jsx(Pm,{size:14}),whatsapp_number:f.jsx(eh,{size:14})};return f.jsxs("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"8px",marginBottom:"8px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[P[k]||f.jsx(Bg,{size:14}),f.jsx("strong",{style:{textTransform:"capitalize",color:"#374151"},children:k.replace(/_/g," ")})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",fontSize:"0.85rem"},children:[f.jsxs("div",{style:{color:"#ef4444"},children:[f.jsx("span",{style:{fontWeight:"600"},children:"From:"})," ",R||"(empty)"]}),f.jsxs("div",{style:{color:"#10b981"},children:[f.jsx("span",{style:{fontWeight:"600"},children:"To:"})," ",z||"(empty)"]})]})]})};return a?f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading suggestions..."}):f.jsxs("div",{style:{padding:"20px"},children:[f.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"900",marginBottom:"20px"},children:["Edit Suggestions (",t.filter(k=>k.status==="pending").length," pending)"]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[f.jsxs("div",{children:[f.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"700",marginBottom:"16px"},children:"All Suggestions"}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:t.map(k=>f.jsxs(fe.div,{whileHover:{scale:1.02},onClick:()=>h(k),style:{padding:"16px",background:"white",borderRadius:"12px",border:`2px solid ${S(k.status)}`,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[f.jsxs("div",{children:[f.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"800",color:"#1f2937"},children:k.spots?.name||"Unknown Spot"}),f.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"0.85rem",color:"#6b7280"},children:["by ",k.user?.user_metadata?.full_name||k.user?.email]})]}),f.jsx("div",{style:{padding:"4px 8px",borderRadius:"6px",background:S(k.status),color:"white",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase"},children:k.status})]}),f.jsxs("div",{style:{fontSize:"0.85rem",color:"#374151",marginBottom:"8px"},children:[Object.keys(k.suggested_changes||{}).length," changes suggested"]}),f.jsx("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:j(k.created_at)})]},k.id))})]}),f.jsxs("div",{children:[f.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"700",marginBottom:"16px"},children:"Suggestion Details"}),f.jsx(Ru,{children:d?f.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},style:{padding:"20px",background:"white",borderRadius:"16px",border:"2px solid #e5e7eb",boxShadow:"0 4px 16px rgba(0,0,0,0.1)"},children:[f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1.1rem",fontWeight:"800",color:"#1f2937"},children:d.spots?.name||"Unknown Spot"}),f.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"0.85rem",color:"#6b7280"},children:[f.jsxs("span",{children:[f.jsx($i,{size:14,style:{display:"inline",marginRight:"4px"}}),d.user?.user_metadata?.full_name||d.user?.email]}),f.jsxs("span",{children:[f.jsx(Qd,{size:14,style:{display:"inline",marginRight:"4px"}}),j(d.created_at)]})]})]}),f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsxs("h5",{style:{margin:"0 0 12px 0",fontSize:"0.95rem",fontWeight:"700",color:"#374151"},children:["Proposed Changes (",Object.keys(d.suggested_changes||{}).length,")"]}),Object.entries(d.suggested_changes||{}).map(([k,{old:R,new:z}])=>A(k,R,z))]}),d.status==="pending"&&f.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[f.jsxs("button",{onClick:()=>w(d.id),disabled:m[d.id],style:{padding:"10px 16px",border:"none",background:"#ef4444",color:"white",borderRadius:"8px",fontWeight:"600",cursor:m[d.id]?"not-allowed":"pointer",opacity:m[d.id]?.6:1,display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx(Er,{size:16}),m[d.id]?"Processing...":"Reject"]}),f.jsxs("button",{onClick:()=>x(d.id,!1),disabled:m[d.id],style:{padding:"10px 16px",border:"none",background:"#3b82f6",color:"white",borderRadius:"8px",fontWeight:"600",cursor:m[d.id]?"not-allowed":"pointer",opacity:m[d.id]?.6:1,display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx(zm,{size:16}),m[d.id]?"Processing...":"Approve"]}),f.jsxs("button",{onClick:()=>x(d.id,!0),disabled:m[d.id],style:{padding:"10px 16px",border:"none",background:"#10b981",color:"white",borderRadius:"8px",fontWeight:"600",cursor:m[d.id]?"not-allowed":"pointer",opacity:m[d.id]?.6:1,display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx(zm,{size:16}),m[d.id]?"Processing...":"Apply & Approve"]})]}),d.status!=="pending"&&f.jsxs("div",{style:{padding:"12px",background:d.status==="approved"?"#f0fdf4":"#fef2f2",borderRadius:"8px",border:`1px solid ${d.status==="approved"?"#86efac":"#fca5a5"}`},children:[f.jsx("p",{style:{margin:0,fontSize:"0.85rem",fontWeight:"600",color:d.status==="approved"?"#166534":"#991b1b"},children:d.status==="approved"?" Approved":" Rejected"}),d.admin_notes&&f.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"#6b7280"},children:["Notes: ",d.admin_notes]}),d.reviewed_at&&f.jsxs("p",{style:{margin:"8px 0 0 0",fontSize:"0.75rem",color:"#9ca3af"},children:["Reviewed: ",j(d.reviewed_at)]})]})]}):f.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#9ca3af",background:"#f9fafb",borderRadius:"12px",border:"2px dashed #e5e7eb"},children:[f.jsx(bS,{size:48,style:{marginBottom:"16px",opacity:.5}}),f.jsx("p",{children:"Select a suggestion to view details"})]})})]})]})]})},P4=()=>{const[n,t]=C.useState([]),[r,a]=C.useState(!0),[l,d]=C.useState(null),[h,m]=C.useState("analytics"),[y,v]=C.useState(!1);vt();const[x,w]=C.useState([]),[S,j]=C.useState({title:"",message:""}),[A,k]=C.useState(!1),[R,z]=C.useState({totalUsers:0,totalSpots:0,signupsByMonth:[],topContributors:[],activeAreas:[]}),[P,D]=C.useState(30),[W,q]=C.useState("");C.useEffect(()=>{if(!y)return;a(!0),Z(),be(),we();const se=Q.channel("spots_changes").on("postgres_changes",{event:"*",schema:"public",table:"spots"},ie=>{ie.eventType==="UPDATE"?t(ne=>ne.map(Te=>Te.id===ie.new.id?{...Te,...ie.new}:Te)):ie.eventType==="DELETE"?t(ne=>ne.filter(Te=>Te.id!==ie.old.id)):ie.eventType==="INSERT"&&t(ne=>[...ne,ie.new])}).subscribe(),V=()=>{const ie=window.location.hash.replace("#","");["analytics","spots","community","reviews","notifications","moderation"].includes(ie)&&m(ie)};return V(),window.addEventListener("hashchange",V),()=>{window.removeEventListener("hashchange",V),se.unsubscribe()}},[P,y]);const H=(se,V="success")=>{d({message:se,type:V})},Z=async()=>{const{data:se,error:V}=await Q.from("spots").select("*").order("created_at",{ascending:!1});se&&t(se),V&&H("Failed to fetch spots","error"),a(!1)},ae=async se=>{if(!confirm("Permanently delete this spot?"))return;const{error:V}=await Q.from("spots").delete().eq("id",se);V?(console.error(V),H("Failed to delete: "+V.message,"error")):(H("Spot deleted","success"),t(n.filter(ie=>ie.id!==se)))},ye=async(se,V)=>{try{console.log("Toggling verification for spot:",se,"current status:",V);const{data:ie,error:ne}=await Q.from("spots").select("*").eq("id",se).single();if(ne){console.error("Error fetching current spot:",ne),H("Failed to fetch spot data: "+ne.message,"error");return}console.log("Current spot data:",ie);const Te=!V,{data:pe,error:B}=await Q.from("spots").update({is_verified:Te}).eq("id",se).select();if(B){console.error("Verification error:",B),console.error("Error details:",{message:B.message,details:B.details,hint:B.hint,code:B.code}),B.code==="42501"||B.message.includes("permission")?H("Permission denied. Check RLS policies in Supabase.","error"):H("Failed to update: "+B.message,"error");return}console.log("Verification successful, updated data:",pe),t(n.map(te=>te.id===se?{...te,is_verified:Te}:te)),H(`Spot ${Te?"verified":"unverified"} successfully`,"success"),window.dispatchEvent(new CustomEvent("spotVerified",{detail:{spotId:se,isVerified:Te}})),setTimeout(()=>{console.log("Re-fetching spots to ensure persistence..."),Z()},1e3)}catch(ie){console.error("Toggle verification error:",ie),H("Failed to update: "+ie.message,"error")}},be=async()=>{const{data:se,error:V}=await Q.from("notifications").select("*").order("created_at",{ascending:!1});se&&w(se)},oe=async()=>{if(!S.title||!S.message)return;k(!0);const{error:se}=await Q.from("notifications").insert([{title:S.title,message:S.message,is_active:!0}]);se?H("Failed to send","error"):(H("Notification Sent!","success"),j({title:"",message:""}),be()),k(!1)},G=async se=>{const{error:V}=await Q.from("notifications").delete().eq("id",se);V||(w(x.filter(ie=>ie.id!==se)),H("Notification deleted"))},de=async(se,V)=>{await Q.from("notifications").update({is_active:!V}).eq("id",se),be()},we=async()=>{try{const{data:se}=await Q.from("user_preferences").select("created_at, display_name, username, user_id"),{data:V}=await Q.from("spots").select("created_by, location_text, created_at");if(!se||!V)return;const ie=new Date,ne=new Date;ne.setDate(ie.getDate()-P);const Te=se.filter(he=>new Date(he.created_at)>=ne),pe={};Te.forEach(he=>{const ve=new Date(he.created_at).toLocaleDateString("default",{month:"short",day:"numeric"});pe[ve]=(pe[ve]||0)+1});const B=Object.entries(pe).map(([he,ve])=>({name:he,count:ve})),te={};V.forEach(he=>{he.created_by&&(te[he.created_by]=(te[he.created_by]||0)+1)});const me=Object.entries(te).map(([he,ve])=>{const xe=se.find(Be=>Be.user_id===he);return{name:xe?.username||xe?.display_name||"Anonymous",count:ve}}).sort((he,ve)=>ve.count-he.count).slice(0,5);z({totalUsers:se.length,totalSpots:V.length,signupsByMonth:B,topContributors:me,activeAreas:[]})}catch(se){console.error(se)}finally{a(!1)}};return y?f.jsxs("div",{style:{padding:"20px 20px 100px 20px",maxWidth:"1200px",margin:"0 auto"},children:[l&&f.jsx(qo,{message:l.message,type:l.type,onClose:()=>d(null)}),f.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:f.jsx("h1",{style:{fontSize:"1.8rem"},children:"Admin Dashboard"})}),f.jsx("div",{style:{display:"flex",gap:"8px",overflowX:"auto",paddingBottom:"10px",marginBottom:"20px"},className:"hide-scrollbar",children:["analytics","spots","community","reviews","notifications","moderation"].map(se=>f.jsx("button",{onClick:()=>m(se),style:{padding:"10px 20px",borderRadius:"30px",border:"none",background:h===se?"var(--primary)":"white",color:h===se?"white":"#555",fontWeight:"700",textTransform:"capitalize",whiteSpace:"nowrap",boxShadow:h===se?"0 4px 12px rgba(226, 55, 68, 0.3)":"0 2px 8px rgba(0,0,0,0.05)"},children:se},se))}),r&&f.jsx("p",{children:"Loading data..."}),!r&&h==="analytics"&&f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[f.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("div",{children:[f.jsx("p",{style:{color:"#888",margin:0},children:"Total Users"}),f.jsx("h2",{style:{fontSize:"2.5rem",margin:0},children:R.totalUsers})]}),f.jsx(Vo,{size:40,color:"var(--primary)"})]}),f.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("div",{children:[f.jsx("p",{style:{color:"#888",margin:0},children:"Total Spots"}),f.jsx("h2",{style:{fontSize:"2.5rem",margin:0},children:R.totalSpots})]}),f.jsx(Pn,{size:40,color:"orange"})]}),f.jsxs("div",{className:"glass-card",style:{padding:"20px",gridColumn:"1 / -1"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[f.jsx("h3",{style:{margin:0},children:"Growth Analytics"}),f.jsx("div",{style:{display:"flex",gap:"8px"},children:[30,60,90].map(se=>f.jsxs("button",{onClick:()=>D(se),style:{padding:"6px 12px",borderRadius:"8px",border:"1px solid #ddd",background:P===se?"var(--primary)":"white",color:P===se?"white":"#666",fontSize:"0.8rem",fontWeight:"700",cursor:"pointer"},children:[se," Days"]},se))})]}),f.jsx("div",{style:{width:"100%",height:"250px",position:"relative"},children:R.signupsByMonth.length>0&&f.jsx(N4,{data:R.signupsByMonth})}),f.jsx("p",{style:{textAlign:"center",fontSize:"0.8rem",color:"#888",marginTop:"1rem"},children:"User Signups over time"})]}),f.jsxs("div",{className:"glass-card",style:{padding:"20px"},children:[f.jsx("h3",{children:"Top Contributors"}),R.topContributors.map((se,V)=>f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #eee"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[f.jsx("span",{style:{fontWeight:"bold",width:"20px"},children:V+1}),f.jsx("span",{children:se.name})]}),f.jsx("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:se.count})]},V))]})]}),!r&&h==="spots"&&f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.map(se=>f.jsxs("div",{className:"glass-card",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem"},children:[f.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[f.jsx("img",{src:se.images?.[0]||"https://via.placeholder.com/100",style:{width:"60px",height:"60px",borderRadius:"8px",objectFit:"cover"}}),f.jsxs("div",{children:[f.jsx("h4",{style:{margin:0,fontWeight:"700"},children:se.name}),f.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666"},children:se.location_text}),se.is_verified&&f.jsx("span",{style:{fontSize:"0.7rem",color:"green",fontWeight:"bold"},children:"Verified"})]})]}),f.jsxs("div",{style:{display:"flex",gap:"10px"},children:[f.jsx("button",{onClick:()=>ye(se.id,se.is_verified),style:{padding:"8px",background:"#e8f5e9",color:"#2e7d32",borderRadius:"8px",border:"none"},children:f.jsx(gS,{size:18})}),f.jsx("button",{onClick:()=>ae(se.id),style:{padding:"8px",background:"#ffebee",color:"#c62828",borderRadius:"8px",border:"none"},children:f.jsx(yS,{size:18})})]})]},se.id))}),!r&&h==="notifications"&&f.jsxs("div",{children:[f.jsxs("div",{className:"glass-card",style:{padding:"20px",marginBottom:"20px"},children:[f.jsx("h3",{children:"Create Notification"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[f.jsx("input",{type:"text",placeholder:"Notification Title",value:S.title,onChange:se=>j({...S,title:se.target.value}),style:{padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}}),f.jsx("textarea",{placeholder:"Message Body",value:S.message,onChange:se=>j({...S,message:se.target.value}),style:{padding:"10px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"80px"}}),f.jsxs(fu,{onClick:oe,disabled:A,children:[A?"Sending...":"Send to All Users"," ",f.jsx(ES,{size:16,style:{marginLeft:"8px"}})]})]})]}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:x.map(se=>f.jsxs("div",{className:"glass-card",style:{padding:"15px",position:"relative"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[f.jsx("h4",{style:{margin:0},children:se.title}),f.jsx("span",{style:{fontSize:"0.8rem",color:se.is_active?"green":"red",fontWeight:"bold"},children:se.is_active?"ACTIVE":"INACTIVE"})]}),f.jsx("p",{style:{margin:0,color:"#555"},children:se.message}),f.jsxs("div",{style:{marginTop:"10px",display:"flex",gap:"10px"},children:[f.jsx("button",{onClick:()=>de(se.id,se.is_active),style:{fontSize:"0.8rem",padding:"4px 8px"},children:"Toggle Active"}),f.jsx("button",{onClick:()=>G(se.id),style:{fontSize:"0.8rem",padding:"4px 8px",color:"red"},children:"Delete"})]})]},se.id))})]}),!r&&h==="community"&&f.jsx(D4,{}),!r&&h==="reviews"&&f.jsx(B4,{}),!r&&h==="moderation"&&f.jsx(z4,{showToast:H})]}):f.jsx("div",{style:{height:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px"},children:f.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[f.jsx(IM,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),f.jsx("h2",{style:{marginBottom:"10px"},children:"Admin Login"}),f.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Please enter your PIN to access the dashboard."}),f.jsx("input",{type:"password",id:"adminPinInput",placeholder:"Enter PIN",value:W,onChange:se=>q(se.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"1px solid #ddd",marginBottom:"20px",textAlign:"center",fontSize:"1.2rem",letterSpacing:"4px"},onKeyDown:se=>{se.key==="Enter"&&W==="Sinu@12345"?v(!0):se.key==="Enter"&&H("Incorrect PIN","error")}}),f.jsx(fu,{onClick:()=>{W==="Sinu@12345"?v(!0):H("Incorrect PIN","error")},style:{width:"100%"},children:"Access Dashboard"})]})})},D4=()=>{const[n,t]=C.useState([]),[r,a]=C.useState(!0);C.useEffect(()=>{l()},[]);const l=async()=>{const{data:h}=await Q.from("community_posts").select("*").order("created_at",{ascending:!1});t(h||[]),a(!1)},d=async h=>{if(!confirm("Delete this post?"))return;const{error:m}=await Q.from("community_posts").delete().eq("id",h);m?(console.error(m),alert("Failed to delete post: "+m.message)):t(n.filter(y=>y.id!==h))};return r?f.jsx("div",{children:"Loading..."}):f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"15px"},children:n.map(h=>f.jsxs("div",{className:"glass-card",style:{padding:"10px",overflow:"hidden"},children:[f.jsx("img",{src:h.image_url,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px"}}),f.jsx("p",{style:{fontSize:"0.8rem",margin:"8px 0",height:"40px",overflow:"hidden"},children:h.caption}),f.jsxs("button",{onClick:()=>d(h.id),style:{width:"100%",padding:"6px",background:"#ffebee",color:"red",border:"none",borderRadius:"6px",cursor:"pointer"},children:[f.jsx(Ng,{size:16})," Delete"]})]},h.id))})},B4=()=>{const[n,t]=C.useState([]);C.useEffect(()=>{r()},[]);const r=async()=>{const{data:l}=await Q.from("reviews").select("*").order("created_at",{ascending:!1}).limit(50);t(l||[])},a=async l=>{if(!confirm("Delete review?"))return;const{error:d}=await Q.from("reviews").delete().eq("id",l);d?(console.error(d),alert("Failed to delete review: "+d.message)):t(n.filter(h=>h.id!==l))};return f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:n.map(l=>f.jsxs("div",{className:"glass-card",style:{padding:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{display:"flex",gap:"4px"},children:[...Array(l.rating)].map((d,h)=>f.jsx("span",{children:""},h))}),f.jsx("p",{style:{marginTop:"5px",marginBottom:"0",fontSize:"0.9rem"},children:l.comment})]}),f.jsx("button",{onClick:()=>a(l.id),style:{background:"#ffebee",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:"red"},children:f.jsx(Ng,{size:18})})]},l.id))})},N4=({data:n})=>{const t=Math.max(...n.map(h=>h.count),5),r=200,a=800,l=30,d=n.map((h,m)=>{const y=l+m*(a-l*2)/(n.length-1||1),v=r-l-h.count*(r-l*2)/t;return`${y},${v}`}).join(" ");return f.jsxs("svg",{viewBox:`0 0 ${a} ${r}`,style:{width:"100%",height:"100%"},children:[f.jsx("line",{x1:l,y1:r-l,x2:a-l,y2:r-l,stroke:"#eee"}),f.jsx("line",{x1:l,y1:l,x2:l,y2:r-l,stroke:"#eee"}),f.jsx("text",{x:l-10,y:l,textAnchor:"end",fontSize:"10",fill:"#999",children:t}),f.jsx("text",{x:l-10,y:r-l,textAnchor:"end",fontSize:"10",fill:"#999",children:"0"}),f.jsx("polyline",{fill:"none",stroke:"var(--primary)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:d}),n.map((h,m)=>{const y=l+m*(a-l*2)/(n.length-1||1),v=r-l-h.count*(r-l*2)/t;return f.jsxs("g",{children:[f.jsx("circle",{cx:y,cy:v,r:"4",fill:"white",stroke:"var(--primary)",strokeWidth:"2"}),f.jsx("text",{x:y,y:r-5,textAnchor:"middle",fontSize:"10",fill:"#999",children:h.name}),f.jsx("text",{x:y,y:v-10,textAnchor:"middle",fontSize:"12",fontWeight:"700",fill:"var(--primary)",children:h.count})]},m)})]})},U4=({spot:n,onClose:t,onSubmit:r})=>{const[a,l]=C.useState({name:n.name||"",description:n.description||"",location_text:n.location_text||"",opening_time:n.opening_hours?.open||"10:00",closing_time:n.opening_hours?.close||"22:00",tags:n.tags?n.tags.join(", "):"",price_level:n.price_level||1,category:n.category||"",instagram_handle:n.instagram_handle||"",whatsapp_number:n.whatsapp_number||""}),[d,h]=C.useState(!1),[m,y]=C.useState({}),v=(S,j)=>{if(l(A=>({...A,[S]:j})),S==="opening_time"||S==="closing_time"){const A={open:n.opening_hours?.open||"10:00",close:n.opening_hours?.close||"22:00"},k={open:S==="opening_time"?j:a.opening_time,close:S==="closing_time"?j:a.closing_time};JSON.stringify(A)!==JSON.stringify(k)?y(R=>({...R,opening_hours:{old:A,new:k}})):y(R=>{const z={...R};return delete z.opening_hours,z})}else j!==n[S]?y(A=>({...A,[S]:{old:n[S],new:j}})):y(A=>{const k={...A};return delete k[S],k})},x=async S=>{if(S.preventDefault(),Object.keys(m).length===0){alert("Please make at least one change to suggest edits");return}h(!0);try{const j={...a,opening_hours:{open:a.opening_time,close:a.closing_time}};await r({spot_id:n.id,suggested_changes:m,original_data:n,suggested_data:j}),t()}catch(j){console.error("Error submitting edits:",j),alert("Failed to submit edits. Please try again.")}finally{h(!1)}},w=(S,j,A,k="text",R="")=>f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"0.9rem",fontWeight:"600",color:"var(--text-main)"},children:[A,j]}),k==="textarea"?f.jsx("textarea",{value:a[S],onChange:z=>v(S,z.target.value),placeholder:R,style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"12px",fontSize:"0.9rem",resize:"vertical",minHeight:"80px",fontFamily:"inherit"}}):f.jsx("input",{type:k,value:a[S],onChange:z=>v(S,z.target.value),placeholder:R,style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"12px",fontSize:"0.9rem",fontFamily:"inherit"}})]});return f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",zIndex:1e3},children:f.jsxs(fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},style:{background:"white",borderRadius:"20px",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",position:"relative"},children:[f.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx(Bg,{size:24,color:"var(--primary)"}),f.jsxs("div",{children:[f.jsx("h2",{style:{margin:0,fontSize:"1.3rem",color:"var(--text-main)"},children:"Suggest Edits"}),f.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-muted)"},children:n.name})]})]}),f.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Er,{size:20,color:"var(--text-muted)"})})]}),f.jsxs("form",{onSubmit:x,style:{padding:"24px"},children:[f.jsx("div",{style:{marginBottom:"20px",padding:"12px",background:"#fef3c7",borderRadius:"12px",border:"1px solid #fbbf24"},children:f.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#92400e",fontWeight:"600"},children:" Only fill in the fields you want to edit. Empty fields will be ignored."})}),w("name","Spot Name",f.jsx(Pn,{size:16}),"text","Enter spot name"),w("description","Description",f.jsx(zg,{size:16}),"textarea","Describe the spot..."),w("location_text","Location",f.jsx(Pn,{size:16}),"text","Enter location details"),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"0.9rem",fontWeight:"600",color:"var(--text-main)"},children:[f.jsx(Qd,{size:16}),"Opening Hours"]}),f.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",flex:1},children:[f.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"800",color:"var(--text-muted)"},children:"Opening"}),f.jsx("input",{type:"time",value:a.opening_time,onChange:S=>v("opening_time",S.target.value),style:{padding:"12px",borderRadius:"14px",background:"var(--secondary)",border:"none",fontWeight:"700",width:"100%"}})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",flex:1},children:[f.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"800",color:"var(--text-muted)"},children:"Closing"}),f.jsx("input",{type:"time",value:a.closing_time,onChange:S=>v("closing_time",S.target.value),style:{padding:"12px",borderRadius:"14px",background:"var(--secondary)",border:"none",fontWeight:"700",width:"100%"}})]})]})]}),w("tags","Tags",f.jsx(nh,{size:16}),"text","e.g., biryani, tea, snacks (comma separated)"),w("instagram_handle","Instagram",f.jsx(Pm,{size:16}),"text","@username"),w("whatsapp_number","WhatsApp",f.jsx(eh,{size:16}),"tel","Enter WhatsApp number"),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"0.9rem",fontWeight:"600",color:"var(--text-main)"},children:[f.jsx(xS,{size:16}),"Price Level"]}),f.jsxs("select",{value:a.price_level,onChange:S=>v("price_level",parseInt(S.target.value)),style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"12px",fontSize:"0.9rem",fontFamily:"inherit"},children:[f.jsx("option",{value:1,children:"50-150 (Budget)"}),f.jsx("option",{value:2,children:"150-300 (Moderate)"}),f.jsx("option",{value:3,children:"300-600 (Expensive)"}),f.jsx("option",{value:4,children:"600+ (Premium)"})]})]}),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"0.9rem",fontWeight:"600",color:"var(--text-main)"},children:[f.jsx(nh,{size:16}),"Category"]}),f.jsxs("select",{value:a.category,onChange:S=>v("category",S.target.value),style:{width:"100%",padding:"12px",border:"2px solid #e5e7eb",borderRadius:"12px",fontSize:"0.9rem",fontFamily:"inherit"},children:[f.jsx("option",{value:"",children:"Select Category"}),f.jsx("option",{value:"restaurant",children:"Restaurant"}),f.jsx("option",{value:"cafe",children:"Cafe"}),f.jsx("option",{value:"tea_shop",children:"Tea Shop"}),f.jsx("option",{value:"bakery",children:"Bakery"}),f.jsx("option",{value:"juice_bar",children:"Juice Bar"}),f.jsx("option",{value:"street_food",children:"Street Food"}),f.jsx("option",{value:"fast_food",children:"Fast Food"}),f.jsx("option",{value:"dessert",children:"Dessert"})]})]}),Object.keys(m).length>0&&f.jsxs("div",{style:{marginBottom:"20px",padding:"16px",background:"#f0fdf4",borderRadius:"12px",border:"1px solid #86efac"},children:[f.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"0.9rem",color:"#166534",fontWeight:"600"},children:[" Changes Summary (",Object.keys(m).length," changes)"]}),Object.entries(m).map(([S,{old:j,new:A}])=>f.jsxs("div",{style:{marginBottom:"8px",fontSize:"0.85rem",color:"#166534"},children:[f.jsxs("strong",{children:[S,":"]})," ",S==="opening_hours"?`"${j?.open||"10:00"} - ${j?.close||"22:00"}"  "${A?.open||"10:00"} - ${A?.close||"22:00"}"`:`"${j}"  "${A}"`]},S))]}),f.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[f.jsx("button",{type:"button",onClick:t,style:{padding:"12px 24px",border:"2px solid #e5e7eb",background:"white",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",color:"var(--text-main)"},children:"Cancel"}),f.jsx("button",{type:"submit",disabled:d||Object.keys(m).length===0,style:{padding:"12px 24px",border:"none",background:"var(--primary)",color:"white",borderRadius:"12px",fontSize:"0.9rem",fontWeight:"600",cursor:d?"not-allowed":"pointer",opacity:d||Object.keys(m).length===0?.6:1},children:d?"Submitting...":`Submit ${Object.keys(m).length} Changes`})]})]})]})})},I4=({lang:n})=>{const{id:t}=Vm(),r=vt(),{user:a}=Mt(),[l,d]=C.useState(null),[h,m]=C.useState([]),[y,v]=C.useState(""),[x,w]=C.useState(!1),[S,j]=C.useState(!0),[A,k]=C.useState(null),[R,z]=C.useState(!1),[P,D]=C.useState(!1),[W,q]=C.useState(""),[H,Z]=C.useState(0),[ae,ye]=C.useState(0),[be,oe]=C.useState(!1),[G,de]=C.useState(0),[we,se]=C.useState(!1);C.useEffect(()=>{B();const ge=()=>{te()};window.addEventListener("userProfileUpdated",ge);const De=Q.channel("user_preferences_changes_reviews").on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_preferences"},tt=>{te()}).subscribe(),Ye=Q.channel("spot_ratings_changes_detail").on("postgres_changes",{event:"*",schema:"public",table:"spot_ratings",filter:`spot_id=eq.${t}`},tt=>{console.log("SpotDetail received rating change:",tt),B()}).subscribe();return()=>{window.removeEventListener("userProfileUpdated",ge),Q.removeChannel(De),Q.removeChannel(Ye)}},[t]);const V=ge=>ge>=1e6?(ge/1e6).toFixed(1)+"M":ge>=1e3?(ge/1e3).toFixed(1)+"K":ge.toString(),ie=async ge=>{try{const{data:De,error:Ye}=await Q.from("spot_edit_suggestions").insert([{spot_id:ge.spot_id,user_id:a.id,suggested_changes:ge.suggested_changes,original_data:ge.original_data,suggested_data:ge.suggested_data,status:"pending"}]);if(Ye)throw console.error("Error submitting suggestion:",Ye),Ye;alert("Edit suggestion submitted successfully! The admin will review it soon.")}catch(De){throw console.error("Error submitting edit suggestion:",De),De}},ne=()=>new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),Te=ge=>{if(!ge||!ge.open||!ge.close)return null;const De=ne(),[Ye,tt=0]=ge.open.split(":").map(Number),[Ft,Tt=0]=ge.close.split(":").map(Number),it=new Date(De);it.setHours(Ye,tt,0,0);const fn=new Date(De);return fn.setHours(Ft,Tt,0,0),fn<=it&&(De<it?it.setDate(it.getDate()-1):fn.setDate(fn.getDate()+1)),De>=it&&De<=fn},pe=ge=>{if(!ge)return"";const[De,Ye="00"]=ge.split(":"),tt=new Date;return tt.setHours(Number(De),Number(Ye),0,0),tt.toLocaleTimeString("en-IN",{hour:"numeric",minute:"2-digit",hour12:!0})},B=async()=>{j(!0),q("");try{const{data:ge,error:De}=await Q.from("spots").select("*").eq("id",parseInt(t)).single();if(De)throw De;if(!ge){q("Spot not found"),j(!1);return}if(d(ge),k(Te(ge.opening_hours)),te(),me(),a){const{data:Ye}=await Q.from("user_favorites").select("*").eq("spot_id",parseInt(t)).eq("user_id",a.id).maybeSingle();w(!!Ye);const{data:tt}=await Q.from("visited_spots").select("*").eq("spot_id",parseInt(t)).eq("user_id",a.id).maybeSingle();z(!!tt);const{data:Ft}=await Q.from("spot_ratings").select("rating").eq("spot_id",parseInt(t)).eq("user_id",a.id).maybeSingle();de(Ft?.rating||0)}}catch(ge){console.error("Error fetching spot:",ge),q("Unable to load this spot right now. Please try again.")}finally{j(!1)}},te=async()=>{const{data:ge,error:De}=await Q.from("reviews").select("*").eq("spot_id",t).order("created_at",{ascending:!1});if(De){console.error("Error loading reviews:",De),m([]);return}if(ge){const Ye=[...new Set(ge.map(it=>it.user_id))],{data:tt}=await Q.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",Ye),Ft={};tt?.forEach(it=>Ft[it.user_id]=it);const{data:{user:Tt}}=await Q.auth.getUser();m(ge.map(it=>{const fn=Ft[it.user_id];return fn?{...it,user:fn}:Tt&&it.user_id===Tt.id?{...it,user:{display_name:Tt.user_metadata?.full_name||Tt.email?.split("@")[0]||"User",avatar_url:Tt.user_metadata?.avatar_url||null}}:{...it,user:{display_name:"User",avatar_url:null}}}))}else m([])},me=async()=>{try{const{count:ge}=await Q.from("visited_spots").select("*",{count:"exact",head:!0}).eq("spot_id",parseInt(t));Z(ge||0)}catch(ge){console.error("Error fetching visit count:",ge)}},he=async()=>{if(!a)return alert("Please login!");const ge=x;w(!ge);try{ge?await Q.from("user_favorites").delete().eq("spot_id",parseInt(t)).eq("user_id",a.id):await Q.from("user_favorites").insert({spot_id:parseInt(t),user_id:a.id})}catch(De){console.error("Error toggling favorite:",De),w(ge)}},ve=async()=>{if(!a)return alert("Please login!");const ge=R,De=!ge,Ye=ge?H-1:H+1;z(De),ye(H),Z(Ye),ge||(oe(!0),setTimeout(()=>oe(!1),600));try{ge?await Q.from("visited_spots").delete().eq("spot_id",parseInt(t)).eq("user_id",a.id):await Q.from("visited_spots").insert({spot_id:parseInt(t),user_id:a.id}),window.dispatchEvent(new CustomEvent("visitUpdated",{detail:{userId:a.id,visited:De}}))}catch(tt){console.error("Error toggling visit:",tt),z(ge),Z(ge?H+1:H-1)}},xe=async ge=>{if(!a)return alert("Please login to rate!");if(!we){console.log("Submitting rating:",ge,"for spot:",t,"by user:",a.id),se(!0);try{const{data:De,error:Ye}=await Q.from("spot_ratings").select("*").eq("spot_id",parseInt(t)).eq("user_id",a.id).single();if(Ye&&Ye.code!=="PGRST116")throw console.error("Error fetching existing rating:",Ye),Ye;let tt;if(De){const{data:Tt,error:it}=await Q.from("spot_ratings").update({rating:ge}).eq("id",De.id);tt={data:Tt,error:it},console.log("Updated existing rating:",{data:Tt,error:it})}else{const{data:Tt,error:it}=await Q.from("spot_ratings").insert({spot_id:parseInt(t),user_id:a.id,rating:ge});tt={data:Tt,error:it},console.log("Inserted new rating:",{data:Tt,error:it})}if(tt.error)throw console.error("Supabase error:",tt.error),tt.error;de(ge);const{data:Ft}=await Q.from("spots").select("*").eq("id",parseInt(t)).single();Ft&&d(Ft)}catch(De){console.error("Error submitting rating:",De),alert(`Failed to submit rating: ${De.message||De.details||"Unknown error"}`)}finally{se(!1)}}},Be=async()=>{if(!a)return alert("Please login to submit a review!");if(!y.trim())return;const{data:ge}=await Q.from("user_preferences").select("*").eq("user_id",a.id).maybeSingle();ge||await Q.from("user_preferences").insert({user_id:a.id,display_name:a.user_metadata?.full_name||a.email?.split("@")[0]||"User",avatar_url:a.user_metadata?.avatar_url||null,notifications_enabled:!0,notify_new_spots:!0,notify_review_replies:!0,notify_weekly_digest:!1});const{error:De}=await Q.from("reviews").insert({spot_id:parseInt(t),user_id:a.id,comment:y,rating:5});De?console.error("Error adding review:",De):(v(""),te())},ft=()=>{if(!l?.latitude||!l?.longitude){alert("Location coordinates not available for this spot.");return}const ge=l.latitude,De=l.longitude,Ye=encodeURIComponent(l.name||"Spot"),tt=/iPad|iPhone|iPod/.test(navigator.userAgent),Ft=`/${window.location.pathname.includes("/ml/")?"ml":"en"}/directions/${t}`;tt?(r(Ft),setTimeout(()=>{window.open(`maps://?daddr=${ge},${De}&q=${Ye}`,"_blank")},100)):(window.open(`https://www.google.com/maps/dir/?api=1&destination=${ge},${De}&destination_place_id=${Ye}`,"_blank"),setTimeout(()=>{r(Ft)},100))};return S?f.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Wait a moment..."}):W?f.jsx("div",{style:{padding:"40px",textAlign:"center"},children:W}):l?f.jsxs("div",{style:{background:"var(--bg-white)",minHeight:"100vh",position:"relative",paddingBottom:"140px"},children:[f.jsxs("div",{style:{height:"45vh",position:"relative",background:"#000"},children:[f.jsx(AS,{images:l.images&&l.images.length?l.images:["https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=900&q=80"]}),f.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",padding:"6px 12px",borderRadius:"20px",display:"flex",alignItems:"center",gap:"4px",zIndex:5},children:f.jsxs("span",{style:{color:"white",fontSize:"0.75rem",fontWeight:"700"},children:[V(H)," visits"]})}),f.jsx(fe.button,{whileTap:{scale:.9},onClick:()=>r(-1),style:{position:"absolute",top:"24px",left:"20px",background:"white",border:"none",borderRadius:"16px",padding:"12px",boxShadow:"var(--shadow-md)",zIndex:10},children:f.jsx(_s,{size:24,color:"var(--text-main)"})}),f.jsx(fe.button,{whileTap:{scale:.9},onClick:he,style:{position:"absolute",top:"24px",right:"20px",background:"white",border:"none",borderRadius:"16px",padding:"12px",boxShadow:"var(--shadow-md)",zIndex:10},children:f.jsx(Sr,{size:24,fill:x?"var(--primary)":"none",color:x?"var(--primary)":"var(--text-main)"})})]}),f.jsxs(fe.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},style:{background:"white",marginTop:"-40px",borderRadius:"40px 40px 0 0",padding:"30px 20px",position:"relative",boxShadow:"0 -10px 30px rgba(0,0,0,0.05)"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[f.jsxs("div",{children:[f.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"900",margin:0,color:"var(--text-main)"},children:l.name}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[f.jsx("span",{style:{background:A===null?"#E5E7EB":A?"rgba(16, 185, 129, 0.12)":"rgba(239, 68, 68, 0.12)",color:A===null?"#4B5563":A?"#0F9F6E":"#B91C1C",padding:"6px 12px",borderRadius:"12px",fontWeight:"800",fontSize:"0.8rem"},children:A===null?"HOURS NOT SET":A?"OPEN NOW":"CLOSED"}),f.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"0.85rem",fontWeight:"700"},children:[pe(l.opening_hours?.open)," - ",pe(l.opening_hours?.close)," (Kerala)"]})]})]}),f.jsxs("div",{style:{background:"var(--secondary)",padding:"10px 16px",borderRadius:"16px",display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx(Wi,{size:18,fill:"#FFB800",color:"#FFB800"}),f.jsx("span",{style:{fontWeight:"800",fontSize:"1.1rem"},children:(l.average_rating||l.rating||0).toFixed(1)}),l.total_ratings&&f.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginLeft:"4px"},children:["(",l.total_ratings,")"]})]})]}),f.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"24px"},children:l.tags&&l.tags.map(ge=>f.jsxs("span",{style:{background:"var(--secondary)",color:"var(--text-muted)",padding:"6px 14px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"700"},children:["#",ge]},ge))}),f.jsx("p",{style:{lineHeight:"1.6",color:"var(--text-main)",fontSize:"1rem",marginBottom:"30px"},children:l.description||"Indulge in an exquisite culinary journey at this magnificent location. Known for its exceptional service and vibrant atmosphere."}),f.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"40px",flexWrap:"wrap"},children:[l.instagram_handle&&f.jsxs("a",{href:`https://instagram.com/${l.instagram_handle}`,style:{flex:"1 1 120px",minWidth:"120px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"10px 12px",borderRadius:"12px",background:"linear-gradient(45deg, #f09433 0%, #dc2743 100%)",color:"white",textDecoration:"none",fontWeight:"700",fontSize:"0.85rem"},children:[f.jsx(wS,{size:16})," Instagram"]}),l.whatsapp_number&&f.jsxs("a",{href:`https://wa.me/${l.whatsapp_number}`,style:{flex:"1 1 120px",minWidth:"120px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"10px 12px",borderRadius:"12px",background:"#25D366",color:"white",textDecoration:"none",fontWeight:"700",fontSize:"0.85rem"},children:[f.jsx(zu,{size:16})," WhatsApp"]}),f.jsxs(fe.button,{whileTap:{scale:.95},onClick:ft,style:{flex:"1 1 120px",minWidth:"120px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"10px 12px",borderRadius:"12px",background:"var(--primary)",color:"white",border:"none",textDecoration:"none",fontWeight:"700",cursor:"pointer",fontSize:"0.85rem"},children:[f.jsx(TS,{size:16})," Directions"]})]}),f.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"var(--bg-white)",borderRadius:"20px",border:"1px solid rgba(0,0,0,0.05)"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[f.jsx("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:"800",color:"var(--text-main)"},children:"Rate this spot"}),l.total_ratings>0&&f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx(Wi,{size:20,fill:"#FFB800",color:"#FFB800"}),f.jsx("span",{style:{fontWeight:"700",fontSize:"1rem"},children:(l.average_rating||0).toFixed(1)}),f.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-muted)"},children:["(",l.total_ratings," ",l.total_ratings===1?"rating":"ratings",")"]})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[f.jsx(uL,{rating:G,onRatingChange:xe,readonly:!a||we,size:32}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"4px"},children:a?G>0?"Your rating":"Tap stars to rate":"Login to rate"}),we&&f.jsx("div",{style:{fontSize:"0.8rem",color:"var(--primary)"},children:"Saving..."})]})]})]}),f.jsx("div",{style:{position:"sticky",bottom:"20px",left:0,right:0,zIndex:10,padding:"0 4px",marginBottom:"40px"},children:f.jsxs(fe.button,{whileTap:{scale:.95},onClick:ve,style:{width:"100%",padding:"18px",borderRadius:"24px",background:R?"#10B981":"#EF4444",color:"white",border:"none",fontSize:"1.1rem",fontWeight:"900",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"var(--shadow-lg)"},children:[f.jsx(Pn,{size:24}),"VISITED",f.jsx(Ru,{mode:"wait",children:be&&f.jsx(fe.span,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:.5,ease:"easeOut"},style:{background:"rgba(255,255,255,0.2)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.9rem"},children:V(H)},H)})]})}),f.jsxs(fe.button,{whileTap:{scale:.95},onClick:()=>D(!0),style:{width:"100%",padding:"16px",borderRadius:"20px",background:"var(--bg-white)",color:"var(--text-main)",border:"2px solid var(--primary)",fontWeight:"800",fontSize:"1rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"var(--shadow-md)",marginBottom:"40px"},children:[f.jsx(Bg,{size:20}),"Suggest Edits"]}),f.jsxs("div",{style:{marginBottom:"40px"},children:[f.jsxs("h2",{style:{fontSize:"1.4rem",fontWeight:"900",marginBottom:"20px"},children:["Reviews (",h.length,")"]}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:h.map(ge=>f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsx("img",{src:ge.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"50%"}}),f.jsxs("div",{children:[f.jsx("p",{style:{fontWeight:"800",margin:0},children:ge.user?.display_name||"Anonymous"}),f.jsx("p",{style:{margin:"4px 0 0 0",color:"var(--text-main)"},children:ge.comment})]})]},ge.id))}),f.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"10px"},children:[f.jsx("input",{type:"text",value:y,onChange:ge=>v(ge.target.value),placeholder:"Add a review...",style:{flex:1,padding:"14px",borderRadius:"16px",border:"2px solid var(--secondary)",outline:"none",fontWeight:"700"}}),f.jsx("button",{onClick:Be,style:{padding:"14px 20px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",fontWeight:"800"},children:"Send"})]})]})]}),P&&l&&f.jsx(U4,{spot:l,onClose:()=>D(!1),onSubmit:ie})]}):f.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Spot disappeared..."})},V4=({lang:n})=>{const{id:t}=Vm(),r=vt(),{user:a}=Mt(),[l,d]=C.useState(1),[h,m]=C.useState(!0),[y,v]=C.useState(!1),[x,w]=C.useState(!1),[S,j]=C.useState(null),[A,k]=C.useState({name:"",category:"",price:1,location_text:"",latitude:null,longitude:null,description:"",images:[]});C.useEffect(()=>{t&&R()},[t]);const R=async()=>{m(!0);const{data:q,error:H}=await Q.from("spots").select("*").eq("id",t).single();if(H){D("Failed to load spot data.","error"),m(!1);return}k({name:q.name,category:q.category||"Cafe",price:q.price_level||1,location_text:q.location_text,latitude:q.latitude,longitude:q.longitude,description:q.description||"",images:q.images||[]}),m(!1)},z=()=>d(q=>q+1),P=()=>d(q=>q-1),D=(q,H="success")=>{j({message:q,type:H})},W=async q=>{if(q.preventDefault(),!a)return D("Please login first","error");m(!0);try{const{error:H}=await Q.from("spot_edits").insert([{spot_id:t,user_id:a.id,data:A,status:"pending"}]);if(H)throw H;D("Edit Suggestion Submitted! Admin will review.","success"),setTimeout(()=>r(`/${n}/home`),2e3)}catch(H){console.error(H),D("Failed to submit edit.","error"),m(!1)}};return h&&l===1?f.jsx("div",{style:{padding:"4rem",textAlign:"center",color:"white"},children:"Loading spot details..."}):f.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",paddingBottom:"100px"},children:[S&&f.jsx(qo,{message:S.message,type:S.type,onClose:()=>j(null)}),f.jsx(kS,{isOpen:x,onClose:()=>w(!1),onSelectLocation:(q,H)=>k({...A,latitude:q,longitude:H,location_text:`${q.toFixed(4)}, ${H.toFixed(4)}`})}),f.jsxs("div",{className:"container",style:{padding:"2rem 1rem",maxWidth:"600px",margin:"0 auto"},children:[f.jsxs("button",{onClick:()=>r(-1),style:{marginBottom:"1.5rem",background:"rgba(255,255,255,0.1)",color:"white",border:"none",padding:"8px 16px",borderRadius:"20px",cursor:"pointer"},children:[f.jsx(Lu,{size:20,style:{verticalAlign:"middle"}})," Back"]}),f.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",color:"white"},children:[f.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"800"},children:"Suggest Changes "}),f.jsxs("p",{style:{opacity:.8},children:["Help keep ",A.name," info up to date"]})]}),f.jsxs("form",{onSubmit:W,className:"glass-card",style:{padding:"2rem",background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.1)",color:"white"},children:[l===1&&f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.1rem"},children:"Step 1: Basic Info"}),f.jsx("label",{style:{display:"block",marginBottom:"8px",opacity:.8},children:"Spot Name"}),f.jsx("input",{type:"text",value:A.name,onChange:q=>k({...A,name:q.target.value}),style:{width:"100%",padding:"14px",borderRadius:"12px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",marginBottom:"1.5rem"}}),f.jsx("label",{style:{display:"block",marginBottom:"8px",opacity:.8},children:"Description"}),f.jsx("textarea",{value:A.description,onChange:q=>k({...A,description:q.target.value}),style:{width:"100%",padding:"14px",borderRadius:"12px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",minHeight:"120px"}}),f.jsxs("button",{type:"button",onClick:z,style:{width:"100%",marginTop:"2rem",background:"linear-gradient(135deg, #6366f1 0%, #4338ca 100%)",color:"white",padding:"16px",borderRadius:"16px",border:"none",fontWeight:"800",cursor:"pointer"},children:["Next Step ",f.jsx(ds,{size:18})]})]}),l===2&&f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.1rem"},children:"Step 2: Location"}),f.jsxs("button",{type:"button",onClick:()=>w(!0),style:{width:"100%",padding:"14px",background:"rgba(255,255,255,0.1)",color:"white",border:"2px solid rgba(255,255,255,0.2)",borderRadius:"12px",cursor:"pointer",marginBottom:"1rem",fontWeight:"700"},children:[f.jsx(Dg,{size:18,style:{marginRight:"8px"}})," Update Map Pin"]}),f.jsx("input",{type:"text",placeholder:"Address",value:A.location_text,onChange:q=>k({...A,location_text:q.target.value}),style:{width:"100%",padding:"14px",borderRadius:"12px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",marginBottom:"1.5rem"}}),f.jsx("label",{style:{display:"block",marginBottom:"8px",opacity:.8},children:"Price Level"}),f.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginBottom:"1.5rem"},children:[1,2,3].map(q=>f.jsx("button",{type:"button",onClick:()=>k({...A,price:q}),style:{width:"60px",height:"60px",borderRadius:"20px",background:A.price===q?"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)":"rgba(255,255,255,0.1)",color:"white",border:A.price===q?"none":"2px solid rgba(255,255,255,0.2)",fontWeight:"800",fontSize:"1.2rem",cursor:"pointer",transition:"all 0.3s ease"},children:"".repeat(q)},q))}),f.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[f.jsx("button",{type:"button",onClick:P,style:{flex:1,padding:"16px",borderRadius:"16px",background:"transparent",border:"1px solid rgba(255,255,255,0.2)",color:"white",cursor:"pointer"},children:"Back"}),f.jsx("button",{type:"submit",disabled:h,style:{flex:2,padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",fontWeight:"800",cursor:"pointer"},children:h?"Submitting...":"Submit Suggestion "})]})]})]})]})]})},H4=({lang:n})=>{const{user:t}=Mt(),r=vt(),[a,l]=C.useState([]),[d,h]=C.useState(!0);C.useEffect(()=>{t&&m()},[t]);const m=async()=>{h(!0);const{data:y}=await Q.from("user_favorites").select("spot_id").eq("user_id",t.id);if(y&&y.length>0){const v=y.map(w=>w.spot_id),{data:x}=await Q.from("spots").select("*").in("id",v);l(x||[])}h(!1)};return f.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[f.jsxs("div",{style:{height:"180px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[f.jsx("button",{onClick:()=>r(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white",cursor:"pointer"},children:f.jsx(_s,{size:24})}),f.jsx(Sr,{size:48,color:"white",fill:"white",style:{marginBottom:"8px"}}),f.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"My Favorites"}),f.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"Your saved spots"})]}),f.jsx("div",{className:"container",style:{padding:"20px",marginTop:"-30px"},children:d?f.jsx(Ho,{message:"Loading your favorites..."}):a.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[f.jsx(Sr,{size:64,color:"var(--text-muted)",style:{marginBottom:"20px",opacity:.3}}),f.jsx("h3",{style:{color:"var(--text-main)",fontWeight:"800",marginBottom:"8px"},children:"No favorites yet"}),f.jsx("p",{style:{color:"var(--text-muted)"},children:"Start exploring and save your favorite spots!"})]}):f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:a.map(y=>f.jsx(Lo,{spot:y},y.id))})})]})},q4=({lang:n})=>{const t=vt(),r=[{icon:Dm,title:"Information We Collect",content:"We collect information you provide directly to us, including your name, email address, profile information, and content you post on Chai.in. We also collect usage data to improve our services."},{icon:pM,title:"How We Use Your Information",content:"Your information is used to provide and improve our services, personalize your experience, communicate with you, and ensure the security of our platform. We never sell your personal data to third parties."},{icon:bS,title:"Information Sharing",content:"We only share your information with your consent, to comply with legal obligations, or to protect our rights. Your posts and reviews are visible to other users as part of the community experience."},{icon:eL,title:"Your Rights",content:"You have the right to access, update, or delete your personal information at any time. You can manage your privacy settings in your account preferences."},{icon:zg,title:"Data Security",content:"We implement industry-standard security measures to protect your data. All sensitive information is encrypted, and we regularly update our security practices to ensure your safety."}];return f.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[f.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[f.jsx("button",{onClick:()=>t(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white",cursor:"pointer"},children:f.jsx(_s,{size:24})}),f.jsx(Dm,{size:48,color:"white",style:{marginBottom:"8px"}}),f.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"Privacy Policy"}),f.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"Your privacy matters to us"})]}),f.jsxs("div",{style:{padding:"30px 20px",maxWidth:"600px",margin:"0 auto"},children:[f.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",padding:"24px",borderRadius:"24px",marginBottom:"20px",boxShadow:"var(--shadow-md)"},children:[f.jsx("h2",{style:{fontSize:"1.2rem",fontWeight:"900",color:"var(--text-main)",marginBottom:"12px"},children:"Welcome to Chai.in"}),f.jsx("p",{style:{fontSize:"0.95rem",color:"var(--text-muted)",lineHeight:"1.6",margin:0},children:"At Chai.in, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, and safeguard your data when you use our platform to discover and share Kerala's best food spots."}),f.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"12px",fontStyle:"italic"},children:"Last updated: January 2026"})]}),r.map((a,l)=>f.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},style:{background:"white",padding:"20px",borderRadius:"24px",marginBottom:"16px",boxShadow:"var(--shadow-sm)"},children:f.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px"},children:[f.jsx("div",{style:{background:"rgba(239, 42, 57, 0.1)",padding:"12px",borderRadius:"16px",flexShrink:0},children:f.jsx(a.icon,{size:24,color:"var(--primary)"})}),f.jsxs("div",{style:{flex:1},children:[f.jsx("h3",{style:{fontSize:"1.05rem",fontWeight:"800",color:"var(--text-main)",marginBottom:"8px"},children:a.title}),f.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",lineHeight:"1.6",margin:0},children:a.content})]})]})},l)),f.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},style:{background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",padding:"24px",borderRadius:"24px",marginTop:"24px",textAlign:"center"},children:[f.jsx("h3",{style:{color:"white",fontWeight:"900",fontSize:"1.1rem",marginBottom:"8px"},children:"Questions About Privacy?"}),f.jsx("p",{style:{color:"rgba(255,255,255,0.9)",fontSize:"0.9rem",marginBottom:"16px"},children:"If you have any questions or concerns about our privacy practices, please don't hesitate to contact us."}),f.jsx("button",{onClick:()=>t(`/${n}/contact-admin`),style:{background:"white",color:"var(--primary)",border:"none",padding:"12px 24px",borderRadius:"16px",fontWeight:"800",fontSize:"0.95rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:"Contact Admin"})]})]})]})},F4=({lang:n})=>{const t=vt(),[r,a]=C.useState(""),l=[{icon:eh,label:"WhatsApp",value:"+91 9846170136",link:"https://wa.me/919846170136",color:"#25D366",action:"Chat on WhatsApp"},{icon:wS,label:"Instagram",value:"@sinn.a.an",link:"https://instagram.com/sinn.a.an",color:"#E4405F",action:"Follow on Instagram"},{icon:vM,label:"Email",value:"msinankavala786@gmail.com",link:"mailto:msinankavala786@gmail.com",color:"#EA4335",action:"Send Email"}],d=(h,m)=>{navigator.clipboard.writeText(h),a(m),setTimeout(()=>a(""),2e3)};return f.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[f.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[f.jsx("button",{onClick:()=>t(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white",cursor:"pointer"},children:f.jsx(_s,{size:24})}),f.jsx(zu,{size:48,color:"white",style:{marginBottom:"8px"}}),f.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"Contact Admin"}),f.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"We're here to help!"})]}),f.jsxs("div",{style:{padding:"30px 20px",maxWidth:"600px",margin:"0 auto"},children:[f.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",padding:"24px",borderRadius:"24px",marginBottom:"24px",boxShadow:"var(--shadow-md)",textAlign:"center"},children:[f.jsx("h2",{style:{fontSize:"1.2rem",fontWeight:"900",color:"var(--text-main)",marginBottom:"12px"},children:"Get in Touch"}),f.jsx("p",{style:{fontSize:"0.95rem",color:"var(--text-muted)",lineHeight:"1.6",margin:0},children:"Have questions, suggestions, or need help? Reach out to our admin team through any of the channels below. We typically respond within 24 hours!"})]}),l.map((h,m)=>f.jsxs(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.1},style:{background:"white",padding:"20px",borderRadius:"24px",marginBottom:"16px",boxShadow:"var(--shadow-sm)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"12px"},children:[f.jsx("div",{style:{background:`${h.color}15`,padding:"12px",borderRadius:"16px"},children:f.jsx(h.icon,{size:24,color:h.color})}),f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",fontWeight:"600"},children:h.label}),f.jsx("div",{style:{fontSize:"1rem",fontWeight:"800",color:"var(--text-main)"},children:h.value})]})]}),f.jsxs("div",{style:{display:"flex",gap:"8px"},children:[f.jsxs("a",{href:h.link,target:"_blank",rel:"noopener noreferrer",style:{flex:1,background:h.color,color:"white",border:"none",padding:"12px",borderRadius:"14px",fontWeight:"800",fontSize:"0.9rem",cursor:"pointer",textAlign:"center",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[f.jsx(ES,{size:16}),h.action]}),f.jsx("button",{onClick:()=>d(h.value,h.label),style:{background:"var(--secondary)",color:"var(--text-main)",border:"none",padding:"12px 16px",borderRadius:"14px",fontWeight:"700",fontSize:"0.85rem",cursor:"pointer"},children:r===h.label?" Copied!":"Copy"})]})]},m)),f.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},style:{background:"rgba(239, 42, 57, 0.05)",padding:"20px",borderRadius:"20px",marginTop:"24px",border:"2px dashed var(--primary)"},children:[f.jsx("h3",{style:{fontSize:"1rem",fontWeight:"800",color:"var(--primary)",marginBottom:"8px"},children:" Quick Tips"}),f.jsxs("ul",{style:{fontSize:"0.9rem",color:"var(--text-muted)",lineHeight:"1.8",margin:0,paddingLeft:"20px"},children:[f.jsx("li",{children:"For spot verification status, message us on WhatsApp"}),f.jsx("li",{children:"Report inappropriate content via email"}),f.jsx("li",{children:"Follow us on Instagram for updates and food stories"}),f.jsx("li",{children:"Business inquiries? Email is the best way to reach us"})]})]})]})]})},W4=({lang:n})=>{const{id:t}=Vm(),r=vt(),{user:a}=Mt(),[l,d]=C.useState(null),[h,m]=C.useState([]),[y,v]=C.useState(""),[x,w]=C.useState(!0);C.useEffect(()=>{S(),j();const R=()=>{j()};return window.addEventListener("userProfileUpdated",R),()=>{window.removeEventListener("userProfileUpdated",R)}},[t]);const S=async()=>{try{const{data:R,error:z}=await Q.from("spots").select("*").eq("id",parseInt(t)).single();if(z)throw z;d(R)}catch(R){console.error("Error fetching spot:",R)}finally{w(!1)}},j=async()=>{const{data:R,error:z}=await Q.from("reviews").select("*").eq("spot_id",t).order("created_at",{ascending:!1});if(z){console.error("Error loading reviews:",z),m([]);return}if(R){const P=[...new Set(R.map(q=>q.user_id))],{data:D}=await Q.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",P),W={};D?.forEach(q=>W[q.user_id]=q),m(R.map(q=>({...q,user:W[q.user_id]||{display_name:"User"}})))}else m([])},A=async()=>{if(!a)return alert("Please login to submit a review!");if(!y.trim())return;const{error:R}=await Q.from("reviews").insert({spot_id:parseInt(t),user_id:a.id,comment:y,rating:5});R?console.error("Error adding review:",R):(v(""),j())},k=()=>{sessionStorage.setItem("refreshSpotDetail","true"),r(`/${n}/spot/${t}`)};return x?f.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-white)"},children:f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid var(--primary)",borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),f.jsx("p",{style:{color:"var(--text-main)",fontWeight:"600"},children:"Loading directions..."})]})}):l?f.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",position:"relative"},children:[f.jsx("div",{style:{background:"var(--primary)",padding:"20px",display:"flex",alignItems:"center",gap:"16px"},children:f.jsxs(fe.button,{whileTap:{scale:.9},onClick:k,style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"12px",padding:"10px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx(_s,{size:20,color:"white"}),f.jsx("span",{style:{color:"white",fontWeight:"600",fontSize:"0.9rem"},children:"Go Back"})]})}),f.jsx("div",{style:{padding:"40px 20px",textAlign:"center",maxWidth:"600px",margin:"0 auto"},children:f.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[f.jsxs("div",{style:{background:"var(--secondary)",padding:"30px",borderRadius:"20px",marginBottom:"30px"},children:[f.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"900",margin:"0 0 16px 0",color:"var(--text-main)"},children:l.name}),f.jsx("p",{style:{color:"var(--text-muted)",margin:"0 0 20px 0",fontSize:"1rem"},children:l.location_text||"Kerala, India"})]}),f.jsxs("div",{style:{background:"var(--secondary)",padding:"20px",borderRadius:"16px"},children:[f.jsx("h3",{style:{margin:"0 0 12px 0",color:"var(--text-main)",fontSize:"1.1rem",fontWeight:"800"},children:" Spot Information"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",textAlign:"left"},children:[l.opening_hours?.open&&f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{color:"var(--text-muted)"},children:"Hours:"}),f.jsxs("span",{style:{fontWeight:"600"},children:[l.opening_hours.open," - ",l.opening_hours.close]})]}),l.rating&&f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{color:"var(--text-muted)"},children:"Rating:"}),f.jsxs("span",{style:{fontWeight:"600"},children:[" ",l.rating]})]}),l.tags&&l.tags.length>0&&f.jsxs("div",{children:[f.jsx("span",{style:{color:"var(--text-muted)"},children:"Tags:"}),f.jsx("div",{style:{marginTop:"8px",display:"flex",gap:"8px",flexWrap:"wrap"},children:l.tags.map(R=>f.jsxs("span",{style:{background:"var(--primary)",color:"white",padding:"4px 8px",borderRadius:"8px",fontSize:"0.8rem",fontWeight:"600"},children:["#",R]},R))})]})]})]}),f.jsxs("div",{style:{marginBottom:"40px"},children:[f.jsxs("h2",{style:{fontSize:"1.4rem",fontWeight:"900",marginBottom:"20px"},children:["Reviews (",h.length,")"]}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:h.map(R=>f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsx("img",{src:R.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"50%"}}),f.jsxs("div",{children:[f.jsx("p",{style:{fontWeight:"800",margin:0},children:R.user?.display_name||"Anonymous"}),f.jsx("p",{style:{margin:"4px 0 0 0",color:"var(--text-main)"},children:R.comment})]})]},R.id))}),f.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"10px"},children:[f.jsx("input",{type:"text",value:y,onChange:R=>v(R.target.value),placeholder:"Add a review...",style:{flex:1,padding:"14px",borderRadius:"16px",border:"2px solid var(--secondary)",outline:"none",fontWeight:"700"}}),f.jsx("button",{onClick:A,style:{padding:"14px 20px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",fontWeight:"800"},children:"Send"})]})]})]})}),f.jsx("style",{jsx:!0,children:`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `})]}):f.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-white)"},children:f.jsxs("div",{style:{textAlign:"center"},children:[f.jsx(Pn,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),f.jsx("h2",{style:{color:"var(--text-main)",margin:0},children:"Spot not found"})]})})},$4=({lang:n})=>{const{user:t}=Mt(),r=vt(),[a,l]=C.useState(!0),[d,h]=C.useState([]);C.useEffect(()=>{t&&m()},[t]);const m=async()=>{l(!0);try{const{data:y}=await Q.from("user_favorites").select("spot_id").eq("user_id",t.id);if(y&&y.length>0){const v=y.map(w=>w.spot_id),{data:x}=await Q.from("spots").select("*").in("id",v);h(x||[])}else h([])}catch(y){console.error("Error fetching favorites:",y)}finally{l(!1)}};return f.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",paddingBottom:"120px"},children:[f.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},children:[f.jsx("button",{onClick:()=>r(`/${n}/profile`),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:f.jsx(_s,{size:24})}),f.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"My Favorites"}),f.jsx("div",{style:{width:"44px"}})]}),f.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:a?f.jsx("div",{style:{textAlign:"center",padding:"40px"},children:f.jsx(Ho,{message:"Loading favorites..."})}):d.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[f.jsx(Sr,{size:48,style:{marginBottom:"12px",opacity:.3}}),f.jsx("p",{children:"No favorites yet"}),f.jsx("p",{style:{fontSize:"0.9rem",marginTop:"8px"},children:"Start exploring and add spots to your favorites!"})]}):f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:d.map(y=>f.jsx(Lo,{spot:y},y.id))})})]})},Z4=({lang:n})=>{const{user:t}=Mt(),r=vt(),[a,l]=C.useState(!0),[d,h]=C.useState([]);C.useEffect(()=>{t&&m()},[t]);const m=async()=>{l(!0);try{const{data:y}=await Q.from("reviews").select("*, spots(name)").eq("user_id",t.id).order("created_at",{ascending:!1});if(y){const v=[...new Set(y.map(S=>S.user_id))],{data:x}=await Q.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",v),w={};x?.forEach(S=>w[S.user_id]=S),h(y.map(S=>({...S,user:w[S.user_id]||{display_name:"User"}})))}else h([])}catch(y){console.error("Error fetching reviews:",y)}finally{l(!1)}};return f.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",paddingBottom:"120px"},children:[f.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},children:[f.jsx("button",{onClick:()=>r(`/${n}/profile`),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:f.jsx(_s,{size:24})}),f.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"My Reviews"}),f.jsx("div",{style:{width:"44px"}})]}),f.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:a?f.jsx("div",{style:{textAlign:"center",padding:"40px"},children:f.jsx(Ho,{message:"Loading reviews..."})}):d.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[f.jsx(SS,{size:48,style:{marginBottom:"12px",opacity:.3}}),f.jsx("p",{children:"No reviews yet"}),f.jsx("p",{style:{fontSize:"0.9rem",marginTop:"8px"},children:"Start reviewing spots to share your thoughts!"})]}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:d.map(y=>f.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"20px",boxShadow:"var(--shadow-sm)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[f.jsx("img",{src:y.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"50%"}}),f.jsxs("div",{children:[f.jsx("p",{style:{fontWeight:"800",margin:0},children:y.user?.display_name||"Anonymous"}),f.jsxs("p",{style:{margin:"4px 0 0 0",color:"var(--text-muted)",fontSize:"0.85rem"},children:["at ",y.spots?.name]})]})]}),f.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"8px"},children:[...Array(5)].map((v,x)=>f.jsx(Wi,{size:14,fill:x<y.rating?"#FFB800":"none",color:x<y.rating?"#FFB800":"#ddd"},x))}),f.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-main)",marginBottom:"8px"},children:y.comment})]},y.id))})})]})},G4=({lang:n})=>{const{user:t}=Mt(),r=vt(),[a,l]=C.useState(!0),[d,h]=C.useState([]);C.useEffect(()=>{t&&m()},[t]);const m=async()=>{l(!0);try{const{data:y}=await Q.from("spots").select("*").eq("created_by",t.id).order("created_at",{ascending:!1});h(y||[])}catch(y){console.error("Error fetching added spots:",y)}finally{l(!1)}};return f.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",paddingBottom:"120px"},children:[f.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},children:[f.jsx("button",{onClick:()=>r(`/${n}/profile`),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:f.jsx(_s,{size:24})}),f.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"My Added Spots"}),f.jsx("div",{style:{width:"44px"}})]}),f.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:a?f.jsx("div",{style:{textAlign:"center",padding:"40px"},children:f.jsx(Ho,{message:"Loading added spots..."})}):d.length===0?f.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[f.jsx(Sa,{size:48,style:{marginBottom:"12px",opacity:.3}}),f.jsx("p",{children:"No spots added yet"}),f.jsx("p",{style:{fontSize:"0.9rem",marginTop:"8px"},children:"Start adding spots to contribute to the community!"})]}):f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:d.map(y=>f.jsx(Lo,{spot:y},y.id))})})]})},K4=()=>{const n=vt(),[t,r]=C.useState(!1);C.useEffect(()=>{r(!0)},[]);const a=()=>{n("/login")},l=[{icon:f.jsx(Pn,{size:24}),title:"Discover Spots",description:"Find amazing food spots near you",color:"#ef4444"},{icon:f.jsx(Wi,{size:24}),title:"Share Reviews",description:"Help others with your experiences",color:"#f59e0b"},{icon:f.jsx(Vo,{size:24}),title:"Join Community",description:"Connect with food lovers",color:"#10b981"},{icon:f.jsx(jS,{size:24}),title:"Track Visits",description:"Keep a record of your food journey",color:"#8b5cf6"}],d=[{number:"500+",label:"Food Spots"},{number:"10K+",label:"Happy Users"},{number:"50K+",label:"Reviews"},{number:"100+",label:"Daily Visits"}];return f.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #fef3c7 0%, #fbbf24 50%, #f59e0b 100%)",position:"relative",overflow:"hidden"},children:[f.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},children:[...Array(6)].map((h,m)=>f.jsx(fe.div,{initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,scale:0},animate:{x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth],y:[Math.random()*window.innerHeight,Math.random()*window.innerHeight],scale:[0,1,0],rotate:[0,360]},transition:{duration:10+Math.random()*10,repeat:1/0,ease:"linear"},style:{position:"absolute",width:20+Math.random()*30,height:20+Math.random()*30,background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",border:"2px solid rgba(255, 255, 255, 0.2)"}},m))}),f.jsxs("div",{style:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"40px 20px",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh"},children:[f.jsxs(fe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},style:{textAlign:"center",marginBottom:"60px",marginTop:"60px"},children:[f.jsxs(fe.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:1,ease:"easeOut",delay:.2},style:{width:"120px",height:"120px",background:"white",borderRadius:"30px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 30px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden"},children:[f.jsx(fe.div,{animate:{opacity:[.9,1,.9]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:f.jsx(fe.img,{src:"./chai_icon.png",alt:"Chai-in Logo",style:{width:"70px",height:"70px",objectFit:"contain"},animate:{opacity:[.8,1,.8]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},onError:h=>{h.target.style.display="none",h.target.parentElement.innerHTML='<div style="font-size: 60px; color: #f59e0b;"></div>'}})}),[...Array(3)].map((h,m)=>f.jsx(fe.div,{initial:{scale:0,opacity:0},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:m*.7,ease:"easeInOut"},style:{position:"absolute",top:20+m*30,right:20+m*10},children:f.jsx(qM,{size:16,color:"#fbbf24"})},m))]}),f.jsx(fe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},style:{fontSize:"clamp(2.5rem, 8vw, 4.5rem)",fontWeight:"900",margin:"0 0 20px 0",background:"linear-gradient(135deg, #dc2626 0%, #ea580c 50%, #f59e0b 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.1)",lineHeight:"1.1"},children:"Chai.in"}),f.jsxs(fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},style:{fontSize:"clamp(1.1rem, 3vw, 1.4rem)",fontWeight:"600",color:"#7c2d12",margin:"0 0 20px 0",maxWidth:"600px",lineHeight:"1.4"},children:["Discover the best food spots in Kerala ",f.jsx("br",{}),"Share your experiences with the community"]}),f.jsx(fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.7},style:{fontSize:"1.1rem",fontWeight:"400",color:"#92400e",margin:"0 0 40px 0",maxWidth:"700px",lineHeight:"1.6",textAlign:"center"},children:`Chai-in is a community-driven food spot discovery platform that helps you find authentic chai kadas, street food vendors, and local eateries across Kerala. Built for food lovers by food lovers, our platform connects you with Kerala's vibrant food culture through real user experiences, not advertisements. Whether you're searching for "chai near me" or exploring food spots in your neighborhood, Chai-in makes it easy to discover and share the best local flavors.`}),f.jsxs(fe.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.8},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:a,style:{background:"linear-gradient(135deg, #dc2626 0%, #ea580c 100%)",color:"white",border:"none",padding:"18px 48px",borderRadius:"50px",fontSize:"1.2rem",fontWeight:"800",cursor:"pointer",boxShadow:"0 10px 30px rgba(220, 38, 38, 0.3)",display:"inline-flex",alignItems:"center",gap:"12px",position:"relative",overflow:"hidden"},children:[f.jsx(fe.span,{animate:{x:[0,5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Discover Now"}),f.jsx(LO,{size:24}),f.jsx(fe.div,{initial:{x:"-100%"},animate:{x:"200%"},transition:{duration:3,repeat:1/0,ease:"linear"},style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)",transform:"skewX(-20deg)"}})]})]}),f.jsx(fe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"30px",width:"100%",maxWidth:"800px",marginBottom:"60px"},children:d.map((h,m)=>f.jsxs(fe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:1.2+m*.1},whileHover:{y:-5,scale:1.05},style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",padding:"30px 20px",borderRadius:"20px",textAlign:"center",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[f.jsx(fe.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:1.4+m*.1},style:{fontSize:"2.5rem",fontWeight:"900",color:"#dc2626",marginBottom:"10px"},children:h.number}),f.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#7c2d12"},children:h.label})]},m))}),f.jsxs(fe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.6},style:{width:"100%",maxWidth:"1000px",marginBottom:"60px"},children:[f.jsx(fe.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.8},style:{fontSize:"2.5rem",fontWeight:"900",textAlign:"center",marginBottom:"50px",color:"#7c2d12"},children:"Why Choose Chai.in?"}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"30px"},children:l.map((h,m)=>f.jsxs(fe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:2+m*.1},whileHover:{y:-10,scale:1.05},style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",padding:"30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.3)",cursor:"pointer"},children:[f.jsx(fe.div,{whileHover:{rotate:360},transition:{duration:.6,ease:"easeInOut"},style:{width:"60px",height:"60px",background:h.color,borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"white"},children:h.icon}),f.jsx("h3",{style:{fontSize:"1.3rem",fontWeight:"800",margin:"0 0 15px 0",color:"#1f2937"},children:h.title}),f.jsx("p",{style:{fontSize:"1rem",fontWeight:"500",color:"#6b7280",margin:0,lineHeight:"1.5"},children:h.description})]},m))})]}),f.jsx(fe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:2.4},style:{textAlign:"center",marginTop:"40px"},children:f.jsx(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,style:{background:"white",color:"#dc2626",border:"2px solid #dc2626",padding:"16px 40px",borderRadius:"50px",fontSize:"1.1rem",fontWeight:"700",cursor:"pointer",boxShadow:"0 5px 20px rgba(220, 38, 38, 0.2)"},children:"Start Your Food Journey "})})]})]})},Y4=({lang:n})=>{vt();const[t,r]=C.useState([]),[a,l]=C.useState(!0),[d,h]=C.useState(""),[m,y]=C.useState([]),[v,x]=C.useState([]),[w,S]=C.useState(null);C.useEffect(()=>{j(),A(),k()},[]);const j=async()=>{l(!0);const{data:P,error:D}=await Q.from("spots").select("*").eq("is_verified",!0).order("created_at",{ascending:!1});D?(console.error("Error fetching spots:",D),S({message:"Failed to load spots",type:"error"})):r(P||[]),l(!1)},A=async()=>{const P=new Date(Date.now()-6048e5),{data:D}=await Q.from("spots").select("*, reviews(count)").eq("is_verified",!0).gte("created_at",P.toISOString()).order("reviews.count",{ascending:!1}).limit(5);y(D||[])},k=async()=>{const{data:P}=await Q.from("spots").select("*").eq("is_verified",!0).order("created_at",{ascending:!1}).limit(5);x(P||[])},R=async()=>{if(!d.trim())return;l(!0);let P=Q.from("spots").select("*").eq("is_verified",!0);d.trim()&&(P=P.ilike("name",d));const{data:D,error:W}=await P;W?(console.error("Search error:",W),S({message:"Search failed",type:"error"})):r(D||[]),l(!1)},z=t.filter(P=>!d||P.name.toLowerCase().includes(d.toLowerCase()));return f.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-cream)",padding:"20px"},children:[w&&f.jsx(qo,{message:w.message,type:w.type,onClose:()=>S(null)}),f.jsxs(fe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},style:{textAlign:"center",marginBottom:"30px"},children:[f.jsx("h1",{style:{fontSize:"2rem",fontWeight:"900",color:"var(--primary)",marginBottom:"10px"},children:"Explore All Spots"}),f.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1rem"},children:"Discover amazing food spots across Kerala"})]}),f.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},style:{background:"white",padding:"20px",borderRadius:"20px",boxShadow:"var(--shadow-md)",marginBottom:"30px"},children:[f.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:f.jsxs("div",{style:{flex:1,position:"relative"},children:[f.jsx(th,{size:20,color:"var(--text-muted)",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),f.jsx("input",{type:"text",placeholder:"Search for dishes...",value:d,onChange:P=>h(P.target.value),onKeyPress:P=>P.key==="Enter"&&R(),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"16px",border:"2px solid var(--secondary)",background:"var(--bg-cream)",fontSize:"1rem",outline:"none"}})]})}),f.jsx("button",{onClick:R,style:{padding:"12px 24px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",fontWeight:"600",cursor:"pointer",width:"100%"},children:"Search"})]}),f.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:a?f.jsx("div",{style:{textAlign:"center",padding:"40px"},children:f.jsx("div",{style:{fontSize:"1.1rem",color:"var(--text-muted)"},children:"Loading spots..."})}):f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:z.map(P=>f.jsx(Lo,{spot:P,lang:n},P.id))})})]})},X4=({lang:n="en"})=>{const t=ui();if(t.pathname.includes("/club-leaderboard"))return null;const a=[{to:"/home",icon:Pg,label:"Home"},{to:"/explore",icon:vS,label:"Explore"},{to:"",icon:null,label:"spacer1"},{to:"",icon:null,label:"spacer2"},{to:"",icon:null,label:"spacer3"},{to:"/map",icon:Dg,label:"Map"},{to:"/club-leaderboard",icon:Vo,label:"Club"}],l=d=>t.pathname.includes(`/${n}${d.to}`)||d.to==="/home"&&(t.pathname===`/${n}`||t.pathname===`/${n}/`);return f.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:70,zIndex:1e3,pointerEvents:"none"},children:[f.jsx("svg",{width:"100%",height:"120",viewBox:"0 0 400 120",preserveAspectRatio:"none",style:{display:"block",pointerEvents:"auto"},children:f.jsx("path",{d:`\r
            M0 40\r
            Q0 0 40 0\r
            H135\r
            C155 0 165 12 172 26\r
            C182 50 218 50 228 26\r
            C235 12 245 0 265 0\r
            H360\r
            Q400 0 400 40\r
            V120\r
            H0\r
            Z\r
          `,fill:"#EF2A39"})}),f.jsx("div",{style:{position:"absolute",top:-40,left:"50%",transform:"translateX(-50%)",pointerEvents:"auto"},children:f.jsx(Gp,{to:`/${n}/add-spot`,children:f.jsx(fe.div,{whileTap:{scale:.9},whileHover:{scale:1.05},style:{width:60,height:60,borderRadius:"50%",background:"#EF2A39",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 16px 32px rgba(239,42,57,0.45), inset 0 2px 6px rgba(255,255,255,0.35)",border:"3px solid rgba(255,255,255,0.4)"},children:f.jsx(Sa,{size:24,color:"#fff",strokeWidth:3})})})}),f.jsx("div",{style:{position:"absolute",bottom:18,left:0,right:0,display:"flex",justifyContent:"space-around",alignItems:"center",padding:"0 20px",pointerEvents:"auto"},children:a.map((d,h)=>{const m=l(d),y=h+1;return f.jsx("div",{style:{gridColumn:y},children:d.icon?f.jsxs(Gp,{to:`/${n}${d.to}`,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:4,color:"white",textDecoration:"none",opacity:m?1:.7,fontSize:"0.7rem",fontWeight:800,...d.to==="/home"&&{marginLeft:"5px"},...d.to==="/map"&&{marginRight:"25px"},...d.to==="/community"&&{marginLeft:"25px"},...d.to==="/leaderboard"&&{marginRight:"5px"}},children:[f.jsx(d.icon,{size:20,strokeWidth:m?2.6:2,color:"white"}),f.jsx("span",{children:d.label})]}):f.jsx("div",{style:{width:"20px"}})},d.to)})})]})},PS=({isOpen:n,onClose:t,userId:r})=>{const[a,l]=C.useState([]),[d,h]=C.useState(!0);C.useEffect(()=>{n&&r&&(m(),y())},[n,r]);const m=async()=>{h(!0);const{data:v,error:x}=await Q.from("notifications").select("*").or(`user_id.eq.${r},user_id.is.null`).order("created_at",{ascending:!1}).limit(20);x&&console.error("Notif error:",x),v&&l(v),h(!1)},y=async()=>{r&&await Q.from("notifications").update({is_read:!0}).eq("user_id",r).eq("is_read",!1)};return n?f.jsxs("div",{style:{position:"absolute",top:"60px",right:"20px",zIndex:3e3,width:"320px",maxHeight:"400px",background:"white",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",border:"1px solid #eee",display:"flex",flexDirection:"column",animation:"fadeInDown 0.2s ease-out"},onClick:v=>v.stopPropagation(),children:[f.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #f0f0f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("h3",{style:{margin:0,fontSize:"1rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx(Jd,{size:18,fill:"var(--primary)",color:"var(--primary)"}),"Notifications"]}),f.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:f.jsx(Er,{size:16,color:"#999"})})]}),f.jsx("div",{style:{flex:1,overflowY:"auto"},children:d?f.jsx("p",{style:{textAlign:"center",color:"#888"},children:"Loading..."}):a.length===0?f.jsxs("div",{style:{textAlign:"center",paddingTop:"50px",opacity:.5},children:[f.jsx(Jd,{size:48,color:"#ccc",style:{marginBottom:"10px"}}),f.jsx("p",{children:"No notifications yet"})]}):a.map(v=>f.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:v.is_read?"#fff":"#fff5f5",border:"1px solid #f0f0f0",marginBottom:"10px",position:"relative"},children:[f.jsx("h4",{style:{margin:"0 0 6px",fontSize:"1rem",fontWeight:"700",color:v.is_read?"#333":"var(--primary)"},children:v.title}),f.jsx("p",{style:{margin:"0 0 8px",fontSize:"0.9rem",color:"#666",lineHeight:"1.4"},children:v.message}),f.jsx("span",{style:{fontSize:"0.75rem",color:"#999"},children:v.created_at?zS(new Date(v.created_at),{addSuffix:!0}):"just now"})]},v.id))}),f.jsx("style",{children:`
                @keyframes fadeInDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
            `})]}):null},J4=()=>{const n="desktop-nav-css";if(!document.getElementById(n)){const t=document.createElement("style");t.id=n,t.textContent=`
            @media (min-width: 768px) {
                .desktop-nav {
                    display: block !important;
                }
                .mobile-only {
                    display: none !important;
                }
            }
            @media (max-width: 767px) {
                .desktop-nav {
                    display: none !important;
                }
                .mobile-only {
                    display: block !important;
                }
            }
        `,document.head.appendChild(t)}},Q4=()=>{const{user:n}=Mt(),t=vt(),r=ui(),[a,l]=C.useState(!1),[d,h]=C.useState(0),[m,y]=C.useState(null);r.pathname.includes("/home"),C.useEffect(()=>{if(!n)return;J4();const x=async()=>{const{count:j}=await Q.from("notifications").select("*",{count:"exact",head:!0}).or(`user_id.eq.${n.id},user_id.is.null`).eq("is_read",!1);h(j||0)},w=async()=>{const{data:j}=await Q.from("user_preferences").select("*").eq("user_id",n.id).maybeSingle();y(j)},S=()=>{w()};return x(),w(),window.addEventListener("userProfileUpdated",S),()=>{window.removeEventListener("userProfileUpdated",S)}},[n]);const v=[{to:"/home",icon:Pg},{to:"/explore",icon:vS},{to:"/map",icon:Pn},{to:"/add-spot",icon:Sa},{to:"/club-leaderboard",icon:Vo},{to:"/profile",icon:$i}];return f.jsxs(f.Fragment,{children:[f.jsx(PS,{isOpen:a,onClose:()=>{l(!1),h(0)},userId:n?.id}),f.jsx("div",{style:{position:"fixed",top:"50%",right:"20px",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"20px",padding:"8px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",zIndex:1e3,display:"none",width:"fit-content"},className:"desktop-nav",children:f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:v.map((x,w)=>{const S=r.pathname.includes(x.to);return f.jsx("button",{onClick:()=>t(`/en${x.to}`),style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",borderRadius:"12px",border:"none",background:S?"rgba(239, 42, 57, 0.8)":"transparent",color:S?"white":"#333333",cursor:"pointer",transition:"all 0.2s ease",width:"40px",height:"40px"},onMouseEnter:j=>{S||(j.target.style.background="rgba(255, 255, 255, 0.2)",j.target.style.color="#333333")},onMouseLeave:j=>{S||(j.target.style.background="transparent",j.target.style.color="#333333")},children:f.jsx(x.icon,{size:18})},x.to)})})})]})},ez=()=>{const n=["","","","","","","","","",""];return f.jsx("div",{className:"food-particles",children:n.map((t,r)=>f.jsx("div",{className:"food-particle",children:t},r))})},tz=()=>{const{user:n}=Mt(),[t,r]=C.useState(!1),[a,l]=C.useState(""),[d,h]=C.useState(!1),[m,y]=C.useState(null),[v,x]=C.useState(null),[w,S]=C.useState(!1),[j,A]=C.useState(null),[k,R]=C.useState(!1),[z,P]=C.useState(!1);C.useEffect(()=>{if(n?.created_at){const Z=new Date(n.created_at);(new Date-Z)/(1e3*60*60)>1&&S(!0)}D(),n?.user_metadata?.avatar_url&&A(n.user_metadata.avatar_url)},[n]);const D=async()=>{if(!n)return;const{data:Z,error:ae}=await Q.from("user_preferences").select("username").eq("user_id",n.id).single();Z&&!Z.username?r(!0):Z||r(!0)},W=async Z=>{if(Z.length<3){y(null);return}const{data:ae}=await Q.from("user_preferences").select("user_id").eq("username",Z).maybeSingle();y(!ae)},q=async Z=>{const ae=Z.target.files[0];if(ae){R(!0);try{const ye=`${n.id}-${Date.now()}.${ae.name.split(".").pop()}`;await Q.storage.from("avatars").upload(`avatars/${ye}`,ae);const{data:{publicUrl:be}}=Q.storage.from("avatars").getPublicUrl(`avatars/${ye}`);A(be),P(!1),await Q.auth.updateUser({data:{avatar_url:be}})}catch(ye){console.error("Error uploading avatar:",ye)}finally{R(!1)}}},H=async()=>{if(!(!m||a.length<3)){h(!0),x(null);try{let Z=j;z&&n?.user_metadata?.avatar_url?Z=n.user_metadata.avatar_url:z&&(Z=null);const{error:ae}=await Q.from("user_preferences").upsert({user_id:n.id,username:a,display_name:a,avatar_url:Z,notifications_enabled:!0,notify_new_spots:!0,notify_review_replies:!0,notify_weekly_digest:!1,updated_at:new Date},{onConflict:"user_id"});if(ae)throw ae;r(!1),window.location.reload()}catch(Z){console.error(Z),x("Failed to save profile. Try again.")}finally{h(!1)}}};return t?f.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:f.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"400px",padding:"30px",textAlign:"center",position:"relative"},children:[f.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"800",marginBottom:"10px"},children:w?"Update Required ":"Welcome to Chai-in!"}),f.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:w?"We've introduced usernames! Please choose a unique handle to continue.":"Please choose a unique username to continue."}),f.jsxs("div",{style:{marginBottom:"24px"},children:[f.jsxs("div",{style:{position:"relative",display:"inline-block",marginBottom:"16px"},children:[f.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",border:"3px solid var(--primary)",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--secondary)"},children:j?f.jsx("img",{src:j,style:{width:"100%",height:"100%",objectFit:"cover"}}):f.jsx($i,{size:40,color:"var(--text-muted)"})}),f.jsx("label",{htmlFor:"avatar-upload",style:{position:"absolute",bottom:"-5px",right:"-5px",background:"var(--primary)",color:"white",padding:"8px",borderRadius:"12px",cursor:"pointer",boxShadow:"var(--shadow-md)"},children:f.jsx(Mu,{size:16})}),f.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:q,style:{display:"none"}})]}),f.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"center",marginBottom:"16px"},children:[f.jsx("button",{onClick:()=>P(!1),style:{padding:"6px 12px",borderRadius:"8px",border:"1px solid var(--primary)",background:z?"white":"var(--primary)",color:z?"var(--primary)":"white",fontSize:"0.75rem",fontWeight:"600",cursor:"pointer"},children:"Upload Photo"}),f.jsx("button",{onClick:()=>P(!0),style:{padding:"6px 12px",borderRadius:"8px",border:"1px solid var(--secondary)",background:z?"var(--secondary)":"white",color:z?"var(--text-main)":"var(--text-muted)",fontSize:"0.75rem",fontWeight:"600",cursor:"pointer"},children:"Maybe Later"})]}),z&&n?.user_metadata?.avatar_url&&f.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:0},children:"Using your Google profile picture"})]}),f.jsxs("div",{style:{position:"relative",marginBottom:"20px"},children:[f.jsx("span",{style:{position:"absolute",left:"16px",top:"14px",color:"#999",fontWeight:"bold"},children:"@"}),f.jsx("input",{type:"text",value:a,onChange:Z=>{const ae=Z.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"");l(ae),W(ae)},placeholder:"username",style:{width:"100%",padding:"12px 16px 12px 36px",fontSize:"1.1rem",fontWeight:"bold",borderRadius:"12px",border:"2px solid #eee",outline:"none",background:"#fafafa"}}),f.jsx("div",{style:{position:"absolute",right:"16px",top:"14px"},children:a.length>=3&&(m?f.jsx(zm,{color:"green",size:20}):f.jsx(Er,{color:"red",size:20}))})]}),v&&f.jsx("p",{style:{color:"red",fontSize:"0.9rem",marginBottom:"10px"},children:v}),f.jsx("button",{onClick:H,disabled:!m||d,style:{width:"100%",padding:"14px",background:"var(--primary)",color:"white",fontWeight:"700",fontSize:"1.1rem",border:"none",borderRadius:"14px",opacity:!m||d?.5:1,cursor:!m||d?"not-allowed":"pointer"},children:d?"Saving...":"Let's Go!"})]})}):null},nz=()=>{const{user:n}=Mt(),[t,r]=C.useState(!1),[a,l]=C.useState(!1);C.useEffect(()=>{d()},[n]);const d=async()=>{if(!n||localStorage.getItem(`suppress_avatar_${n.id}`))return;const{data:v}=await Q.from("user_preferences").select("avatar_url").eq("user_id",n.id).single();v?.avatar_url||r(!0)},h=async y=>{try{l(!0);const v=y.target.files[0];if(!v)return;if(v.size>10*1024*1024){alert("File too large. Max 10MB"),l(!1);return}const x=v.name.split(".").pop(),S=`${`${n.id}-${Math.random()}.${x}`}`,{error:j}=await Q.storage.from("avatars").upload(S,v);if(j)throw j;const{data:A}=Q.storage.from("avatars").getPublicUrl(S),k=A.publicUrl;await Q.from("user_preferences").upsert({user_id:n.id,avatar_url:k,updated_at:new Date},{onConflict:"user_id"}),r(!1),window.location.reload()}catch(v){console.error(v),alert("Error uploading image")}finally{l(!1)}},m=()=>{r(!1),localStorage.setItem(`suppress_avatar_${n.id}`,"true")};return t?f.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:f.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"350px",padding:"30px",textAlign:"center",position:"relative",background:"white",border:"none"},children:[f.jsx("button",{onClick:m,style:{position:"absolute",right:"15px",top:"15px",background:"none",border:"none",cursor:"pointer"},children:f.jsx(Er,{color:"#999"})}),f.jsxs("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"#f0f0f0",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[f.jsx($i,{size:50,color:"#ccc"}),f.jsx("div",{style:{position:"absolute",bottom:0,right:0,background:"var(--primary)",padding:"6px",borderRadius:"50%",color:"white"},children:f.jsx(Mu,{size:16})})]}),f.jsx("h2",{style:{fontSize:"1.4rem",fontWeight:"800",marginBottom:"10px"},children:"Add a Profile Photo "}),f.jsx("p",{style:{color:"#666",marginBottom:"24px",fontSize:"0.95rem"},children:"Stand out in the community! Upload a cool avatar."}),f.jsxs("label",{style:{display:"block",width:"100%",padding:"14px",background:"var(--primary)",color:"white",fontWeight:"700",borderRadius:"14px",cursor:a?"wait":"pointer",marginBottom:"10px"},children:[a?"Uploading...":"Choose Photo",f.jsx("input",{type:"file",accept:"image/*",onChange:h,style:{display:"none"},disabled:a})]}),f.jsx("button",{onClick:m,style:{background:"none",border:"none",color:"#888",fontWeight:"600",fontSize:"0.9rem",padding:"10px"},children:"Maybe Later"})]})}):null},iz=()=>{const{user:n}=Mt(),t=vt(),r=ui(),[a,l]=C.useState(!1),[d,h]=C.useState(0),[m,y]=C.useState(null);return r.pathname.includes("/home"),C.useEffect(()=>{if(!n)return;const v=async()=>{const{count:S}=await Q.from("notifications").select("*",{count:"exact",head:!0}).or(`user_id.eq.${n.id},user_id.is.null`).eq("is_read",!1);h(S||0)},x=async()=>{const{data:S}=await Q.from("user_preferences").select("*").eq("user_id",n.id).maybeSingle();y(S)},w=()=>{x()};return v(),x(),window.addEventListener("userProfileUpdated",w),()=>{window.removeEventListener("userProfileUpdated",w)}},[n]),f.jsxs("div",{style:{position:"sticky",top:0,left:0,right:0,height:"70px",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0,0,0,0.05)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",zIndex:1e3,boxShadow:"0 4px 20px rgba(0,0,0,0.03)"},children:[f.jsx(PS,{isOpen:a,onClose:()=>{l(!1),h(0)},userId:n?.id}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},onClick:()=>t("/en/home"),children:[f.jsx("img",{src:"./chai_icon.png",alt:"Chai-in",style:{height:"40px",width:"40px",objectFit:"contain",borderRadius:"10px"},onError:v=>{v.target.src="https://ui-avatars.com/api/?name=C&background=EF2A39&color=fff&rounded=true&size=40"}}),f.jsx("span",{style:{fontSize:"1.3rem",color:"var(--text-main)",fontWeight:"900",fontFamily:"'Outfit', sans-serif"},children:"Chai.in"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[f.jsxs("button",{onClick:()=>l(!0),style:{position:"relative",background:"white",border:"none",borderRadius:"12px",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[f.jsx(Jd,{size:20,color:"#333"}),d>0&&f.jsx("span",{style:{position:"absolute",top:"4px",right:"4px",background:"#EF2A39",color:"white",fontSize:"0.65rem",fontWeight:"900",minWidth:"18px",height:"18px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 4px",border:"2px solid white",boxShadow:"0 2px 4px rgba(239, 42, 57, 0.3)"},children:d>9?"9+":d})]}),f.jsx("div",{onClick:()=>t("/en/profile"),style:{width:"40px",height:"40px",borderRadius:"12px",background:"#eee",overflow:"hidden",border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",cursor:"pointer"},children:f.jsx("img",{src:m?.avatar_url||n?.user_metadata?.avatar_url||`https://ui-avatars.com/api/?name=${n?.email}`,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})]})},rz=({lang:n})=>{const t=ui(),[r,a]=C.useState(!1);return C.useEffect(()=>{const l=t.pathname.includes("/club-leaderboard");a(l)},[t.pathname]),C.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t.pathname]),f.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-cream)",position:"relative"},children:[!r&&f.jsx("div",{className:"mobile-only",style:{transition:"opacity 0.3s ease"},children:f.jsx(iz,{})}),!r&&f.jsx(Q4,{}),f.jsx(ez,{}),f.jsx(tz,{}),f.jsx(nz,{}),f.jsx(tE,{}),f.jsx("div",{className:"mobile-only",children:f.jsx(X4,{lang:n})})]})},Qx=({children:n})=>{const{user:t,loading:r}=Mt();return r?f.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"white"},children:f.jsx(Ho,{message:"Welcome to Chai-in..."})}):t?n:f.jsx(db,{to:"/login",replace:!0})},sz=()=>{const{user:n,loading:t}=Mt();return t?f.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"white"},children:f.jsx(Ho,{message:"Welcome to Chai-in..."})}):n?f.jsx(db,{to:"/en/home",replace:!0}):f.jsx(K4,{})};function az(){return f.jsxs(hb,{children:[f.jsx(yt,{path:"/",element:f.jsx(sz,{})}),f.jsx(yt,{path:"/login",element:f.jsx(lL,{})}),f.jsx(yt,{path:"/en/*",element:f.jsx(Qx,{children:f.jsx(eb,{lang:"en"})})}),f.jsx(yt,{path:"/ml/*",element:f.jsx(Qx,{children:f.jsx(eb,{lang:"ml"})})})]})}function eb({lang:n}){return f.jsx(hb,{children:f.jsxs(yt,{element:f.jsx(rz,{lang:n}),children:[f.jsx(yt,{path:"home",element:f.jsx(cL,{lang:n})}),f.jsx(yt,{path:"map",element:f.jsx(PL,{lang:n})}),f.jsx(yt,{path:"add-spot",element:f.jsx(fL,{lang:n})}),f.jsx(yt,{path:"club-leaderboard",element:f.jsx(L4,{lang:n})}),f.jsx(yt,{path:"leaderboard",element:f.jsx(R4,{lang:n})}),f.jsx(yt,{path:"explore",element:f.jsx(Y4,{lang:n})}),f.jsx(yt,{path:"community",element:f.jsx(A4,{lang:n})}),f.jsx(yt,{path:"favorites",element:f.jsx(H4,{lang:n})}),f.jsx(yt,{path:"profile",element:f.jsx(dL,{lang:n})}),f.jsx(yt,{path:"profile/favorites",element:f.jsx($4,{lang:n})}),f.jsx(yt,{path:"profile/reviews",element:f.jsx(Z4,{lang:n})}),f.jsx(yt,{path:"profile/added",element:f.jsx(G4,{lang:n})}),f.jsx(yt,{path:"settings",element:f.jsx(hL,{lang:n})}),f.jsx(yt,{path:"privacy-policy",element:f.jsx(q4,{lang:n})}),f.jsx(yt,{path:"contact-admin",element:f.jsx(F4,{lang:n})}),f.jsx(yt,{path:"directions/:id",element:f.jsx(W4,{lang:n})}),f.jsx(yt,{path:"spot/:id",element:f.jsx(I4,{lang:n})}),f.jsx(yt,{path:"edit-spot/:id",element:f.jsx(V4,{lang:n})}),f.jsx(yt,{path:"admin",element:f.jsx(P4,{})})]})})}console.log("Chai.in v1.0.1 Loaded at "+new Date().toISOString());lT.createRoot(document.getElementById("root")).render(f.jsx(ps.StrictMode,{children:f.jsx(EE,{children:f.jsx(ZC,{children:f.jsx(az,{})})})}));
