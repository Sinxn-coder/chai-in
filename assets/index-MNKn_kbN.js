function LT(n,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in n)){const h=Object.getOwnPropertyDescriptor(a,l);h&&Object.defineProperty(n,l,h.get?h:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=r(l);fetch(l.href,h)}})();function Wh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function gu(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var r=function a(){var l=!1;try{l=this instanceof a}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var l=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:function(){return n[a]}})}),r}var lp={exports:{}},Fl={};var j0;function PT(){if(j0)return Fl;j0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var m in l)m!=="key"&&(h[m]=l[m])}else h=l;return l=h.ref,{$$typeof:n,type:a,key:d,ref:l!==void 0?l:null,props:h}}return Fl.Fragment=e,Fl.jsx=r,Fl.jsxs=r,Fl}var R0;function DT(){return R0||(R0=1,lp.exports=PT()),lp.exports}var y=DT(),up={exports:{}},Dt={};var k0;function zT(){if(k0)return Dt;k0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function C(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function z(P,X,ct){this.props=P,this.context=X,this.refs=k,this.updater=ct||O}z.prototype.isReactComponent={},z.prototype.setState=function(P,X){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,X,"setState")},z.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function B(){}B.prototype=z.prototype;function D(P,X,ct){this.props=P,this.context=X,this.refs=k,this.updater=ct||O}var V=D.prototype=new B;V.constructor=D,R(V,z.prototype),V.isPureReactComponent=!0;var F=Array.isArray;function G(){}var Q={H:null,A:null,T:null,S:null},dt=Object.prototype.hasOwnProperty;function vt(P,X,ct){var at=ct.ref;return{$$typeof:n,type:P,key:X,ref:at!==void 0?at:null,props:ct}}function ut(P,X){return vt(P.type,X,P.props)}function ht(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function ot(P){var X={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ct){return X[ct]})}var Ut=/\/+/g;function It(P,X){return typeof P=="object"&&P!==null&&P.key!=null?ot(""+P.key):X.toString(36)}function lt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(G,G):(P.status="pending",P.then(function(X){P.status==="pending"&&(P.status="fulfilled",P.value=X)},function(X){P.status==="pending"&&(P.status="rejected",P.reason=X)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function $(P,X,ct,at,mt){var gt=typeof P;(gt==="undefined"||gt==="boolean")&&(P=null);var Rt=!1;if(P===null)Rt=!0;else switch(gt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(P.$$typeof){case n:case e:Rt=!0;break;case b:return Rt=P._init,$(Rt(P._payload),X,ct,at,mt)}}if(Rt)return mt=mt(P),Rt=at===""?"."+It(P,0):at,F(mt)?(ct="",Rt!=null&&(ct=Rt.replace(Ut,"$&/")+"/"),$(mt,X,ct,"",function(Bi){return Bi})):mt!=null&&(ht(mt)&&(mt=ut(mt,ct+(mt.key==null||P&&P.key===mt.key?"":(""+mt.key).replace(Ut,"$&/")+"/")+Rt)),X.push(mt)),1;Rt=0;var Qt=at===""?".":at+":";if(F(P))for(var de=0;de<P.length;de++)at=P[de],gt=Qt+It(at,de),Rt+=$(at,X,ct,gt,mt);else if(de=C(P),typeof de=="function")for(P=de.call(P),de=0;!(at=P.next()).done;)at=at.value,gt=Qt+It(at,de++),Rt+=$(at,X,ct,gt,mt);else if(gt==="object"){if(typeof P.then=="function")return $(lt(P),X,ct,at,mt);throw X=String(P),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function it(P,X,ct){if(P==null)return P;var at=[],mt=0;return $(P,at,"","",function(gt){return X.call(ct,gt,mt++)}),at}function et(P){if(P._status===-1){var X=P._result;X=X(),X.then(function(ct){(P._status===0||P._status===-1)&&(P._status=1,P._result=ct)},function(ct){(P._status===0||P._status===-1)&&(P._status=2,P._result=ct)}),P._status===-1&&(P._status=0,P._result=X)}if(P._status===1)return P._result.default;throw P._result}var Lt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},pt={map:it,forEach:function(P,X,ct){it(P,function(){X.apply(this,arguments)},ct)},count:function(P){var X=0;return it(P,function(){X++}),X},toArray:function(P){return it(P,function(X){return X})||[]},only:function(P){if(!ht(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Dt.Activity=w,Dt.Children=pt,Dt.Component=z,Dt.Fragment=r,Dt.Profiler=l,Dt.PureComponent=D,Dt.StrictMode=a,Dt.Suspense=g,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Q.H.useMemoCache(P)}},Dt.cache=function(P){return function(){return P.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(P,X,ct){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var at=R({},P.props),mt=P.key;if(X!=null)for(gt in X.key!==void 0&&(mt=""+X.key),X)!dt.call(X,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&X.ref===void 0||(at[gt]=X[gt]);var gt=arguments.length-2;if(gt===1)at.children=ct;else if(1<gt){for(var Rt=Array(gt),Qt=0;Qt<gt;Qt++)Rt[Qt]=arguments[Qt+2];at.children=Rt}return vt(P.type,mt,at)},Dt.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:h,_context:P},P},Dt.createElement=function(P,X,ct){var at,mt={},gt=null;if(X!=null)for(at in X.key!==void 0&&(gt=""+X.key),X)dt.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(mt[at]=X[at]);var Rt=arguments.length-2;if(Rt===1)mt.children=ct;else if(1<Rt){for(var Qt=Array(Rt),de=0;de<Rt;de++)Qt[de]=arguments[de+2];mt.children=Qt}if(P&&P.defaultProps)for(at in Rt=P.defaultProps,Rt)mt[at]===void 0&&(mt[at]=Rt[at]);return vt(P,gt,mt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(P){return{$$typeof:m,render:P}},Dt.isValidElement=ht,Dt.lazy=function(P){return{$$typeof:b,_payload:{_status:-1,_result:P},_init:et}},Dt.memo=function(P,X){return{$$typeof:_,type:P,compare:X===void 0?null:X}},Dt.startTransition=function(P){var X=Q.T,ct={};Q.T=ct;try{var at=P(),mt=Q.S;mt!==null&&mt(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(G,Lt)}catch(gt){Lt(gt)}finally{X!==null&&ct.types!==null&&(X.types=ct.types),Q.T=X}},Dt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Dt.use=function(P){return Q.H.use(P)},Dt.useActionState=function(P,X,ct){return Q.H.useActionState(P,X,ct)},Dt.useCallback=function(P,X){return Q.H.useCallback(P,X)},Dt.useContext=function(P){return Q.H.useContext(P)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(P,X){return Q.H.useDeferredValue(P,X)},Dt.useEffect=function(P,X){return Q.H.useEffect(P,X)},Dt.useEffectEvent=function(P){return Q.H.useEffectEvent(P)},Dt.useId=function(){return Q.H.useId()},Dt.useImperativeHandle=function(P,X,ct){return Q.H.useImperativeHandle(P,X,ct)},Dt.useInsertionEffect=function(P,X){return Q.H.useInsertionEffect(P,X)},Dt.useLayoutEffect=function(P,X){return Q.H.useLayoutEffect(P,X)},Dt.useMemo=function(P,X){return Q.H.useMemo(P,X)},Dt.useOptimistic=function(P,X){return Q.H.useOptimistic(P,X)},Dt.useReducer=function(P,X,ct){return Q.H.useReducer(P,X,ct)},Dt.useRef=function(P){return Q.H.useRef(P)},Dt.useState=function(P){return Q.H.useState(P)},Dt.useSyncExternalStore=function(P,X,ct){return Q.H.useSyncExternalStore(P,X,ct)},Dt.useTransition=function(){return Q.H.useTransition()},Dt.version="19.2.1",Dt}var O0;function Rm(){return O0||(O0=1,up.exports=zT()),up.exports}var j=Rm();const ss=Wh(j);var cp={exports:{}},$l={},hp={exports:{}},dp={};var M0;function BT(){return M0||(M0=1,(function(n){function e($,it){var et=$.length;$.push(it);t:for(;0<et;){var Lt=et-1>>>1,pt=$[Lt];if(0<l(pt,it))$[Lt]=it,$[et]=pt,et=Lt;else break t}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var it=$[0],et=$.pop();if(et!==it){$[0]=et;t:for(var Lt=0,pt=$.length,P=pt>>>1;Lt<P;){var X=2*(Lt+1)-1,ct=$[X],at=X+1,mt=$[at];if(0>l(ct,et))at<pt&&0>l(mt,ct)?($[Lt]=mt,$[at]=et,Lt=at):($[Lt]=ct,$[X]=et,Lt=X);else if(at<pt&&0>l(mt,et))$[Lt]=mt,$[at]=et,Lt=at;else break t}}return it}function l($,it){var et=$.sortIndex-it.sortIndex;return et!==0?et:$.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var g=[],_=[],b=1,w=null,T=3,C=!1,O=!1,R=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V($){for(var it=r(_);it!==null;){if(it.callback===null)a(_);else if(it.startTime<=$)a(_),it.sortIndex=it.expirationTime,e(g,it);else break;it=r(_)}}function F($){if(R=!1,V($),!O)if(r(g)!==null)O=!0,G||(G=!0,ot());else{var it=r(_);it!==null&&lt(F,it.startTime-$)}}var G=!1,Q=-1,dt=5,vt=-1;function ut(){return k?!0:!(n.unstable_now()-vt<dt)}function ht(){if(k=!1,G){var $=n.unstable_now();vt=$;var it=!0;try{t:{O=!1,R&&(R=!1,B(Q),Q=-1),C=!0;var et=T;try{e:{for(V($),w=r(g);w!==null&&!(w.expirationTime>$&&ut());){var Lt=w.callback;if(typeof Lt=="function"){w.callback=null,T=w.priorityLevel;var pt=Lt(w.expirationTime<=$);if($=n.unstable_now(),typeof pt=="function"){w.callback=pt,V($),it=!0;break e}w===r(g)&&a(g),V($)}else a(g);w=r(g)}if(w!==null)it=!0;else{var P=r(_);P!==null&&lt(F,P.startTime-$),it=!1}}break t}finally{w=null,T=et,C=!1}it=void 0}}finally{it?ot():G=!1}}}var ot;if(typeof D=="function")ot=function(){D(ht)};else if(typeof MessageChannel<"u"){var Ut=new MessageChannel,It=Ut.port2;Ut.port1.onmessage=ht,ot=function(){It.postMessage(null)}}else ot=function(){z(ht,0)};function lt($,it){Q=z(function(){$(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):dt=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function($){switch(T){case 1:case 2:case 3:var it=3;break;default:it=T}var et=T;T=it;try{return $()}finally{T=et}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function($,it){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var et=T;T=$;try{return it()}finally{T=et}},n.unstable_scheduleCallback=function($,it,et){var Lt=n.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?Lt+et:Lt):et=Lt,$){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=et+pt,$={id:b++,callback:it,priorityLevel:$,startTime:et,expirationTime:pt,sortIndex:-1},et>Lt?($.sortIndex=et,e(_,$),r(g)===null&&$===r(_)&&(R?(B(Q),Q=-1):R=!0,lt(F,et-Lt))):($.sortIndex=pt,e(g,$),O||C||(O=!0,G||(G=!0,ot()))),$},n.unstable_shouldYield=ut,n.unstable_wrapCallback=function($){var it=T;return function(){var et=T;T=it;try{return $.apply(this,arguments)}finally{T=et}}}})(dp)),dp}var L0;function NT(){return L0||(L0=1,hp.exports=BT()),hp.exports}var fp={exports:{}},rn={};var P0;function UT(){if(P0)return rn;P0=1;var n=Rm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(g,_,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:g,containerInfo:_,implementation:b}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rn.createPortal=function(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(g,_,null,b)},rn.flushSync=function(g){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=b,a.d.f()}},rn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},rn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},rn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var b=_.as,w=m(b,_.crossOrigin),T=typeof _.integrity=="string"?_.integrity:void 0,C=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:C}):b==="script"&&a.d.X(g,{crossOrigin:w,integrity:T,fetchPriority:C,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},rn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=m(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},rn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,w=m(b,_.crossOrigin);a.d.L(g,b,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},rn.preloadModule=function(g,_){if(typeof g=="string")if(_){var b=m(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},rn.requestFormReset=function(g){a.d.r(g)},rn.unstable_batchedUpdates=function(g,_){return g(_)},rn.useFormState=function(g,_,b){return d.H.useFormState(g,_,b)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.1",rn}var D0;function Vx(){if(D0)return fp.exports;D0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fp.exports=UT(),fp.exports}var z0;function IT(){if(z0)return $l;z0=1;var n=NT(),e=Rm(),r=Vx();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var i=t.alternate;if(!i){if(i=h(t),i===null)throw Error(a(188));return i!==t?null:t}for(var o=t,c=i;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return g(p),t;if(v===c)return g(p),i;v=v.sibling}throw Error(a(188))}if(o.return!==c.return)o=p,c=v;else{for(var E=!1,M=p.child;M;){if(M===o){E=!0,o=p,c=v;break}if(M===c){E=!0,c=p,o=v;break}M=M.sibling}if(!E){for(M=v.child;M;){if(M===o){E=!0,o=v,c=p;break}if(M===c){E=!0,c=v,o=p;break}M=M.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),vt=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function ot(t){return t===null||typeof t!="object"?null:(t=ht&&t[ht]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Symbol.for("react.client.reference");function It(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ut?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList";case vt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case D:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case V:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return i=t.displayName||null,i!==null?i:It(t.type)||"Memo";case dt:i=t._payload,t=t._init;try{return It(t(i))}catch{}}return null}var lt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},Lt=[],pt=-1;function P(t){return{current:t}}function X(t){0>pt||(t.current=Lt[pt],Lt[pt]=null,pt--)}function ct(t,i){pt++,Lt[pt]=t.current,t.current=i}var at=P(null),mt=P(null),gt=P(null),Rt=P(null);function Qt(t,i){switch(ct(gt,i),ct(mt,t),ct(at,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Xv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Xv(i),t=Jv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(at),ct(at,t)}function de(){X(at),X(mt),X(gt)}function Bi(t){t.memoizedState!==null&&ct(Rt,t);var i=at.current,o=Jv(i,t.type);i!==o&&(ct(mt,t),ct(at,o))}function yr(t){mt.current===t&&(X(at),X(mt)),Rt.current===t&&(X(Rt),Il._currentValue=et)}var Ni,ya;function Ui(t){if(Ni===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ni=i&&i[1]||"",ya=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ni+t+ya}var va=!1;function _a(t,i){if(!t||va)return"";va=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(J){var Y=J}Reflect.construct(t,[],st)}else{try{st.call()}catch(J){Y=J}t.call(st.prototype)}}else{try{throw Error()}catch(J){Y=J}(st=t())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),E=v[0],M=v[1];if(E&&M){var U=E.split(`
`),Z=M.split(`
`);for(p=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(c===U.length||p===Z.length)for(c=U.length-1,p=Z.length-1;1<=c&&0<=p&&U[c]!==Z[p];)p--;for(;1<=c&&0<=p;c--,p--)if(U[c]!==Z[p]){if(c!==1||p!==1)do if(c--,p--,0>p||U[c]!==Z[p]){var tt=`
`+U[c].replace(" at new "," at ");return t.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",t.displayName)),tt}while(1<=c&&0<=p);break}}}finally{va=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Ui(o):""}function No(t,i){switch(t.tag){case 26:case 27:case 5:return Ui(t.type);case 16:return Ui("Lazy");case 13:return t.child!==i&&i!==null?Ui("Suspense Fallback"):Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return Ui("Activity");default:return""}}function hs(t){try{var i="",o=null;do i+=No(t,o),o=t,t=t.return;while(t);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Uo=Object.prototype.hasOwnProperty,xa=n.unstable_scheduleCallback,ds=n.unstable_cancelCallback,Ru=n.unstable_shouldYield,ku=n.unstable_requestPaint,on=n.unstable_now,ud=n.unstable_getCurrentPriorityLevel,ba=n.unstable_ImmediatePriority,Io=n.unstable_UserBlockingPriority,fs=n.unstable_NormalPriority,cd=n.unstable_LowPriority,Vo=n.unstable_IdlePriority,Ou=n.log,hd=n.unstable_setDisableYieldValue,vr=null,Ze=null;function ei(t){if(typeof Ou=="function"&&hd(t),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(vr,t)}catch{}}var ln=Math.clz32?Math.clz32:fd,ps=Math.log,dd=Math.LN2;function fd(t){return t>>>=0,t===0?32:31-(ps(t)/dd|0)|0}var ms=256,gs=262144,ys=4194304;function Ii(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wa(t,i,o){var c=t.pendingLanes;if(c===0)return 0;var p=0,v=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var M=c&134217727;return M!==0?(c=M&~v,c!==0?p=Ii(c):(E&=M,E!==0?p=Ii(E):o||(o=M&~t,o!==0&&(p=Ii(o))))):(M=c&~v,M!==0?p=Ii(M):E!==0?p=Ii(E):o||(o=c&~t,o!==0&&(p=Ii(o)))),p===0?0:i!==0&&i!==p&&(i&v)===0&&(v=p&-p,o=i&-i,v>=o||v===32&&(o&4194048)!==0)?i:p}function vs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var t=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),t}function Ho(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function Vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function md(t,i,o,c,p,v){var E=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var M=t.entanglements,U=t.expirationTimes,Z=t.hiddenUpdates;for(o=E&~o;0<o;){var tt=31-ln(o),st=1<<tt;M[tt]=0,U[tt]=-1;var Y=Z[tt];if(Y!==null)for(Z[tt]=null,tt=0;tt<Y.length;tt++){var J=Y[tt];J!==null&&(J.lane&=-536870913)}o&=~st}c!==0&&Lu(t,c,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(E&~i))}function Lu(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-ln(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|o&261930}function Pu(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var c=31-ln(o),p=1<<c;p&i|t[c]&i&&(t[c]|=i),o&=~p}}function Du(t,i){var o=i&-i;return o=(o&42)!==0?1:fn(o),(o&(t.suspendedLanes|i))!==0?0:o}function fn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qo(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:b0(t.type))}function Fo(t,i){var o=it.p;try{return it.p=t,i()}finally{it.p=o}}var ni=Math.random().toString(36).slice(2),Re="__reactFiber$"+ni,qe="__reactProps$"+ni,Hi="__reactContainer$"+ni,vi="__reactEvents$"+ni,zu="__reactListeners$"+ni,gd="__reactHandles$"+ni,Bu="__reactResources$"+ni,_s="__reactMarker$"+ni;function $o(t){delete t[Re],delete t[qe],delete t[vi],delete t[zu],delete t[gd]}function qi(t){var i=t[Re];if(i)return i;for(var o=t.parentNode;o;){if(i=o[Hi]||o[Re]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=s0(t);t!==null;){if(o=t[Re])return o;t=s0(t)}return i}t=o,o=t.parentNode}return null}function _r(t){if(t=t[Re]||t[Hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _i(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function xr(t){var i=t[Bu];return i||(i=t[Bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ke(t){t[_s]=!0}var Nu=new Set,Uu={};function Fi(t,i){xi(t,i),xi(t+"Capture",i)}function xi(t,i){for(Uu[t]=i,t=0;t<i.length;t++)Nu.add(i[t])}var xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Zo={};function bs(t){return Uo.call(Zo,t)?!0:Uo.call(Wo,t)?!1:xs.test(t)?Zo[t]=!0:(Wo[t]=!0,!1)}function Vt(t,i,o){if(bs(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function ie(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function pn(t,i,o,c){if(c===null)t.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+c)}}function Ne(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $i(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Go(t,i,o){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){o=""+E,v.call(this,E)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Pt(t){if(!t._valueTracker){var i=$i(t)?"checked":"value";t._valueTracker=Go(t,i,""+t[i])}}function fe(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return t&&(c=$i(t)?t.checked?"true":"false":t.value),t=c,t!==o?(i.setValue(t),!0):!1}function br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sa=/[\n"\\]/g;function ce(t){return t.replace(Sa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ko(t,i,o,c,p,v,E,M){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ne(i)):t.value!==""+Ne(i)&&(t.value=""+Ne(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?ii(t,E,Ne(i)):o!=null?ii(t,E,Ne(o)):c!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Ne(M):t.removeAttribute("name")}function ws(t,i,o,c,p,v,E,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),i!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){Pt(t);return}o=o!=null?""+Ne(o):"",i=i!=null?""+Ne(i):o,M||i===t.value||(t.value=i),t.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=M?t.checked:!!c,t.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),Pt(t)}function ii(t,i,o){i==="number"&&br(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function oe(t,i,o,c){if(t=t.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<t.length;o++)p=i.hasOwnProperty("$"+t[o].value),t[o].selected!==p&&(t[o].selected=p),p&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Ne(o),i=null,p=0;p<t.length;p++){if(t[p].value===o){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function bi(t,i,o){if(i!=null&&(i=""+Ne(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+Ne(o):""}function wr(t,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(lt(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Ne(i),t.defaultValue=o,c=t.textContent,c===o&&c!==""&&c!==null&&(t.value=c),Pt(t)}function Un(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sr(t,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,o):typeof o!="number"||o===0||Yo.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function Ta(t,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&o[p]!==c&&Sr(t,p,c)}else for(var v in i)i.hasOwnProperty(v)&&Sr(t,v,i[v])}function Ss(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ea=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(t){return Xo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function mn(){}var Ca=null;function Ts(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Er=null,kt=null;function jn(t){var i=_r(t);if(i&&(t=i.stateNode)){var o=t[qe]||null;t:switch(t=i.stateNode,i.type){case"input":if(Ko(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ce(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==t&&c.form===t.form){var p=c[qe]||null;if(!p)throw Error(a(90));Ko(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===t.form&&fe(c)}break t;case"textarea":bi(t,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&oe(t,!!o.multiple,i,!1)}}}var te=!1;function Jo(t,i,o){if(te)return t(i,o);te=!0;try{var c=t(i);return c}finally{if(te=!1,(Er!==null||kt!==null)&&(Dc(),Er&&(i=Er,t=kt,kt=Er=null,jn(i),t)))for(i=0;i<t.length;i++)jn(t[i])}}function Wi(t,i){var o=t.stateNode;if(o===null)return null;var c=o[qe]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break t;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Rn)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Es=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Es=!1}var In=null,Zi=null,be=null;function wi(){if(be)return be;var t,i=Zi,o=i.length,c,p="value"in In?In.value:In.textContent,v=p.length;for(t=0;t<o&&i[t]===p[t];t++);var E=o-t;for(c=1;c<=E&&i[o-c]===p[v-c];c++);return be=p.slice(t,1<c?1-c:void 0)}function Cs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function As(){return!0}function Iu(){return!1}function Ge(t){function i(o,c,p,v,E){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(o=t[M],this[M]=o?o(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?As:Iu,this.isPropagationStopped=Iu,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),i}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Ge(ri),Cr=w({},ri,{view:0,detail:0}),$t=Ge(Cr),Qo,un,si,js=w({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(Qo=t.screenX-si.screenX,un=t.screenY-si.screenY):un=Qo=0,si=t),Qo)},movementY:function(t){return"movementY"in t?t.movementY:un}}),Vu=Ge(js),tl=w({},js,{dataTransfer:0}),yd=Ge(tl),Hu=w({},Cr,{relatedTarget:0}),el=Ge(Hu),vd=w({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),nl=Ge(vd),_d=w({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vn=Ge(_d),xd=w({},ri,{data:0}),il=Ge(xd),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fu[t])?!!i[t]:!1}function sl(){return rl}var $u=w({},Cr,{key:function(t){if(t.key){var i=Si[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sl,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wu=Ge($u),bd=w({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zu=Ge(bd),al=w({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sl}),wd=Ge(al),Gu=w({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=Ge(Gu),ja=w({},js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gi=Ge(ja),Sd=w({},ri,{newState:0,oldState:0}),Rs=Ge(Sd),gn=[9,13,27,32],Ra=Rn&&"CompositionEvent"in window,Ar=null;Rn&&"documentMode"in document&&(Ar=document.documentMode);var Td=Rn&&"TextEvent"in window&&!Ar,ka=Rn&&(!Ra||Ar&&8<Ar&&11>=Ar),Oa=" ",Yu=!1;function Xu(t,i){switch(t){case"keyup":return gn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ol(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jr=!1;function On(t,i){switch(t){case"compositionend":return ol(i);case"keypress":return i.which!==32?null:(Yu=!0,Oa);case"textInput":return t=i.data,t===Oa&&Yu?null:t;default:return null}}function Rr(t,i){if(jr)return t==="compositionend"||!Ra&&Xu(t,i)?(t=wi(),be=Zi=In=null,jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ka&&i.locale!=="ko"?null:i.data;default:return null}}var Ed={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ed[t.type]:i==="textarea"}function Ju(t,i,o,c){Er?kt?kt.push(c):kt=[c]:Er=c,i=Hc(i,"onChange"),0<i.length&&(o=new Aa("onChange","change",null,o,c),t.push({event:o,listeners:i}))}var qn=null,ks=null;function Os(t){$v(t,0)}function Ms(t){var i=_i(t);if(fe(i))return t}function Ls(t,i){if(t==="change")return i}var Qu=!1;if(Rn){var Fn;if(Rn){var kr="oninput"in document;if(!kr){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),kr=typeof tc.oninput=="function"}Fn=kr}else Fn=!1;Qu=Fn&&(!document.documentMode||9<document.documentMode)}function Ma(){qn&&(qn.detachEvent("onpropertychange",ec),ks=qn=null)}function ec(t){if(t.propertyName==="value"&&Ms(ks)){var i=[];Ju(i,ks,t,Ts(t)),Jo(Os,i)}}function ai(t,i,o){t==="focusin"?(Ma(),qn=i,ks=o,qn.attachEvent("onpropertychange",ec)):t==="focusout"&&Ma()}function Cd(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ms(ks)}function Or(t,i){if(t==="click")return Ms(i)}function Ad(t,i){if(t==="input"||t==="change")return Ms(i)}function oi(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Fe=typeof Object.is=="function"?Object.is:oi;function Mr(t,i){if(Fe(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Uo.call(i,p)||!Fe(t[p],i[p]))return!1}return!0}function La(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ps(t,i){var o=La(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=i&&c>=i)return{node:o,offset:i-t};t=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=La(o)}}function Pa(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Pa(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ds(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=br(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=br(t.document)}return i}function Ti(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Da=Rn&&"documentMode"in document&&11>=document.documentMode,Ei=null,za=null,zs=null,Lr=!1;function nc(t,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lr||Ei==null||Ei!==br(c)||(c=Ei,"selectionStart"in c&&Ti(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zs&&Mr(zs,c)||(zs=c,c=Hc(za,"onSelect"),0<c.length&&(i=new Aa("onSelect","select",null,i,o),t.push({event:i,listeners:c}),i.target=Ei)))}function Ci(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Pr={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},Ba={},ic={};Rn&&(ic=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function $e(t){if(Ba[t])return Ba[t];if(!Pr[t])return t;var i=Pr[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in ic)return Ba[t]=i[o];return t}var Bs=$e("animationend"),rc=$e("animationiteration"),Ns=$e("animationstart"),jd=$e("transitionrun"),sc=$e("transitionstart"),Rd=$e("transitioncancel"),Dr=$e("transitionend"),ac=new Map,Ai="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ai.push("scrollEnd");function yn(t,i){ac.set(t,i),Fi(i,[t])}var Us=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},vn=[],en=0,Na=0;function Is(){for(var t=en,i=Na=en=0;i<t;){var o=vn[i];vn[i++]=null;var c=vn[i];vn[i++]=null;var p=vn[i];vn[i++]=null;var v=vn[i];if(vn[i++]=null,c!==null&&p!==null){var E=c.pending;E===null?p.next=p:(p.next=E.next,E.next=p),c.pending=p}v!==0&&zr(o,p,v)}}function ji(t,i,o,c){vn[en++]=t,vn[en++]=i,vn[en++]=o,vn[en++]=c,Na|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function ll(t,i,o,c){return ji(t,i,o,c),Vs(t)}function $n(t,i){return ji(t,null,null,i),Vs(t)}function zr(t,i,o){t.lanes|=o;var c=t.alternate;c!==null&&(c.lanes|=o);for(var p=!1,v=t.return;v!==null;)v.childLanes|=o,c=v.alternate,c!==null&&(c.childLanes|=o),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&i!==null&&(p=31-ln(o),t=v.hiddenUpdates,c=t[p],c===null?t[p]=[i]:c.push(i),i.lane=o|536870912),v):null}function Vs(t){if(50<Ll)throw Ll=0,Mf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ki={};function kd(t,i,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,i,o,c){return new kd(t,i,o,c)}function Ua(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wn(t,i){var o=t.alternate;return o===null?(o=nn(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function ul(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Hs(t,i,o,c,p,v){var E=0;if(c=t,typeof t=="function")Ua(t)&&(E=1);else if(typeof t=="string")E=bT(t,o,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case vt:return t=nn(31,o,i,p),t.elementType=vt,t.lanes=v,t;case R:return Yi(o.children,p,v,i);case k:E=8,p|=24;break;case z:return t=nn(12,o,i,p|2),t.elementType=z,t.lanes=v,t;case F:return t=nn(13,o,i,p),t.elementType=F,t.lanes=v,t;case G:return t=nn(19,o,i,p),t.elementType=G,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:E=10;break t;case B:E=9;break t;case V:E=11;break t;case Q:E=14;break t;case dt:E=16,c=null;break t}E=29,o=Error(a(130,t===null?"null":typeof t,"")),c=null}return i=nn(E,o,i,p),i.elementType=t,i.type=c,i.lanes=v,i}function Yi(t,i,o,c){return t=nn(7,t,c,i),t.lanes=o,t}function Ia(t,i,o){return t=nn(6,t,null,i),t.lanes=o,t}function cl(t){var i=nn(18,null,null,0);return i.stateNode=t,i}function hl(t,i,o){return i=nn(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var s=new WeakMap;function u(t,i){if(typeof t=="object"&&t!==null){var o=s.get(t);return o!==void 0?o:(i={value:t,source:i,stack:hs(i)},s.set(t,i),i)}return{value:t,source:i,stack:hs(i)}}var f=[],x=0,S=null,A=0,N=[],q=0,K=null,rt=1,yt="";function Tt(t,i){f[x++]=A,f[x++]=S,S=t,A=i}function Bt(t,i,o){N[q++]=rt,N[q++]=yt,N[q++]=K,K=t;var c=rt;t=yt;var p=32-ln(c)-1;c&=~(1<<p),o+=1;var v=32-ln(i)+p;if(30<v){var E=p-p%5;v=(c&(1<<E)-1).toString(32),c>>=E,p-=E,rt=1<<32-ln(i)+p|o<<p|c,yt=v+t}else rt=1<<v|o<<p|c,yt=t}function Ue(t){t.return!==null&&(Tt(t,1),Bt(t,1,0))}function we(t){for(;t===S;)S=f[--x],f[x]=null,A=f[--x],f[x]=null;for(;t===K;)K=N[--q],N[q]=null,yt=N[--q],N[q]=null,rt=N[--q],N[q]=null}function cn(t,i){N[q++]=rt,N[q++]=yt,N[q++]=K,rt=i.id,yt=i.overflow,K=t}var Gt=null,Kt=null,Ht=!1,Ri=null,_n=!1,Va=Error(a(519));function ki(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qs(u(i,t)),Va}function dl(t){var i=t.stateNode,o=t.type,c=t.memoizedProps;switch(i[Re]=t,i[qe]=c,o){case"dialog":Ft("cancel",i),Ft("close",i);break;case"iframe":case"object":case"embed":Ft("load",i);break;case"video":case"audio":for(o=0;o<Dl.length;o++)Ft(Dl[o],i);break;case"source":Ft("error",i);break;case"img":case"image":case"link":Ft("error",i),Ft("load",i);break;case"details":Ft("toggle",i);break;case"input":Ft("invalid",i),ws(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ft("invalid",i);break;case"textarea":Ft("invalid",i),wr(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Kv(i.textContent,o)?(c.popover!=null&&(Ft("beforetoggle",i),Ft("toggle",i)),c.onScroll!=null&&Ft("scroll",i),c.onScrollEnd!=null&&Ft("scrollend",i),c.onClick!=null&&(i.onclick=mn),i=!0):i=!1,i||ki(t,!0)}function ve(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Gt=Gt.return}}function li(t){if(t!==Gt)return!1;if(!Ht)return ve(t),Ht=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Zf(t.type,t.memoizedProps)),o=!o),o&&Kt&&ki(t),ve(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Kt=r0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Kt=r0(t)}else i===27?(i=Kt,Yr(t.type)?(t=Jf,Jf=null,Kt=t):Kt=i):Kt=Gt?Gn(t.stateNode.nextSibling):null;return!0}function Xi(){Kt=Gt=null,Ht=!1}function fl(){var t=Ri;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Ri=null),t}function qs(t){Ri===null?Ri=[t]:Ri.push(t)}var Fs=P(null),Oi=null,ui=null;function Br(t,i,o){ct(Fs,i._currentValue),i._currentValue=o}function Ji(t){t._currentValue=Fs.current,X(Fs)}function Od(t,i,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===o)break;t=t.return}}function Md(t,i,o,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var E=p.child;v=v.firstContext;t:for(;v!==null;){var M=v;v=p;for(var U=0;U<i.length;U++)if(M.context===i[U]){v.lanes|=o,M=v.alternate,M!==null&&(M.lanes|=o),Od(v.return,o,t),c||(E=null);break t}v=M.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(a(341));E.lanes|=o,v=E.alternate,v!==null&&(v.lanes|=o),Od(E,o,t),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===t){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Ha(t,i,o,c){t=null;for(var p=i,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var M=p.type;Fe(p.pendingProps.value,E.value)||(t!==null?t.push(M):t=[M])}}else if(p===Rt.current){if(E=p.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}p=p.return}t!==null&&Md(i,t,o,c),i.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!Fe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Oi=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ke(t){return Pg(Oi,t)}function lc(t,i){return Oi===null&&$s(t),Pg(t,i)}function Pg(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ui===null){if(t===null)throw Error(a(308));ui=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ui=ui.next=i;return o}var yS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},vS=n.unstable_scheduleCallback,_S=n.unstable_NormalPriority,Oe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new yS,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&vS(_S,function(){t.controller.abort()})}var ml=null,Pd=0,qa=0,Fa=null;function xS(t,i){if(ml===null){var o=ml=[];Pd=0,qa=Nf(),Fa={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Pd++,i.then(Dg,Dg),i}function Dg(){if(--Pd===0&&ml!==null){Fa!==null&&(Fa.status="fulfilled");var t=ml;ml=null,qa=0,Fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function bS(t,i){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var zg=$.S;$.S=function(t,i){_v=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&xS(t,i),zg!==null&&zg(t,i)};var Ws=P(null);function Dd(){var t=Ws.current;return t!==null?t:le.pooledCache}function uc(t,i){i===null?ct(Ws,Ws.current):ct(Ws,i.pool)}function Bg(){var t=Dd();return t===null?null:{parent:Oe._currentValue,pool:t}}var $a=Error(a(460)),zd=Error(a(474)),cc=Error(a(542)),hc={then:function(){}};function Ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ug(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(mn,mn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vg(t),t;default:if(typeof i.status=="string")i.then(mn,mn);else{if(t=le,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vg(t),t}throw Gs=i,$a}}function Zs(t){try{var i=t._init;return i(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Gs=o,$a):o}}var Gs=null;function Ig(){if(Gs===null)throw Error(a(459));var t=Gs;return Gs=null,t}function Vg(t){if(t===$a||t===cc)throw Error(a(483))}var Wa=null,gl=0;function dc(t){var i=gl;return gl+=1,Wa===null&&(Wa=[]),Ug(Wa,t,i)}function yl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===T?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hg(t){function i(H,I){if(t){var W=H.deletions;W===null?(H.deletions=[I],H.flags|=16):W.push(I)}}function o(H,I){if(!t)return null;for(;I!==null;)i(H,I),I=I.sibling;return null}function c(H){for(var I=new Map;H!==null;)H.key!==null?I.set(H.key,H):I.set(H.index,H),H=H.sibling;return I}function p(H,I){return H=Wn(H,I),H.index=0,H.sibling=null,H}function v(H,I,W){return H.index=W,t?(W=H.alternate,W!==null?(W=W.index,W<I?(H.flags|=67108866,I):W):(H.flags|=67108866,I)):(H.flags|=1048576,I)}function E(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function M(H,I,W,nt){return I===null||I.tag!==6?(I=Ia(W,H.mode,nt),I.return=H,I):(I=p(I,W),I.return=H,I)}function U(H,I,W,nt){var Et=W.type;return Et===R?tt(H,I,W.props.children,nt,W.key):I!==null&&(I.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===dt&&Zs(Et)===I.type)?(I=p(I,W.props),yl(I,W),I.return=H,I):(I=Hs(W.type,W.key,W.props,null,H.mode,nt),yl(I,W),I.return=H,I)}function Z(H,I,W,nt){return I===null||I.tag!==4||I.stateNode.containerInfo!==W.containerInfo||I.stateNode.implementation!==W.implementation?(I=hl(W,H.mode,nt),I.return=H,I):(I=p(I,W.children||[]),I.return=H,I)}function tt(H,I,W,nt,Et){return I===null||I.tag!==7?(I=Yi(W,H.mode,nt,Et),I.return=H,I):(I=p(I,W),I.return=H,I)}function st(H,I,W){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Ia(""+I,H.mode,W),I.return=H,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return W=Hs(I.type,I.key,I.props,null,H.mode,W),yl(W,I),W.return=H,W;case O:return I=hl(I,H.mode,W),I.return=H,I;case dt:return I=Zs(I),st(H,I,W)}if(lt(I)||ot(I))return I=Yi(I,H.mode,W,null),I.return=H,I;if(typeof I.then=="function")return st(H,dc(I),W);if(I.$$typeof===D)return st(H,lc(H,I),W);fc(H,I)}return null}function Y(H,I,W,nt){var Et=I!==null?I.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Et!==null?null:M(H,I,""+W,nt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case C:return W.key===Et?U(H,I,W,nt):null;case O:return W.key===Et?Z(H,I,W,nt):null;case dt:return W=Zs(W),Y(H,I,W,nt)}if(lt(W)||ot(W))return Et!==null?null:tt(H,I,W,nt,null);if(typeof W.then=="function")return Y(H,I,dc(W),nt);if(W.$$typeof===D)return Y(H,I,lc(H,W),nt);fc(H,W)}return null}function J(H,I,W,nt,Et){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return H=H.get(W)||null,M(I,H,""+nt,Et);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case C:return H=H.get(nt.key===null?W:nt.key)||null,U(I,H,nt,Et);case O:return H=H.get(nt.key===null?W:nt.key)||null,Z(I,H,nt,Et);case dt:return nt=Zs(nt),J(H,I,W,nt,Et)}if(lt(nt)||ot(nt))return H=H.get(W)||null,tt(I,H,nt,Et,null);if(typeof nt.then=="function")return J(H,I,W,dc(nt),Et);if(nt.$$typeof===D)return J(H,I,W,lc(I,nt),Et);fc(I,nt)}return null}function xt(H,I,W,nt){for(var Et=null,Yt=null,bt=I,Nt=I=0,Zt=null;bt!==null&&Nt<W.length;Nt++){bt.index>Nt?(Zt=bt,bt=null):Zt=bt.sibling;var Xt=Y(H,bt,W[Nt],nt);if(Xt===null){bt===null&&(bt=Zt);break}t&&bt&&Xt.alternate===null&&i(H,bt),I=v(Xt,I,Nt),Yt===null?Et=Xt:Yt.sibling=Xt,Yt=Xt,bt=Zt}if(Nt===W.length)return o(H,bt),Ht&&Tt(H,Nt),Et;if(bt===null){for(;Nt<W.length;Nt++)bt=st(H,W[Nt],nt),bt!==null&&(I=v(bt,I,Nt),Yt===null?Et=bt:Yt.sibling=bt,Yt=bt);return Ht&&Tt(H,Nt),Et}for(bt=c(bt);Nt<W.length;Nt++)Zt=J(bt,H,Nt,W[Nt],nt),Zt!==null&&(t&&Zt.alternate!==null&&bt.delete(Zt.key===null?Nt:Zt.key),I=v(Zt,I,Nt),Yt===null?Et=Zt:Yt.sibling=Zt,Yt=Zt);return t&&bt.forEach(function(es){return i(H,es)}),Ht&&Tt(H,Nt),Et}function At(H,I,W,nt){if(W==null)throw Error(a(151));for(var Et=null,Yt=null,bt=I,Nt=I=0,Zt=null,Xt=W.next();bt!==null&&!Xt.done;Nt++,Xt=W.next()){bt.index>Nt?(Zt=bt,bt=null):Zt=bt.sibling;var es=Y(H,bt,Xt.value,nt);if(es===null){bt===null&&(bt=Zt);break}t&&bt&&es.alternate===null&&i(H,bt),I=v(es,I,Nt),Yt===null?Et=es:Yt.sibling=es,Yt=es,bt=Zt}if(Xt.done)return o(H,bt),Ht&&Tt(H,Nt),Et;if(bt===null){for(;!Xt.done;Nt++,Xt=W.next())Xt=st(H,Xt.value,nt),Xt!==null&&(I=v(Xt,I,Nt),Yt===null?Et=Xt:Yt.sibling=Xt,Yt=Xt);return Ht&&Tt(H,Nt),Et}for(bt=c(bt);!Xt.done;Nt++,Xt=W.next())Xt=J(bt,H,Nt,Xt.value,nt),Xt!==null&&(t&&Xt.alternate!==null&&bt.delete(Xt.key===null?Nt:Xt.key),I=v(Xt,I,Nt),Yt===null?Et=Xt:Yt.sibling=Xt,Yt=Xt);return t&&bt.forEach(function(MT){return i(H,MT)}),Ht&&Tt(H,Nt),Et}function ae(H,I,W,nt){if(typeof W=="object"&&W!==null&&W.type===R&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case C:t:{for(var Et=W.key;I!==null;){if(I.key===Et){if(Et=W.type,Et===R){if(I.tag===7){o(H,I.sibling),nt=p(I,W.props.children),nt.return=H,H=nt;break t}}else if(I.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===dt&&Zs(Et)===I.type){o(H,I.sibling),nt=p(I,W.props),yl(nt,W),nt.return=H,H=nt;break t}o(H,I);break}else i(H,I);I=I.sibling}W.type===R?(nt=Yi(W.props.children,H.mode,nt,W.key),nt.return=H,H=nt):(nt=Hs(W.type,W.key,W.props,null,H.mode,nt),yl(nt,W),nt.return=H,H=nt)}return E(H);case O:t:{for(Et=W.key;I!==null;){if(I.key===Et)if(I.tag===4&&I.stateNode.containerInfo===W.containerInfo&&I.stateNode.implementation===W.implementation){o(H,I.sibling),nt=p(I,W.children||[]),nt.return=H,H=nt;break t}else{o(H,I);break}else i(H,I);I=I.sibling}nt=hl(W,H.mode,nt),nt.return=H,H=nt}return E(H);case dt:return W=Zs(W),ae(H,I,W,nt)}if(lt(W))return xt(H,I,W,nt);if(ot(W)){if(Et=ot(W),typeof Et!="function")throw Error(a(150));return W=Et.call(W),At(H,I,W,nt)}if(typeof W.then=="function")return ae(H,I,dc(W),nt);if(W.$$typeof===D)return ae(H,I,lc(H,W),nt);fc(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,I!==null&&I.tag===6?(o(H,I.sibling),nt=p(I,W),nt.return=H,H=nt):(o(H,I),nt=Ia(W,H.mode,nt),nt.return=H,H=nt),E(H)):o(H,I)}return function(H,I,W,nt){try{gl=0;var Et=ae(H,I,W,nt);return Wa=null,Et}catch(bt){if(bt===$a||bt===cc)throw bt;var Yt=nn(29,bt,null,H.mode);return Yt.lanes=nt,Yt.return=H,Yt}finally{}}}var Ks=Hg(!0),qg=Hg(!1),Nr=!1;function Bd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Jt&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Vs(t),zr(t,null,o),i}return ji(t,c,i,o),Vs(t)}function vl(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,o|=c,i.lanes=o,Pu(t,o)}}function Ud(t,i){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=E:v=v.next=E,o=o.next}while(o!==null);v===null?p=v=i:v=v.next=i}else p=v=i;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Id=!1;function _l(){if(Id){var t=Fa;if(t!==null)throw t}}function xl(t,i,o,c){Id=!1;var p=t.updateQueue;Nr=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var U=M,Z=U.next;U.next=null,E===null?v=Z:E.next=Z,E=U;var tt=t.alternate;tt!==null&&(tt=tt.updateQueue,M=tt.lastBaseUpdate,M!==E&&(M===null?tt.firstBaseUpdate=Z:M.next=Z,tt.lastBaseUpdate=U))}if(v!==null){var st=p.baseState;E=0,tt=Z=U=null,M=v;do{var Y=M.lane&-536870913,J=Y!==M.lane;if(J?(Wt&Y)===Y:(c&Y)===Y){Y!==0&&Y===qa&&(Id=!0),tt!==null&&(tt=tt.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var xt=t,At=M;Y=i;var ae=o;switch(At.tag){case 1:if(xt=At.payload,typeof xt=="function"){st=xt.call(ae,st,Y);break t}st=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=At.payload,Y=typeof xt=="function"?xt.call(ae,st,Y):xt,Y==null)break t;st=w({},st,Y);break t;case 2:Nr=!0}}Y=M.callback,Y!==null&&(t.flags|=64,J&&(t.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:M.tag,payload:M.payload,callback:M.callback,next:null},tt===null?(Z=tt=J,U=st):tt=tt.next=J,E|=Y;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;J=M,M=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);tt===null&&(U=st),p.baseState=U,p.firstBaseUpdate=Z,p.lastBaseUpdate=tt,v===null&&(p.shared.lanes=0),$r|=E,t.lanes=E,t.memoizedState=st}}function Fg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function $g(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Fg(o[t],i)}var Za=P(null),pc=P(0);function Wg(t,i){t=or,ct(pc,t),ct(Za,i),or=t|i.baseLanes}function Vd(){ct(pc,or),ct(Za,Za.current)}function Hd(){or=pc.current,X(Za),X(pc)}var Mn=P(null),Zn=null;function Vr(t){var i=t.alternate;ct(Ce,Ce.current&1),ct(Mn,t),Zn===null&&(i===null||Za.current!==null||i.memoizedState!==null)&&(Zn=t)}function qd(t){ct(Ce,Ce.current),ct(Mn,t),Zn===null&&(Zn=t)}function Zg(t){t.tag===22?(ct(Ce,Ce.current),ct(Mn,t),Zn===null&&(Zn=t)):Hr()}function Hr(){ct(Ce,Ce.current),ct(Mn,Mn.current)}function Ln(t){X(Mn),Zn===t&&(Zn=null),X(Ce)}var Ce=P(0);function mc(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Yf(o)||Xf(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,zt=null,re=null,Me=null,gc=!1,Ga=!1,Ys=!1,yc=0,bl=0,Ka=null,wS=0;function Se(){throw Error(a(321))}function Fd(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Fe(t[o],i[o]))return!1;return!0}function $d(t,i,o,c,p,v){return Qi=v,zt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?ky:of,Ys=!1,v=o(c,p),Ys=!1,Ga&&(v=Kg(i,o,c,p)),Gg(t),v}function Gg(t){$.H=Tl;var i=re!==null&&re.next!==null;if(Qi=0,Me=re=zt=null,gc=!1,bl=0,Ka=null,i)throw Error(a(300));t===null||Le||(t=t.dependencies,t!==null&&oc(t)&&(Le=!0))}function Kg(t,i,o,c){zt=t;var p=0;do{if(Ga&&(Ka=null),bl=0,Ga=!1,25<=p)throw Error(a(301));if(p+=1,Me=re=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}$.H=Oy,v=i(o,c)}while(Ga);return v}function SS(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?wl(i):i,t=t.useState()[0],(re!==null?re.memoizedState:null)!==t&&(zt.flags|=1024),i}function Wd(){var t=yc!==0;return yc=0,t}function Zd(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function Gd(t){if(gc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gc=!1}Qi=0,Me=re=zt=null,Ga=!1,bl=yc=0,Ka=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?zt.memoizedState=Me=t:Me=Me.next=t,Me}function Ae(){if(re===null){var t=zt.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var i=Me===null?zt.memoizedState:Me.next;if(i!==null)Me=i,re=t;else{if(t===null)throw zt.alternate===null?Error(a(467)):Error(a(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Me===null?zt.memoizedState=Me=t:Me=Me.next=t}return Me}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var i=bl;return bl+=1,Ka===null&&(Ka=[]),t=Ug(Ka,t,i),i=zt,(Me===null?i.memoizedState:Me.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?ky:of),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===D)return Ke(t)}throw Error(a(438,String(t)))}function Kd(t){var i=null,o=zt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=vc(),zt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),c=0;c<t;c++)o[c]=ut;return i.index++,o}function tr(t,i){return typeof i=="function"?i(t):i}function xc(t){var i=Ae();return Yd(i,re,t)}function Yd(t,i,o){var c=t.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var p=t.baseQueue,v=c.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}i.baseQueue=p=v,c.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{i=p.next;var M=E=null,U=null,Z=i,tt=!1;do{var st=Z.lane&-536870913;if(st!==Z.lane?(Wt&st)===st:(Qi&st)===st){var Y=Z.revertLane;if(Y===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),st===qa&&(tt=!0);else if((Qi&Y)===Y){Z=Z.next,Y===qa&&(tt=!0);continue}else st={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(M=U=st,E=v):U=U.next=st,zt.lanes|=Y,$r|=Y;st=Z.action,Ys&&o(v,st),v=Z.hasEagerState?Z.eagerState:o(v,st)}else Y={lane:st,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(M=U=Y,E=v):U=U.next=Y,zt.lanes|=st,$r|=st;Z=Z.next}while(Z!==null&&Z!==i);if(U===null?E=v:U.next=M,!Fe(v,t.memoizedState)&&(Le=!0,tt&&(o=Fa,o!==null)))throw o;t.memoizedState=v,t.baseState=E,t.baseQueue=U,c.lastRenderedState=v}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Xd(t){var i=Ae(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var c=o.dispatch,p=o.pending,v=i.memoizedState;if(p!==null){o.pending=null;var E=p=p.next;do v=t(v,E.action),E=E.next;while(E!==p);Fe(v,i.memoizedState)||(Le=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),o.lastRenderedState=v}return[v,c]}function Yg(t,i,o){var c=zt,p=Ae(),v=Ht;if(v){if(o===void 0)throw Error(a(407));o=o()}else o=i();var E=!Fe((re||p).memoizedState,o);if(E&&(p.memoizedState=o,Le=!0),p=p.queue,tf(Qg.bind(null,c,p,t),[t]),p.getSnapshot!==i||E||Me!==null&&Me.memoizedState.tag&1){if(c.flags|=2048,Ya(9,{destroy:void 0},Jg.bind(null,c,p,o,i),null),le===null)throw Error(a(349));v||(Qi&127)!==0||Xg(c,i,o)}return o}function Xg(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=zt.updateQueue,i===null?(i=vc(),zt.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function Jg(t,i,o,c){i.value=o,i.getSnapshot=c,ty(i)&&ey(t)}function Qg(t,i,o){return o(function(){ty(i)&&ey(t)})}function ty(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Fe(t,o)}catch{return!0}}function ey(t){var i=$n(t,2);i!==null&&Tn(i,t,2)}function Jd(t){var i=hn();if(typeof t=="function"){var o=t;if(t=o(),Ys){ei(!0);try{o()}finally{ei(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:t},i}function ny(t,i,o,c){return t.baseState=o,Yd(t,re,typeof c=="function"?c:tr)}function TS(t,i,o,c,p){if(Sc(t))throw Error(a(485));if(t=i.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};$.T!==null?o(!0):v.isTransition=!1,c(v),o=i.pending,o===null?(v.next=i.pending=v,iy(i,v)):(v.next=o.next,i.pending=o.next=v)}}function iy(t,i){var o=i.action,c=i.payload,p=t.state;if(i.isTransition){var v=$.T,E={};$.T=E;try{var M=o(p,c),U=$.S;U!==null&&U(E,M),ry(t,i,M)}catch(Z){Qd(t,i,Z)}finally{v!==null&&E.types!==null&&(v.types=E.types),$.T=v}}else try{v=o(p,c),ry(t,i,v)}catch(Z){Qd(t,i,Z)}}function ry(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){sy(t,i,c)},function(c){return Qd(t,i,c)}):sy(t,i,o)}function sy(t,i,o){i.status="fulfilled",i.value=o,ay(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,iy(t,o)))}function Qd(t,i,o){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,ay(i),i=i.next;while(i!==c)}t.action=null}function ay(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function oy(t,i){return i}function ly(t,i){if(Ht){var o=le.formState;if(o!==null){t:{var c=zt;if(Ht){if(Kt){e:{for(var p=Kt,v=_n;p.nodeType!==8;){if(!v){p=null;break e}if(p=Gn(p.nextSibling),p===null){p=null;break e}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Kt=Gn(p.nextSibling),c=p.data==="F!";break t}}ki(c)}c=!1}c&&(i=o[0])}}return o=hn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:i},o.queue=c,o=Ay.bind(null,zt,c),c.dispatch=o,c=Jd(!1),v=af.bind(null,zt,!1,c.queue),c=hn(),p={state:i,dispatch:null,action:t,pending:null},c.queue=p,o=TS.bind(null,zt,p,v,o),p.dispatch=o,c.memoizedState=t,[i,o,!1]}function uy(t){var i=Ae();return cy(i,re,t)}function cy(t,i,o){if(i=Yd(t,i,oy)[0],t=xc(tr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=wl(i)}catch(E){throw E===$a?cc:E}else c=i;i=Ae();var p=i.queue,v=p.dispatch;return o!==i.memoizedState&&(zt.flags|=2048,Ya(9,{destroy:void 0},ES.bind(null,p,o),null)),[c,v,t]}function ES(t,i){t.action=i}function hy(t){var i=Ae(),o=re;if(o!==null)return cy(i,o,t);Ae(),i=i.memoizedState,o=Ae();var c=o.queue.dispatch;return o.memoizedState=t,[i,c,!1]}function Ya(t,i,o,c){return t={tag:t,create:o,deps:c,inst:i,next:null},i=zt.updateQueue,i===null&&(i=vc(),zt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,i.lastEffect=t),t}function dy(){return Ae().memoizedState}function bc(t,i,o,c){var p=hn();zt.flags|=t,p.memoizedState=Ya(1|i,{destroy:void 0},o,c===void 0?null:c)}function wc(t,i,o,c){var p=Ae();c=c===void 0?null:c;var v=p.memoizedState.inst;re!==null&&c!==null&&Fd(c,re.memoizedState.deps)?p.memoizedState=Ya(i,v,o,c):(zt.flags|=t,p.memoizedState=Ya(1|i,v,o,c))}function fy(t,i){bc(8390656,8,t,i)}function tf(t,i){wc(2048,8,t,i)}function CS(t){zt.flags|=4;var i=zt.updateQueue;if(i===null)i=vc(),zt.updateQueue=i,i.events=[t];else{var o=i.events;o===null?i.events=[t]:o.push(t)}}function py(t){var i=Ae().memoizedState;return CS({ref:i,nextImpl:t}),function(){if((Jt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function my(t,i){return wc(4,2,t,i)}function gy(t,i){return wc(4,4,t,i)}function yy(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vy(t,i,o){o=o!=null?o.concat([t]):null,wc(4,4,yy.bind(null,i,t),o)}function ef(){}function _y(t,i){var o=Ae();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Fd(i,c[1])?c[0]:(o.memoizedState=[t,i],t)}function xy(t,i){var o=Ae();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Fd(i,c[1]))return c[0];if(c=t(),Ys){ei(!0);try{t()}finally{ei(!1)}}return o.memoizedState=[c,i],c}function nf(t,i,o){return o===void 0||(Qi&1073741824)!==0&&(Wt&261930)===0?t.memoizedState=i:(t.memoizedState=o,t=bv(),zt.lanes|=t,$r|=t,o)}function by(t,i,o,c){return Fe(o,i)?o:Za.current!==null?(t=nf(t,o,c),Fe(t,i)||(Le=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(Wt&261930)===0?(Le=!0,t.memoizedState=o):(t=bv(),zt.lanes|=t,$r|=t,i)}function wy(t,i,o,c,p){var v=it.p;it.p=v!==0&&8>v?v:8;var E=$.T,M={};$.T=M,af(t,!1,i,o);try{var U=p(),Z=$.S;if(Z!==null&&Z(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var tt=bS(U,c);Sl(t,i,tt,zn(t))}else Sl(t,i,c,zn(t))}catch(st){Sl(t,i,{then:function(){},status:"rejected",reason:st},zn())}finally{it.p=v,E!==null&&M.types!==null&&(E.types=M.types),$.T=E}}function AS(){}function rf(t,i,o,c){if(t.tag!==5)throw Error(a(476));var p=Sy(t).queue;wy(t,p,i,et,o===null?AS:function(){return Ty(t),o(c)})}function Sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:et},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ty(t){var i=Sy(t);i.next===null&&(i=t.alternate.memoizedState),Sl(t,i.next.queue,{},zn())}function sf(){return Ke(Il)}function Ey(){return Ae().memoizedState}function Cy(){return Ae().memoizedState}function jS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=zn();t=Ur(o);var c=Ir(i,t,o);c!==null&&(Tn(c,i,o),vl(c,i,o)),i={cache:Ld()},t.payload=i;return}i=i.return}}function RS(t,i,o){var c=zn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Sc(t)?jy(i,o):(o=ll(t,i,o,c),o!==null&&(Tn(o,t,c),Ry(o,i,c)))}function Ay(t,i,o){var c=zn();Sl(t,i,o,c)}function Sl(t,i,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))jy(i,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var E=i.lastRenderedState,M=v(E,o);if(p.hasEagerState=!0,p.eagerState=M,Fe(M,E))return ji(t,i,p,0),le===null&&Is(),!1}catch{}finally{}if(o=ll(t,i,p,c),o!==null)return Tn(o,t,c),Ry(o,i,c),!0}return!1}function af(t,i,o,c){if(c={lane:2,revertLane:Nf(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(i)throw Error(a(479))}else i=ll(t,o,c,2),i!==null&&Tn(i,t,2)}function Sc(t){var i=t.alternate;return t===zt||i!==null&&i===zt}function jy(t,i){Ga=gc=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Ry(t,i,o){if((o&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,o|=c,i.lanes=o,Pu(t,o)}}var Tl={readContext:Ke,use:_c,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};Tl.useEffectEvent=Se;var ky={readContext:Ke,use:_c,useCallback:function(t,i){return hn().memoizedState=[t,i===void 0?null:i],t},useContext:Ke,useEffect:fy,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,bc(4194308,4,yy.bind(null,i,t),o)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var o=hn();i=i===void 0?null:i;var c=t();if(Ys){ei(!0);try{t()}finally{ei(!1)}}return o.memoizedState=[c,i],c},useReducer:function(t,i,o){var c=hn();if(o!==void 0){var p=o(i);if(Ys){ei(!0);try{o(i)}finally{ei(!1)}}}else p=i;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=RS.bind(null,zt,t),[c.memoizedState,t]},useRef:function(t){var i=hn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jd(t);var i=t.queue,o=Ay.bind(null,zt,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:ef,useDeferredValue:function(t,i){var o=hn();return nf(o,t,i)},useTransition:function(){var t=Jd(!1);return t=wy.bind(null,zt,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var c=zt,p=hn();if(Ht){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),le===null)throw Error(a(349));(Wt&127)!==0||Xg(c,i,o)}p.memoizedState=o;var v={value:o,getSnapshot:i};return p.queue=v,fy(Qg.bind(null,c,v,t),[t]),c.flags|=2048,Ya(9,{destroy:void 0},Jg.bind(null,c,v,o,i),null),o},useId:function(){var t=hn(),i=le.identifierPrefix;if(Ht){var o=yt,c=rt;o=(c&~(1<<32-ln(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=yc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=wS++,i="_"+i+"r_"+o.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:sf,useFormState:ly,useActionState:ly,useOptimistic:function(t){var i=hn();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=af.bind(null,zt,!0,o),o.dispatch=i,[t,i]},useMemoCache:Kd,useCacheRefresh:function(){return hn().memoizedState=jS.bind(null,zt)},useEffectEvent:function(t){var i=hn(),o={impl:t};return i.memoizedState=o,function(){if((Jt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},of={readContext:Ke,use:_c,useCallback:_y,useContext:Ke,useEffect:tf,useImperativeHandle:vy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:xy,useReducer:xc,useRef:dy,useState:function(){return xc(tr)},useDebugValue:ef,useDeferredValue:function(t,i){var o=Ae();return by(o,re.memoizedState,t,i)},useTransition:function(){var t=xc(tr)[0],i=Ae().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:Yg,useId:Ey,useHostTransitionStatus:sf,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var o=Ae();return ny(o,re,t,i)},useMemoCache:Kd,useCacheRefresh:Cy};of.useEffectEvent=py;var Oy={readContext:Ke,use:_c,useCallback:_y,useContext:Ke,useEffect:tf,useImperativeHandle:vy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:xy,useReducer:Xd,useRef:dy,useState:function(){return Xd(tr)},useDebugValue:ef,useDeferredValue:function(t,i){var o=Ae();return re===null?nf(o,t,i):by(o,re.memoizedState,t,i)},useTransition:function(){var t=Xd(tr)[0],i=Ae().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:Yg,useId:Ey,useHostTransitionStatus:sf,useFormState:hy,useActionState:hy,useOptimistic:function(t,i){var o=Ae();return re!==null?ny(o,re,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:Cy};Oy.useEffectEvent=py;function lf(t,i,o,c){i=t.memoizedState,o=o(c,i),o=o==null?i:w({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var uf={enqueueSetState:function(t,i,o){t=t._reactInternals;var c=zn(),p=Ur(c);p.payload=i,o!=null&&(p.callback=o),i=Ir(t,p,c),i!==null&&(Tn(i,t,c),vl(i,t,c))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var c=zn(),p=Ur(c);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=Ir(t,p,c),i!==null&&(Tn(i,t,c),vl(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=zn(),c=Ur(o);c.tag=2,i!=null&&(c.callback=i),i=Ir(t,c,o),i!==null&&(Tn(i,t,o),vl(i,t,o))}};function My(t,i,o,c,p,v,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,v,E):i.prototype&&i.prototype.isPureReactComponent?!Mr(o,c)||!Mr(p,v):!0}function Ly(t,i,o,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==t&&uf.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(t=t.defaultProps){o===i&&(o=w({},o));for(var p in t)o[p]===void 0&&(o[p]=t[p])}return o}function Py(t){Us(t)}function Dy(t){console.error(t)}function zy(t){Us(t)}function Tc(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function By(t,i,o){try{var c=t.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function cf(t,i,o){return o=Ur(o),o.tag=3,o.payload={element:null},o.callback=function(){Tc(t,i)},o}function Ny(t){return t=Ur(t),t.tag=3,t}function Uy(t,i,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=c.value;t.payload=function(){return p(v)},t.callback=function(){By(i,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){By(i,o,c),typeof p!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function kS(t,i,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Ha(i,o,p,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?zc():o.alternate===null&&Te===0&&(Te=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===hc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Df(t,c,p)),!1;case 22:return o.flags|=65536,c===hc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Df(t,c,p)),!1}throw Error(a(435,o.tag))}return Df(t,c,p),zc(),!1}if(Ht)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==Va&&(t=Error(a(422),{cause:c}),qs(u(t,o)))):(c!==Va&&(i=Error(a(423),{cause:c}),qs(u(i,o))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=u(c,o),p=cf(t.stateNode,c,p),Ud(t,p),Te!==4&&(Te=2)),!1;var v=Error(a(520),{cause:c});if(v=u(v,o),Ml===null?Ml=[v]:Ml.push(v),Te!==4&&(Te=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=p&-p,o.lanes|=t,t=cf(o.stateNode,c,t),Ud(o,t),!1;case 1:if(i=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wr===null||!Wr.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Ny(p),Uy(p,t,o,c),Ud(o,p),!1}o=o.return}while(o!==null);return!1}var hf=Error(a(461)),Le=!1;function Ye(t,i,o,c){i.child=t===null?qg(i,null,o,c):Ks(i,t.child,o,c)}function Iy(t,i,o,c,p){o=o.render;var v=i.ref;if("ref"in c){var E={};for(var M in c)M!=="ref"&&(E[M]=c[M])}else E=c;return $s(i),c=$d(t,i,o,E,v,p),M=Wd(),t!==null&&!Le?(Zd(t,i,p),er(t,i,p)):(Ht&&M&&Ue(i),i.flags|=1,Ye(t,i,c,p),i.child)}function Vy(t,i,o,c,p){if(t===null){var v=o.type;return typeof v=="function"&&!Ua(v)&&v.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=v,Hy(t,i,v,c,p)):(t=Hs(o.type,null,c,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(v=t.child,!_f(t,p)){var E=v.memoizedProps;if(o=o.compare,o=o!==null?o:Mr,o(E,c)&&t.ref===i.ref)return er(t,i,p)}return i.flags|=1,t=Wn(v,c),t.ref=i.ref,t.return=i,i.child=t}function Hy(t,i,o,c,p){if(t!==null){var v=t.memoizedProps;if(Mr(v,c)&&t.ref===i.ref)if(Le=!1,i.pendingProps=c=v,_f(t,p))(t.flags&131072)!==0&&(Le=!0);else return i.lanes=t.lanes,er(t,i,p)}return df(t,i,o,c,p)}function qy(t,i,o,c){var p=c.children,v=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,t!==null){for(c=i.child=t.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~v}else c=0,i.child=null;return Fy(t,i,v,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(i,v!==null?v.cachePool:null),v!==null?Wg(i,v):Vd(),Zg(i);else return c=i.lanes=536870912,Fy(t,i,v!==null?v.baseLanes|o:o,o,c)}else v!==null?(uc(i,v.cachePool),Wg(i,v),Hr(),i.memoizedState=null):(t!==null&&uc(i,null),Vd(),Hr());return Ye(t,i,p,o),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Fy(t,i,o,c,p){var v=Dd();return v=v===null?null:{parent:Oe._currentValue,pool:v},i.memoizedState={baseLanes:o,cachePool:v},t!==null&&uc(i,null),Vd(),Zg(i),t!==null&&Ha(t,i,c,!0),i.childLanes=p,null}function Ec(t,i){return i=Ac({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function $y(t,i,o){return Ks(i,t.child,null,o),t=Ec(i,i.pendingProps),t.flags|=2,Ln(i),i.memoizedState=null,t}function OS(t,i,o){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ht){if(c.mode==="hidden")return t=Ec(i,c),i.lanes=536870912,El(null,t);if(qd(i),(t=Kt)?(t=i0(t,_n),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:K!==null?{id:rt,overflow:yt}:null,retryLane:536870912,hydrationErrors:null},o=cl(t),o.return=i,i.child=o,Gt=i,Kt=null)):t=null,t===null)throw ki(i);return i.lanes=536870912,null}return Ec(i,c)}var v=t.memoizedState;if(v!==null){var E=v.dehydrated;if(qd(i),p)if(i.flags&256)i.flags&=-257,i=$y(t,i,o);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Le||Ha(t,i,o,!1),p=(o&t.childLanes)!==0,Le||p){if(c=le,c!==null&&(E=Du(c,o),E!==0&&E!==v.retryLane))throw v.retryLane=E,$n(t,E),Tn(c,t,E),hf;zc(),i=$y(t,i,o)}else t=v.treeContext,Kt=Gn(E.nextSibling),Gt=i,Ht=!0,Ri=null,_n=!1,t!==null&&cn(i,t),i=Ec(i,c),i.flags|=4096;return i}return t=Wn(t.child,{mode:c.mode,children:c.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Cc(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function df(t,i,o,c,p){return $s(i),o=$d(t,i,o,c,void 0,p),c=Wd(),t!==null&&!Le?(Zd(t,i,p),er(t,i,p)):(Ht&&c&&Ue(i),i.flags|=1,Ye(t,i,o,p),i.child)}function Wy(t,i,o,c,p,v){return $s(i),i.updateQueue=null,o=Kg(i,c,o,p),Gg(t),c=Wd(),t!==null&&!Le?(Zd(t,i,v),er(t,i,v)):(Ht&&c&&Ue(i),i.flags|=1,Ye(t,i,o,v),i.child)}function Zy(t,i,o,c,p){if($s(i),i.stateNode===null){var v=Ki,E=o.contextType;typeof E=="object"&&E!==null&&(v=Ke(E)),v=new o(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=uf,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},Bd(i),E=o.contextType,v.context=typeof E=="object"&&E!==null?Ke(E):Ki,v.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(lf(i,o,E,c),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&uf.enqueueReplaceState(v,v.state,null),xl(i,c,v,p),_l(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){v=i.stateNode;var M=i.memoizedProps,U=Xs(o,M);v.props=U;var Z=v.context,tt=o.contextType;E=Ki,typeof tt=="object"&&tt!==null&&(E=Ke(tt));var st=o.getDerivedStateFromProps;tt=typeof st=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,tt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||Z!==E)&&Ly(i,v,c,E),Nr=!1;var Y=i.memoizedState;v.state=Y,xl(i,c,v,p),_l(),Z=i.memoizedState,M||Y!==Z||Nr?(typeof st=="function"&&(lf(i,o,st,c),Z=i.memoizedState),(U=Nr||My(i,o,U,c,Y,Z,E))?(tt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Z),v.props=c,v.state=Z,v.context=E,c=U):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Nd(t,i),E=i.memoizedProps,tt=Xs(o,E),v.props=tt,st=i.pendingProps,Y=v.context,Z=o.contextType,U=Ki,typeof Z=="object"&&Z!==null&&(U=Ke(Z)),M=o.getDerivedStateFromProps,(Z=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==st||Y!==U)&&Ly(i,v,c,U),Nr=!1,Y=i.memoizedState,v.state=Y,xl(i,c,v,p),_l();var J=i.memoizedState;E!==st||Y!==J||Nr||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof M=="function"&&(lf(i,o,M,c),J=i.memoizedState),(tt=Nr||My(i,o,tt,c,Y,J,U)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(Z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,J,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,J,U)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=J),v.props=c,v.state=J,v.context=U,c=tt):(typeof v.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),c=!1)}return v=c,Cc(t,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,t!==null&&c?(i.child=Ks(i,t.child,null,p),i.child=Ks(i,null,o,p)):Ye(t,i,o,p),i.memoizedState=v.state,t=i.child):t=er(t,i,p),t}function Gy(t,i,o,c){return Xi(),i.flags|=256,Ye(t,i,o,c),i.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pf(t){return{baseLanes:t,cachePool:Bg()}}function mf(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=Dn),t}function Ky(t,i,o){var c=i.pendingProps,p=!1,v=(i.flags&128)!==0,E;if((E=v)||(E=t!==null&&t.memoizedState===null?!1:(Ce.current&2)!==0),E&&(p=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ht){if(p?Vr(i):Hr(),(t=Kt)?(t=i0(t,_n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:K!==null?{id:rt,overflow:yt}:null,retryLane:536870912,hydrationErrors:null},o=cl(t),o.return=i,i.child=o,Gt=i,Kt=null)):t=null,t===null)throw ki(i);return Xf(t)?i.lanes=32:i.lanes=536870912,null}var M=c.children;return c=c.fallback,p?(Hr(),p=i.mode,M=Ac({mode:"hidden",children:M},p),c=Yi(c,p,o,null),M.return=i,c.return=i,M.sibling=c,i.child=M,c=i.child,c.memoizedState=pf(o),c.childLanes=mf(t,E,o),i.memoizedState=ff,El(null,c)):(Vr(i),gf(i,M))}var U=t.memoizedState;if(U!==null&&(M=U.dehydrated,M!==null)){if(v)i.flags&256?(Vr(i),i.flags&=-257,i=yf(t,i,o)):i.memoizedState!==null?(Hr(),i.child=t.child,i.flags|=128,i=null):(Hr(),M=c.fallback,p=i.mode,c=Ac({mode:"visible",children:c.children},p),M=Yi(M,p,o,null),M.flags|=2,c.return=i,M.return=i,c.sibling=M,i.child=c,Ks(i,t.child,null,o),c=i.child,c.memoizedState=pf(o),c.childLanes=mf(t,E,o),i.memoizedState=ff,i=El(null,c));else if(Vr(i),Xf(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var Z=E.dgst;E=Z,c=Error(a(419)),c.stack="",c.digest=E,qs({value:c,source:null,stack:null}),i=yf(t,i,o)}else if(Le||Ha(t,i,o,!1),E=(o&t.childLanes)!==0,Le||E){if(E=le,E!==null&&(c=Du(E,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,$n(t,c),Tn(E,t,c),hf;Yf(M)||zc(),i=yf(t,i,o)}else Yf(M)?(i.flags|=192,i.child=t.child,i=null):(t=U.treeContext,Kt=Gn(M.nextSibling),Gt=i,Ht=!0,Ri=null,_n=!1,t!==null&&cn(i,t),i=gf(i,c.children),i.flags|=4096);return i}return p?(Hr(),M=c.fallback,p=i.mode,U=t.child,Z=U.sibling,c=Wn(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,Z!==null?M=Wn(Z,M):(M=Yi(M,p,o,null),M.flags|=2),M.return=i,c.return=i,c.sibling=M,i.child=c,El(null,c),c=i.child,M=t.child.memoizedState,M===null?M=pf(o):(p=M.cachePool,p!==null?(U=Oe._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=Bg(),M={baseLanes:M.baseLanes|o,cachePool:p}),c.memoizedState=M,c.childLanes=mf(t,E,o),i.memoizedState=ff,El(t.child,c)):(Vr(i),o=t.child,t=o.sibling,o=Wn(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=o,i.memoizedState=null,o)}function gf(t,i){return i=Ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ac(t,i){return t=nn(22,t,null,i),t.lanes=0,t}function yf(t,i,o){return Ks(i,t.child,null,o),t=gf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yy(t,i,o){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Od(t.return,i,o)}function vf(t,i,o,c,p,v){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:v}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=p,E.treeForkCount=v)}function Xy(t,i,o){var c=i.pendingProps,p=c.revealOrder,v=c.tail;c=c.children;var E=Ce.current,M=(E&2)!==0;if(M?(E=E&1|2,i.flags|=128):E&=1,ct(Ce,E),Ye(t,i,c,o),c=Ht?A:0,!M&&t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,o,i);else if(t.tag===19)Yy(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)t=o.alternate,t!==null&&mc(t)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),vf(i,!1,p,o,v,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&mc(t)===null){i.child=p;break}t=p.sibling,p.sibling=o,o=p,p=t}vf(i,!0,o,null,v,c);break;case"together":vf(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function er(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),$r|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(Ha(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,o=Wn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Wn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function _f(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function MS(t,i,o){switch(i.tag){case 3:Qt(i,i.stateNode.containerInfo),Br(i,Oe,t.memoizedState.cache),Xi();break;case 27:case 5:Bi(i);break;case 4:Qt(i,i.stateNode.containerInfo);break;case 10:Br(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Vr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ky(t,i,o):(Vr(i),t=er(t,i,o),t!==null?t.sibling:null);Vr(i);break;case 19:var p=(t.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Ha(t,i,o,!1),c=(o&i.childLanes)!==0),p){if(c)return Xy(t,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ct(Ce,Ce.current),c)break;return null;case 22:return i.lanes=0,qy(t,i,o,i.pendingProps);case 24:Br(i,Oe,t.memoizedState.cache)}return er(t,i,o)}function Jy(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)Le=!0;else{if(!_f(t,o)&&(i.flags&128)===0)return Le=!1,MS(t,i,o);Le=(t.flags&131072)!==0}else Le=!1,Ht&&(i.flags&1048576)!==0&&Bt(i,A,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(t=Zs(i.elementType),i.type=t,typeof t=="function")Ua(t)?(c=Xs(t,c),i.tag=1,i=Zy(null,i,t,c,o)):(i.tag=0,i=df(null,i,t,c,o));else{if(t!=null){var p=t.$$typeof;if(p===V){i.tag=11,i=Iy(null,i,t,c,o);break t}else if(p===Q){i.tag=14,i=Vy(null,i,t,c,o);break t}}throw i=It(t)||t,Error(a(306,i,""))}}return i;case 0:return df(t,i,i.type,i.pendingProps,o);case 1:return c=i.type,p=Xs(c,i.pendingProps),Zy(t,i,c,p,o);case 3:t:{if(Qt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));c=i.pendingProps;var v=i.memoizedState;p=v.element,Nd(t,i),xl(i,c,null,o);var E=i.memoizedState;if(c=E.cache,Br(i,Oe,c),c!==v.cache&&Md(i,[Oe],o,!0),_l(),c=E.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Gy(t,i,c,o);break t}else if(c!==p){p=u(Error(a(424)),i),qs(p),i=Gy(t,i,c,o);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Kt=Gn(t.firstChild),Gt=i,Ht=!0,Ri=null,_n=!0,o=qg(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Xi(),c===p){i=er(t,i,o);break t}Ye(t,i,c,o)}i=i.child}return i;case 26:return Cc(t,i),t===null?(o=u0(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ht||(o=i.type,t=i.pendingProps,c=qc(gt.current).createElement(o),c[Re]=i,c[qe]=t,Xe(c,o,t),ke(c),i.stateNode=c):i.memoizedState=u0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Bi(i),t===null&&Ht&&(c=i.stateNode=a0(i.type,i.pendingProps,gt.current),Gt=i,_n=!0,p=Kt,Yr(i.type)?(Jf=p,Kt=Gn(c.firstChild)):Kt=p),Ye(t,i,i.pendingProps.children,o),Cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ht&&((p=c=Kt)&&(c=lT(c,i.type,i.pendingProps,_n),c!==null?(i.stateNode=c,Gt=i,Kt=Gn(c.firstChild),_n=!1,p=!0):p=!1),p||ki(i)),Bi(i),p=i.type,v=i.pendingProps,E=t!==null?t.memoizedProps:null,c=v.children,Zf(p,v)?c=null:E!==null&&Zf(p,E)&&(i.flags|=32),i.memoizedState!==null&&(p=$d(t,i,SS,null,null,o),Il._currentValue=p),Cc(t,i),Ye(t,i,c,o),i.child;case 6:return t===null&&Ht&&((t=o=Kt)&&(o=uT(o,i.pendingProps,_n),o!==null?(i.stateNode=o,Gt=i,Kt=null,t=!0):t=!1),t||ki(i)),null;case 13:return Ky(t,i,o);case 4:return Qt(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Ks(i,null,c,o):Ye(t,i,c,o),i.child;case 11:return Iy(t,i,i.type,i.pendingProps,o);case 7:return Ye(t,i,i.pendingProps,o),i.child;case 8:return Ye(t,i,i.pendingProps.children,o),i.child;case 12:return Ye(t,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Br(i,i.type,c.value),Ye(t,i,c.children,o),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,$s(i),p=Ke(p),c=c(p),i.flags|=1,Ye(t,i,c,o),i.child;case 14:return Vy(t,i,i.type,i.pendingProps,o);case 15:return Hy(t,i,i.type,i.pendingProps,o);case 19:return Xy(t,i,o);case 31:return OS(t,i,o);case 22:return qy(t,i,o,i.pendingProps);case 24:return $s(i),c=Ke(Oe),t===null?(p=Dd(),p===null&&(p=le,v=Ld(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),i.memoizedState={parent:c,cache:p},Bd(i),Br(i,Oe,p)):((t.lanes&o)!==0&&(Nd(t,i),xl(i,null,null,o),_l()),p=t.memoizedState,v=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Br(i,Oe,c)):(c=v.cache,Br(i,Oe,c),c!==p.cache&&Md(i,[Oe],o,!0))),Ye(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function nr(t){t.flags|=4}function xf(t,i,o,c,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(Ev())t.flags|=8192;else throw Gs=hc,zd}else t.flags&=-16777217}function Qy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p0(i))if(Ev())t.flags|=8192;else throw Gs=hc,zd}function jc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Mu():536870912,t.lanes|=i,to|=i)}function Cl(t,i){if(!Ht)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function he(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(i)for(var p=t.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=o,i}function LS(t,i,o){var c=i.pendingProps;switch(we(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(i),null;case 1:return he(i),null;case 3:return o=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ji(Oe),de(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(li(i)?nr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,fl())),he(i),null;case 26:var p=i.type,v=i.memoizedState;return t===null?(nr(i),v!==null?(he(i),Qy(i,v)):(he(i),xf(i,p,null,c,o))):v?v!==t.memoizedState?(nr(i),he(i),Qy(i,v)):(he(i),i.flags&=-16777217):(t=t.memoizedProps,t!==c&&nr(i),he(i),xf(i,p,t,c,o)),null;case 27:if(yr(i),o=gt.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&nr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return he(i),null}t=at.current,li(i)?dl(i):(t=a0(p,c,o),i.stateNode=t,nr(i))}return he(i),null;case 5:if(yr(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&nr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return he(i),null}if(v=at.current,li(i))dl(i);else{var E=qc(gt.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?E.createElement(p,{is:c.is}):E.createElement(p)}}v[Re]=i,v[qe]=c;t:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break t;for(;E.sibling===null;){if(E.return===null||E.return===i)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=v;t:switch(Xe(v,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&nr(i)}}return he(i),xf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,o),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&nr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(t=gt.current,li(i)){if(t=i.stateNode,o=i.memoizedProps,c=null,p=Gt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[Re]=i,t=!!(t.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Kv(t.nodeValue,o)),t||ki(i,!0)}else t=qc(t).createTextNode(c),t[Re]=i,i.stateNode=t}return he(i),null;case 31:if(o=i.memoizedState,t===null||t.memoizedState!==null){if(c=li(i),o!==null){if(t===null){if(!c)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Re]=i}else Xi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),t=!1}else o=fl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return i.flags&256?(Ln(i),i):(Ln(i),null);if((i.flags&128)!==0)throw Error(a(558))}return he(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=li(i),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Re]=i}else Xi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),p=!1}else p=fl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Ln(i),i):(Ln(i),null)}return Ln(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,t=t!==null&&t.memoizedState!==null,o&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048)),o!==t&&o&&(i.child.flags|=8192),jc(i,i.updateQueue),he(i),null);case 4:return de(),t===null&&Hf(i.stateNode.containerInfo),he(i),null;case 10:return Ji(i.type),he(i),null;case 19:if(X(Ce),c=i.memoizedState,c===null)return he(i),null;if(p=(i.flags&128)!==0,v=c.rendering,v===null)if(p)Cl(c,!1);else{if(Te!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=mc(t),v!==null){for(i.flags|=128,Cl(c,!1),t=v.updateQueue,i.updateQueue=t,jc(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)ul(o,t),o=o.sibling;return ct(Ce,Ce.current&1|2),Ht&&Tt(i,c.treeForkCount),i.child}t=t.sibling}c.tail!==null&&on()>Lc&&(i.flags|=128,p=!0,Cl(c,!1),i.lanes=4194304)}else{if(!p)if(t=mc(v),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,jc(i,t),Cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!Ht)return he(i),null}else 2*on()-c.renderingStartTime>Lc&&o!==536870912&&(i.flags|=128,p=!0,Cl(c,!1),i.lanes=4194304);c.isBackwards?(v.sibling=i.child,i.child=v):(t=c.last,t!==null?t.sibling=v:i.child=v,c.last=v)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=on(),t.sibling=null,o=Ce.current,ct(Ce,p?o&1|2:o&1),Ht&&Tt(i,c.treeForkCount),t):(he(i),null);case 22:case 23:return Ln(i),Hd(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(he(i),i.subtreeFlags&6&&(i.flags|=8192)):he(i),o=i.updateQueue,o!==null&&jc(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),t!==null&&X(Ws),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ji(Oe),he(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function PS(t,i){switch(we(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(Oe),de(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yr(i),null;case 31:if(i.memoizedState!==null){if(Ln(i),i.alternate===null)throw Error(a(340));Xi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Ln(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Xi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Ce),null;case 4:return de(),null;case 10:return Ji(i.type),null;case 22:case 23:return Ln(i),Hd(),t!==null&&X(Ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(Oe),null;case 25:return null;default:return null}}function tv(t,i){switch(we(i),i.tag){case 3:Ji(Oe),de();break;case 26:case 27:case 5:yr(i);break;case 4:de();break;case 31:i.memoizedState!==null&&Ln(i);break;case 13:Ln(i);break;case 19:X(Ce);break;case 10:Ji(i.type);break;case 22:case 23:Ln(i),Hd(),t!==null&&X(Ws);break;case 24:Ji(Oe)}}function Al(t,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&t)===t){c=void 0;var v=o.create,E=o.inst;c=v(),E.destroy=c}o=o.next}while(o!==p)}}catch(M){ne(i,i.return,M)}}function qr(t,i,o){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var v=p.next;c=v;do{if((c.tag&t)===t){var E=c.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,p=i;var U=o,Z=M;try{Z()}catch(tt){ne(p,U,tt)}}}c=c.next}while(c!==v)}}catch(tt){ne(i,i.return,tt)}}function ev(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{$g(i,o)}catch(c){ne(t,t.return,c)}}}function nv(t,i,o){o.props=Xs(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(c){ne(t,i,c)}}function jl(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof o=="function"?t.refCleanup=o(c):o.current=c}}catch(p){ne(t,i,p)}}function Mi(t,i){var o=t.ref,c=t.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){ne(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){ne(t,i,p)}else o.current=null}function iv(t){var i=t.type,o=t.memoizedProps,c=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){ne(t,t.return,p)}}function bf(t,i,o){try{var c=t.stateNode;nT(c,t.type,o,i),c[qe]=i}catch(p){ne(t,t.return,p)}}function rv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function wf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sf(t,i,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=mn));else if(c!==4&&(c===27&&Yr(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(Sf(t,i,o),t=t.sibling;t!==null;)Sf(t,i,o),t=t.sibling}function Rc(t,i,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(c!==4&&(c===27&&Yr(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Rc(t,i,o),t=t.sibling;t!==null;)Rc(t,i,o),t=t.sibling}function sv(t){var i=t.stateNode,o=t.memoizedProps;try{for(var c=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);Xe(i,c,o),i[Re]=t,i[qe]=o}catch(v){ne(t,t.return,v)}}var ir=!1,Pe=!1,Tf=!1,av=typeof WeakSet=="function"?WeakSet:Set,We=null;function DS(t,i){if(t=t.containerInfo,$f=Yc,t=Ds(t),Ti(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else t:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var E=0,M=-1,U=-1,Z=0,tt=0,st=t,Y=null;e:for(;;){for(var J;st!==o||p!==0&&st.nodeType!==3||(M=E+p),st!==v||c!==0&&st.nodeType!==3||(U=E+c),st.nodeType===3&&(E+=st.nodeValue.length),(J=st.firstChild)!==null;)Y=st,st=J;for(;;){if(st===t)break e;if(Y===o&&++Z===p&&(M=E),Y===v&&++tt===c&&(U=E),(J=st.nextSibling)!==null)break;st=Y,Y=st.parentNode}st=J}o=M===-1||U===-1?null:{start:M,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wf={focusedElem:t,selectionRange:o},Yc=!1,We=i;We!==null;)if(i=We,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,We=t;else for(;We!==null;){switch(i=We,v=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)p=t[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,o=i,p=v.memoizedProps,v=v.memoizedState,c=o.stateNode;try{var xt=Xs(o.type,p);t=c.getSnapshotBeforeUpdate(xt,v),c.__reactInternalSnapshotBeforeUpdate=t}catch(At){ne(o,o.return,At)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)Kf(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,We=t;break}We=i.return}}function ov(t,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:sr(t,o),c&4&&Al(5,o);break;case 1:if(sr(t,o),c&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(E){ne(o,o.return,E)}else{var p=Xs(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){ne(o,o.return,E)}}c&64&&ev(o),c&512&&jl(o,o.return);break;case 3:if(sr(t,o),c&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{$g(t,i)}catch(E){ne(o,o.return,E)}}break;case 27:i===null&&c&4&&sv(o);case 26:case 5:sr(t,o),i===null&&c&4&&iv(o),c&512&&jl(o,o.return);break;case 12:sr(t,o);break;case 31:sr(t,o),c&4&&cv(t,o);break;case 13:sr(t,o),c&4&&hv(t,o),c&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=FS.bind(null,o),cT(t,o))));break;case 22:if(c=o.memoizedState!==null||ir,!c){i=i!==null&&i.memoizedState!==null||Pe,p=ir;var v=Pe;ir=c,(Pe=i)&&!v?ar(t,o,(o.subtreeFlags&8772)!==0):sr(t,o),ir=p,Pe=v}break;case 30:break;default:sr(t,o)}}function lv(t){var i=t.alternate;i!==null&&(t.alternate=null,lv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&$o(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pe=null,xn=!1;function rr(t,i,o){for(o=o.child;o!==null;)uv(t,i,o),o=o.sibling}function uv(t,i,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(vr,o)}catch{}switch(o.tag){case 26:Pe||Mi(o,i),rr(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pe||Mi(o,i);var c=pe,p=xn;Yr(o.type)&&(pe=o.stateNode,xn=!1),rr(t,i,o),Bl(o.stateNode),pe=c,xn=p;break;case 5:Pe||Mi(o,i);case 6:if(c=pe,p=xn,pe=null,rr(t,i,o),pe=c,xn=p,pe!==null)if(xn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(o.stateNode)}catch(v){ne(o,i,v)}else try{pe.removeChild(o.stateNode)}catch(v){ne(o,i,v)}break;case 18:pe!==null&&(xn?(t=pe,e0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),lo(t)):e0(pe,o.stateNode));break;case 4:c=pe,p=xn,pe=o.stateNode.containerInfo,xn=!0,rr(t,i,o),pe=c,xn=p;break;case 0:case 11:case 14:case 15:qr(2,o,i),Pe||qr(4,o,i),rr(t,i,o);break;case 1:Pe||(Mi(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&nv(o,i,c)),rr(t,i,o);break;case 21:rr(t,i,o);break;case 22:Pe=(c=Pe)||o.memoizedState!==null,rr(t,i,o),Pe=c;break;default:rr(t,i,o)}}function cv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(o){ne(i,i.return,o)}}}function hv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(o){ne(i,i.return,o)}}function zS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new av),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new av),i;default:throw Error(a(435,t.tag))}}function kc(t,i){var o=zS(t);i.forEach(function(c){if(!o.has(c)){o.add(c);var p=$S.bind(null,t,c);c.then(p,p)}})}function bn(t,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],v=t,E=i,M=E;t:for(;M!==null;){switch(M.tag){case 27:if(Yr(M.type)){pe=M.stateNode,xn=!1;break t}break;case 5:pe=M.stateNode,xn=!1;break t;case 3:case 4:pe=M.stateNode.containerInfo,xn=!0;break t}M=M.return}if(pe===null)throw Error(a(160));uv(v,E,p),pe=null,xn=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)dv(i,t),i=i.sibling}var ci=null;function dv(t,i){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),wn(t),c&4&&(qr(3,t,t.return),Al(3,t),qr(5,t,t.return));break;case 1:bn(i,t),wn(t),c&512&&(Pe||o===null||Mi(o,o.return)),c&64&&ir&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=ci;if(bn(i,t),wn(t),c&512&&(Pe||o===null||Mi(o,o.return)),c&4){var v=o!==null?o.memoizedState:null;if(c=t.memoizedState,o===null)if(c===null)if(t.stateNode===null){t:{c=t.type,o=t.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":v=p.getElementsByTagName("title")[0],(!v||v[_s]||v[Re]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(c),p.head.insertBefore(v,p.querySelector("head > title"))),Xe(v,c,o),v[Re]=t,ke(v),c=v;break t;case"link":var E=d0("link","href",p).get(c+(o.href||""));if(E){for(var M=0;M<E.length;M++)if(v=E[M],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(M,1);break e}}v=p.createElement(c),Xe(v,c,o),p.head.appendChild(v);break;case"meta":if(E=d0("meta","content",p).get(c+(o.content||""))){for(M=0;M<E.length;M++)if(v=E[M],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(M,1);break e}}v=p.createElement(c),Xe(v,c,o),p.head.appendChild(v);break;default:throw Error(a(468,c))}v[Re]=t,ke(v),c=v}t.stateNode=c}else f0(p,t.type,t.stateNode);else t.stateNode=h0(p,c,t.memoizedProps);else v!==c?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,c===null?f0(p,t.type,t.stateNode):h0(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&bf(t,t.memoizedProps,o.memoizedProps)}break;case 27:bn(i,t),wn(t),c&512&&(Pe||o===null||Mi(o,o.return)),o!==null&&c&4&&bf(t,t.memoizedProps,o.memoizedProps);break;case 5:if(bn(i,t),wn(t),c&512&&(Pe||o===null||Mi(o,o.return)),t.flags&32){p=t.stateNode;try{Un(p,"")}catch(xt){ne(t,t.return,xt)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,bf(t,p,o!==null?o.memoizedProps:p)),c&1024&&(Tf=!0);break;case 6:if(bn(i,t),wn(t),c&4){if(t.stateNode===null)throw Error(a(162));c=t.memoizedProps,o=t.stateNode;try{o.nodeValue=c}catch(xt){ne(t,t.return,xt)}}break;case 3:if(Wc=null,p=ci,ci=Fc(i.containerInfo),bn(i,t),ci=p,wn(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{lo(i.containerInfo)}catch(xt){ne(t,t.return,xt)}Tf&&(Tf=!1,fv(t));break;case 4:c=ci,ci=Fc(t.stateNode.containerInfo),bn(i,t),wn(t),ci=c;break;case 12:bn(i,t),wn(t);break;case 31:bn(i,t),wn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,kc(t,c)));break;case 13:bn(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Mc=on()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,kc(t,c)));break;case 22:p=t.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Z=ir,tt=Pe;if(ir=Z||p,Pe=tt||U,bn(i,t),Pe=tt,ir=Z,wn(t),c&8192)t:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||U||ir||Pe||Js(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(v=U.stateNode,p)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=U.stateNode;var st=U.memoizedProps.style,Y=st!=null&&st.hasOwnProperty("display")?st.display:null;M.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(xt){ne(U,U.return,xt)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(xt){ne(U,U.return,xt)}}}else if(i.tag===18){if(o===null){U=i;try{var J=U.stateNode;p?n0(J,!0):n0(U.stateNode,!1)}catch(xt){ne(U,U.return,xt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,kc(t,o))));break;case 19:bn(i,t),wn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,kc(t,c)));break;case 30:break;case 21:break;default:bn(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var o,c=t.return;c!==null;){if(rv(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,v=wf(t);Rc(t,v,p);break;case 5:var E=o.stateNode;o.flags&32&&(Un(E,""),o.flags&=-33);var M=wf(t);Rc(t,M,E);break;case 3:case 4:var U=o.stateNode.containerInfo,Z=wf(t);Sf(t,Z,U);break;default:throw Error(a(161))}}catch(tt){ne(t,t.return,tt)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function fv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;fv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ov(t,i.alternate,i),i=i.sibling}function Js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),Js(i);break;case 1:Mi(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&nv(i,i.return,o),Js(i);break;case 27:Bl(i.stateNode);case 26:case 5:Mi(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}t=t.sibling}}function ar(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=t,v=i,E=v.flags;switch(v.tag){case 0:case 11:case 15:ar(p,v,o),Al(4,v);break;case 1:if(ar(p,v,o),c=v,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){ne(c,c.return,Z)}if(c=v,p=c.updateQueue,p!==null){var M=c.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)Fg(U[p],M)}catch(Z){ne(c,c.return,Z)}}o&&E&64&&ev(v),jl(v,v.return);break;case 27:sv(v);case 26:case 5:ar(p,v,o),o&&c===null&&E&4&&iv(v),jl(v,v.return);break;case 12:ar(p,v,o);break;case 31:ar(p,v,o),o&&E&4&&cv(p,v);break;case 13:ar(p,v,o),o&&E&4&&hv(p,v);break;case 22:v.memoizedState===null&&ar(p,v,o),jl(v,v.return);break;case 30:break;default:ar(p,v,o)}i=i.sibling}}function Ef(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&pl(o))}function Cf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function hi(t,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pv(t,i,o,c),i=i.sibling}function pv(t,i,o,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:hi(t,i,o,c),p&2048&&Al(9,i);break;case 1:hi(t,i,o,c);break;case 3:hi(t,i,o,c),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(p&2048){hi(t,i,o,c),t=i.stateNode;try{var v=i.memoizedProps,E=v.id,M=v.onPostCommit;typeof M=="function"&&M(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(U){ne(i,i.return,U)}}else hi(t,i,o,c);break;case 31:hi(t,i,o,c);break;case 13:hi(t,i,o,c);break;case 23:break;case 22:v=i.stateNode,E=i.alternate,i.memoizedState!==null?v._visibility&2?hi(t,i,o,c):Rl(t,i):v._visibility&2?hi(t,i,o,c):(v._visibility|=2,Xa(t,i,o,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Ef(E,i);break;case 24:hi(t,i,o,c),p&2048&&Cf(i.alternate,i);break;default:hi(t,i,o,c)}}function Xa(t,i,o,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=t,E=i,M=o,U=c,Z=E.flags;switch(E.tag){case 0:case 11:case 15:Xa(v,E,M,U,p),Al(8,E);break;case 23:break;case 22:var tt=E.stateNode;E.memoizedState!==null?tt._visibility&2?Xa(v,E,M,U,p):Rl(v,E):(tt._visibility|=2,Xa(v,E,M,U,p)),p&&Z&2048&&Ef(E.alternate,E);break;case 24:Xa(v,E,M,U,p),p&&Z&2048&&Cf(E.alternate,E);break;default:Xa(v,E,M,U,p)}i=i.sibling}}function Rl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,c=i,p=c.flags;switch(c.tag){case 22:Rl(o,c),p&2048&&Ef(c.alternate,c);break;case 24:Rl(o,c),p&2048&&Cf(c.alternate,c);break;default:Rl(o,c)}i=i.sibling}}var kl=8192;function Ja(t,i,o){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)mv(t,i,o),t=t.sibling}function mv(t,i,o){switch(t.tag){case 26:Ja(t,i,o),t.flags&kl&&t.memoizedState!==null&&wT(o,ci,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,i,o);break;case 3:case 4:var c=ci;ci=Fc(t.stateNode.containerInfo),Ja(t,i,o),ci=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=kl,kl=16777216,Ja(t,i,o),kl=c):Ja(t,i,o));break;default:Ja(t,i,o)}}function gv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];We=c,vv(c,t)}gv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yv(t),t=t.sibling}function yv(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&qr(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oc(t)):Ol(t);break;default:Ol(t)}}function Oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];We=c,vv(c,t)}gv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qr(8,i,i.return),Oc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Oc(i));break;default:Oc(i)}t=t.sibling}}function vv(t,i){for(;We!==null;){var o=We;switch(o.tag){case 0:case 11:case 15:qr(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:pl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,We=c;else t:for(o=t;We!==null;){c=We;var p=c.sibling,v=c.return;if(lv(c),c===o){We=null;break t}if(p!==null){p.return=v,We=p;break t}We=v}}}var BS={getCacheForType:function(t){var i=Ke(Oe),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o},cacheSignal:function(){return Ke(Oe).controller.signal}},NS=typeof WeakMap=="function"?WeakMap:Map,Jt=0,le=null,qt=null,Wt=0,ee=0,Pn=null,Fr=!1,Qa=!1,Af=!1,or=0,Te=0,$r=0,Qs=0,jf=0,Dn=0,to=0,Ml=null,Sn=null,Rf=!1,Mc=0,_v=0,Lc=1/0,Pc=null,Wr=null,Ie=0,Zr=null,eo=null,lr=0,kf=0,Of=null,xv=null,Ll=0,Mf=null;function zn(){return(Jt&2)!==0&&Wt!==0?Wt&-Wt:$.T!==null?Nf():qo()}function bv(){if(Dn===0)if((Wt&536870912)===0||Ht){var t=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),Dn=t}else Dn=536870912;return t=Mn.current,t!==null&&(t.flags|=32),Dn}function Tn(t,i,o){(t===le&&(ee===2||ee===9)||t.cancelPendingCommit!==null)&&(no(t,0),Gr(t,Wt,Dn,!1)),Vi(t,o),((Jt&2)===0||t!==le)&&(t===le&&((Jt&2)===0&&(Qs|=o),Te===4&&Gr(t,Wt,Dn,!1)),Li(t))}function wv(t,i,o){if((Jt&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&t.expiredLanes)===0||vs(t,i),p=c?VS(t,i):Pf(t,i,!0),v=c;do{if(p===0){Qa&&!c&&Gr(t,i,0,!1);break}else{if(o=t.current.alternate,v&&!US(o)){p=Pf(t,i,!1),v=!1;continue}if(p===2){if(v=i,t.errorRecoveryDisabledLanes&v)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var M=t;p=Ml;var U=M.current.memoizedState.isDehydrated;if(U&&(no(M,E).flags|=256),E=Pf(M,E,!1),E!==2){if(Af&&!U){M.errorRecoveryDisabledLanes|=v,Qs|=v,p=4;break t}v=Sn,Sn=p,v!==null&&(Sn===null?Sn=v:Sn.push.apply(Sn,v))}p=E}if(v=!1,p!==2)continue}}if(p===1){no(t,0),Gr(t,i,0,!0);break}t:{switch(c=t,v=p,v){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Gr(c,i,Dn,!Fr);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=Mc+300-on(),10<p)){if(Gr(c,i,Dn,!Fr),wa(c,0,!0)!==0)break t;lr=i,c.timeoutHandle=Qv(Sv.bind(null,c,o,Sn,Pc,Rf,i,Dn,Qs,to,Fr,v,"Throttled",-0,0),p);break t}Sv(c,o,Sn,Pc,Rf,i,Dn,Qs,to,Fr,v,null,-0,0)}}break}while(!0);Li(t)}function Sv(t,i,o,c,p,v,E,M,U,Z,tt,st,Y,J){if(t.timeoutHandle=-1,st=i.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},mv(i,v,st);var xt=(v&62914560)===v?Mc-on():(v&4194048)===v?_v-on():0;if(xt=ST(st,xt),xt!==null){lr=v,t.cancelPendingCommit=xt(Ov.bind(null,t,i,v,o,c,p,E,M,U,tt,st,null,Y,J)),Gr(t,v,E,!Z);return}}Ov(t,i,v,o,c,p,E,M,U)}function US(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],v=p.getSnapshot;p=p.value;try{if(!Fe(v(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(t,i,o,c){i&=~jf,i&=~Qs,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var p=i;0<p;){var v=31-ln(p),E=1<<v;c[v]=-1,p&=~E}o!==0&&Lu(t,o,i)}function Dc(){return(Jt&6)===0?(Pl(0),!1):!0}function Lf(){if(qt!==null){if(ee===0)var t=qt.return;else t=qt,ui=Oi=null,Gd(t),Wa=null,gl=0,t=qt;for(;t!==null;)tv(t.alternate,t),t=t.return;qt=null}}function no(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,sT(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),lr=0,Lf(),le=t,qt=o=Wn(t.current,null),Wt=i,ee=0,Pn=null,Fr=!1,Qa=vs(t,i),Af=!1,to=Dn=jf=Qs=$r=Te=0,Sn=Ml=null,Rf=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var p=31-ln(c),v=1<<p;i|=t[p],c&=~v}return or=i,Is(),o}function Tv(t,i){zt=null,$.H=Tl,i===$a||i===cc?(i=Ig(),ee=3):i===zd?(i=Ig(),ee=4):ee=i===hf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pn=i,qt===null&&(Te=1,Tc(t,u(i,t.current)))}function Ev(){var t=Mn.current;return t===null?!0:(Wt&4194048)===Wt?Zn===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?t===Zn:!1}function Cv(){var t=$.H;return $.H=Tl,t===null?Tl:t}function Av(){var t=$.A;return $.A=BS,t}function zc(){Te=4,Fr||(Wt&4194048)!==Wt&&Mn.current!==null||(Qa=!0),($r&134217727)===0&&(Qs&134217727)===0||le===null||Gr(le,Wt,Dn,!1)}function Pf(t,i,o){var c=Jt;Jt|=2;var p=Cv(),v=Av();(le!==t||Wt!==i)&&(Pc=null,no(t,i)),i=!1;var E=Te;t:do try{if(ee!==0&&qt!==null){var M=qt,U=Pn;switch(ee){case 8:Lf(),E=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(i=!0);var Z=ee;if(ee=0,Pn=null,io(t,M,U,Z),o&&Qa){E=0;break t}break;default:Z=ee,ee=0,Pn=null,io(t,M,U,Z)}}IS(),E=Te;break}catch(tt){Tv(t,tt)}while(!0);return i&&t.shellSuspendCounter++,ui=Oi=null,Jt=c,$.H=p,$.A=v,qt===null&&(le=null,Wt=0,Is()),E}function IS(){for(;qt!==null;)jv(qt)}function VS(t,i){var o=Jt;Jt|=2;var c=Cv(),p=Av();le!==t||Wt!==i?(Pc=null,Lc=on()+500,no(t,i)):Qa=vs(t,i);t:do try{if(ee!==0&&qt!==null){i=qt;var v=Pn;e:switch(ee){case 1:ee=0,Pn=null,io(t,i,v,1);break;case 2:case 9:if(Ng(v)){ee=0,Pn=null,Rv(i);break}i=function(){ee!==2&&ee!==9||le!==t||(ee=7),Li(t)},v.then(i,i);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:Ng(v)?(ee=0,Pn=null,Rv(i)):(ee=0,Pn=null,io(t,i,v,7));break;case 5:var E=null;switch(qt.tag){case 26:E=qt.memoizedState;case 5:case 27:var M=qt;if(E?p0(E):M.stateNode.complete){ee=0,Pn=null;var U=M.sibling;if(U!==null)qt=U;else{var Z=M.return;Z!==null?(qt=Z,Bc(Z)):qt=null}break e}}ee=0,Pn=null,io(t,i,v,5);break;case 6:ee=0,Pn=null,io(t,i,v,6);break;case 8:Lf(),Te=6;break t;default:throw Error(a(462))}}HS();break}catch(tt){Tv(t,tt)}while(!0);return ui=Oi=null,$.H=c,$.A=p,Jt=o,qt!==null?0:(le=null,Wt=0,Is(),Te)}function HS(){for(;qt!==null&&!Ru();)jv(qt)}function jv(t){var i=Jy(t.alternate,t,or);t.memoizedProps=t.pendingProps,i===null?Bc(t):qt=i}function Rv(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=Wy(o,i,i.pendingProps,i.type,void 0,Wt);break;case 11:i=Wy(o,i,i.pendingProps,i.type.render,i.ref,Wt);break;case 5:Gd(i);default:tv(o,i),i=qt=ul(i,or),i=Jy(o,i,or)}t.memoizedProps=t.pendingProps,i===null?Bc(t):qt=i}function io(t,i,o,c){ui=Oi=null,Gd(i),Wa=null,gl=0;var p=i.return;try{if(kS(t,p,i,o,Wt)){Te=1,Tc(t,u(o,t.current)),qt=null;return}}catch(v){if(p!==null)throw qt=p,v;Te=1,Tc(t,u(o,t.current)),qt=null;return}i.flags&32768?(Ht||c===1?t=!0:Qa||(Wt&536870912)!==0?t=!1:(Fr=t=!0,(c===2||c===9||c===3||c===6)&&(c=Mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),kv(i,t)):Bc(i)}function Bc(t){var i=t;do{if((i.flags&32768)!==0){kv(i,Fr);return}t=i.return;var o=LS(i.alternate,i,or);if(o!==null){qt=o;return}if(i=i.sibling,i!==null){qt=i;return}qt=i=t}while(i!==null);Te===0&&(Te=5)}function kv(t,i){do{var o=PS(t.alternate,t);if(o!==null){o.flags&=32767,qt=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){qt=t;return}qt=t=o}while(t!==null);Te=6,qt=null}function Ov(t,i,o,c,p,v,E,M,U){t.cancelPendingCommit=null;do Nc();while(Ie!==0);if((Jt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(v=i.lanes|i.childLanes,v|=Na,md(t,o,v,E,M,U),t===le&&(qt=le=null,Wt=0),eo=i,Zr=t,lr=o,kf=v,Of=p,xv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WS(fs,function(){return zv(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,p=it.p,it.p=2,E=Jt,Jt|=4;try{DS(t,i,o)}finally{Jt=E,it.p=p,$.T=c}}Ie=1,Mv(),Lv(),Pv()}}function Mv(){if(Ie===1){Ie=0;var t=Zr,i=eo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=it.p;it.p=2;var p=Jt;Jt|=4;try{dv(i,t);var v=Wf,E=Ds(t.containerInfo),M=v.focusedElem,U=v.selectionRange;if(E!==M&&M&&M.ownerDocument&&Pa(M.ownerDocument.documentElement,M)){if(U!==null&&Ti(M)){var Z=U.start,tt=U.end;if(tt===void 0&&(tt=Z),"selectionStart"in M)M.selectionStart=Z,M.selectionEnd=Math.min(tt,M.value.length);else{var st=M.ownerDocument||document,Y=st&&st.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),xt=M.textContent.length,At=Math.min(U.start,xt),ae=U.end===void 0?At:Math.min(U.end,xt);!J.extend&&At>ae&&(E=ae,ae=At,At=E);var H=Ps(M,At),I=Ps(M,ae);if(H&&I&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==I.node||J.focusOffset!==I.offset)){var W=st.createRange();W.setStart(H.node,H.offset),J.removeAllRanges(),At>ae?(J.addRange(W),J.extend(I.node,I.offset)):(W.setEnd(I.node,I.offset),J.addRange(W))}}}}for(st=[],J=M;J=J.parentNode;)J.nodeType===1&&st.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<st.length;M++){var nt=st[M];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Yc=!!$f,Wf=$f=null}finally{Jt=p,it.p=c,$.T=o}}t.current=i,Ie=2}}function Lv(){if(Ie===2){Ie=0;var t=Zr,i=eo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=it.p;it.p=2;var p=Jt;Jt|=4;try{ov(t,i.alternate,i)}finally{Jt=p,it.p=c,$.T=o}}Ie=3}}function Pv(){if(Ie===4||Ie===3){Ie=0,ku();var t=Zr,i=eo,o=lr,c=xv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ie=5:(Ie=0,eo=Zr=null,Dv(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Wr=null),wt(o),i=i.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(vr,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,p=it.p,it.p=2,$.T=null;try{for(var v=t.onRecoverableError,E=0;E<c.length;E++){var M=c[E];v(M.value,{componentStack:M.stack})}}finally{$.T=i,it.p=p}}(lr&3)!==0&&Nc(),Li(t),p=t.pendingLanes,(o&261930)!==0&&(p&42)!==0?t===Mf?Ll++:(Ll=0,Mf=t):Ll=0,Pl(0)}}function Dv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function Nc(){return Mv(),Lv(),Pv(),zv()}function zv(){if(Ie!==5)return!1;var t=Zr,i=kf;kf=0;var o=wt(lr),c=$.T,p=it.p;try{it.p=32>o?32:o,$.T=null,o=Of,Of=null;var v=Zr,E=lr;if(Ie=0,eo=Zr=null,lr=0,(Jt&6)!==0)throw Error(a(331));var M=Jt;if(Jt|=4,yv(v.current),pv(v,v.current,E,o),Jt=M,Pl(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(vr,v)}catch{}return!0}finally{it.p=p,$.T=c,Dv(t,i)}}function Bv(t,i,o){i=u(o,i),i=cf(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(Vi(t,2),Li(t))}function ne(t,i,o){if(t.tag===3)Bv(t,t,o);else for(;i!==null;){if(i.tag===3){Bv(i,t,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wr===null||!Wr.has(c))){t=u(o,t),o=Ny(2),c=Ir(i,o,2),c!==null&&(Uy(o,c,i,t),Vi(c,2),Li(c));break}}i=i.return}}function Df(t,i,o){var c=t.pingCache;if(c===null){c=t.pingCache=new NS;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(o)||(Af=!0,p.add(o),t=qS.bind(null,t,i,o),i.then(t,t))}function qS(t,i,o){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,le===t&&(Wt&o)===o&&(Te===4||Te===3&&(Wt&62914560)===Wt&&300>on()-Mc?(Jt&2)===0&&no(t,0):jf|=o,to===Wt&&(to=0)),Li(t)}function Nv(t,i){i===0&&(i=Mu()),t=$n(t,i),t!==null&&(Vi(t,i),Li(t))}function FS(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Nv(t,o)}function $S(t,i){var o=0;switch(t.tag){case 31:case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Nv(t,o)}function WS(t,i){return xa(t,i)}var Uc=null,ro=null,zf=!1,Ic=!1,Bf=!1,Kr=0;function Li(t){t!==ro&&t.next===null&&(ro===null?Uc=ro=t:ro=ro.next=t),Ic=!0,zf||(zf=!0,GS())}function Pl(t,i){if(!Bf&&Ic){Bf=!0;do for(var o=!1,c=Uc;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var v=0;else{var E=c.suspendedLanes,M=c.pingedLanes;v=(1<<31-ln(42|t)+1)-1,v&=p&~(E&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Hv(c,v))}else v=Wt,v=wa(c,c===le?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||vs(c,v)||(o=!0,Hv(c,v));c=c.next}while(o);Bf=!1}}function ZS(){Uv()}function Uv(){Ic=zf=!1;var t=0;Kr!==0&&rT()&&(t=Kr);for(var i=on(),o=null,c=Uc;c!==null;){var p=c.next,v=Iv(c,i);v===0?(c.next=null,o===null?Uc=p:o.next=p,p===null&&(ro=o)):(o=c,(t!==0||(v&3)!==0)&&(Ic=!0)),c=p}Ie!==0&&Ie!==5||Pl(t),Kr!==0&&(Kr=0)}function Iv(t,i){for(var o=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var E=31-ln(v),M=1<<E,U=p[E];U===-1?((M&o)===0||(M&c)!==0)&&(p[E]=pd(M,i)):U<=i&&(t.expiredLanes|=M),v&=~M}if(i=le,o=Wt,o=wa(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,o===0||t===i&&(ee===2||ee===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&ds(c),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||vs(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(c!==null&&ds(c),wt(o)){case 2:case 8:o=Io;break;case 32:o=fs;break;case 268435456:o=Vo;break;default:o=fs}return c=Vv.bind(null,t),o=xa(o,c),t.callbackPriority=i,t.callbackNode=o,i}return c!==null&&c!==null&&ds(c),t.callbackPriority=2,t.callbackNode=null,2}function Vv(t,i){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Nc()&&t.callbackNode!==o)return null;var c=Wt;return c=wa(t,t===le?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(wv(t,c,i),Iv(t,on()),t.callbackNode!=null&&t.callbackNode===o?Vv.bind(null,t):null)}function Hv(t,i){if(Nc())return null;wv(t,i,!0)}function GS(){aT(function(){(Jt&6)!==0?xa(ba,ZS):Uv()})}function Nf(){if(Kr===0){var t=qa;t===0&&(t=ms,ms<<=1,(ms&261888)===0&&(ms=256)),Kr=t}return Kr}function qv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Tr(""+t)}function Fv(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function KS(t,i,o,c,p){if(i==="submit"&&o&&o.stateNode===p){var v=qv((p[qe]||null).action),E=c.submitter;E&&(i=(i=E[qe]||null)?qv(i.formAction):E.getAttribute("formAction"),i!==null&&(v=i,E=null));var M=new Aa("action","action",null,c,p);t.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Kr!==0){var U=E?Fv(p,E):new FormData(p);rf(o,{pending:!0,data:U,method:p.method,action:v},null,U)}}else typeof v=="function"&&(M.preventDefault(),U=E?Fv(p,E):new FormData(p),rf(o,{pending:!0,data:U,method:p.method,action:v},v,U))},currentTarget:p}]})}}for(var Uf=0;Uf<Ai.length;Uf++){var If=Ai[Uf],YS=If.toLowerCase(),XS=If[0].toUpperCase()+If.slice(1);yn(YS,"on"+XS)}yn(Bs,"onAnimationEnd"),yn(rc,"onAnimationIteration"),yn(Ns,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(jd,"onTransitionRun"),yn(sc,"onTransitionStart"),yn(Rd,"onTransitionCancel"),yn(Dr,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function $v(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],p=c.event;c=c.listeners;t:{var v=void 0;if(i)for(var E=c.length-1;0<=E;E--){var M=c[E],U=M.instance,Z=M.currentTarget;if(M=M.listener,U!==v&&p.isPropagationStopped())break t;v=M,p.currentTarget=Z;try{v(p)}catch(tt){Us(tt)}p.currentTarget=null,v=U}else for(E=0;E<c.length;E++){if(M=c[E],U=M.instance,Z=M.currentTarget,M=M.listener,U!==v&&p.isPropagationStopped())break t;v=M,p.currentTarget=Z;try{v(p)}catch(tt){Us(tt)}p.currentTarget=null,v=U}}}}function Ft(t,i){var o=i[vi];o===void 0&&(o=i[vi]=new Set);var c=t+"__bubble";o.has(c)||(Wv(i,t,2,!1),o.add(c))}function Vf(t,i,o){var c=0;i&&(c|=4),Wv(o,t,c,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Hf(t){if(!t[Vc]){t[Vc]=!0,Nu.forEach(function(o){o!=="selectionchange"&&(JS.has(o)||Vf(o,!1,t),Vf(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Vf("selectionchange",!1,i))}}function Wv(t,i,o,c){switch(b0(i)){case 2:var p=CT;break;case 8:p=AT;break;default:p=ip}o=p.bind(null,i,o,t),p=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(i,o,{capture:!0,passive:p}):t.addEventListener(i,o,!0):p!==void 0?t.addEventListener(i,o,{passive:p}):t.addEventListener(i,o,!1)}function qf(t,i,o,c,p){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var M=c.stateNode.containerInfo;if(M===p)break;if(E===4)for(E=c.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;M!==null;){if(E=qi(M),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){c=v=E;continue t}M=M.parentNode}}c=c.return}Jo(function(){var Z=v,tt=Ts(o),st=[];t:{var Y=ac.get(t);if(Y!==void 0){var J=Aa,xt=t;switch(t){case"keypress":if(Cs(o)===0)break t;case"keydown":case"keyup":J=Wu;break;case"focusin":xt="focus",J=el;break;case"focusout":xt="blur",J=el;break;case"beforeblur":case"afterblur":J=el;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=wd;break;case Bs:case rc:case Ns:J=nl;break;case Dr:J=Ku;break;case"scroll":case"scrollend":J=$t;break;case"wheel":J=Gi;break;case"copy":case"cut":case"paste":J=Vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Zu;break;case"toggle":case"beforetoggle":J=Rs}var At=(i&4)!==0,ae=!At&&(t==="scroll"||t==="scrollend"),H=At?Y!==null?Y+"Capture":null:Y;At=[];for(var I=Z,W;I!==null;){var nt=I;if(W=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||W===null||H===null||(nt=Wi(I,H),nt!=null&&At.push(zl(I,nt,W))),ae)break;I=I.return}0<At.length&&(Y=new J(Y,xt,null,o,tt),st.push({event:Y,listeners:At}))}}if((i&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",Y&&o!==Ca&&(xt=o.relatedTarget||o.fromElement)&&(qi(xt)||xt[Hi]))break t;if((J||Y)&&(Y=tt.window===tt?tt:(Y=tt.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(xt=o.relatedTarget||o.toElement,J=Z,xt=xt?qi(xt):null,xt!==null&&(ae=h(xt),At=xt.tag,xt!==ae||At!==5&&At!==27&&At!==6)&&(xt=null)):(J=null,xt=Z),J!==xt)){if(At=Vu,nt="onMouseLeave",H="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(At=Zu,nt="onPointerLeave",H="onPointerEnter",I="pointer"),ae=J==null?Y:_i(J),W=xt==null?Y:_i(xt),Y=new At(nt,I+"leave",J,o,tt),Y.target=ae,Y.relatedTarget=W,nt=null,qi(tt)===Z&&(At=new At(H,I+"enter",xt,o,tt),At.target=W,At.relatedTarget=ae,nt=At),ae=nt,J&&xt)e:{for(At=QS,H=J,I=xt,W=0,nt=H;nt;nt=At(nt))W++;nt=0;for(var Et=I;Et;Et=At(Et))nt++;for(;0<W-nt;)H=At(H),W--;for(;0<nt-W;)I=At(I),nt--;for(;W--;){if(H===I||I!==null&&H===I.alternate){At=H;break e}H=At(H),I=At(I)}At=null}else At=null;J!==null&&Zv(st,Y,J,At,!1),xt!==null&&ae!==null&&Zv(st,ae,xt,At,!0)}}t:{if(Y=Z?_i(Z):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var Yt=Ls;else if(Hn(Y))if(Qu)Yt=Ad;else{Yt=Cd;var bt=ai}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?Z&&Ss(Z.elementType)&&(Yt=Ls):Yt=Or;if(Yt&&(Yt=Yt(t,Z))){Ju(st,Yt,o,tt);break t}bt&&bt(t,Y,Z),t==="focusout"&&Z&&Y.type==="number"&&Z.memoizedProps.value!=null&&ii(Y,"number",Y.value)}switch(bt=Z?_i(Z):window,t){case"focusin":(Hn(bt)||bt.contentEditable==="true")&&(Ei=bt,za=Z,zs=null);break;case"focusout":zs=za=Ei=null;break;case"mousedown":Lr=!0;break;case"contextmenu":case"mouseup":case"dragend":Lr=!1,nc(st,o,tt);break;case"selectionchange":if(Da)break;case"keydown":case"keyup":nc(st,o,tt)}var Nt;if(Ra)t:{switch(t){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else jr?Xu(t,o)&&(Zt="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Zt="onCompositionStart");Zt&&(ka&&o.locale!=="ko"&&(jr||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&jr&&(Nt=wi()):(In=tt,Zi="value"in In?In.value:In.textContent,jr=!0)),bt=Hc(Z,Zt),0<bt.length&&(Zt=new il(Zt,t,null,o,tt),st.push({event:Zt,listeners:bt}),Nt?Zt.data=Nt:(Nt=ol(o),Nt!==null&&(Zt.data=Nt)))),(Nt=Td?On(t,o):Rr(t,o))&&(Zt=Hc(Z,"onBeforeInput"),0<Zt.length&&(bt=new il("onBeforeInput","beforeinput",null,o,tt),st.push({event:bt,listeners:Zt}),bt.data=Nt)),KS(st,t,Z,o,tt)}$v(st,i)})}function zl(t,i,o){return{instance:t,listener:i,currentTarget:o}}function Hc(t,i){for(var o=i+"Capture",c=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Wi(t,o),p!=null&&c.unshift(zl(t,p,v)),p=Wi(t,i),p!=null&&c.push(zl(t,p,v))),t.tag===3)return c;t=t.return}return[]}function QS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zv(t,i,o,c,p){for(var v=i._reactName,E=[];o!==null&&o!==c;){var M=o,U=M.alternate,Z=M.stateNode;if(M=M.tag,U!==null&&U===c)break;M!==5&&M!==26&&M!==27||Z===null||(U=Z,p?(Z=Wi(o,v),Z!=null&&E.unshift(zl(o,Z,U))):p||(Z=Wi(o,v),Z!=null&&E.push(zl(o,Z,U)))),o=o.return}E.length!==0&&t.push({event:i,listeners:E})}var tT=/\r\n?/g,eT=/\u0000|\uFFFD/g;function Gv(t){return(typeof t=="string"?t:""+t).replace(tT,`
`).replace(eT,"")}function Kv(t,i){return i=Gv(i),Gv(t)===i}function se(t,i,o,c,p,v){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Un(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Un(t,""+c);break;case"className":ie(t,"class",c);break;case"tabIndex":ie(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ie(t,o,c);break;case"style":Ta(t,c,v);break;case"data":if(i!=="object"){ie(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=Tr(""+c),t.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(i!=="input"&&se(t,i,"name",p.name,p,null),se(t,i,"formEncType",p.formEncType,p,null),se(t,i,"formMethod",p.formMethod,p,null),se(t,i,"formTarget",p.formTarget,p,null)):(se(t,i,"encType",p.encType,p,null),se(t,i,"method",p.method,p,null),se(t,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=Tr(""+c),t.setAttribute(o,c);break;case"onClick":c!=null&&(t.onclick=mn);break;case"onScroll":c!=null&&Ft("scroll",t);break;case"onScrollEnd":c!=null&&Ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}o=Tr(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""+c):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":c===!0?t.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,c):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(o,c):t.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(o):t.setAttribute(o,c);break;case"popover":Ft("beforetoggle",t),Ft("toggle",t),Vt(t,"popover",c);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Vt(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ea.get(o)||o,Vt(t,o,c))}}function Ff(t,i,o,c,p,v){switch(o){case"style":Ta(t,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof c=="string"?Un(t,c):(typeof c=="number"||typeof c=="bigint")&&Un(t,""+c);break;case"onScroll":c!=null&&Ft("scroll",t);break;case"onScrollEnd":c!=null&&Ft("scrollend",t);break;case"onClick":c!=null&&(t.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),v=t[qe]||null,v=v!=null?v[o]:null,typeof v=="function"&&t.removeEventListener(i,v,p),typeof c=="function")){typeof v!="function"&&v!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,c,p);break t}o in t?t[o]=c:c===!0?t.setAttribute(o,""):Vt(t,o,c)}}}function Xe(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",t),Ft("load",t);var c=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var E=o[v];if(E!=null)switch(v){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:se(t,i,v,E,o,null)}}p&&se(t,i,"srcSet",o.srcSet,o,null),c&&se(t,i,"src",o.src,o,null);return;case"input":Ft("invalid",t);var M=v=E=p=null,U=null,Z=null;for(c in o)if(o.hasOwnProperty(c)){var tt=o[c];if(tt!=null)switch(c){case"name":p=tt;break;case"type":E=tt;break;case"checked":U=tt;break;case"defaultChecked":Z=tt;break;case"value":v=tt;break;case"defaultValue":M=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,i));break;default:se(t,i,c,tt,o,null)}}ws(t,v,M,U,Z,E,p,!1);return;case"select":Ft("invalid",t),c=E=v=null;for(p in o)if(o.hasOwnProperty(p)&&(M=o[p],M!=null))switch(p){case"value":v=M;break;case"defaultValue":E=M;break;case"multiple":c=M;default:se(t,i,p,M,o,null)}i=v,o=E,t.multiple=!!c,i!=null?oe(t,!!c,i,!1):o!=null&&oe(t,!!c,o,!0);return;case"textarea":Ft("invalid",t),v=p=c=null;for(E in o)if(o.hasOwnProperty(E)&&(M=o[E],M!=null))switch(E){case"value":c=M;break;case"defaultValue":p=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:se(t,i,E,M,o,null)}wr(t,c,p,v);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(c=o[U],c!=null))switch(U){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:se(t,i,U,c,o,null)}return;case"dialog":Ft("beforetoggle",t),Ft("toggle",t),Ft("cancel",t),Ft("close",t);break;case"iframe":case"object":Ft("load",t);break;case"video":case"audio":for(c=0;c<Dl.length;c++)Ft(Dl[c],t);break;case"image":Ft("error",t),Ft("load",t);break;case"details":Ft("toggle",t);break;case"embed":case"source":case"link":Ft("error",t),Ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(c=o[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:se(t,i,Z,c,o,null)}return;default:if(Ss(i)){for(tt in o)o.hasOwnProperty(tt)&&(c=o[tt],c!==void 0&&Ff(t,i,tt,c,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(c=o[M],c!=null&&se(t,i,M,c,o,null))}function nT(t,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,E=null,M=null,U=null,Z=null,tt=null;for(J in o){var st=o[J];if(o.hasOwnProperty(J)&&st!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":U=st;default:c.hasOwnProperty(J)||se(t,i,J,null,c,st)}}for(var Y in c){var J=c[Y];if(st=o[Y],c.hasOwnProperty(Y)&&(J!=null||st!=null))switch(Y){case"type":v=J;break;case"name":p=J;break;case"checked":Z=J;break;case"defaultChecked":tt=J;break;case"value":E=J;break;case"defaultValue":M=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:J!==st&&se(t,i,Y,J,c,st)}}Ko(t,E,M,U,Z,tt,v,p);return;case"select":J=E=M=Y=null;for(v in o)if(U=o[v],o.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":J=U;default:c.hasOwnProperty(v)||se(t,i,v,null,c,U)}for(p in c)if(v=c[p],U=o[p],c.hasOwnProperty(p)&&(v!=null||U!=null))switch(p){case"value":Y=v;break;case"defaultValue":M=v;break;case"multiple":E=v;default:v!==U&&se(t,i,p,v,c,U)}i=M,o=E,c=J,Y!=null?oe(t,!!o,Y,!1):!!c!=!!o&&(i!=null?oe(t,!!o,i,!0):oe(t,!!o,o?[]:"",!1));return;case"textarea":J=Y=null;for(M in o)if(p=o[M],o.hasOwnProperty(M)&&p!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:se(t,i,M,null,c,p)}for(E in c)if(p=c[E],v=o[E],c.hasOwnProperty(E)&&(p!=null||v!=null))switch(E){case"value":Y=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==v&&se(t,i,E,p,c,v)}bi(t,Y,J);return;case"option":for(var xt in o)if(Y=o[xt],o.hasOwnProperty(xt)&&Y!=null&&!c.hasOwnProperty(xt))switch(xt){case"selected":t.selected=!1;break;default:se(t,i,xt,null,c,Y)}for(U in c)if(Y=c[U],J=o[U],c.hasOwnProperty(U)&&Y!==J&&(Y!=null||J!=null))switch(U){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:se(t,i,U,Y,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in o)Y=o[At],o.hasOwnProperty(At)&&Y!=null&&!c.hasOwnProperty(At)&&se(t,i,At,null,c,Y);for(Z in c)if(Y=c[Z],J=o[Z],c.hasOwnProperty(Z)&&Y!==J&&(Y!=null||J!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:se(t,i,Z,Y,c,J)}return;default:if(Ss(i)){for(var ae in o)Y=o[ae],o.hasOwnProperty(ae)&&Y!==void 0&&!c.hasOwnProperty(ae)&&Ff(t,i,ae,void 0,c,Y);for(tt in c)Y=c[tt],J=o[tt],!c.hasOwnProperty(tt)||Y===J||Y===void 0&&J===void 0||Ff(t,i,tt,Y,c,J);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!c.hasOwnProperty(H)&&se(t,i,H,null,c,Y);for(st in c)Y=c[st],J=o[st],!c.hasOwnProperty(st)||Y===J||Y==null&&J==null||se(t,i,st,Y,c,J)}function Yv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],v=p.transferSize,E=p.initiatorType,M=p.duration;if(v&&M&&Yv(E)){for(E=0,M=p.responseEnd,c+=1;c<o.length;c++){var U=o[c],Z=U.startTime;if(Z>M)break;var tt=U.transferSize,st=U.initiatorType;tt&&Yv(st)&&(U=U.responseEnd,E+=tt*(U<M?1:(M-Z)/(U-Z)))}if(--c,i+=8*(v+E)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $f=null,Wf=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function Xv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gf=null;function rT(){var t=window.event;return t&&t.type==="popstate"?t===Gf?!1:(Gf=t,!0):(Gf=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(t){return t0.resolve(null).then(t).catch(oT)}:Qv;function oT(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function e0(t,i){var o=i,c=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){t.removeChild(p),lo(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Bl(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,Bl(o);for(var v=o.firstChild;v;){var E=v.nextSibling,M=v.nodeName;v[_s]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=E}}else o==="body"&&Bl(t.ownerDocument.body);o=p}while(o);lo(i)}function n0(t,i){var o=t;t=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=c}while(o)}function Kf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kf(o),$o(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function lT(t,i,o,c){for(;t.nodeType===1;){var p=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[_s])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function uT(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Gn(t.nextSibling),t===null))return null;return t}function i0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Gn(t.nextSibling),t===null))return null;return t}function Yf(t){return t.data==="$?"||t.data==="$~"}function Xf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function cT(t,i){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Jf=null;function r0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(i===0)return Gn(t.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}t=t.nextSibling}return null}function s0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return t;i--}else o!=="/$"&&o!=="/&"||i++}t=t.previousSibling}return null}function a0(t,i,o){switch(i=qc(o),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);$o(t)}var Kn=new Map,o0=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ur=it.d;it.d={f:hT,r:dT,D:fT,C:pT,L:mT,m:gT,X:vT,S:yT,M:_T};function hT(){var t=ur.f(),i=Dc();return t||i}function dT(t){var i=_r(t);i!==null&&i.tag===5&&i.type==="form"?Ty(i):ur.r(t)}var so=typeof document>"u"?null:document;function l0(t,i,o){var c=so;if(c&&typeof i=="string"&&i){var p=ce(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),o0.has(p)||(o0.add(p),t={rel:t,crossOrigin:o,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),Xe(i,"link",t),ke(i),c.head.appendChild(i)))}}function fT(t){ur.D(t),l0("dns-prefetch",t,null)}function pT(t,i){ur.C(t,i),l0("preconnect",t,i)}function mT(t,i,o){ur.L(t,i,o);var c=so;if(c&&t&&i){var p='link[rel="preload"][as="'+ce(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+ce(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+ce(o.imageSizes)+'"]')):p+='[href="'+ce(t)+'"]';var v=p;switch(i){case"style":v=ao(t);break;case"script":v=oo(t)}Kn.has(v)||(t=w({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Kn.set(v,t),c.querySelector(p)!==null||i==="style"&&c.querySelector(Nl(v))||i==="script"&&c.querySelector(Ul(v))||(i=c.createElement("link"),Xe(i,"link",t),ke(i),c.head.appendChild(i)))}}function gT(t,i){ur.m(t,i);var o=so;if(o&&t){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+ce(c)+'"][href="'+ce(t)+'"]',v=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=oo(t)}if(!Kn.has(v)&&(t=w({rel:"modulepreload",href:t},i),Kn.set(v,t),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ul(v)))return}c=o.createElement("link"),Xe(c,"link",t),ke(c),o.head.appendChild(c)}}}function yT(t,i,o){ur.S(t,i,o);var c=so;if(c&&t){var p=xr(c).hoistableStyles,v=ao(t);i=i||"default";var E=p.get(v);if(!E){var M={loading:0,preload:null};if(E=c.querySelector(Nl(v)))M.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Kn.get(v))&&Qf(t,o);var U=E=c.createElement("link");ke(U),Xe(U,"link",t),U._p=new Promise(function(Z,tt){U.onload=Z,U.onerror=tt}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,$c(E,i,c)}E={type:"stylesheet",instance:E,count:1,state:M},p.set(v,E)}}}function vT(t,i){ur.X(t,i);var o=so;if(o&&t){var c=xr(o).hoistableScripts,p=oo(t),v=c.get(p);v||(v=o.querySelector(Ul(p)),v||(t=w({src:t,async:!0},i),(i=Kn.get(p))&&tp(t,i),v=o.createElement("script"),ke(v),Xe(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function _T(t,i){ur.M(t,i);var o=so;if(o&&t){var c=xr(o).hoistableScripts,p=oo(t),v=c.get(p);v||(v=o.querySelector(Ul(p)),v||(t=w({src:t,async:!0,type:"module"},i),(i=Kn.get(p))&&tp(t,i),v=o.createElement("script"),ke(v),Xe(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function u0(t,i,o,c){var p=(p=gt.current)?Fc(p):null;if(!p)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ao(o.href),o=xr(p).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=ao(o.href);var v=xr(p).hoistableStyles,E=v.get(t);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,E),(v=p.querySelector(Nl(t)))&&!v._p&&(E.instance=v,E.state.loading=5),Kn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(t,o),v||xT(p,t,o,E.state))),i&&c===null)throw Error(a(528,""));return E}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(o),o=xr(p).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ao(t){return'href="'+ce(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function c0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function xT(t,i,o,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Xe(i,"link",o),ke(i),t.head.appendChild(i))}function oo(t){return'[src="'+ce(t)+'"]'}function Ul(t){return"script[async]"+t}function h0(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+ce(o.href)+'"]');if(c)return i.instance=c,ke(c),c;var p=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ke(c),Xe(c,"style",p),$c(c,o.precedence,t),i.instance=c;case"stylesheet":p=ao(o.href);var v=t.querySelector(Nl(p));if(v)return i.state.loading|=4,i.instance=v,ke(v),v;c=c0(o),(p=Kn.get(p))&&Qf(c,p),v=(t.ownerDocument||t).createElement("link"),ke(v);var E=v;return E._p=new Promise(function(M,U){E.onload=M,E.onerror=U}),Xe(v,"link",c),i.state.loading|=4,$c(v,o.precedence,t),i.instance=v;case"script":return v=oo(o.src),(p=t.querySelector(Ul(v)))?(i.instance=p,ke(p),p):(c=o,(p=Kn.get(v))&&(c=w({},o),tp(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),ke(p),Xe(p,"link",c),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,$c(c,o.precedence,t));return i.instance}function $c(t,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,v=p,E=0;E<c.length;E++){var M=c[E];if(M.dataset.precedence===i)v=M;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Qf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function tp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Wc=null;function d0(t,i,o){if(Wc===null){var c=new Map,p=Wc=new Map;p.set(o,c)}else p=Wc,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(t))return c;for(c.set(t,null),o=o.getElementsByTagName(t),p=0;p<o.length;p++){var v=o[p];if(!(v[_s]||v[Re]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(i)||"";E=t+E;var M=c.get(E);M?M.push(v):c.set(E,[v])}}return c}function f0(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function bT(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function p0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wT(t,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=ao(c.href),v=i.querySelector(Nl(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Zc.bind(t),i.then(t,t)),o.state.loading|=4,o.instance=v,ke(v);return}v=i.ownerDocument||i,c=c0(c),(p=Kn.get(p))&&Qf(c,p),v=v.createElement("link"),ke(v);var E=v;E._p=new Promise(function(M,U){E.onload=M,E.onerror=U}),Xe(v,"link",c),o.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Zc.bind(t),i.addEventListener("load",o),i.addEventListener("error",o))}}var ep=0;function ST(t,i){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var c=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+i);0<t.imgBytes&&ep===0&&(ep=62500*iT());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>ep?50:800)+i);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(TT,t),Gc=null,Zc.call(t))}function TT(t,i){if(!(i.state.loading&4)){var o=Gc.get(t);if(o)var c=o.get(null);else{o=new Map,Gc.set(t,o);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var E=p[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}p=i.instance,E=p.getAttribute("data-precedence"),v=o.get(E)||c,v===c&&o.set(null,p),o.set(E,p),this.count++,c=Zc.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var Il={$$typeof:D,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function ET(t,i,o,c,p,v,E,M,U){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.hiddenUpdates=Ho(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function m0(t,i,o,c,p,v,E,M,U,Z,tt,st){return t=new ET(t,i,o,E,U,Z,tt,st,M),i=1,v===!0&&(i|=24),v=nn(3,null,null,i),t.current=v,v.stateNode=t,i=Ld(),i.refCount++,t.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:o,cache:i},Bd(v),t}function g0(t){return t?(t=Ki,t):Ki}function y0(t,i,o,c,p,v){p=g0(p),c.context===null?c.context=p:c.pendingContext=p,c=Ur(i),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=Ir(t,c,i),o!==null&&(Tn(o,t,i),vl(o,t,i))}function v0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function np(t,i){v0(t,i),(t=t.alternate)&&v0(t,i)}function _0(t){if(t.tag===13||t.tag===31){var i=$n(t,67108864);i!==null&&Tn(i,t,67108864),np(t,67108864)}}function x0(t){if(t.tag===13||t.tag===31){var i=zn();i=fn(i);var o=$n(t,i);o!==null&&Tn(o,t,i),np(t,i)}}var Yc=!0;function CT(t,i,o,c){var p=$.T;$.T=null;var v=it.p;try{it.p=2,ip(t,i,o,c)}finally{it.p=v,$.T=p}}function AT(t,i,o,c){var p=$.T;$.T=null;var v=it.p;try{it.p=8,ip(t,i,o,c)}finally{it.p=v,$.T=p}}function ip(t,i,o,c){if(Yc){var p=rp(c);if(p===null)qf(t,i,c,Xc,o),w0(t,c);else if(RT(p,t,i,o,c))c.stopPropagation();else if(w0(t,c),i&4&&-1<jT.indexOf(t)){for(;p!==null;){var v=_r(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Ii(v.pendingLanes);if(E!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var U=1<<31-ln(E);M.entanglements[1]|=U,E&=~U}Li(v),(Jt&6)===0&&(Lc=on()+500,Pl(0))}}break;case 31:case 13:M=$n(v,2),M!==null&&Tn(M,v,2),Dc(),np(v,2)}if(v=rp(c),v===null&&qf(t,i,c,Xc,o),v===p)break;p=v}p!==null&&c.stopPropagation()}else qf(t,i,c,null,o)}}function rp(t){return t=Ts(t),sp(t)}var Xc=null;function sp(t){if(Xc=null,t=qi(t),t!==null){var i=h(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=d(i),t!==null)return t;t=null}else if(o===31){if(t=m(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function b0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ud()){case ba:return 2;case Io:return 8;case fs:case cd:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var ap=!1,Xr=null,Jr=null,Qr=null,Vl=new Map,Hl=new Map,ts=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(t,i){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function ql(t,i,o,c,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},i!==null&&(i=_r(i),i!==null&&_0(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function RT(t,i,o,c,p){switch(i){case"focusin":return Xr=ql(Xr,t,i,o,c,p),!0;case"dragenter":return Jr=ql(Jr,t,i,o,c,p),!0;case"mouseover":return Qr=ql(Qr,t,i,o,c,p),!0;case"pointerover":var v=p.pointerId;return Vl.set(v,ql(Vl.get(v)||null,t,i,o,c,p)),!0;case"gotpointercapture":return v=p.pointerId,Hl.set(v,ql(Hl.get(v)||null,t,i,o,c,p)),!0}return!1}function S0(t){var i=qi(t.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){t.blockedOn=i,Fo(t.priority,function(){x0(o)});return}}else if(i===31){if(i=m(o),i!==null){t.blockedOn=i,Fo(t.priority,function(){x0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=rp(t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Ca=c,o.target.dispatchEvent(c),Ca=null}else return i=_r(o),i!==null&&_0(i),t.blockedOn=o,!1;i.shift()}return!0}function T0(t,i,o){Jc(t)&&o.delete(i)}function kT(){ap=!1,Xr!==null&&Jc(Xr)&&(Xr=null),Jr!==null&&Jc(Jr)&&(Jr=null),Qr!==null&&Jc(Qr)&&(Qr=null),Vl.forEach(T0),Hl.forEach(T0)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,ap||(ap=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kT)))}var th=null;function E0(t){th!==t&&(th=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){th===t&&(th=null);for(var i=0;i<t.length;i+=3){var o=t[i],c=t[i+1],p=t[i+2];if(typeof c!="function"){if(sp(c||o)===null)continue;break}var v=_r(o);v!==null&&(t.splice(i,3),i-=3,rf(v,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function lo(t){function i(U){return Qc(U,t)}Xr!==null&&Qc(Xr,t),Jr!==null&&Qc(Jr,t),Qr!==null&&Qc(Qr,t),Vl.forEach(i),Hl.forEach(i);for(var o=0;o<ts.length;o++){var c=ts[o];c.blockedOn===t&&(c.blockedOn=null)}for(;0<ts.length&&(o=ts[0],o.blockedOn===null);)S0(o),o.blockedOn===null&&ts.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],v=o[c+1],E=p[qe]||null;if(typeof v=="function")E||E0(o);else if(E){var M=null;if(v&&v.hasAttribute("formAction")){if(p=v,E=v[qe]||null)M=E.formAction;else if(sp(p)!==null)continue}else M=E.action;typeof M=="function"?o[c+1]=M:(o.splice(c,3),c-=3),E0(o)}}}function C0(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function op(t){this._internalRoot=t}eh.prototype.render=op.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=zn();y0(o,c,t,i,null,null)},eh.prototype.unmount=op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;y0(t.current,2,null,t,null,null),Dc(),i[Hi]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=qo();t={blockedOn:null,target:t,priority:i};for(var o=0;o<ts.length&&i!==0&&i<ts[o].priority;o++);ts.splice(o,0,t),o===0&&S0(t)}};var A0=e.version;if(A0!=="19.2.1")throw Error(a(527,A0,"19.2.1"));it.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var OT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{vr=nh.inject(OT),Ze=nh}catch{}}return $l.createRoot=function(t,i){if(!l(t))throw Error(a(299));var o=!1,c="",p=Py,v=Dy,E=zy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=m0(t,1,!1,null,null,o,c,null,p,v,E,C0),t[Hi]=i.current,Hf(t),new op(i)},$l.hydrateRoot=function(t,i,o){if(!l(t))throw Error(a(299));var c=!1,p="",v=Py,E=Dy,M=zy,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=m0(t,1,!0,i,o??null,c,p,U,v,E,M,C0),i.context=g0(null),o=i.current,c=zn(),c=fn(c),p=Ur(c),p.callback=null,Ir(o,p,c),o=c,i.current.lanes=o,Vi(i,o),Li(i),t[Hi]=i.current,Hf(t),new eh(i)},$l.version="19.2.1",$l}var B0;function VT(){if(B0)return cp.exports;B0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cp.exports=IT(),cp.exports}var HT=VT();const qT=Wh(HT);var N0="popstate";function FT(n={}){function e(l,h){let{pathname:d="/",search:m="",hash:g=""}=ma(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Ip("",{pathname:d,search:m,hash:g},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function r(l,h){let d=l.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let g=l.location.href,_=g.indexOf("#");m=_===-1?g:g.slice(0,_)}return m+"#"+(typeof h=="string"?h:lu(h))}function a(l,h){Nn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return WT(e,r,a,n)}function ye(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $T(){return Math.random().toString(36).substring(2,10)}function U0(n,e){return{usr:n.state,key:n.key,idx:e}}function Ip(n,e,r=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:r,key:e&&e.key||a||$T()}}function lu({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function ma(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function WT(n,e,r,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,d=l.history,m="POP",g=null,_=b();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function b(){return(d.state||{idx:null}).idx}function w(){m="POP";let k=b(),z=k==null?null:k-_;_=k,g&&g({action:m,location:R.location,delta:z})}function T(k,z){m="PUSH";let B=Ip(R.location,k,z);r&&r(B,k),_=b()+1;let D=U0(B,_),V=R.createHref(B);try{d.pushState(D,"",V)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(V)}h&&g&&g({action:m,location:R.location,delta:1})}function C(k,z){m="REPLACE";let B=Ip(R.location,k,z);r&&r(B,k),_=b();let D=U0(B,_),V=R.createHref(B);d.replaceState(D,"",V),h&&g&&g({action:m,location:R.location,delta:0})}function O(k){return ZT(k)}let R={get action(){return m},get location(){return n(l,d)},listen(k){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(N0,w),g=k,()=>{l.removeEventListener(N0,w),g=null}},createHref(k){return e(l,k)},createURL:O,encodeLocation(k){let z=O(k);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:C,go(k){return d.go(k)}};return R}function ZT(n,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ye(r,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:lu(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Hx(n,e,r="/"){return GT(n,e,r,!1)}function GT(n,e,r,a){let l=typeof e=="string"?ma(e):e,h=fr(l.pathname||"/",r);if(h==null)return null;let d=qx(n);KT(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let _=a2(h);m=r2(d[g],_,a)}return m}function qx(n,e=[],r=[],a="",l=!1){let h=(d,m,g=l,_)=>{let b={relativePath:_===void 0?d.path||"":_,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(a)&&g)return;ye(b.relativePath.startsWith(a),`Absolute route path "${b.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(a.length)}let w=dr([a,b.relativePath]),T=r.concat(b);d.children&&d.children.length>0&&(ye(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),qx(d.children,e,T,w,g)),!(d.path==null&&!d.index)&&e.push({path:w,score:n2(w,d.index),routesMeta:T})};return n.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))h(d,m);else for(let g of Fx(d.path))h(d,m,!0,g)}),e}function Fx(n){let e=n.split("/");if(e.length===0)return[];let[r,...a]=e,l=r.endsWith("?"),h=r.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let d=Fx(a.join("/")),m=[];return m.push(...d.map(g=>g===""?h:[h,g].join("/"))),l&&m.push(...d),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function KT(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:i2(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var YT=/^:[\w-]+$/,XT=3,JT=2,QT=1,t2=10,e2=-2,I0=n=>n==="*";function n2(n,e){let r=n.split("/"),a=r.length;return r.some(I0)&&(a+=e2),e&&(a+=JT),r.filter(l=>!I0(l)).reduce((l,h)=>l+(YT.test(h)?XT:h===""?QT:t2),a)}function i2(n,e){return n.length===e.length&&n.slice(0,-1).every((a,l)=>a===e[l])?n[n.length-1]-e[e.length-1]:0}function r2(n,e,r=!1){let{routesMeta:a}=n,l={},h="/",d=[];for(let m=0;m<a.length;++m){let g=a[m],_=m===a.length-1,b=h==="/"?e:e.slice(h.length)||"/",w=Rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},b),T=g.route;if(!w&&_&&r&&!a[a.length-1].route.index&&(w=Rh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:dr([h,w.pathname]),pathnameBase:h2(dr([h,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(h=dr([h,w.pathnameBase]))}return d}function Rh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,a]=s2(n.path,n.caseSensitive,n.end),l=e.match(r);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((_,{paramName:b,isOptional:w},T)=>{if(b==="*"){let O=m[T]||"";d=h.slice(0,h.length-O.length).replace(/(.)\/+$/,"$1")}const C=m[T];return w&&!C?_[b]=void 0:_[b]=(C||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:d,pattern:n}}function s2(n,e=!1,r=!0){Nn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function a2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=n.charAt(r);return a&&a!=="/"?null:n.slice(r)||"/"}var o2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l2=n=>o2.test(n);function u2(n,e="/"){let{pathname:r,search:a="",hash:l=""}=typeof n=="string"?ma(n):n,h;if(r)if(l2(r))h=r;else{if(r.includes("//")){let d=r;r=r.replace(/\/\/+/g,"/"),Nn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${r}`)}r.startsWith("/")?h=V0(r.substring(1),"/"):h=V0(r,e)}else h=e;return{pathname:h,search:d2(a),hash:f2(l)}}function V0(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function pp(n,e,r,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c2(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function km(n){let e=c2(n);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function Om(n,e,r,a=!1){let l;typeof n=="string"?l=ma(n):(l={...n},ye(!l.pathname||!l.pathname.includes("?"),pp("?","pathname","search",l)),ye(!l.pathname||!l.pathname.includes("#"),pp("#","pathname","hash",l)),ye(!l.search||!l.search.includes("#"),pp("#","search","hash",l)));let h=n===""||l.pathname==="",d=h?"/":l.pathname,m;if(d==null)m=r;else{let w=e.length-1;if(!a&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),w-=1;l.pathname=T.join("/")}m=w>=0?e[w]:"/"}let g=u2(l,m),_=d&&d!=="/"&&d.endsWith("/"),b=(h||d===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(_||b)&&(g.pathname+="/"),g}var dr=n=>n.join("/").replace(/\/\/+/g,"/"),h2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),d2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,f2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function p2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function m2(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $x=["POST","PUT","PATCH","DELETE"];new Set($x);var g2=["GET",...$x];new Set(g2);var ko=j.createContext(null);ko.displayName="DataRouter";var Zh=j.createContext(null);Zh.displayName="DataRouterState";j.createContext(!1);var Wx=j.createContext({isTransitioning:!1});Wx.displayName="ViewTransition";var y2=j.createContext(new Map);y2.displayName="Fetchers";var v2=j.createContext(null);v2.displayName="Await";var Qn=j.createContext(null);Qn.displayName="Navigation";var yu=j.createContext(null);yu.displayName="Location";var ti=j.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var Mm=j.createContext(null);Mm.displayName="RouteError";function _2(n,{relative:e}={}){ye(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=j.useContext(Qn),{hash:l,pathname:h,search:d}=vu(n,{relative:e}),m=h;return r!=="/"&&(m=h==="/"?r:dr([r,h])),a.createHref({pathname:m,search:d,hash:l})}function Oo(){return j.useContext(yu)!=null}function yi(){return ye(Oo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(yu).location}var Zx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gx(n){j.useContext(Qn).static||j.useLayoutEffect(n)}function je(){let{isDataRoute:n}=j.useContext(ti);return n?P2():x2()}function x2(){ye(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(ko),{basename:e,navigator:r}=j.useContext(Qn),{matches:a}=j.useContext(ti),{pathname:l}=yi(),h=JSON.stringify(km(a)),d=j.useRef(!1);return Gx(()=>{d.current=!0}),j.useCallback((g,_={})=>{if(Nn(d.current,Zx),!d.current)return;if(typeof g=="number"){r.go(g);return}let b=Om(g,JSON.parse(h),l,_.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:dr([e,b.pathname])),(_.replace?r.replace:r.push)(b,_.state,_)},[e,r,h,l,n])}var b2=j.createContext(null);function w2(n){let e=j.useContext(ti).outlet;return j.useMemo(()=>e&&j.createElement(b2.Provider,{value:n},e),[e,n])}function Lm(){let{matches:n}=j.useContext(ti),e=n[n.length-1];return e?e.params:{}}function vu(n,{relative:e}={}){let{matches:r}=j.useContext(ti),{pathname:a}=yi(),l=JSON.stringify(km(r));return j.useMemo(()=>Om(n,JSON.parse(l),a,e==="path"),[n,l,a,e])}function S2(n,e){return Kx(n,e)}function Kx(n,e,r,a,l){ye(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=j.useContext(Qn),{matches:d}=j.useContext(ti),m=d[d.length-1],g=m?m.params:{},_=m?m.pathname:"/",b=m?m.pathnameBase:"/",w=m&&m.route;{let B=w&&w.path||"";Yx(_,!w||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=yi(),C;if(e){let B=typeof e=="string"?ma(e):e;ye(b==="/"||B.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${B.pathname}" was given in the \`location\` prop.`),C=B}else C=T;let O=C.pathname||"/",R=O;if(b!=="/"){let B=b.replace(/^\//,"").split("/");R="/"+O.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=Hx(n,{pathname:R});Nn(w||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Nn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=j2(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:dr([b,h.encodeLocation?h.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?b:dr([b,h.encodeLocation?h.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),d,r,a,l);return e&&z?j.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},z):z}function T2(){let n=L2(),e=p2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:h},"ErrorBoundary")," or"," ",j.createElement("code",{style:h},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:l},r):null,d)}var E2=j.createElement(T2,null),C2=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?j.createElement(ti.Provider,{value:this.props.routeContext},j.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A2({routeContext:n,match:e,children:r}){let a=j.useContext(ko);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ti.Provider,{value:n},r)}function j2(n,e=[],r=null,a=null,l=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let h=n,d=r?.errors;if(d!=null){let b=h.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);ye(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),h=h.slice(0,Math.min(h.length,b+1))}let m=!1,g=-1;if(r)for(let b=0;b<h.length;b++){let w=h[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=b),w.route.id){let{loaderData:T,errors:C}=r,O=w.route.loader&&!T.hasOwnProperty(w.route.id)&&(!C||C[w.route.id]===void 0);if(w.route.lazy||O){m=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}let _=r&&a?(b,w)=>{a(b,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:m2(r.matches),errorInfo:w})}:void 0;return h.reduceRight((b,w,T)=>{let C,O=!1,R=null,k=null;r&&(C=d&&w.route.id?d[w.route.id]:void 0,R=w.route.errorElement||E2,m&&(g<0&&T===0?(Yx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,k=null):g===T&&(O=!0,k=w.route.hydrateFallbackElement||null)));let z=e.concat(h.slice(0,T+1)),B=()=>{let D;return C?D=R:O?D=k:w.route.Component?D=j.createElement(w.route.Component,null):w.route.element?D=w.route.element:D=b,j.createElement(A2,{match:w,routeContext:{outlet:b,matches:z,isDataRoute:r!=null},children:D})};return r&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?j.createElement(C2,{location:r.location,revalidation:r.revalidation,component:R,error:C,children:B(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:_}):B()},null)}function Pm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R2(n){let e=j.useContext(ko);return ye(e,Pm(n)),e}function k2(n){let e=j.useContext(Zh);return ye(e,Pm(n)),e}function O2(n){let e=j.useContext(ti);return ye(e,Pm(n)),e}function Dm(n){let e=O2(n),r=e.matches[e.matches.length-1];return ye(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function M2(){return Dm("useRouteId")}function L2(){let n=j.useContext(Mm),e=k2("useRouteError"),r=Dm("useRouteError");return n!==void 0?n:e.errors?.[r]}function P2(){let{router:n}=R2("useNavigate"),e=Dm("useNavigate"),r=j.useRef(!1);return Gx(()=>{r.current=!0}),j.useCallback(async(l,h={})=>{Nn(r.current,Zx),r.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:e,...h}))},[n,e])}var H0={};function Yx(n,e,r){!e&&!H0[n]&&(H0[n]=!0,Nn(!1,r))}j.memo(D2);function D2({routes:n,future:e,state:r,unstable_onError:a}){return Kx(n,void 0,r,a,e)}function Xx({to:n,replace:e,state:r,relative:a}){ye(Oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=j.useContext(Qn);Nn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=j.useContext(ti),{pathname:d}=yi(),m=je(),g=Om(n,km(h),d,a==="path"),_=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(_),{replace:e,state:r,relative:a})},[m,_,a,e,r]),null}function z2(n){return w2(n.context)}function _e(n){ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B2({basename:n="/",children:e=null,location:r,navigationType:a="POP",navigator:l,static:h=!1,unstable_useTransitions:d}){ye(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:l,static:h,unstable_useTransitions:d,future:{}}),[m,l,h,d]);typeof r=="string"&&(r=ma(r));let{pathname:_="/",search:b="",hash:w="",state:T=null,key:C="default"}=r,O=j.useMemo(()=>{let R=fr(_,m);return R==null?null:{location:{pathname:R,search:b,hash:w,state:T,key:C},navigationType:a}},[m,_,b,w,T,C,a]);return Nn(O!=null,`<Router basename="${m}"> is not able to match the URL "${_}${b}${w}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(Qn.Provider,{value:g},j.createElement(yu.Provider,{children:e,value:O}))}function Jx({children:n,location:e}){return S2(Vp(n),e)}function Vp(n,e=[]){let r=[];return j.Children.forEach(n,(a,l)=>{if(!j.isValidElement(a))return;let h=[...e,l];if(a.type===j.Fragment){r.push.apply(r,Vp(a.props.children,h));return}ye(a.type===_e,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ye(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Vp(a.props.children,h)),r.push(d)}),r}var vh="get",_h="application/x-www-form-urlencoded";function Gh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function N2(n){return Gh(n)&&n.tagName.toLowerCase()==="button"}function U2(n){return Gh(n)&&n.tagName.toLowerCase()==="form"}function I2(n){return Gh(n)&&n.tagName.toLowerCase()==="input"}function V2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function H2(n,e){return n.button===0&&(!e||e==="_self")&&!V2(n)}var ih=null;function q2(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var F2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(n){return n!=null&&!F2.has(n)?(Nn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_h}"`),null):n}function $2(n,e){let r,a,l,h,d;if(U2(n)){let m=n.getAttribute("action");a=m?fr(m,e):null,r=n.getAttribute("method")||vh,l=mp(n.getAttribute("enctype"))||_h,h=new FormData(n)}else if(N2(n)||I2(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(a=g?fr(g,e):null,r=n.getAttribute("formmethod")||m.getAttribute("method")||vh,l=mp(n.getAttribute("formenctype"))||mp(m.getAttribute("enctype"))||_h,h=new FormData(m,n),!q2()){let{name:_,type:b,value:w}=n;if(b==="image"){let T=_?`${_}.`:"";h.append(`${T}x`,"0"),h.append(`${T}y`,"0")}else _&&h.append(_,w)}}else{if(Gh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vh,a=null,l=_h,d=n}return h&&l==="text/plain"&&(d=h,h=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function W2(n,e,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&fr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function Z2(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function K2(n,e,r){let a=await Promise.all(n.map(async l=>{let h=e.routes[l.route.id];if(h){let d=await Z2(h,r);return d.links?d.links():[]}return[]}));return Q2(a.flat(1).filter(G2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function q0(n,e,r,a,l,h){let d=(g,_)=>r[_]?g.route.id!==r[_].route.id:!0,m=(g,_)=>r[_].pathname!==g.pathname||r[_].route.path?.endsWith("*")&&r[_].params["*"]!==g.params["*"];return h==="assets"?e.filter((g,_)=>d(g,_)||m(g,_)):h==="data"?e.filter((g,_)=>{let b=a.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(d(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Y2(n,e,{includeHydrateFallback:r}={}){return X2(n.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function X2(n){return[...new Set(n)]}function J2(n){let e={},r=Object.keys(n).sort();for(let a of r)e[a]=n[a];return e}function Q2(n,e){let r=new Set;return new Set(e),n.reduce((a,l)=>{let h=JSON.stringify(J2(l));return r.has(h)||(r.add(h),a.push({key:h,link:l})),a},[])}function Qx(){let n=j.useContext(ko);return zm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tE(){let n=j.useContext(Zh);return zm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bm=j.createContext(void 0);Bm.displayName="FrameworkContext";function tb(){let n=j.useContext(Bm);return zm(n,"You must render this element inside a <HydratedRouter> element"),n}function eE(n,e){let r=j.useContext(Bm),[a,l]=j.useState(!1),[h,d]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:b,onTouchStart:w}=e,T=j.useRef(null);j.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let R=z=>{z.forEach(B=>{d(B.isIntersecting)})},k=new IntersectionObserver(R,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[n]),j.useEffect(()=>{if(a){let R=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(R)}}},[a]);let C=()=>{l(!0)},O=()=>{l(!1),d(!1)};return r?n!=="intent"?[h,T,{}]:[h,T,{onFocus:Wl(m,C),onBlur:Wl(g,O),onMouseEnter:Wl(_,C),onMouseLeave:Wl(b,O),onTouchStart:Wl(w,C)}]:[!1,T,{}]}function Wl(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function nE({page:n,...e}){let{router:r}=Qx(),a=j.useMemo(()=>Hx(r.routes,n,r.basename),[r.routes,n,r.basename]);return a?j.createElement(rE,{page:n,matches:a,...e}):null}function iE(n){let{manifest:e,routeModules:r}=tb(),[a,l]=j.useState([]);return j.useEffect(()=>{let h=!1;return K2(n,e,r).then(d=>{h||l(d)}),()=>{h=!0}},[n,e,r]),a}function rE({page:n,matches:e,...r}){let a=yi(),{manifest:l,routeModules:h}=tb(),{basename:d}=Qx(),{loaderData:m,matches:g}=tE(),_=j.useMemo(()=>q0(n,e,g,l,a,"data"),[n,e,g,l,a]),b=j.useMemo(()=>q0(n,e,g,l,a,"assets"),[n,e,g,l,a]),w=j.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let O=new Set,R=!1;if(e.forEach(z=>{let B=l.routes[z.route.id];!B||!B.hasLoader||(!_.some(D=>D.route.id===z.route.id)&&z.route.id in m&&h[z.route.id]?.shouldRevalidate||B.hasClientLoader?R=!0:O.add(z.route.id))}),O.size===0)return[];let k=W2(n,d,"data");return R&&O.size>0&&k.searchParams.set("_routes",e.filter(z=>O.has(z.route.id)).map(z=>z.route.id).join(",")),[k.pathname+k.search]},[d,m,a,l,_,e,n,h]),T=j.useMemo(()=>Y2(b,l),[b,l]),C=iE(b);return j.createElement(j.Fragment,null,w.map(O=>j.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...r})),T.map(O=>j.createElement("link",{key:O,rel:"modulepreload",href:O,...r})),C.map(({key:O,link:R})=>j.createElement("link",{key:O,nonce:r.nonce,...R})))}function sE(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eb&&(window.__reactRouterVersion="7.10.1")}catch{}function aE({basename:n,children:e,unstable_useTransitions:r,window:a}){let l=j.useRef();l.current==null&&(l.current=FT({window:a,v5Compat:!0}));let h=l.current,[d,m]=j.useState({action:h.action,location:h.location}),g=j.useCallback(_=>{r===!1?m(_):j.startTransition(()=>m(_))},[r]);return j.useLayoutEffect(()=>h.listen(g),[h,g]),j.createElement(B2,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:h,unstable_useTransitions:r===!0})}var nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ib=j.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:l,reloadDocument:h,replace:d,state:m,target:g,to:_,preventScrollReset:b,viewTransition:w,...T},C){let{basename:O,unstable_useTransitions:R}=j.useContext(Qn),k=typeof _=="string"&&nb.test(_),z,B=!1;if(typeof _=="string"&&k&&(z=_,eb))try{let ut=new URL(window.location.href),ht=_.startsWith("//")?new URL(ut.protocol+_):new URL(_),ot=fr(ht.pathname,O);ht.origin===ut.origin&&ot!=null?_=ot+ht.search+ht.hash:B=!0}catch{Nn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=_2(_,{relative:l}),[V,F,G]=eE(a,T),Q=uE(_,{replace:d,state:m,target:g,preventScrollReset:b,relative:l,viewTransition:w,unstable_useTransitions:R});function dt(ut){e&&e(ut),ut.defaultPrevented||Q(ut)}let vt=j.createElement("a",{...T,...G,href:z||D,onClick:B||h?e:dt,ref:sE(C,F),target:g,"data-discover":!k&&r==="render"?"true":void 0});return V&&!k?j.createElement(j.Fragment,null,vt,j.createElement(nE,{page:D})):vt});ib.displayName="Link";var Hp=j.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:l=!1,style:h,to:d,viewTransition:m,children:g,..._},b){let w=vu(d,{relative:_.relative}),T=yi(),C=j.useContext(Zh),{navigator:O,basename:R}=j.useContext(Qn),k=C!=null&&pE(w)&&m===!0,z=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,B=T.pathname,D=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(B=B.toLowerCase(),D=D?D.toLowerCase():null,z=z.toLowerCase()),D&&R&&(D=fr(D,R)||D);const V=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let F=B===z||!l&&B.startsWith(z)&&B.charAt(V)==="/",G=D!=null&&(D===z||!l&&D.startsWith(z)&&D.charAt(z.length)==="/"),Q={isActive:F,isPending:G,isTransitioning:k},dt=F?e:void 0,vt;typeof a=="function"?vt=a(Q):vt=[a,F?"active":null,G?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ut=typeof h=="function"?h(Q):h;return j.createElement(ib,{..._,"aria-current":dt,className:vt,ref:b,style:ut,to:d,viewTransition:m},typeof g=="function"?g(Q):g)});Hp.displayName="NavLink";var oE=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:l,state:h,method:d=vh,action:m,onSubmit:g,relative:_,preventScrollReset:b,viewTransition:w,...T},C)=>{let{unstable_useTransitions:O}=j.useContext(Qn),R=dE(),k=fE(m,{relative:_}),z=d.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&nb.test(m),D=V=>{if(g&&g(V),V.defaultPrevented)return;V.preventDefault();let F=V.nativeEvent.submitter,G=F?.getAttribute("formmethod")||d,Q=()=>R(F||V.currentTarget,{fetcherKey:e,method:G,navigate:r,replace:l,state:h,relative:_,preventScrollReset:b,viewTransition:w});O&&r!==!1?j.startTransition(()=>Q()):Q()};return j.createElement("form",{ref:C,method:z,action:k,onSubmit:a?g:D,...T,"data-discover":!B&&n==="render"?"true":void 0})});oE.displayName="Form";function lE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rb(n){let e=j.useContext(ko);return ye(e,lE(n)),e}function uE(n,{target:e,replace:r,state:a,preventScrollReset:l,relative:h,viewTransition:d,unstable_useTransitions:m}={}){let g=je(),_=yi(),b=vu(n,{relative:h});return j.useCallback(w=>{if(H2(w,e)){w.preventDefault();let T=r!==void 0?r:lu(_)===lu(b),C=()=>g(n,{replace:T,state:a,preventScrollReset:l,relative:h,viewTransition:d});m?j.startTransition(()=>C()):C()}},[_,g,b,r,a,e,n,l,h,d,m])}var cE=0,hE=()=>`__${String(++cE)}__`;function dE(){let{router:n}=rb("useSubmit"),{basename:e}=j.useContext(Qn),r=M2(),a=n.fetch,l=n.navigate;return j.useCallback(async(h,d={})=>{let{action:m,method:g,encType:_,formData:b,body:w}=$2(h,e);if(d.navigate===!1){let T=d.fetcherKey||hE();await a(T,r,d.action||m,{preventScrollReset:d.preventScrollReset,formData:b,body:w,formMethod:d.method||g,formEncType:d.encType||_,flushSync:d.flushSync})}else await l(d.action||m,{preventScrollReset:d.preventScrollReset,formData:b,body:w,formMethod:d.method||g,formEncType:d.encType||_,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,l,e,r])}function fE(n,{relative:e}={}){let{basename:r}=j.useContext(Qn),a=j.useContext(ti);ye(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...vu(n||".",{relative:e})},d=yi();if(n==null){h.search=d.search;let m=new URLSearchParams(h.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let b=m.toString();h.search=b?`?${b}`:""}}return(!n||n===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(h.pathname=h.pathname==="/"?r:dr([r,h.pathname])),lu(h)}function pE(n,{relative:e}={}){let r=j.useContext(Wx);ye(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=rb("useViewTransitionState"),l=vu(n,{relative:e});if(!r.isTransitioning)return!1;let h=fr(r.currentLocation.pathname,a)||r.currentLocation.pathname,d=fr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Rh(l.pathname,d)!=null||Rh(l.pathname,h)!=null}var mE=Vx(),cr={},rh={},qp=function(n,e){return qp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},qp(n,e)};function sb(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qp(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kh=function(){return kh=Object.assign||function(e){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&(e[h]=r[h])}return e},kh.apply(this,arguments)};function Mo(n,e){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(n);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(n,a[l])&&(r[a[l]]=n[a[l]]);return r}function ab(n,e,r,a){var l=arguments.length,h=l<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(n,e,r,a);else for(var m=n.length-1;m>=0;m--)(d=n[m])&&(h=(l<3?d(h):l>3?d(e,r,h):d(e,r))||h);return l>3&&h&&Object.defineProperty(e,r,h),h}function ob(n,e){return function(r,a){e(r,a,n)}}function lb(n,e,r,a,l,h){function d(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var m=a.kind,g=m==="getter"?"get":m==="setter"?"set":"value",_=!e&&n?a.static?n:n.prototype:null,b=e||(_?Object.getOwnPropertyDescriptor(_,a.name):{}),w,T=!1,C=r.length-1;C>=0;C--){var O={};for(var R in a)O[R]=R==="access"?{}:a[R];for(var R in a.access)O.access[R]=a.access[R];O.addInitializer=function(z){if(T)throw new TypeError("Cannot add initializers after decoration has completed");h.push(d(z||null))};var k=(0,r[C])(m==="accessor"?{get:b.get,set:b.set}:b[g],O);if(m==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(w=d(k.get))&&(b.get=w),(w=d(k.set))&&(b.set=w),(w=d(k.init))&&l.unshift(w)}else(w=d(k))&&(m==="field"?l.unshift(w):b[g]=w)}_&&Object.defineProperty(_,a.name,b),T=!0}function ub(n,e,r){for(var a=arguments.length>2,l=0;l<e.length;l++)r=a?e[l].call(n,r):e[l].call(n);return a?r:void 0}function cb(n){return typeof n=="symbol"?n:"".concat(n)}function hb(n,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function db(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function _t(n,e,r,a){function l(h){return h instanceof r?h:new r(function(d){d(h)})}return new(r||(r=Promise))(function(h,d){function m(b){try{_(a.next(b))}catch(w){d(w)}}function g(b){try{_(a.throw(b))}catch(w){d(w)}}function _(b){b.done?h(b.value):l(b.value).then(m,g)}_((a=a.apply(n,e||[])).next())})}function fb(n,e){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,l,h,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=m(0),d.throw=m(1),d.return=m(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(_){return function(b){return g([_,b])}}function g(_){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,_[0]&&(r=0)),r;)try{if(a=1,l&&(h=_[0]&2?l.return:_[0]?l.throw||((h=l.return)&&h.call(l),0):l.next)&&!(h=h.call(l,_[1])).done)return h;switch(l=0,h&&(_=[_[0]&2,h.value]),_[0]){case 0:case 1:h=_;break;case 4:return r.label++,{value:_[1],done:!1};case 5:r.label++,l=_[1],_=[0];continue;case 7:_=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){r=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){r.label=_[1];break}if(_[0]===6&&r.label<h[1]){r.label=h[1],h=_;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(_);break}h[2]&&r.ops.pop(),r.trys.pop();continue}_=e.call(n,r)}catch(b){_=[6,b],l=0}finally{a=h=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}var Kh=Object.create?(function(n,e,r,a){a===void 0&&(a=r);var l=Object.getOwnPropertyDescriptor(e,r);(!l||("get"in l?!e.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(n,a,l)}):(function(n,e,r,a){a===void 0&&(a=r),n[a]=e[r]});function pb(n,e){for(var r in n)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Kh(e,n,r)}function Oh(n){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&n[e],a=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nm(n,e){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var a=r.call(n),l,h=[],d;try{for(;(e===void 0||e-- >0)&&!(l=a.next()).done;)h.push(l.value)}catch(m){d={error:m}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(d)throw d.error}}return h}function mb(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Nm(arguments[e]));return n}function gb(){for(var n=0,e=0,r=arguments.length;e<r;e++)n+=arguments[e].length;for(var a=Array(n),l=0,e=0;e<r;e++)for(var h=arguments[e],d=0,m=h.length;d<m;d++,l++)a[l]=h[d];return a}function yb(n,e,r){if(r||arguments.length===2)for(var a=0,l=e.length,h;a<l;a++)(h||!(a in e))&&(h||(h=Array.prototype.slice.call(e,0,a)),h[a]=e[a]);return n.concat(h||Array.prototype.slice.call(e))}function Eo(n){return this instanceof Eo?(this.v=n,this):new Eo(n)}function vb(n,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(n,e||[]),l,h=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(C){return function(O){return Promise.resolve(O).then(C,w)}}function m(C,O){a[C]&&(l[C]=function(R){return new Promise(function(k,z){h.push([C,R,k,z])>1||g(C,R)})},O&&(l[C]=O(l[C])))}function g(C,O){try{_(a[C](O))}catch(R){T(h[0][3],R)}}function _(C){C.value instanceof Eo?Promise.resolve(C.value.v).then(b,w):T(h[0][2],C)}function b(C){g("next",C)}function w(C){g("throw",C)}function T(C,O){C(O),h.shift(),h.length&&g(h[0][0],h[0][1])}}function _b(n){var e,r;return e={},a("next"),a("throw",function(l){throw l}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(l,h){e[l]=n[l]?function(d){return(r=!r)?{value:Eo(n[l](d)),done:!1}:h?h(d):d}:h}}function xb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],r;return e?e.call(n):(n=typeof Oh=="function"?Oh(n):n[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(h){r[h]=n[h]&&function(d){return new Promise(function(m,g){d=n[h](d),l(m,g,d.done,d.value)})}}function l(h,d,m,g){Promise.resolve(g).then(function(_){h({value:_,done:m})},d)}}function bb(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var gE=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},Fp=function(n){return Fp=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},Fp(n)};function wb(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var r=Fp(n),a=0;a<r.length;a++)r[a]!=="default"&&Kh(e,n,r[a]);return gE(e,n),e}function Sb(n){return n&&n.__esModule?n:{default:n}}function Tb(n,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(n):a?a.value:e.get(n)}function Eb(n,e,r,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!l:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(n,r):l?l.value=r:e.set(n,r),r}function Cb(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Ab(n,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,l;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(l=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");l&&(a=function(){try{l.call(this)}catch(h){return Promise.reject(h)}}),n.stack.push({value:e,dispose:a,async:r})}else r&&n.stack.push({async:!0});return e}var yE=typeof SuppressedError=="function"?SuppressedError:function(n,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=n,a.suppressed=e,a};function jb(n){function e(h){n.error=n.hasError?new yE(h,n.error,"An error was suppressed during disposal."):h,n.hasError=!0}var r,a=0;function l(){for(;r=n.stack.pop();)try{if(!r.async&&a===1)return a=0,n.stack.push(r),Promise.resolve().then(l);if(r.dispose){var h=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(h).then(l,function(d){return e(d),l()})}else a|=1}catch(d){e(d)}if(a===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return l()}function Rb(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,l,h,d){return a?e?".jsx":".js":l&&(!h||!d)?r:l+h+"."+d.toLowerCase()+"js"}):n}const vE={__extends:sb,__assign:kh,__rest:Mo,__decorate:ab,__param:ob,__esDecorate:lb,__runInitializers:ub,__propKey:cb,__setFunctionName:hb,__metadata:db,__awaiter:_t,__generator:fb,__createBinding:Kh,__exportStar:pb,__values:Oh,__read:Nm,__spread:mb,__spreadArrays:gb,__spreadArray:yb,__await:Eo,__asyncGenerator:vb,__asyncDelegator:_b,__asyncValues:xb,__makeTemplateObject:bb,__importStar:wb,__importDefault:Sb,__classPrivateFieldGet:Tb,__classPrivateFieldSet:Eb,__classPrivateFieldIn:Cb,__addDisposableResource:Ab,__disposeResources:jb,__rewriteRelativeImportExtension:Rb},_E=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ab,get __assign(){return kh},__asyncDelegator:_b,__asyncGenerator:vb,__asyncValues:xb,__await:Eo,__awaiter:_t,__classPrivateFieldGet:Tb,__classPrivateFieldIn:Cb,__classPrivateFieldSet:Eb,__createBinding:Kh,__decorate:ab,__disposeResources:jb,__esDecorate:lb,__exportStar:pb,__extends:sb,__generator:fb,__importDefault:Sb,__importStar:wb,__makeTemplateObject:bb,__metadata:db,__param:ob,__propKey:cb,__read:Nm,__rest:Mo,__rewriteRelativeImportExtension:Rb,__runInitializers:ub,__setFunctionName:hb,__spread:mb,__spreadArray:yb,__spreadArrays:gb,__values:Oh,default:vE},Symbol.toStringTag,{value:"Module"})),xE=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);let Yh=class extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}},kb=class extends Yh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},$p=class extends Yh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Wp=class extends Yh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Mh;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Mh||(Mh={}));class bE{constructor(e,{headers:r={},customFetch:a,region:l=Mh.Any}={}){this.url=e,this.headers=r,this.region=l,this.fetch=xE(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _t(this,arguments,void 0,function*(r,a={}){var l;let h,d;try{const{headers:m,method:g,body:_,signal:b,timeout:w}=a;let T={},{region:C}=a;C||(C=this.region);const O=new URL(`${this.url}/${r}`);C&&C!=="any"&&(T["x-region"]=C,O.searchParams.set("forceFunctionRegion",C));let R;_&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&_ instanceof Blob||_ instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",R=_):typeof _=="string"?(T["Content-Type"]="text/plain",R=_):typeof FormData<"u"&&_ instanceof FormData?R=_:(T["Content-Type"]="application/json",R=JSON.stringify(_)):R=_;let k=b;w&&(d=new AbortController,h=setTimeout(()=>d.abort(),w),b?(k=d.signal,b.addEventListener("abort",()=>d.abort())):k=d.signal);const z=yield this.fetch(O.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),m),body:R,signal:k}).catch(F=>{throw new kb(F)}),B=z.headers.get("x-relay-error");if(B&&B==="true")throw new $p(z);if(!z.ok)throw new Wp(z);let D=((l=z.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),V;return D==="application/json"?V=yield z.json():D==="application/octet-stream"||D==="application/pdf"?V=yield z.blob():D==="text/event-stream"?V=z:D==="multipart/form-data"?V=yield z.formData():V=yield z.text(),{data:V,error:null,response:z}}catch(m){return{data:null,error:m,response:m instanceof Wp||m instanceof $p?m.context:void 0}}finally{h&&clearTimeout(h)}})}}const wE=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Mh},FunctionsClient:bE,FunctionsError:Yh,FunctionsFetchError:kb,FunctionsHttpError:Wp,FunctionsRelayError:$p},Symbol.toStringTag,{value:"Module"})),Ob=gu(wE);var sn={};const Lo=gu(_E);var sh={},ah={},oh={},lh={},uh={},ch={},F0;function Mb(){if(F0)return ch;F0=1,Object.defineProperty(ch,"__esModule",{value:!0});class n extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ch.default=n,ch}var $0;function Lb(){if($0)return uh;$0=1,Object.defineProperty(uh,"__esModule",{value:!0});const e=Lo.__importDefault(Mb());let r=class{constructor(l){var h,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(h=l.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,h){return this.headers=new Headers(this.headers),this.headers.set(l,h),this}then(l,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let m=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var _,b,w,T;let C=null,O=null,R=null,k=g.status,z=g.statusText;if(g.ok){if(this.method!=="HEAD"){const F=await g.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((_=this.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?O=F:O=JSON.parse(F))}const D=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),V=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");D&&V&&V.length>1&&(R=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(C={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,R=null,k=406,z="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const D=await g.text();try{C=JSON.parse(D),Array.isArray(C)&&g.status===404&&(O=[],C=null,k=200,z="OK")}catch{g.status===404&&D===""?(k=204,z="No Content"):C={message:D}}if(C&&this.isMaybeSingle&&(!((T=C?.details)===null||T===void 0)&&T.includes("0 rows"))&&(C=null,k=200,z="OK"),C&&this.shouldThrowOnError)throw new e.default(C)}return{error:C,data:O,count:R,status:k,statusText:z}});return this.shouldThrowOnError||(m=m.catch(g=>{var _,b,w,T,C,O;let R="";const k=g?.cause;if(k){const z=(_=k?.message)!==null&&_!==void 0?_:"",B=(b=k?.code)!==null&&b!==void 0?b:"";R=`${(w=g?.name)!==null&&w!==void 0?w:"FetchError"}: ${g?.message}`,R+=`

Caused by: ${(T=k?.name)!==null&&T!==void 0?T:"Error"}: ${z}`,B&&(R+=` (${B})`),k?.stack&&(R+=`
${k.stack}`)}else R=(C=g?.stack)!==null&&C!==void 0?C:"";return{error:{message:`${(O=g?.name)!==null&&O!==void 0?O:"FetchError"}: ${g?.message}`,details:R,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(l,h)}returns(){return this}overrideTypes(){return this}};return uh.default=r,uh}var W0;function Pb(){if(W0)return lh;W0=1,Object.defineProperty(lh,"__esModule",{value:!0});const e=Lo.__importDefault(Lb());let r=class extends e.default{select(l){let h=!1;const d=(l??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:h=!0,nullsFirst:d,foreignTable:m,referencedTable:g=m}={}){const _=g?`${g}.order`:"order",b=this.url.searchParams.get(_);return this.url.searchParams.set(_,`${b?`${b},`:""}${l}.${h?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:h,referencedTable:d=h}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${l}`),this}range(l,h,{foreignTable:d,referencedTable:m=d}={}){const g=typeof m>"u"?"offset":`${m}.offset`,_=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${l}`),this.url.searchParams.set(_,`${h-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:h=!1,settings:d=!1,buffers:m=!1,wal:g=!1,format:_="text"}={}){var b;const w=[l?"analyze":null,h?"verbose":null,d?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),T=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${_}; for="${T}"; options=${w};`),_==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};return lh.default=r,lh}var Z0;function Um(){if(Z0)return oh;Z0=1,Object.defineProperty(oh,"__esModule",{value:!0});const e=Lo.__importDefault(Pb()),r=new RegExp("[,()]");let a=class extends e.default{eq(h,d){return this.url.searchParams.append(h,`eq.${d}`),this}neq(h,d){return this.url.searchParams.append(h,`neq.${d}`),this}gt(h,d){return this.url.searchParams.append(h,`gt.${d}`),this}gte(h,d){return this.url.searchParams.append(h,`gte.${d}`),this}lt(h,d){return this.url.searchParams.append(h,`lt.${d}`),this}lte(h,d){return this.url.searchParams.append(h,`lte.${d}`),this}like(h,d){return this.url.searchParams.append(h,`like.${d}`),this}likeAllOf(h,d){return this.url.searchParams.append(h,`like(all).{${d.join(",")}}`),this}likeAnyOf(h,d){return this.url.searchParams.append(h,`like(any).{${d.join(",")}}`),this}ilike(h,d){return this.url.searchParams.append(h,`ilike.${d}`),this}ilikeAllOf(h,d){return this.url.searchParams.append(h,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(h,d){return this.url.searchParams.append(h,`ilike(any).{${d.join(",")}}`),this}regexMatch(h,d){return this.url.searchParams.append(h,`match.${d}`),this}regexIMatch(h,d){return this.url.searchParams.append(h,`imatch.${d}`),this}is(h,d){return this.url.searchParams.append(h,`is.${d}`),this}isDistinct(h,d){return this.url.searchParams.append(h,`isdistinct.${d}`),this}in(h,d){const m=Array.from(new Set(d)).map(g=>typeof g=="string"&&r.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(h,`in.(${m})`),this}contains(h,d){return typeof d=="string"?this.url.searchParams.append(h,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(h,`cs.{${d.join(",")}}`):this.url.searchParams.append(h,`cs.${JSON.stringify(d)}`),this}containedBy(h,d){return typeof d=="string"?this.url.searchParams.append(h,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(h,`cd.{${d.join(",")}}`):this.url.searchParams.append(h,`cd.${JSON.stringify(d)}`),this}rangeGt(h,d){return this.url.searchParams.append(h,`sr.${d}`),this}rangeGte(h,d){return this.url.searchParams.append(h,`nxl.${d}`),this}rangeLt(h,d){return this.url.searchParams.append(h,`sl.${d}`),this}rangeLte(h,d){return this.url.searchParams.append(h,`nxr.${d}`),this}rangeAdjacent(h,d){return this.url.searchParams.append(h,`adj.${d}`),this}overlaps(h,d){return typeof d=="string"?this.url.searchParams.append(h,`ov.${d}`):this.url.searchParams.append(h,`ov.{${d.join(",")}}`),this}textSearch(h,d,{config:m,type:g}={}){let _="";g==="plain"?_="pl":g==="phrase"?_="ph":g==="websearch"&&(_="w");const b=m===void 0?"":`(${m})`;return this.url.searchParams.append(h,`${_}fts${b}.${d}`),this}match(h){return Object.entries(h).forEach(([d,m])=>{this.url.searchParams.append(d,`eq.${m}`)}),this}not(h,d,m){return this.url.searchParams.append(h,`not.${d}.${m}`),this}or(h,{foreignTable:d,referencedTable:m=d}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${h})`),this}filter(h,d,m){return this.url.searchParams.append(h,`${d}.${m}`),this}};return oh.default=a,oh}var G0;function Db(){if(G0)return ah;G0=1,Object.defineProperty(ah,"__esModule",{value:!0});const e=Lo.__importDefault(Um());let r=class{constructor(l,{headers:h={},schema:d,fetch:m}){this.url=l,this.headers=new Headers(h),this.schema=d,this.fetch=m}select(l,h){const{head:d=!1,count:m}=h??{},g=d?"HEAD":"GET";let _=!1;const b=(l??"*").split("").map(w=>/\s/.test(w)&&!_?"":(w==='"'&&(_=!_),w)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer",`count=${m}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:h,defaultToNull:d=!0}={}){var m;const g="POST";if(h&&this.headers.append("Prefer",`count=${h}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const _=l.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(_.length>0){const b=[...new Set(_)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(l,{onConflict:h,ignoreDuplicates:d=!1,count:m,defaultToNull:g=!0}={}){var _;const b="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),h!==void 0&&this.url.searchParams.set("on_conflict",h),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((T,C)=>T.concat(Object.keys(C)),[]);if(w.length>0){const T=[...new Set(w)].map(C=>`"${C}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}update(l,{count:h}={}){var d;const m="PATCH";return h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var h;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return ah.default=r,ah}var K0;function SE(){if(K0)return sh;K0=1,Object.defineProperty(sh,"__esModule",{value:!0});const n=Lo,e=n.__importDefault(Db()),r=n.__importDefault(Um());let a=class zb{constructor(h,{headers:d={},schema:m,fetch:g}={}){this.url=h,this.headers=new Headers(d),this.schemaName=m,this.fetch=g}from(h){if(!h||typeof h!="string"||h.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${h}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new zb(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,d={},{head:m=!1,get:g=!1,count:_}={}){var b;let w;const T=new URL(`${this.url}/rpc/${h}`);let C;m||g?(w=m?"HEAD":"GET",Object.entries(d).filter(([R,k])=>k!==void 0).map(([R,k])=>[R,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([R,k])=>{T.searchParams.append(R,k)})):(w="POST",C=d);const O=new Headers(this.headers);return _&&O.set("Prefer",`count=${_}`),new r.default({method:w,url:T,headers:O,schema:this.schemaName,body:C,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}};return sh.default=a,sh}var Y0;function Bb(){if(Y0)return sn;Y0=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.PostgrestError=sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const n=Lo,e=n.__importDefault(SE());sn.PostgrestClient=e.default;const r=n.__importDefault(Db());sn.PostgrestQueryBuilder=r.default;const a=n.__importDefault(Um());sn.PostgrestFilterBuilder=a.default;const l=n.__importDefault(Pb());sn.PostgrestTransformBuilder=l.default;const h=n.__importDefault(Lb());sn.PostgrestBuilder=h.default;const d=n.__importDefault(Mb());return sn.PostgrestError=d.default,sn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:h.default,PostgrestError:d.default},sn}class Nb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const TE="2.87.1",EE=`realtime-js/${TE}`,Ub="1.0.0",CE="2.0.0",X0=Ub,Zp=1e4,AE=1e3,jE=100;var oa;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(oa||(oa={}));var De;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(De||(De={}));var gi;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(gi||(gi={}));var Gp;(function(n){n.websocket="websocket"})(Gp||(Gp={}));var la;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(la||(la={}));class RE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const l=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(e){var r,a;const l=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(e,r,a){var l,h;const d=e.topic,m=(l=e.ref)!==null&&l!==void 0?l:"",g=(h=e.join_ref)!==null&&h!==void 0?h:"",_=e.payload.event,b=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`userEvent length ${_.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+d.length+_.length+w.length,C=new ArrayBuffer(this.HEADER_LENGTH+T);let O=new DataView(C),R=0;O.setUint8(R++,this.KINDS.userBroadcastPush),O.setUint8(R++,g.length),O.setUint8(R++,m.length),O.setUint8(R++,d.length),O.setUint8(R++,_.length),O.setUint8(R++,w.length),O.setUint8(R++,r),Array.from(g,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(m,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(d,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(_,z=>O.setUint8(R++,z.charCodeAt(0))),Array.from(w,z=>O.setUint8(R++,z.charCodeAt(0)));var k=new Uint8Array(C.byteLength+a.byteLength);return k.set(new Uint8Array(C),0),k.set(new Uint8Array(a),C.byteLength),k.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[l,h,d,m,g]=a;return r({join_ref:l,ref:h,topic:d,event:m,payload:g})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,l)}}_decodeUserBroadcast(e,r,a){const l=r.getUint8(1),h=r.getUint8(2),d=r.getUint8(3),m=r.getUint8(4);let g=this.HEADER_LENGTH+4;const _=a.decode(e.slice(g,g+l));g=g+l;const b=a.decode(e.slice(g,g+h));g=g+h;const w=a.decode(e.slice(g,g+d));g=g+d;const T=e.slice(g,e.byteLength),C=m===this.JSON_ENCODING?JSON.parse(a.decode(T)):T,O={type:this.BROADCAST_EVENT,event:b,payload:C};return d>0&&(O.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:_,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class Ib{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(ue||(ue={}));const J0=(n,e,r={})=>{var a;const l=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((h,d)=>(h[d]=kE(d,n,e,l),h),{}):{}},kE=(n,e,r,a)=>{const l=e.find(m=>m.name===n),h=l?.type,d=r[n];return h&&!a.includes(h)?Vb(h,d):Kp(d)},Vb=(n,e)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return PE(e,r)}switch(n){case ue.bool:return OE(e);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return ME(e);case ue.json:case ue.jsonb:return LE(e);case ue.timestamp:return DE(e);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Kp(e);default:return Kp(e)}},Kp=n=>n,OE=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},ME=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},LE=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},PE=(n,e)=>{if(typeof n!="string")return n;const r=n.length-1,a=n[r];if(n[0]==="{"&&a==="}"){let h;const d=n.slice(1,r);try{h=JSON.parse("["+d+"]")}catch{h=d?d.split(","):[]}return h.map(m=>Vb(e,m))}return n},DE=n=>typeof n=="string"?n.replace(" ","T"):n,Hb=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gp{constructor(e,r,a={},l=Zp){this.channel=e,this.event=r,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Yp||(Yp={}));let qb=class xh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:h,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xh.syncState(this.state,l,h,d),this.pendingDiffs.forEach(g=>{this.state=xh.syncDiff(this.state,g,h,d)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},l=>{const{onJoin:h,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=xh.syncDiff(this.state,l,h,d),m())}),this.onJoin((l,h,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:h,newPresences:d})}),this.onLeave((l,h,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:h,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,l){const h=this.cloneDeep(e),d=this.transformState(r),m={},g={};return this.map(h,(_,b)=>{d[_]||(g[_]=b)}),this.map(d,(_,b)=>{const w=h[_];if(w){const T=b.map(k=>k.presence_ref),C=w.map(k=>k.presence_ref),O=b.filter(k=>C.indexOf(k.presence_ref)<0),R=w.filter(k=>T.indexOf(k.presence_ref)<0);O.length>0&&(m[_]=O),R.length>0&&(g[_]=R)}else m[_]=b}),this.syncDiff(h,{joins:m,leaves:g},a,l)}static syncDiff(e,r,a,l){const{joins:h,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(h,(m,g)=>{var _;const b=(_=e[m])!==null&&_!==void 0?_:[];if(e[m]=this.cloneDeep(g),b.length>0){const w=e[m].map(C=>C.presence_ref),T=b.filter(C=>w.indexOf(C.presence_ref)<0);e[m].unshift(...T)}a(m,b,g)}),this.map(d,(m,g)=>{let _=e[m];if(!_)return;const b=g.map(w=>w.presence_ref);_=_.filter(w=>b.indexOf(w.presence_ref)<0),e[m]=_,l(m,_,g),_.length===0&&delete e[m]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const l=e[a];return"metas"in l?r[a]=l.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[a]=l,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Xp;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Xp||(Xp={}));var wo;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(wo||(wo={}));var Pi;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Pi||(Pi={}));const zE=De;let Fb=class Jl{constructor(e,r={config:{}},a){var l,h;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gp(this,gi.join,this.params,this.timeout),this.rejoinTimer=new Ib(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gi.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new qb(this),this.broadcastEndpointURL=Hb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,l,h;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:d,presence:m,private:g}}=this.params,_=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(C=>C.filter))!==null&&l!==void 0?l:[],b=!!this.bindings[wo.PRESENCE]&&this.bindings[wo.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,w={},T={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:_,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(C=>e?.(Pi.CHANNEL_ERROR,C)),this._onClose(()=>e?.(Pi.CLOSED)),this.updateJoinPayload(Object.assign({config:T},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:C})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){e?.(Pi.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,k=(O=R?.length)!==null&&O!==void 0?O:0,z=[];for(let B=0;B<k;B++){const D=R[B],{filter:{event:V,schema:F,table:G,filter:Q}}=D,dt=C&&C[B];if(dt&&dt.event===V&&Jl.isFilterValueEqual(dt.schema,F)&&Jl.isFilterValueEqual(dt.table,G)&&Jl.isFilterValueEqual(dt.filter,Q))z.push(Object.assign(Object.assign({},D),{id:dt.id}));else{this.unsubscribe(),this.state=De.errored,e?.(Pi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,e&&e(Pi.SUBSCRIBED);return}}).receive("error",C=>{this.state=De.errored,e?.(Pi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{e?.(Pi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===De.joined&&e===wo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var l;const h=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:h,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const _=await m.json();g=_.error||_.message||g}catch{}return Promise.reject(new Error(g))}async send(e,r={}){var a,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:d}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:d,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=_.body)===null||l===void 0?void 0:l.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var d,m,g;const _=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&h("ok"),_.receive("ok",()=>h("ok")),_.receive("error",()=>h("error")),_.receive("timeout",()=>h("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=De.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gi.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new gp(this,gi.leave,{},e),a.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const l=new AbortController,h=setTimeout(()=>l.abort(),a),d=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(h),d}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new gp(this,e,r,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>jE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var l,h;const d=e.toLocaleLowerCase(),{close:m,error:g,leave:_,join:b}=gi;if(a&&[m,g,_,b].indexOf(d)>=0&&a!==this._joinRef())return;let T=this._onMessage(d,r,a);if(r&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(C=>{var O,R,k;return((O=C.filter)===null||O===void 0?void 0:O.event)==="*"||((k=(R=C.filter)===null||R===void 0?void 0:R.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(C=>C.callback(T,a)):(h=this.bindings[d])===null||h===void 0||h.filter(C=>{var O,R,k,z,B,D;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in C){const V=C.id,F=(O=C.filter)===null||O===void 0?void 0:O.event;return V&&((R=r.ids)===null||R===void 0?void 0:R.includes(V))&&(F==="*"||F?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const V=(B=(z=C?.filter)===null||z===void 0?void 0:z.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return V==="*"||V===((D=r?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===d}).map(C=>{if(typeof T=="object"&&"ids"in T){const O=T.data,{schema:R,table:k,commit_timestamp:z,type:B,errors:D}=O;T=Object.assign(Object.assign({},{schema:R,table:k,commit_timestamp:z,eventType:B,new:{},old:{},errors:D}),this._getPayloadRecords(O))}C.callback(T,a)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const l=e.toLocaleLowerCase(),h={type:l,filter:r,callback:a};return this.bindings[l]?this.bindings[l].push(h):this.bindings[l]=[h],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var h;return!(((h=l.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===a&&Jl.isEqual(l.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gi.close,{},e)}_onError(e){this._on(gi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=J0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=J0(e.columns,e.old_record)),r}};const yp=()=>{},hh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},BE=[1e3,2e3,5e3,1e4],NE=1e4,UE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let IE=class{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zp,this.transport=null,this.heartbeatIntervalMs=hh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yp,this.ref=0,this.reconnectTimer=null,this.vsn=X0,this.logger=yp,this.conn=null,this.sendBuffer=[],this.serializer=new RE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...h)=>l(...h):(...h)=>fetch(...h),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Gp.websocket}`,this.httpEndpoint=Hb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case oa.connecting:return la.Connecting;case oa.open:return la.Open;case oa.closing:return la.Closing;default:return la.Closed}}isConnected(){return this.connectionState()===la.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,l=this.getChannels().find(h=>h.topic===a);if(l)return l;{const h=new Fb(`realtime:${e}`,r,this);return this.channels.push(h),h}}push(e){const{topic:r,event:a,payload:l,ref:h}=e,d=()=>{this.encode(e,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${a} (${h})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(AE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(_){this.log("error","error in heartbeat callback",_)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:h,ref:d}=r,m=d?`(${d})`:"",g=h.status||"";this.log("receive",`${g} ${a} ${l} ${m}`.trim(),h),this.channels.filter(_=>_._isMember(a)).forEach(_=>_._trigger(l,h,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===oa.open||this.conn.readyState===oa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${e}${a}${l}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([UE],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const h={access_token:r,version:EE};r&&l.updateJoinPayload(h),l.joinedOnce&&l._isJoined()&&l._push(gi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Ib(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,l,h,d,m,g,_,b,w,T,C;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Zp,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:hh.HEARTBEAT_INTERVAL,this.worker=(h=e?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=e?.heartbeatCallback)!==null&&m!==void 0?m:yp,this.vsn=(g=e?.vsn)!==null&&g!==void 0?g:X0,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=e?.reconnectAfterMs)!==null&&_!==void 0?_:(O=>BE[O-1]||NE),this.vsn){case Ub:this.encode=(b=e?.encode)!==null&&b!==void 0?b:((O,R)=>R(JSON.stringify(O))),this.decode=(w=e?.decode)!==null&&w!==void 0?w:((O,R)=>R(JSON.parse(O)));break;case CE:this.encode=(T=e?.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(C=e?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const VE=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:zE,get REALTIME_LISTEN_TYPES(){return wo},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Xp},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Yp},get REALTIME_SUBSCRIBE_STATES(){return Pi},RealtimeChannel:Fb,RealtimeClient:IE,RealtimePresence:qb,WebSocketFactory:Nb},Symbol.toStringTag,{value:"Module"})),$b=gu(VE);class _u extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Wb extends _u{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lh extends _u{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Im=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),HE=()=>Response,Jp=n=>{if(Array.isArray(n))return n.map(r=>Jp(r));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([r,a])=>{const l=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));e[l]=Jp(a)}),e},qE=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},FE=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),vp=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},$E=(n,e,r)=>_t(void 0,void 0,void 0,function*(){const a=yield HE();n instanceof a&&!r?.noResolveJson?n.json().then(l=>{const h=n.status||500,d=l?.statusCode||h+"";e(new Wb(vp(l),h,d))}).catch(l=>{e(new Lh(vp(l),l))}):e(new Lh(vp(n),n))}),WE=(n,e,r,a)=>{const l={method:n,headers:e?.headers||{}};return n==="GET"||!a?l:(qE(a)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,e?.duplex&&(l.duplex=e.duplex),Object.assign(Object.assign({},l),r))};function xu(n,e,r,a,l,h){return _t(this,void 0,void 0,function*(){return new Promise((d,m)=>{n(r,WE(e,a,l,h)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>$E(g,m,a))})})}function uu(n,e,r,a){return _t(this,void 0,void 0,function*(){return xu(n,"GET",e,r,a)})}function mi(n,e,r,a,l){return _t(this,void 0,void 0,function*(){return xu(n,"POST",e,a,l,r)})}function Qp(n,e,r,a,l){return _t(this,void 0,void 0,function*(){return xu(n,"PUT",e,a,l,r)})}function ZE(n,e,r,a){return _t(this,void 0,void 0,function*(){return xu(n,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Vm(n,e,r,a,l){return _t(this,void 0,void 0,function*(){return xu(n,"DELETE",e,a,l,r)})}class GE{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return _t(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}}var Zb;class KE{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Zb]="BlobDownloadBuilder",this.promise=null}asStream(){return new GE(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _t(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}}Zb=Symbol.toStringTag;const YE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XE{constructor(e,r={},a,l){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=Im(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,l){return _t(this,void 0,void 0,function*(){try{let h;const d=Object.assign(Object.assign({},Q0),l);let m=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),g&&h.append("metadata",this.encodeMetadata(g)),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.has("cacheControl")||h.append("cacheControl",d.cacheControl),g&&!h.has("metadata")&&h.append("metadata",this.encodeMetadata(g))):(h=a,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(m=Object.assign(Object.assign({},m),l.headers));const _=this._removeEmptyFolders(r),b=this._getFinalPath(_),w=yield(e=="PUT"?Qp:mi)(this.fetch,`${this.url}/object/${b}`,h,Object.assign({headers:m},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:_,id:w.Id,fullPath:w.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(me(h))return{data:null,error:h};throw h}})}upload(e,r,a){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,l){return _t(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(e),d=this._getFinalPath(h),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",r);try{let g;const _=Object.assign({upsert:Q0.upsert},l),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(_.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",_.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",_.cacheControl)):(g=a,b["cache-control"]=`max-age=${_.cacheControl}`,b["content-type"]=_.contentType);const w=yield Qp(this.fetch,m.toString(),g,{headers:b});return{data:{path:h,fullPath:w.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(me(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,r){return _t(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const l=Object.assign({},this.headers);r?.upsert&&(l["x-upsert"]="true");const h=yield mi(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),d=new URL(this.url+h.url),m=d.searchParams.get("token");if(!m)throw new _u("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:m},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(me(a))return{data:null,error:a};throw a}})}update(e,r,a){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return _t(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}copy(e,r,a){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield mi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}createSignedUrl(e,r,a){return _t(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),h=yield mi(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a?.download?`&download=${a.download===!0?"":a.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${d}`)},{data:h,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}createSignedUrls(e,r,a){return _t(this,void 0,void 0,function*(){try{const l=yield mi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),h=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${h}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}download(e,r){const l=typeof r?.transform<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString(r?.transform||{}),d=h?`?${h}`:"",m=this._getFinalPath(e),g=()=>uu(this.fetch,`${this.url}/${l}/${m}${d}`,{headers:this.headers,noResolveJson:!0});return new KE(g,this.shouldThrowOnError)}info(e){return _t(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield uu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jp(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(me(a))return{data:null,error:a};throw a}})}exists(e){return _t(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ZE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(me(a)&&a instanceof Lh){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),l=[],h=r?.download?`download=${r.download===!0?"":r.download}`:"";h!==""&&l.push(h);const m=typeof r?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(r?.transform||{});g!==""&&l.push(g);let _=l.join("&");return _!==""&&(_=`?${_}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${a}${_}`)}}}remove(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}list(e,r,a){return _t(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},YE),r),{prefix:e||""});return{data:yield mi(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}listV2(e,r){return _t(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield mi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(me(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Gb="2.87.1",Kb={"X-Client-Info":`storage-js/${Gb}`};class JE{constructor(e,r={},a,l){this.shouldThrowOnError=!1;const h=new URL(e);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kb),r),this.fetch=Im(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return _t(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield uu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}getBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}createBucket(e){return _t(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}})}updateBucket(e,r){return _t(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(me(a))return{data:null,error:a};throw a}})}emptyBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var cu=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function QE(n,e,r){const a=new URL(e,n);if(r)for(const[l,h]of Object.entries(r))h!==void 0&&a.searchParams.set(l,h);return a.toString()}async function tC(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function eC(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:l,body:h,headers:d}){const m=QE(n.baseUrl,a,l),g=await tC(n.auth),_=await e(m,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...g,...d},body:h?JSON.stringify(h):void 0}),b=await _.text(),w=(_.headers.get("content-type")||"").includes("application/json"),T=w&&b?JSON.parse(b):b;if(!_.ok){const C=w?T:void 0,O=C?.error;throw new cu(O?.message??`Request failed with status ${_.status}`,{status:_.status,icebergType:O?.type,icebergCode:O?.code,details:C})}return{status:_.status,headers:_.headers,data:T}}}}function dh(n){return n.join("")}var nC=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:dh(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(n,e){const r={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${dh(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dh(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${dh(n.namespace)}`}),!0}catch(e){if(e instanceof cu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(r){if(r instanceof cu&&r.status===409)return;throw r}}};function uo(n){return n.join("")}var iC=class{constructor(n,e="",r){this.client=n,this.prefix=e,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(n,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uo(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(r){if(r instanceof cu&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(r){if(r instanceof cu&&r.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw r}}},rC=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=eC({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new nC(this.client,e),this.tableOps=new iC(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}};class Yb{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kb),r),this.fetch=Im(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}listBuckets(e){return _t(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),l=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield uu(this.fetch,l,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}})}from(e){if(!FE(e))throw new _u("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new rC({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>_t(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(h,d){const m=h[d];return typeof m!="function"?m:(...g)=>_t(this,void 0,void 0,function*(){try{return{data:yield m.apply(h,g),error:null}}catch(_){if(a)throw _;return{data:null,error:_}}})}})}}const Hm={"X-Client-Info":`storage-js/${Gb}`,"Content-Type":"application/json"};class qm extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Cn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class bh extends qm{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xb extends qm{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var tm;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(tm||(tm={}));const Xh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),sC=()=>Response,Jb=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},aC=n=>Array.from(new Float32Array(n)),oC=(n,e)=>{if(e!==void 0&&n.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${n.float32.length}`)},t_=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),lC=(n,e,r)=>_t(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const l=n.status||500,h=n;if(typeof h.json=="function")h.json().then(d=>{const m=d?.statusCode||d?.code||l+"";e(new bh(t_(d),l,m))}).catch(()=>{const d=l+"",m=h.statusText||`HTTP ${l} error`;e(new bh(m,l,d))});else{const d=l+"",m=h.statusText||`HTTP ${l} error`;e(new bh(m,l,d))}}else e(new Xb(t_(n),n))}),uC=(n,e,r,a)=>{const l={method:n,headers:e?.headers||{}};return a?(Jb(a)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),r)):l};function cC(n,e,r,a,l,h){return _t(this,void 0,void 0,function*(){return new Promise((d,m)=>{n(r,uC(e,a,l,h)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;const _=g.headers.get("content-type");return!_||!_.includes("application/json")?{}:g.json()}).then(g=>d(g)).catch(g=>lC(g,m,a))})})}function Bn(n,e,r,a,l){return _t(this,void 0,void 0,function*(){return cC(n,"POST",e,a,l,r)})}class Qb{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hm),r),this.fetch=Xh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return _t(this,void 0,void 0,function*(){try{return{data:(yield Bn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return _t(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}listIndexes(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return _t(this,void 0,void 0,function*(){try{return{data:(yield Bn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}}class t1{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hm),r),this.fetch=Xh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return _t(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Bn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}getVectors(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}listVectors(e){return _t(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Bn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}queryVectors(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return _t(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Bn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}}class e1{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hm),r),this.fetch=Xh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:(yield Bn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}getBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}listBuckets(){return _t(this,arguments,void 0,function*(e={}){try{return{data:yield Bn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:(yield Bn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}}class n1 extends e1{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new i1(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _t(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _t(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _t(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _t(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class i1 extends Qb{constructor(e,r,a,l){super(e,r,l),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _t(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _t(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _t(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _t(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new r1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class r1 extends t1{constructor(e,r,a,l,h){super(e,r,h),this.vectorBucketName=a,this.indexName=l}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _t(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _t(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _t(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _t(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _t(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hC extends JE{constructor(e,r={},a,l){super(e,r,a,l)}from(e){return new XE(this.url,this.headers,e,this.fetch)}get vectors(){return new n1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Yb(this.url+"/iceberg",this.headers,this.fetch)}}const dC=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Yb,StorageApiError:Wb,StorageClient:hC,StorageError:_u,StorageUnknownError:Lh,StorageVectorsApiError:bh,StorageVectorsClient:n1,StorageVectorsError:qm,get StorageVectorsErrorCode(){return tm},StorageVectorsUnknownError:Xb,VectorBucketApi:e1,VectorBucketScope:i1,VectorDataApi:t1,VectorIndexApi:Qb,VectorIndexScope:r1,isPlainObject:Jb,isStorageError:me,isStorageVectorsError:Cn,normalizeToFloat32:aC,resolveFetch:Xh,resolveResponse:sC,validateVectorDimension:oC},Symbol.toStringTag,{value:"Module"})),fC=gu(dC);var _p={},Zl={},e_;function pC(){return e_||(e_=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.version=void 0,Zl.version="2.87.1"),Zl}var n_;function mC(){return n_||(n_=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_REALTIME_OPTIONS=n.DEFAULT_AUTH_OPTIONS=n.DEFAULT_DB_OPTIONS=n.DEFAULT_GLOBAL_OPTIONS=n.DEFAULT_HEADERS=void 0;const e=pC();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",n.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},n.DEFAULT_GLOBAL_OPTIONS={headers:n.DEFAULT_HEADERS},n.DEFAULT_DB_OPTIONS={schema:"public"},n.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n.DEFAULT_REALTIME_OPTIONS={}})(_p)),_p}var xp={},i_;function gC(){return i_||(i_=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchWithAuth=n.resolveHeadersConstructor=n.resolveFetch=void 0;const e=l=>l?(...h)=>l(...h):(...h)=>fetch(...h);n.resolveFetch=e;const r=()=>Headers;n.resolveHeadersConstructor=r;const a=(l,h,d)=>{const m=(0,n.resolveFetch)(d),g=(0,n.resolveHeadersConstructor)();return async(_,b)=>{var w;const T=(w=await h())!==null&&w!==void 0?w:l;let C=new g(b?.headers);return C.has("apikey")||C.set("apikey",l),C.has("Authorization")||C.set("Authorization",`Bearer ${T}`),m(_,Object.assign(Object.assign({},b),{headers:C}))}};n.fetchWithAuth=a})(xp)),xp}var hr={},r_;function yC(){if(r_)return hr;r_=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.isBrowser=void 0,hr.uuid=n,hr.ensureTrailingSlash=e,hr.applySettingDefaults=a,hr.validateSupabaseUrl=l;function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(h){var d=Math.random()*16|0,m=h=="x"?d:d&3|8;return m.toString(16)})}function e(h){return h.endsWith("/")?h:h+"/"}const r=()=>typeof window<"u";hr.isBrowser=r;function a(h,d){var m,g;const{db:_,auth:b,realtime:w,global:T}=h,{db:C,auth:O,realtime:R,global:k}=d,z={db:Object.assign(Object.assign({},C),_),auth:Object.assign(Object.assign({},O),b),realtime:Object.assign(Object.assign({},R),w),storage:{},global:Object.assign(Object.assign(Object.assign({},k),T),{headers:Object.assign(Object.assign({},(m=k?.headers)!==null&&m!==void 0?m:{}),(g=T?.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return h.accessToken?z.accessToken=h.accessToken:delete z.accessToken,z}function l(h){const d=h?.trim();if(!d)throw new Error("supabaseUrl is required.");if(!d.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(d))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return hr}var Gl={};const s1="2.87.1",po=30*1e3,em=3,bp=em*po,vC="http://localhost:9999",_C="supabase.auth.token",xC={"X-Client-Info":`gotrue-js/${s1}`},nm="X-Supabase-Api-Version",a1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wC=600*1e3;let Co=class extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function St(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}let o1=class extends Co{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function l1(n){return St(n)&&n.name==="AuthApiError"}let is=class extends Co{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},gr=class extends Co{constructor(e,r,a,l){super(e,a,l),this.name=r,this.status=a}},En=class extends gr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function u1(n){return St(n)&&n.name==="AuthSessionMissingError"}let ia=class extends gr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ql=class extends gr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},tu=class extends gr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function c1(n){return St(n)&&n.name==="AuthImplicitGrantRedirectError"}let im=class extends gr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ph=class extends gr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function wh(n){return St(n)&&n.name==="AuthRetryableFetchError"}let rm=class extends gr{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function SC(n){return St(n)&&n.name==="AuthWeakPasswordError"}let Dh=class extends gr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const zh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),s_=` 	
\r=`.split(""),TC=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<s_.length;e+=1)n[s_[e].charCodeAt(0)]=-2;for(let e=0;e<zh.length;e+=1)n[zh[e].charCodeAt(0)]=e;return n})();function a_(n,e,r){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(zh[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(zh[a]),e.queuedBits-=6}}function h1(n,e,r){const a=TC[n];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function o_(n){const e=[],r=d=>{e.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},h=d=>{AC(d,a,r)};for(let d=0;d<n.length;d+=1)h1(n.charCodeAt(d),l,h);return e.join("")}function EC(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function CC(n,e){for(let r=0;r<n.length;r+=1){let a=n.charCodeAt(r);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(n.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}EC(a,e)}}function AC(n,e,r){if(e.utf8seq===0){if(n<=127){r(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function So(n){const e=[],r={queue:0,queuedBits:0},a=l=>{e.push(l)};for(let l=0;l<n.length;l+=1)h1(n.charCodeAt(l),r,a);return new Uint8Array(e)}function jC(n){const e=[];return CC(n,r=>e.push(r)),new Uint8Array(e)}function ua(n){const e=[],r={queue:0,queuedBits:0},a=l=>{e.push(l)};return n.forEach(l=>a_(l,r,a)),a_(null,r,a),e.join("")}function RC(n){return Math.round(Date.now()/1e3)+n}function kC(){return Symbol("auth-callback")}const Qe=()=>typeof window<"u"&&typeof document<"u",ta={tested:!1,writable:!1},d1=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ta.tested)return ta.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ta.tested=!0,ta.writable=!0}catch{ta.tested=!0,ta.writable=!1}return ta.writable};function OC(n){const e={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,h)=>{e[h]=l})}catch{}return r.searchParams.forEach((a,l)=>{e[l]=a}),e}const f1=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),MC=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",mo=async(n,e,r)=>{await n.setItem(e,JSON.stringify(r))},ea=async(n,e)=>{const r=await n.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Je=async(n,e)=>{await n.removeItem(e)};class Jh{constructor(){this.promise=new Jh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Jh.promiseConstructor=Promise;function wp(n){const e=n.split(".");if(e.length!==3)throw new Dh("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!bC.test(e[a]))throw new Dh("JWT not in base64url format");return{header:JSON.parse(o_(e[0])),payload:JSON.parse(o_(e[1])),signature:So(e[2]),raw:{header:e[0],payload:e[1]}}}async function LC(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function PC(n,e){return new Promise((a,l)=>{(async()=>{for(let h=0;h<1/0;h++)try{const d=await n(h);if(!e(h,null,d)){a(d);return}}catch(d){if(!e(h,d)){l(d);return}}})()})}function DC(n){return("0"+n.toString(16)).substr(-2)}function zC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let l="";for(let h=0;h<56;h++)l+=r.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(e),Array.from(e,DC).join("")}async function BC(n){const r=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(a);return Array.from(l).map(h=>String.fromCharCode(h)).join("")}async function NC(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await BC(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function co(n,e,r=!1){const a=zC();let l=a;r&&(l+="/PASSWORD_RECOVERY"),await mo(n,`${e}-code-verifier`,l);const h=await NC(a);return[h,a===h?"plain":"s256"]}const UC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IC(n){const e=n.headers.get(nm);if(!e||!e.match(UC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function VC(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function HC(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ho(n){if(!qC.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sp(){const n={};return new Proxy(n,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function FC(n,e){return new Proxy(n,{get:(r,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const h=a.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,l)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,l)}})}function l_(n){return JSON.parse(JSON.stringify(n))}const ra=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),$C=[502,503,504];async function u_(n){var e;if(!MC(n))throw new Ph(ra(n),0);if($C.includes(n.status))throw new Ph(ra(n),n.status);let r;try{r=await n.json()}catch(h){throw new is(ra(h),h)}let a;const l=IC(n);if(l&&l.getTime()>=a1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new rm(ra(r),n.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new En}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,d)=>h&&typeof d=="string",!0))throw new rm(ra(r),n.status,r.weak_password.reasons);throw new o1(ra(r),n.status||500,a)}const WC=(n,e,r,a)=>{const l={method:n,headers:e?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),r))};async function jt(n,e,r,a){var l;const h=Object.assign({},a?.headers);h[nm]||(h[nm]=a1["2024-01-01"].name),a?.jwt&&(h.Authorization=`Bearer ${a.jwt}`);const d=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(d.redirect_to=a.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await ZC(n,e,r+m,{headers:h,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function ZC(n,e,r,a,l,h){const d=WC(e,a,l,h);let m;try{m=await n(r,Object.assign({},d))}catch(g){throw console.error(g),new Ph(ra(g),0)}if(m.ok||await u_(m),a?.noResolveJson)return m;try{return await m.json()}catch(g){await u_(g)}}function fi(n){var e;let r=null;YC(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=RC(n.expires_in)));const a=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:r,user:a},error:null}}function c_(n){const e=fi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=n.weak_password),e}function rs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function GC(n){return{data:n,error:null}}function KC(n){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:l,verification_type:h}=n,d=Mo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:r,hashed_token:a,redirect_to:l,verification_type:h},g=Object.assign({},d);return{data:{properties:m,user:g},error:null}}function h_(n){return n}function YC(n){return n.access_token&&n.refresh_token&&n.expires_in}const Sh=["global","local","others"];let Fm=class{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=f1(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Sh[0]){if(Sh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sh.join(", ")}`);try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(St(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:rs})}catch(a){if(St(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=Mo(e,["options"]),l=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:KC,redirectTo:r?.redirectTo})}catch(r){if(St(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rs})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,l,h,d,m,g;try{const _={nextPage:null,lastPage:0,total:0},b=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(h=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&h!==void 0?h:""},xform:h_});if(b.error)throw b.error;const w=await b.json(),T=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(O=>{const R=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(O.split(";")[1].split("=")[1]);_[`${k}Page`]=R}),_.total=parseInt(T)),{data:Object.assign(Object.assign({},w),_),error:null}}catch(_){if(St(_))return{data:{users:[]},error:_};throw _}}async getUserById(e){ho(e);try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rs})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ho(e);try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:rs})}catch(a){if(St(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){ho(e);try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:rs})}catch(a){if(St(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){ho(e.userId);try{const{data:r,error:a}=await jt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:a}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ho(e.userId),ho(e.id);try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,l,h,d,m,g;try{const _={nextPage:null,lastPage:0,total:0},b=await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(h=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&h!==void 0?h:""},xform:h_});if(b.error)throw b.error;const w=await b.json(),T=(d=b.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(O=>{const R=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(O.split(";")[1].split("=")[1]);_[`${k}Page`]=R}),_.total=parseInt(T)),{data:Object.assign(Object.assign({},w),_),error:null}}catch(_){if(St(_))return{data:{clients:[]},error:_};throw _}}async _createOAuthClient(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await jt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(St(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await jt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}};function d_(n={}){return{getItem:e=>n[e]||null,setItem:(e,r)=>{n[e]=r},removeItem:e=>{delete n[e]}}}const sa={debug:!!(globalThis&&d1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $m extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let p1=class extends $m{};class XC extends $m{}async function m1(n,e,r){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await r()}finally{sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(e===0)throw sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new p1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(sa.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const f_={};async function JC(n,e,r){var a;const l=(a=f_[n])!==null&&a!==void 0?a:Promise.resolve(),h=Promise.race([l.catch(()=>null),e>=0?new Promise((d,m)=>{setTimeout(()=>{m(new XC(`Acquring process lock with name "${n}" timed out`))},e)}):null].filter(d=>d)).catch(d=>{if(d&&d.isAcquireTimeout)throw d;return null}).then(async()=>await r());return f_[n]=h.catch(async d=>{if(d&&d.isAcquireTimeout)return await l,null;throw d}),await h}function QC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function g1(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function tA(n){return parseInt(n,16)}function eA(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function nA(n){var e;const{chainId:r,domain:a,expirationTime:l,issuedAt:h=new Date,nonce:d,notBefore:m,requestId:g,resources:_,scheme:b,uri:w,version:T}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const C=g1(n.address),O=b?`${b}://${a}`:a,R=n.statement?`${n.statement}
`:"",k=`${O} wants you to sign in with your Ethereum account:
${C}

${R}`;let z=`URI: ${w}
Version: ${T}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${h.toISOString()}`;if(l&&(z+=`
Expiration Time: ${l.toISOString()}`),m&&(z+=`
Not Before: ${m.toISOString()}`),g&&(z+=`
Request ID: ${g}`),_){let B=`
Resources:`;for(const D of _){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);B+=`
- ${D}`}z+=B}return`${k}
${z}`}class ze extends Error{constructor({message:e,code:r,cause:a,name:l}){var h;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(h=l??(a instanceof Error?a.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class Bh extends ze{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function iA({error:n,options:e}){var r,a,l;const{publicKey:h}=e;if(!h)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((a=h.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return h.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(y1(d)){if(h.rp.id!==d)return new ze({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function rA({error:n,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(y1(a)){if(r.rpId!==a)return new ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class sA{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const aA=new sA;function oA(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:r,excludeCredentials:a}=n,l=Mo(n,["challenge","user","excludeCredentials"]),h=So(e).buffer,d=Object.assign(Object.assign({},r),{id:So(r.id).buffer}),m=Object.assign(Object.assign({},l),{challenge:h,user:d});if(a&&a.length>0){m.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const _=a[g];m.excludeCredentials[g]=Object.assign(Object.assign({},_),{id:So(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return m}function lA(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:r}=n,a=Mo(n,["challenge","allowCredentials"]),l=So(e).buffer,h=Object.assign(Object.assign({},a),{challenge:l});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const m=r[d];h.allowCredentials[d]=Object.assign(Object.assign({},m),{id:So(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function uA(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:ua(new Uint8Array(n.response.attestationObject)),clientDataJSON:ua(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function cA(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,a=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ua(new Uint8Array(l.authenticatorData)),clientDataJSON:ua(new Uint8Array(l.clientDataJSON)),signature:ua(new Uint8Array(l.signature)),userHandle:l.userHandle?ua(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function y1(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function p_(){var n,e;return!!(Qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hA(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bh("Browser returned unexpected credential type",e)}:{data:null,error:new Bh("Empty credential response",e)}}catch(e){return{data:null,error:iA({error:e,options:n})}}}async function dA(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bh("Browser returned unexpected credential type",e)}:{data:null,error:new Bh("Empty credential response",e)}}catch(e){return{data:null,error:rA({error:e,options:n})}}}const fA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nh(...n){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),r=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of n)if(l)for(const h in l){const d=l[h];if(d!==void 0)if(Array.isArray(d))a[h]=d;else if(r(d))a[h]=d;else if(e(d)){const m=a[h];e(m)?a[h]=Nh(m,d):a[h]=Nh(d)}else a[h]=d}return a}function mA(n,e){return Nh(fA,n,e||{})}function gA(n,e){return Nh(pA,n,e||{})}class yA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:l},h){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!d)return{data:null,error:m};const g=l??aA.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:_}=d.webauthn.credential_options.publicKey;_.name||(_.name=`${_.id}:${a}`),_.displayName||(_.displayName=_.name)}switch(d.webauthn.type){case"create":{const _=mA(d.webauthn.credential_options.publicKey,h?.create),{data:b,error:w}=await hA({publicKey:_,signal:g});return b?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const _=gA(d.webauthn.credential_options.publicKey,h?.request),{data:b,error:w}=await dA(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:_,signal:g}));return b?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(d){return St(d)?{data:null,error:d}:{data:null,error:new is("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},h){if(!r)return{data:null,error:new Co("rpId is required for WebAuthn authentication")};try{if(!p_())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:l},{request:h});if(!d)return{data:null,error:m};const{webauthn:g}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:a,credential_response:g.credential_response}})}catch(d){return St(d)?{data:null,error:d}:{data:null,error:new is("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},h){if(!r)return{data:null,error:new Co("rpId is required for WebAuthn registration")};try{if(!p_())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===e&&T.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:g,error:_}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:l},{create:h});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:_}}catch(d){return St(d)?{data:null,error:d}:{data:null,error:new is("Unexpected error in register",d)}}}}QC();const vA={url:vC,storageKey:_C,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function m_(n,e,r){return await r()}const fo={};let Wm=class sm{get jwks(){var e,r;return(r=(e=fo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=fo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},vA),e);if(this.storageKey=h.storageKey,this.instanceID=(r=sm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,sm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&Qe()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new Fm({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=f1(h.fetch),this.lock=h.lock||m_,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&Qe()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=m1:this.lock=m_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:d1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=d_(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=d_(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${s1}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(Qe()&&(r=OC(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Qe()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:h}=await this._getSessionFromURL(r,a);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),c1(h)){const g=(e=h.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:d,redirectType:m}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return St(r)?this._returnResult({error:r}):this._returnResult({error:new is("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,l;try{const h=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:fi}),{data:d,error:m}=h;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const g=d.session,_=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:_,session:g},error:null})}catch(h){if(St(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(e){var r,a,l;try{let h;if("email"in e){const{email:b,password:w,options:T}=e;let C=null,O=null;this.flowType==="pkce"&&([C,O]=await co(this.storage,this.storageKey)),h=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:b,password:w,data:(r=T?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:C,code_challenge_method:O},xform:fi})}else if("phone"in e){const{phone:b,password:w,options:T}=e;h=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(a=T?.data)!==null&&a!==void 0?a:{},channel:(l=T?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:fi})}else throw new Ql("You must provide either an email or phone number and a password");const{data:d,error:m}=h;if(m||!d)return await Je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=d.session,_=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:_,session:g},error:null})}catch(h){if(await Je(this.storage,`${this.storageKey}-code-verifier`),St(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(e){try{let r;if("email"in e){const{email:h,password:d,options:m}=e;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:c_})}else if("phone"in e){const{phone:h,password:d,options:m}=e;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:c_})}else throw new Ql("You must provide either an email or phone number and a password");const{data:a,error:l}=r;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const h=new ia;return this._returnResult({data:{user:null,session:null},error:h})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,l,h;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(h=e.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,l,h,d,m,g,_,b,w,T;let C,O;if("message"in e)C=e.message,O=e.signature;else{const{chain:R,wallet:k,statement:z,options:B}=e;let D;if(Qe())if(typeof k=="object")D=k;else{const vt=window;if("ethereum"in vt&&typeof vt.ethereum=="object"&&"request"in vt.ethereum&&typeof vt.ethereum.request=="function")D=vt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=k}const V=new URL((r=B?.url)!==null&&r!==void 0?r:window.location.href),F=await D.request({method:"eth_requestAccounts"}).then(vt=>vt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=g1(F[0]);let Q=(a=B?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Q){const vt=await D.request({method:"eth_chainId"});Q=tA(vt)}const dt={domain:V.host,address:G,statement:z,uri:V.href,version:"1",chainId:Q,nonce:(l=B?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(h=B?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=B?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=B?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(_=B?.signInWithEthereum)===null||_===void 0?void 0:_.requestId,resources:(b=B?.signInWithEthereum)===null||b===void 0?void 0:b.resources};C=nA(dt),O=await D.request({method:"personal_sign",params:[eA(C),G]})}try{const{data:R,error:k}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:O},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:fi});if(k)throw k;if(!R||!R.session||!R.user){const z=new ia;return this._returnResult({data:{user:null,session:null},error:z})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:k})}catch(R){if(St(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(e){var r,a,l,h,d,m,g,_,b,w,T,C;let O,R;if("message"in e)O=e.message,R=e.signature;else{const{chain:k,wallet:z,statement:B,options:D}=e;let V;if(Qe())if(typeof z=="object")V=z;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))V=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=z}const F=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in V&&V.signIn){const G=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),B?{statement:B}:null));let Q;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")Q=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)Q=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)O=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),R=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${F.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(l=(a=D?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((h=D?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((_=D?.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((w=(b=D?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...D.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const G=await V.signMessage(new TextEncoder().encode(O),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=G}}try{const{data:k,error:z}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:ua(R)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:fi});if(z)throw z;if(!k||!k.session||!k.user){const B=new ia;return this._returnResult({data:{user:null,session:null},error:B})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:z})}catch(k){if(St(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const r=await ea(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(r??"").split("/");try{const{data:h,error:d}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:fi});if(await Je(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!h||!h.session||!h.user){const m=new ia;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:l??null}),error:d})}catch(h){if(await Je(this.storage,`${this.storageKey}-code-verifier`),St(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(e){try{const{options:r,provider:a,token:l,access_token:h,nonce:d}=e,m=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:h,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:fi}),{data:g,error:_}=m;if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!g||!g.session||!g.user){const b=new ia;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:_})}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,l,h,d;try{if("email"in e){const{email:m,options:g}=e;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await co(this.storage,this.storageKey));const{error:w}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:_,code_challenge_method:b},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:m,options:g}=e,{data:_,error:b}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(h=g?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(d=g?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:b})}throw new Ql("You must provide either an email or phone number.")}catch(m){if(await Je(this.storage,`${this.storageKey}-code-verifier`),St(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(e){var r,a;try{let l,h;"options"in e&&(l=(r=e.options)===null||r===void 0?void 0:r.redirectTo,h=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:m}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:h}}),redirectTo:l,xform:fi});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,_=d.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:_,session:g},error:null})}catch(l){if(St(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var r,a,l,h,d;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await co(this.storage,this.storageKey));const _=await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:GC});return!((h=_.data)===null||h===void 0)&&h.url&&Qe()&&!(!((d=e.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(_.data.url),this._returnResult(_)}catch(m){if(await Je(this.storage,`${this.storageKey}-code-verifier`),St(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new En;const{error:l}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(St(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:l,options:h}=e,{error:d}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in e){const{phone:a,type:l,options:h}=e,{data:d,error:m}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:m})}throw new Ql("You must provide either an email or phone number and a type")}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<bp:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const d=await ea(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=Sp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=FC(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:h}=await this._callRefreshToken(e.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rs}):await this._useSession(async r=>{var a,l,h;const{data:d,error:m}=r;if(m)throw m;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&h!==void 0?h:void 0,xform:rs})})}catch(r){if(St(r))return u1(r)&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:l,error:h}=a;if(h)throw h;if(!l.session)throw new En;const d=l.session;let m=null,g=null;this.flowType==="pkce"&&e.email!=null&&([m,g]=await co(this.storage,this.storageKey));const{data:_,error:b}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:g}),jwt:d.access_token,xform:rs});if(b)throw b;return d.user=_.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(a){if(await Je(this.storage,`${this.storageKey}-code-verifier`),St(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new En;const r=Date.now()/1e3;let a=r,l=!0,h=null;const{payload:d}=wp(e.access_token);if(d.exp&&(a=d.exp,l=a<=r),l){const{data:m,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};h=m}else{const{data:m,error:g}=await this._getUser(e.access_token);if(g)throw g;h={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(St(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:d,error:m}=r;if(m)throw m;e=(a=d.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new En;const{data:l,error:h}=await this._callRefreshToken(e.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Qe())throw new tu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new im("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new im("No code detected.");const{data:B,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:h,refresh_token:d,expires_in:m,expires_at:g,token_type:_}=e;if(!h||!m||!d||!_)throw new tu("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(m);let T=b+w;g&&(T=parseInt(g));const C=T-b;C*1e3<=po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${w}s`);const O=T-w;b-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,T,b):b-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,T,b);const{data:R,error:k}=await this._getUser(h);if(k)throw k;const z={provider_token:a,provider_refresh_token:l,access_token:h,expires_in:w,expires_at:T,refresh_token:d,token_type:_,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:e.type},error:null})}catch(a){if(St(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ea(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:l,error:h}=r;if(h)return this._returnResult({error:h});const d=(a=l.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:m}=await this.admin.signOut(d,e);if(m&&!(l1(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return e!=="others"&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=kC(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,l;try{const{data:{session:h},error:d}=r;if(d)throw d;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",e,"session",h)}catch(h){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",h),console.error(h)}})}async resetPasswordForEmail(e,r={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await co(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await Je(this.storage,`${this.storageKey}-code-verifier`),St(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:l}=await this._useSession(async h=>{var d,m,g,_,b;const{data:w,error:T}=h;if(T)throw T;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",C,{headers:this.headers,jwt:(b=(_=w.session)===null||_===void 0?void 0:_.access_token)!==null&&b!==void 0?b:void 0})});if(l)throw l;return Qe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(St(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:l,data:{session:h}}=r;if(l)throw l;const{options:d,provider:m,token:g,access_token:_,nonce:b}=e,w=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=h?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:m,id_token:g,access_token:_,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:fi}),{data:T,error:C}=w;return C?this._returnResult({data:{user:null,session:null},error:C}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new ia}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:C}))}catch(l){if(await Je(this.storage,`${this.storageKey}-code-verifier`),St(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,l;const{data:h,error:d}=r;if(d)throw d;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(a=h.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await PC(async l=>(l>0&&await LC(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fi})),(l,h)=>{const d=200*Math.pow(2,l);return h&&wh(h)&&Date.now()+d-a<po})}catch(a){if(this._debug(r,"error",a),St(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Qe()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await ea(this.storage,this.storageKey);if(l&&this.userStorage){let d=await ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await mo(this.userStorage,this.storageKey+"-user",d)),l.user=(e=d?.user)!==null&&e!==void 0?e:Sp()}else if(l&&!l.user&&!l.user){const d=await ea(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await Je(this.storage,this.storageKey+"-user"),await mo(this.storage,this.storageKey,l)):l.user=Sp()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const h=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<bp;if(this._debug(a,`session has${h?"":" not"} expired with margin of ${bp}s`),h){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),wh(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(l.access_token);!m&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Jh;const{data:h,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!h.session)throw new En;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const m={data:h.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(h){if(this._debug(l,"error",h),St(h)){const d={data:null,error:h};return wh(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(h),h}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,r,a=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const h=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,r)}catch(g){h.push(g)}});if(await Promise.all(d),h.length>0){for(let m=0;m<h.length;m+=1)console.error(h[m]);throw h[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Je(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await mo(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const h=l_(l);await mo(this.storage,this.storageKey,h)}else{const l=l_(r);await mo(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Je(this.storage,this.storageKey),await Je(this.storage,this.storageKey+"-code-verifier"),await Je(this.storage,this.storageKey+"-user"),this.userStorage&&await Je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),po);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-e)/po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${po}ms, refresh threshold is ${em} ticks`),l<=em&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $m)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const l=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[h,d]=await co(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(m.toString())}if(a?.queryParams){const h=new URLSearchParams(a.queryParams);l.push(h.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:l,error:h}=r;return h?this._returnResult({data:null,error:h}):await jt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,l;const{data:h,error:d}=r;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:_}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(a=h?.session)===null||a===void 0?void 0:a.access_token});return _?this._returnResult({data:null,error:_}):(e.factorType==="totp"&&g.type==="totp"&&(!((l=g?.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:h}=r;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?uA(e.webauthn.credential_response):cA(e.webauthn.credential_response)})}:{code:e.code}),{data:m,error:g}=await jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:l,error:h}=r;if(h)return this._returnResult({data:null,error:h});const d=await jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:oA(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:lA(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const h of(e=r?.factors)!==null&&e!==void 0?e:[])l.all.push(h),h.status==="verified"&&l[h.factor_type].push(h);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=wp(a.access_token);let d=null;h.aal&&(d=h.aal);let m=d;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const _=h.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;return l?this._returnResult({data:null,error:l}):a?await jt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new En})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:l},error:h}=a;if(h)return this._returnResult({data:null,error:h});if(!l)return this._returnResult({data:null,error:new En});const d=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&Qe()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(St(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:l},error:h}=a;if(h)return this._returnResult({data:null,error:h});if(!l)return this._returnResult({data:null,error:new En});const d=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&Qe()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(St(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await jt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new En})})}catch(e){if(St(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;return l?this._returnResult({data:null,error:l}):a?(await jt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new En})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(m=>m.kid===e);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(m=>m.kid===e),a&&this.jwks_cached_at+wC>l)return a;const{data:h,error:d}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=l,a=h.keys.find(m=>m.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:C,error:O}=await this.getSession();if(O||!C.session)return this._returnResult({data:null,error:O});a=C.session.access_token}const{header:l,payload:h,signature:d,raw:{header:m,payload:g}}=wp(a);r?.allowExpired||VC(h.exp);const _=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!_){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:h,header:l,signature:d},error:null}}const b=HC(l.alg),w=await crypto.subtle.importKey("jwk",_,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,d,jC(`${m}.${g}`)))throw new Dh("Invalid JWT signature");return{data:{claims:h,header:l,signature:d},error:null}}catch(a){if(St(a))return this._returnResult({data:null,error:a});throw a}}};Wm.nextInstanceID={};const _A=Fm,xA=Wm,bA=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:_A,AuthApiError:o1,AuthClient:xA,AuthError:Co,AuthImplicitGrantRedirectError:tu,AuthInvalidCredentialsError:Ql,AuthInvalidJwtError:Dh,AuthInvalidTokenResponseError:ia,AuthPKCEGrantCodeExchangeError:im,AuthRetryableFetchError:Ph,AuthSessionMissingError:En,AuthUnknownError:is,AuthWeakPasswordError:rm,CustomAuthError:gr,GoTrueAdminApi:Fm,GoTrueClient:Wm,NavigatorLockAcquireTimeoutError:p1,SIGN_OUT_SCOPES:Sh,isAuthApiError:l1,isAuthError:St,isAuthImplicitGrantRedirectError:c1,isAuthRetryableFetchError:wh,isAuthSessionMissingError:u1,isAuthWeakPasswordError:SC,lockInternals:sa,navigatorLock:m1,processLock:JC},Symbol.toStringTag,{value:"Module"})),v1=gu(bA);var g_;function wA(){if(g_)return Gl;g_=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.SupabaseAuthClient=void 0;const n=v1;let e=class extends n.AuthClient{constructor(a){super(a)}};return Gl.SupabaseAuthClient=e,Gl}var y_;function v_(){if(y_)return rh;y_=1,Object.defineProperty(rh,"__esModule",{value:!0});const n=Ob,e=Bb(),r=$b,a=fC,l=mC(),h=gC(),d=yC(),m=wA();class g{constructor(b,w,T){var C,O,R;this.supabaseUrl=b,this.supabaseKey=w;const k=(0,d.validateSupabaseUrl)(b);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const z=`sb-${k.hostname.split(".")[0]}-auth-token`,B={db:l.DEFAULT_DB_OPTIONS,realtime:l.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},l.DEFAULT_AUTH_OPTIONS),{storageKey:z}),global:l.DEFAULT_GLOBAL_OPTIONS},D=(0,d.applySettingDefaults)(T??{},B);this.storageKey=(C=D.auth.storageKey)!==null&&C!==void 0?C:"",this.headers=(O=D.global.headers)!==null&&O!==void 0?O:{},D.accessToken?(this.accessToken=D.accessToken,this.auth=new Proxy({},{get:(V,F)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(F)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((R=D.auth)!==null&&R!==void 0?R:{},this.headers,D.global.fetch),this.fetch=(0,h.fetchWithAuth)(w,this._getAccessToken.bind(this),D.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},D.realtime)),this.accessToken&&this.accessToken().then(V=>this.realtime.setAuth(V)).catch(V=>console.warn("Failed to set initial Realtime auth token:",V)),this.rest=new e.PostgrestClient(new URL("rest/v1",k).href,{headers:this.headers,schema:D.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,T?.storage),D.accessToken||this._listenForAuthEvents()}get functions(){return new n.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(b){return this.rest.from(b)}schema(b){return this.rest.schema(b)}rpc(b,w={},T={head:!1,get:!1,count:void 0}){return this.rest.rpc(b,w,T)}channel(b,w={config:{}}){return this.realtime.channel(b,w)}getChannels(){return this.realtime.getChannels()}removeChannel(b){return this.realtime.removeChannel(b)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var b,w;if(this.accessToken)return await this.accessToken();const{data:T}=await this.auth.getSession();return(w=(b=T.session)===null||b===void 0?void 0:b.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:b,persistSession:w,detectSessionInUrl:T,storage:C,userStorage:O,storageKey:R,flowType:k,lock:z,debug:B,throwOnError:D},V,F){const G={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},G),V),storageKey:R,autoRefreshToken:b,persistSession:w,detectSessionInUrl:T,storage:C,userStorage:O,flowType:k,lock:z,debug:B,throwOnError:D,fetch:F,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Q=>Q.toLowerCase()==="authorization")})}_initRealtimeClient(b){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},b),{params:Object.assign({apikey:this.supabaseKey},b?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,T)=>{this._handleTokenChanged(w,"CLIENT",T?.access_token)})}_handleTokenChanged(b,w,T){(b==="TOKEN_REFRESHED"||b==="SIGNED_IN")&&this.changedAccessToken!==T?(this.changedAccessToken=T,this.realtime.setAuth(T)):b==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return rh.default=g,rh}var __;function SA(){return __||(__=1,(function(n){var e=cr&&cr.__createBinding||(Object.create?(function(b,w,T,C){C===void 0&&(C=T);var O=Object.getOwnPropertyDescriptor(w,T);(!O||("get"in O?!w.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return w[T]}}),Object.defineProperty(b,C,O)}):(function(b,w,T,C){C===void 0&&(C=T),b[C]=w[T]})),r=cr&&cr.__exportStar||function(b,w){for(var T in b)T!=="default"&&!Object.prototype.hasOwnProperty.call(w,T)&&e(w,b,T)},a=cr&&cr.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(n,"__esModule",{value:!0}),n.createClient=n.SupabaseClient=n.FunctionRegion=n.FunctionsError=n.FunctionsRelayError=n.FunctionsFetchError=n.FunctionsHttpError=n.PostgrestError=void 0;const l=a(v_());r(v1,n);var h=Bb();Object.defineProperty(n,"PostgrestError",{enumerable:!0,get:function(){return h.PostgrestError}});var d=Ob;Object.defineProperty(n,"FunctionsHttpError",{enumerable:!0,get:function(){return d.FunctionsHttpError}}),Object.defineProperty(n,"FunctionsFetchError",{enumerable:!0,get:function(){return d.FunctionsFetchError}}),Object.defineProperty(n,"FunctionsRelayError",{enumerable:!0,get:function(){return d.FunctionsRelayError}}),Object.defineProperty(n,"FunctionsError",{enumerable:!0,get:function(){return d.FunctionsError}}),Object.defineProperty(n,"FunctionRegion",{enumerable:!0,get:function(){return d.FunctionRegion}}),r($b,n);var m=v_();Object.defineProperty(n,"SupabaseClient",{enumerable:!0,get:function(){return a(m).default}});const g=(b,w,T)=>new l.default(b,w,T);n.createClient=g;function _(){if(typeof window<"u"||typeof process>"u")return!1;const b=process.version;if(b==null)return!1;const w=b.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(cr)),cr}var _1=SA();const x1=Wh(_1),TA=LT({__proto__:null,default:x1},[_1]),{PostgrestError:JD,FunctionsHttpError:QD,FunctionsFetchError:tz,FunctionsRelayError:ez,FunctionsError:nz,FunctionRegion:iz,SupabaseClient:rz,createClient:EA,GoTrueAdminApi:sz,GoTrueClient:az,AuthAdminApi:oz,AuthClient:lz,navigatorLock:uz,NavigatorLockAcquireTimeoutError:cz,lockInternals:hz,processLock:dz,SIGN_OUT_SCOPES:fz,AuthError:pz,AuthApiError:mz,AuthUnknownError:gz,CustomAuthError:yz,AuthSessionMissingError:vz,AuthInvalidTokenResponseError:_z,AuthInvalidCredentialsError:xz,AuthImplicitGrantRedirectError:bz,AuthPKCEGrantCodeExchangeError:wz,AuthRetryableFetchError:Sz,AuthWeakPasswordError:Tz,AuthInvalidJwtError:Ez,isAuthError:Cz,isAuthApiError:Az,isAuthSessionMissingError:jz,isAuthImplicitGrantRedirectError:Rz,isAuthRetryableFetchError:kz,isAuthWeakPasswordError:Oz,RealtimePresence:Mz,RealtimeChannel:Lz,RealtimeClient:Pz,REALTIME_LISTEN_TYPES:Dz,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:zz,REALTIME_PRESENCE_LISTEN_EVENTS:Bz,REALTIME_SUBSCRIBE_STATES:Nz,REALTIME_CHANNEL_STATES:Uz}=x1||TA,CA="https://upisshnwndbiaiffladc.supabase.co",AA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVwaXNzaG53bmRiaWFpZmZsYWRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzNDI4MDMsImV4cCI6MjA4MDkxODgwM30.1tmdQA5HFxlJBxUNbIlOUnW2rBvLdiVtOKALOEEyQAA",ft=EA(CA,AA),b1=j.createContext({}),He=()=>j.useContext(b1),jA=({children:n})=>{const[e,r]=j.useState(null),[a,l]=j.useState(!0);j.useEffect(()=>{ft.auth.getSession().then(({data:{session:m}})=>{r(m?.user??null),l(!1)}).catch(m=>{console.error("Error getting session:",m),l(!1)});const{data:{subscription:d}}=ft.auth.onAuthStateChange((m,g)=>{r(g?.user??null),l(!1)});return()=>{d&&d.unsubscribe()}},[]);const h={user:e,loading:a,signInWithGoogle:async()=>{const{error:d}=await ft.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+window.location.pathname}});if(d)throw d},signOut:async()=>{const{error:d}=await ft.auth.signOut();if(d)throw d}};return y.jsx(b1.Provider,{value:h,children:n})},Zm=j.createContext({});function Gm(n){const e=j.useRef(null);return e.current===null&&(e.current=n()),e.current}const Km=typeof window<"u",w1=Km?j.useLayoutEffect:j.useEffect,Qh=j.createContext(null);function Ym(n,e){n.indexOf(e)===-1&&n.push(e)}function Xm(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}const pr=(n,e,r)=>r>e?e:r<n?n:r;let Jm=()=>{};const mr={},S1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function T1(n){return typeof n=="object"&&n!==null}const E1=n=>/^0[^.\s]+$/u.test(n);function Qm(n){let e;return()=>(e===void 0&&(e=n()),e)}const Jn=n=>n,RA=(n,e)=>r=>e(n(r)),bu=(...n)=>n.reduce(RA),hu=(n,e,r)=>{const a=e-n;return a===0?1:(r-n)/a};class tg{constructor(){this.subscriptions=[]}add(e){return Ym(this.subscriptions,e),()=>Xm(this.subscriptions,e)}notify(e,r,a){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,r,a);else for(let h=0;h<l;h++){const d=this.subscriptions[h];d&&d(e,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Di=n=>n*1e3,Xn=n=>n/1e3;function C1(n,e){return e?n*(1e3/e):0}const A1=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,kA=1e-7,OA=12;function MA(n,e,r,a,l){let h,d,m=0;do d=e+(r-e)/2,h=A1(d,a,l)-n,h>0?r=d:e=d;while(Math.abs(h)>kA&&++m<OA);return d}function wu(n,e,r,a){if(n===e&&r===a)return Jn;const l=h=>MA(h,0,1,n,r);return h=>h===0||h===1?h:A1(l(h),e,a)}const j1=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,R1=n=>e=>1-n(1-e),k1=wu(.33,1.53,.69,.99),eg=R1(k1),O1=j1(eg),M1=n=>(n*=2)<1?.5*eg(n):.5*(2-Math.pow(2,-10*(n-1))),ng=n=>1-Math.sin(Math.acos(n)),L1=R1(ng),P1=j1(ng),LA=wu(.42,0,1,1),PA=wu(0,0,.58,1),D1=wu(.42,0,.58,1),DA=n=>Array.isArray(n)&&typeof n[0]!="number",z1=n=>Array.isArray(n)&&typeof n[0]=="number",zA={linear:Jn,easeIn:LA,easeInOut:D1,easeOut:PA,circIn:ng,circInOut:P1,circOut:L1,backIn:eg,backInOut:O1,backOut:k1,anticipate:M1},BA=n=>typeof n=="string",x_=n=>{if(z1(n)){Jm(n.length===4);const[e,r,a,l]=n;return wu(e,r,a,l)}else if(BA(n))return zA[n];return n},fh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function NA(n,e){let r=new Set,a=new Set,l=!1,h=!1;const d=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(b){d.has(b)&&(_.schedule(b),n()),b(m)}const _={schedule:(b,w=!1,T=!1)=>{const O=T&&l?r:a;return w&&d.add(b),O.has(b)||O.add(b),b},cancel:b=>{a.delete(b),d.delete(b)},process:b=>{if(m=b,l){h=!0;return}l=!0,[r,a]=[a,r],r.forEach(g),r.clear(),l=!1,h&&(h=!1,_.process(b))}};return _}const UA=40;function B1(n,e){let r=!1,a=!0;const l={delta:0,timestamp:0,isProcessing:!1},h=()=>r=!0,d=fh.reduce((D,V)=>(D[V]=NA(h),D),{}),{setup:m,read:g,resolveKeyframes:_,preUpdate:b,update:w,preRender:T,render:C,postRender:O}=d,R=()=>{const D=mr.useManualTiming?l.timestamp:performance.now();r=!1,mr.useManualTiming||(l.delta=a?1e3/60:Math.max(Math.min(D-l.timestamp,UA),1)),l.timestamp=D,l.isProcessing=!0,m.process(l),g.process(l),_.process(l),b.process(l),w.process(l),T.process(l),C.process(l),O.process(l),l.isProcessing=!1,r&&e&&(a=!1,n(R))},k=()=>{r=!0,a=!0,l.isProcessing||n(R)};return{schedule:fh.reduce((D,V)=>{const F=d[V];return D[V]=(G,Q=!1,dt=!1)=>(r||k(),F.schedule(G,Q,dt)),D},{}),cancel:D=>{for(let V=0;V<fh.length;V++)d[fh[V]].cancel(D)},state:l,steps:d}}const{schedule:ge,cancel:as,state:tn,steps:Tp}=B1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let Th;function IA(){Th=void 0}const An={now:()=>(Th===void 0&&An.set(tn.isProcessing||mr.useManualTiming?tn.timestamp:performance.now()),Th),set:n=>{Th=n,queueMicrotask(IA)}},N1=n=>e=>typeof e=="string"&&e.startsWith(n),U1=N1("--"),VA=N1("var(--"),ig=n=>VA(n)?HA.test(n.split("/*")[0].trim()):!1,HA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Po={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},du={...Po,transform:n=>pr(0,1,n)},ph={...Po,default:1},iu=n=>Math.round(n*1e5)/1e5,rg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qA(n){return n==null}const FA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sg=(n,e)=>r=>!!(typeof r=="string"&&FA.test(r)&&r.startsWith(n)||e&&!qA(r)&&Object.prototype.hasOwnProperty.call(r,e)),I1=(n,e,r)=>a=>{if(typeof a!="string")return a;const[l,h,d,m]=a.match(rg);return{[n]:parseFloat(l),[e]:parseFloat(h),[r]:parseFloat(d),alpha:m!==void 0?parseFloat(m):1}},$A=n=>pr(0,255,n),Ep={...Po,transform:n=>Math.round($A(n))},ca={test:sg("rgb","red"),parse:I1("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:a=1})=>"rgba("+Ep.transform(n)+", "+Ep.transform(e)+", "+Ep.transform(r)+", "+iu(du.transform(a))+")"};function WA(n){let e="",r="",a="",l="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),a=n.substring(5,7),l=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),a=n.substring(3,4),l=n.substring(4,5),e+=e,r+=r,a+=a,l+=l),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:l?parseInt(l,16)/255:1}}const am={test:sg("#"),parse:WA,transform:ca.transform},Su=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ns=Su("deg"),zi=Su("%"),Ot=Su("px"),ZA=Su("vh"),GA=Su("vw"),b_={...zi,parse:n=>zi.parse(n)/100,transform:n=>zi.transform(n*100)},yo={test:sg("hsl","hue"),parse:I1("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:a=1})=>"hsla("+Math.round(n)+", "+zi.transform(iu(e))+", "+zi.transform(iu(r))+", "+iu(du.transform(a))+")"},Be={test:n=>ca.test(n)||am.test(n)||yo.test(n),parse:n=>ca.test(n)?ca.parse(n):yo.test(n)?yo.parse(n):am.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ca.transform(n):yo.transform(n),getAnimatableNone:n=>{const e=Be.parse(n);return e.alpha=0,Be.transform(e)}},KA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YA(n){return isNaN(n)&&typeof n=="string"&&(n.match(rg)?.length||0)+(n.match(KA)?.length||0)>0}const V1="number",H1="color",XA="var",JA="var(",w_="${}",QA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fu(n){const e=n.toString(),r=[],a={color:[],number:[],var:[]},l=[];let h=0;const m=e.replace(QA,g=>(Be.test(g)?(a.color.push(h),l.push(H1),r.push(Be.parse(g))):g.startsWith(JA)?(a.var.push(h),l.push(XA),r.push(g)):(a.number.push(h),l.push(V1),r.push(parseFloat(g))),++h,w_)).split(w_);return{values:r,split:m,indexes:a,types:l}}function q1(n){return fu(n).values}function F1(n){const{split:e,types:r}=fu(n),a=e.length;return l=>{let h="";for(let d=0;d<a;d++)if(h+=e[d],l[d]!==void 0){const m=r[d];m===V1?h+=iu(l[d]):m===H1?h+=Be.transform(l[d]):h+=l[d]}return h}}const tj=n=>typeof n=="number"?0:Be.test(n)?Be.getAnimatableNone(n):n;function ej(n){const e=q1(n);return F1(n)(e.map(tj))}const os={test:YA,parse:q1,createTransformer:F1,getAnimatableNone:ej};function Cp(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function nj({hue:n,saturation:e,lightness:r,alpha:a}){n/=360,e/=100,r/=100;let l=0,h=0,d=0;if(!e)l=h=d=r;else{const m=r<.5?r*(1+e):r+e-r*e,g=2*r-m;l=Cp(g,m,n+1/3),h=Cp(g,m,n),d=Cp(g,m,n-1/3)}return{red:Math.round(l*255),green:Math.round(h*255),blue:Math.round(d*255),alpha:a}}function Uh(n,e){return r=>r>0?e:n}const xe=(n,e,r)=>n+(e-n)*r,Ap=(n,e,r)=>{const a=n*n,l=r*(e*e-a)+a;return l<0?0:Math.sqrt(l)},ij=[am,ca,yo],rj=n=>ij.find(e=>e.test(n));function S_(n){const e=rj(n);if(!e)return!1;let r=e.parse(n);return e===yo&&(r=nj(r)),r}const T_=(n,e)=>{const r=S_(n),a=S_(e);if(!r||!a)return Uh(n,e);const l={...r};return h=>(l.red=Ap(r.red,a.red,h),l.green=Ap(r.green,a.green,h),l.blue=Ap(r.blue,a.blue,h),l.alpha=xe(r.alpha,a.alpha,h),ca.transform(l))},om=new Set(["none","hidden"]);function sj(n,e){return om.has(n)?r=>r<=0?n:e:r=>r>=1?e:n}function aj(n,e){return r=>xe(n,e,r)}function ag(n){return typeof n=="number"?aj:typeof n=="string"?ig(n)?Uh:Be.test(n)?T_:uj:Array.isArray(n)?$1:typeof n=="object"?Be.test(n)?T_:oj:Uh}function $1(n,e){const r=[...n],a=r.length,l=n.map((h,d)=>ag(h)(h,e[d]));return h=>{for(let d=0;d<a;d++)r[d]=l[d](h);return r}}function oj(n,e){const r={...n,...e},a={};for(const l in r)n[l]!==void 0&&e[l]!==void 0&&(a[l]=ag(n[l])(n[l],e[l]));return l=>{for(const h in a)r[h]=a[h](l);return r}}function lj(n,e){const r=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const h=e.types[l],d=n.indexes[h][a[h]],m=n.values[d]??0;r[l]=m,a[h]++}return r}const uj=(n,e)=>{const r=os.createTransformer(e),a=fu(n),l=fu(e);return a.indexes.var.length===l.indexes.var.length&&a.indexes.color.length===l.indexes.color.length&&a.indexes.number.length>=l.indexes.number.length?om.has(n)&&!l.values.length||om.has(e)&&!a.values.length?sj(n,e):bu($1(lj(a,l),l.values),r):Uh(n,e)};function W1(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?xe(n,e,r):ag(n)(n,e)}const cj=n=>{const e=({timestamp:r})=>n(r);return{start:(r=!0)=>ge.update(e,r),stop:()=>as(e),now:()=>tn.isProcessing?tn.timestamp:An.now()}},Z1=(n,e,r=10)=>{let a="";const l=Math.max(Math.round(e/r),2);for(let h=0;h<l;h++)a+=Math.round(n(h/(l-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Ih=2e4;function og(n){let e=0;const r=50;let a=n.next(e);for(;!a.done&&e<Ih;)e+=r,a=n.next(e);return e>=Ih?1/0:e}function hj(n,e=100,r){const a=r({...n,keyframes:[0,e]}),l=Math.min(og(a),Ih);return{type:"keyframes",ease:h=>a.next(l*h).value/e,duration:Xn(l)}}const dj=5;function G1(n,e,r){const a=Math.max(e-dj,0);return C1(r-n(a),e-a)}const Ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jp=.001;function fj({duration:n=Ee.duration,bounce:e=Ee.bounce,velocity:r=Ee.velocity,mass:a=Ee.mass}){let l,h,d=1-e;d=pr(Ee.minDamping,Ee.maxDamping,d),n=pr(Ee.minDuration,Ee.maxDuration,Xn(n)),d<1?(l=_=>{const b=_*d,w=b*n,T=b-r,C=lm(_,d),O=Math.exp(-w);return jp-T/C*O},h=_=>{const w=_*d*n,T=w*r+r,C=Math.pow(d,2)*Math.pow(_,2)*n,O=Math.exp(-w),R=lm(Math.pow(_,2),d);return(-l(_)+jp>0?-1:1)*((T-C)*O)/R}):(l=_=>{const b=Math.exp(-_*n),w=(_-r)*n+1;return-jp+b*w},h=_=>{const b=Math.exp(-_*n),w=(r-_)*(n*n);return b*w});const m=5/n,g=mj(l,h,m);if(n=Di(n),isNaN(g))return{stiffness:Ee.stiffness,damping:Ee.damping,duration:n};{const _=Math.pow(g,2)*a;return{stiffness:_,damping:d*2*Math.sqrt(a*_),duration:n}}}const pj=12;function mj(n,e,r){let a=r;for(let l=1;l<pj;l++)a=a-n(a)/e(a);return a}function lm(n,e){return n*Math.sqrt(1-e*e)}const gj=["duration","bounce"],yj=["stiffness","damping","mass"];function E_(n,e){return e.some(r=>n[r]!==void 0)}function vj(n){let e={velocity:Ee.velocity,stiffness:Ee.stiffness,damping:Ee.damping,mass:Ee.mass,isResolvedFromDuration:!1,...n};if(!E_(n,yj)&&E_(n,gj))if(n.visualDuration){const r=n.visualDuration,a=2*Math.PI/(r*1.2),l=a*a,h=2*pr(.05,1,1-(n.bounce||0))*Math.sqrt(l);e={...e,mass:Ee.mass,stiffness:l,damping:h}}else{const r=fj(n);e={...e,...r,mass:Ee.mass},e.isResolvedFromDuration=!0}return e}function Vh(n=Ee.visualDuration,e=Ee.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:a,restDelta:l}=r;const h=r.keyframes[0],d=r.keyframes[r.keyframes.length-1],m={done:!1,value:h},{stiffness:g,damping:_,mass:b,duration:w,velocity:T,isResolvedFromDuration:C}=vj({...r,velocity:-Xn(r.velocity||0)}),O=T||0,R=_/(2*Math.sqrt(g*b)),k=d-h,z=Xn(Math.sqrt(g/b)),B=Math.abs(k)<5;a||(a=B?Ee.restSpeed.granular:Ee.restSpeed.default),l||(l=B?Ee.restDelta.granular:Ee.restDelta.default);let D;if(R<1){const F=lm(z,R);D=G=>{const Q=Math.exp(-R*z*G);return d-Q*((O+R*z*k)/F*Math.sin(F*G)+k*Math.cos(F*G))}}else if(R===1)D=F=>d-Math.exp(-z*F)*(k+(O+z*k)*F);else{const F=z*Math.sqrt(R*R-1);D=G=>{const Q=Math.exp(-R*z*G),dt=Math.min(F*G,300);return d-Q*((O+R*z*k)*Math.sinh(dt)+F*k*Math.cosh(dt))/F}}const V={calculatedDuration:C&&w||null,next:F=>{const G=D(F);if(C)m.done=F>=w;else{let Q=F===0?O:0;R<1&&(Q=F===0?Di(O):G1(D,F,G));const dt=Math.abs(Q)<=a,vt=Math.abs(d-G)<=l;m.done=dt&&vt}return m.value=m.done?d:G,m},toString:()=>{const F=Math.min(og(V),Ih),G=Z1(Q=>V.next(F*Q).value,F,30);return F+"ms "+G},toTransition:()=>{}};return V}Vh.applyToOptions=n=>{const e=hj(n,100,Vh);return n.ease=e.ease,n.duration=Di(e.duration),n.type="keyframes",n};function um({keyframes:n,velocity:e=0,power:r=.8,timeConstant:a=325,bounceDamping:l=10,bounceStiffness:h=500,modifyTarget:d,min:m,max:g,restDelta:_=.5,restSpeed:b}){const w=n[0],T={done:!1,value:w},C=dt=>m!==void 0&&dt<m||g!==void 0&&dt>g,O=dt=>m===void 0?g:g===void 0||Math.abs(m-dt)<Math.abs(g-dt)?m:g;let R=r*e;const k=w+R,z=d===void 0?k:d(k);z!==k&&(R=z-w);const B=dt=>-R*Math.exp(-dt/a),D=dt=>z+B(dt),V=dt=>{const vt=B(dt),ut=D(dt);T.done=Math.abs(vt)<=_,T.value=T.done?z:ut};let F,G;const Q=dt=>{C(T.value)&&(F=dt,G=Vh({keyframes:[T.value,O(T.value)],velocity:G1(D,dt,T.value),damping:l,stiffness:h,restDelta:_,restSpeed:b}))};return Q(0),{calculatedDuration:null,next:dt=>{let vt=!1;return!G&&F===void 0&&(vt=!0,V(dt),Q(dt)),F!==void 0&&dt>=F?G.next(dt-F):(!vt&&V(dt),T)}}}function _j(n,e,r){const a=[],l=r||mr.mix||W1,h=n.length-1;for(let d=0;d<h;d++){let m=l(n[d],n[d+1]);if(e){const g=Array.isArray(e)?e[d]||Jn:e;m=bu(g,m)}a.push(m)}return a}function xj(n,e,{clamp:r=!0,ease:a,mixer:l}={}){const h=n.length;if(Jm(h===e.length),h===1)return()=>e[0];if(h===2&&e[0]===e[1])return()=>e[1];const d=n[0]===n[1];n[0]>n[h-1]&&(n=[...n].reverse(),e=[...e].reverse());const m=_j(e,a,l),g=m.length,_=b=>{if(d&&b<n[0])return e[0];let w=0;if(g>1)for(;w<n.length-2&&!(b<n[w+1]);w++);const T=hu(n[w],n[w+1],b);return m[w](T)};return r?b=>_(pr(n[0],n[h-1],b)):_}function bj(n,e){const r=n[n.length-1];for(let a=1;a<=e;a++){const l=hu(0,e,a);n.push(xe(r,1,l))}}function wj(n){const e=[0];return bj(e,n.length-1),e}function Sj(n,e){return n.map(r=>r*e)}function Tj(n,e){return n.map(()=>e||D1).splice(0,n.length-1)}function ru({duration:n=300,keyframes:e,times:r,ease:a="easeInOut"}){const l=DA(a)?a.map(x_):x_(a),h={done:!1,value:e[0]},d=Sj(r&&r.length===e.length?r:wj(e),n),m=xj(d,e,{ease:Array.isArray(l)?l:Tj(e,l)});return{calculatedDuration:n,next:g=>(h.value=m(g),h.done=g>=n,h)}}const Ej=n=>n!==null;function lg(n,{repeat:e,repeatType:r="loop"},a,l=1){const h=n.filter(Ej),m=l<0||e&&r!=="loop"&&e%2===1?0:h.length-1;return!m||a===void 0?h[m]:a}const Cj={decay:um,inertia:um,tween:ru,keyframes:ru,spring:Vh};function K1(n){typeof n.type=="string"&&(n.type=Cj[n.type])}class ug{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Aj=n=>n/100;class cg extends ug{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;K1(e);const{type:r=ru,repeat:a=0,repeatDelay:l=0,repeatType:h,velocity:d=0}=e;let{keyframes:m}=e;const g=r||ru;g!==ru&&typeof m[0]!="number"&&(this.mixKeyframes=bu(Aj,W1(m[0],m[1])),m=[0,100]);const _=g({...e,keyframes:m});h==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...m].reverse(),velocity:-d})),_.calculatedDuration===null&&(_.calculatedDuration=og(_));const{calculatedDuration:b}=_;this.calculatedDuration=b,this.resolvedDuration=b+l,this.totalDuration=this.resolvedDuration*(a+1)-l,this.generator=_}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:a,totalDuration:l,mixKeyframes:h,mirroredGenerator:d,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return a.next(0);const{delay:_=0,keyframes:b,repeat:w,repeatType:T,repeatDelay:C,type:O,onUpdate:R,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const z=this.currentTime-_*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?z<0:z>l;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let D=this.currentTime,V=a;if(w){const dt=Math.min(this.currentTime,l)/m;let vt=Math.floor(dt),ut=dt%1;!ut&&dt>=1&&(ut=1),ut===1&&vt--,vt=Math.min(vt,w+1),!!(vt%2)&&(T==="reverse"?(ut=1-ut,C&&(ut-=C/m)):T==="mirror"&&(V=d)),D=pr(0,1,ut)*m}const F=B?{done:!1,value:b[0]}:V.next(D);h&&(F.value=h(F.value));let{done:G}=F;!B&&g!==null&&(G=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return Q&&O!==um&&(F.value=lg(b,this.options,k,this.speed)),R&&R(F.value),Q&&this.finish(),F}then(e,r){return this.finished.then(e,r)}get duration(){return Xn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xn(e)}get time(){return Xn(this.currentTime)}set time(e){e=Di(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=cj,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function jj(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ha=n=>n*180/Math.PI,cm=n=>{const e=ha(Math.atan2(n[1],n[0]));return hm(e)},Rj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:cm,rotateZ:cm,skewX:n=>ha(Math.atan(n[1])),skewY:n=>ha(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},hm=n=>(n=n%360,n<0&&(n+=360),n),C_=cm,A_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),j_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),kj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:A_,scaleY:j_,scale:n=>(A_(n)+j_(n))/2,rotateX:n=>hm(ha(Math.atan2(n[6],n[5]))),rotateY:n=>hm(ha(Math.atan2(-n[2],n[0]))),rotateZ:C_,rotate:C_,skewX:n=>ha(Math.atan(n[4])),skewY:n=>ha(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function dm(n){return n.includes("scale")?1:0}function fm(n,e){if(!n||n==="none")return dm(e);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,l;if(r)a=kj,l=r;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Rj,l=m}if(!l)return dm(e);const h=a[e],d=l[1].split(",").map(Mj);return typeof h=="function"?h(d):d[h]}const Oj=(n,e)=>{const{transform:r="none"}=getComputedStyle(n);return fm(r,e)};function Mj(n){return parseFloat(n.trim())}const Do=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zo=new Set(Do),R_=n=>n===Po||n===Ot,Lj=new Set(["x","y","z"]),Pj=Do.filter(n=>!Lj.has(n));function Dj(n){const e=[];return Pj.forEach(r=>{const a=n.getValue(r);a!==void 0&&(e.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),e}const da={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>fm(e,"x"),y:(n,{transform:e})=>fm(e,"y")};da.translateX=da.x;da.translateY=da.y;const fa=new Set;let pm=!1,mm=!1,gm=!1;function Y1(){if(mm){const n=Array.from(fa).filter(a=>a.needsMeasurement),e=new Set(n.map(a=>a.element)),r=new Map;e.forEach(a=>{const l=Dj(a);l.length&&(r.set(a,l),a.render())}),n.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const l=r.get(a);l&&l.forEach(([h,d])=>{a.getValue(h)?.set(d)})}),n.forEach(a=>a.measureEndState()),n.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}mm=!1,pm=!1,fa.forEach(n=>n.complete(gm)),fa.clear()}function X1(){fa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(mm=!0)})}function zj(){gm=!0,X1(),Y1(),gm=!1}class hg{constructor(e,r,a,l,h,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=a,this.motionValue=l,this.element=h,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(fa.add(this),pm||(pm=!0,ge.read(X1),ge.resolveKeyframes(Y1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:a,motionValue:l}=this;if(e[0]===null){const h=l?.get(),d=e[e.length-1];if(h!==void 0)e[0]=h;else if(a&&r){const m=a.readValue(r,d);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=d),l&&h===void 0&&l.set(e[0])}jj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fa.delete(this)}cancel(){this.state==="scheduled"&&(fa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Bj=n=>n.startsWith("--");function Nj(n,e,r){Bj(e)?n.style.setProperty(e,r):n.style[e]=r}const Uj=Qm(()=>window.ScrollTimeline!==void 0),Ij={};function Vj(n,e){const r=Qm(n);return()=>Ij[e]??r()}const J1=Vj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eu=([n,e,r,a])=>`cubic-bezier(${n}, ${e}, ${r}, ${a})`,k_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eu([0,.65,.55,1]),circOut:eu([.55,0,1,.45]),backIn:eu([.31,.01,.66,-.59]),backOut:eu([.33,1.53,.69,.99])};function Q1(n,e){if(n)return typeof n=="function"?J1()?Z1(n,e):"ease-out":z1(n)?eu(n):Array.isArray(n)?n.map(r=>Q1(r,e)||k_.easeOut):k_[n]}function Hj(n,e,r,{delay:a=0,duration:l=300,repeat:h=0,repeatType:d="loop",ease:m="easeOut",times:g}={},_=void 0){const b={[e]:r};g&&(b.offset=g);const w=Q1(m,l);Array.isArray(w)&&(b.easing=w);const T={delay:a,duration:l,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:h+1,direction:d==="reverse"?"alternate":"normal"};return _&&(T.pseudoElement=_),n.animate(b,T)}function tw(n){return typeof n=="function"&&"applyToOptions"in n}function qj({type:n,...e}){return tw(n)&&J1()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Fj extends ug{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:a,keyframes:l,pseudoElement:h,allowFlatten:d=!1,finalKeyframe:m,onComplete:g}=e;this.isPseudoElement=!!h,this.allowFlatten=d,this.options=e,Jm(typeof e.type!="string");const _=qj(e);this.animation=Hj(r,a,l,_,h),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const b=lg(l,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(b):Nj(r,a,b),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Xn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xn(e)}get time(){return Xn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Di(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Uj()?(this.animation.timeline=e,Jn):r(this)}}const ew={anticipate:M1,backInOut:O1,circInOut:P1};function $j(n){return n in ew}function Wj(n){typeof n.ease=="string"&&$j(n.ease)&&(n.ease=ew[n.ease])}const O_=10;class Zj extends Fj{constructor(e){Wj(e),K1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:a,onComplete:l,element:h,...d}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const m=new cg({...d,autoplay:!1}),g=Di(this.finishedTime??this.time);r.setWithVelocity(m.sample(g-O_).value,m.sample(g).value,O_),m.stop()}}const M_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(os.test(n)||n==="0")&&!n.startsWith("url("));function Gj(n){const e=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==e)return!0}function Kj(n,e,r,a){const l=n[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const h=n[n.length-1],d=M_(l,e),m=M_(h,e);return!d||!m?!1:Gj(n)||(r==="spring"||tw(r))&&a}function ym(n){n.duration=0,n.type="keyframes"}const Yj=new Set(["opacity","clipPath","filter","transform"]),Xj=Qm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Jj(n){const{motionValue:e,name:r,repeatDelay:a,repeatType:l,damping:h,type:d}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:_}=e.owner.getProps();return Xj()&&r&&Yj.has(r)&&(r!=="transform"||!_)&&!g&&!a&&l!=="mirror"&&h!==0&&d!=="inertia"}const Qj=40;class tR extends ug{constructor({autoplay:e=!0,delay:r=0,type:a="keyframes",repeat:l=0,repeatDelay:h=0,repeatType:d="loop",keyframes:m,name:g,motionValue:_,element:b,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const T={autoplay:e,delay:r,type:a,repeat:l,repeatDelay:h,repeatType:d,name:g,motionValue:_,element:b,...w},C=b?.KeyframeResolver||hg;this.keyframeResolver=new C(m,(O,R,k)=>this.onKeyframesResolved(O,R,T,!k),g,_,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,a,l){this.keyframeResolver=void 0;const{name:h,type:d,velocity:m,delay:g,isHandoff:_,onUpdate:b}=a;this.resolvedAt=An.now(),Kj(e,h,d,m)||((mr.instantAnimations||!g)&&b?.(lg(e,a,r)),e[0]=e[e.length-1],ym(a),a.repeat=0);const T={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>Qj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:e},C=!_&&Jj(T)?new Zj({...T,element:T.motionValue.owner.current}):new cg(T);C.finished.then(()=>this.notifyFinished()).catch(Jn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),zj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const eR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nR(n){const e=eR.exec(n);if(!e)return[,];const[,r,a,l]=e;return[`--${r??a}`,l]}function nw(n,e,r=1){const[a,l]=nR(n);if(!a)return;const h=window.getComputedStyle(e).getPropertyValue(a);if(h){const d=h.trim();return S1(d)?parseFloat(d):d}return ig(l)?nw(l,e,r+1):l}function dg(n,e){return n?.[e]??n?.default??n}const iw=new Set(["width","height","top","left","right","bottom",...Do]),iR={test:n=>n==="auto",parse:n=>n},rw=n=>e=>e.test(n),sw=[Po,Ot,zi,ns,GA,ZA,iR],L_=n=>sw.find(rw(n));function rR(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||E1(n):!0}const sR=new Set(["brightness","contrast","saturate","opacity"]);function aR(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[a]=r.match(rg)||[];if(!a)return n;const l=r.replace(a,"");let h=sR.has(e)?1:0;return a!==r&&(h*=100),e+"("+h+l+")"}const oR=/\b([a-z-]*)\(.*?\)/gu,vm={...os,getAnimatableNone:n=>{const e=n.match(oR);return e?e.map(aR).join(" "):n}},P_={...Po,transform:Math.round},lR={rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:ph,scaleX:ph,scaleY:ph,scaleZ:ph,skew:ns,skewX:ns,skewY:ns,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:du,originX:b_,originY:b_,originZ:Ot},fg={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...lR,zIndex:P_,fillOpacity:du,strokeOpacity:du,numOctaves:P_},uR={...fg,color:Be,backgroundColor:Be,outlineColor:Be,fill:Be,stroke:Be,borderColor:Be,borderTopColor:Be,borderRightColor:Be,borderBottomColor:Be,borderLeftColor:Be,filter:vm,WebkitFilter:vm},aw=n=>uR[n];function ow(n,e){let r=aw(n);return r!==vm&&(r=os),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const cR=new Set(["auto","none","0"]);function hR(n,e,r){let a=0,l;for(;a<n.length&&!l;){const h=n[a];typeof h=="string"&&!cR.has(h)&&fu(h).values.length&&(l=n[a]),a++}if(l&&r)for(const h of e)n[h]=ow(r,l)}class dR extends hg{constructor(e,r,a,l,h){super(e,r,a,l,h,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let _=e[g];if(typeof _=="string"&&(_=_.trim(),ig(_))){const b=nw(_,r.current);b!==void 0&&(e[g]=b),g===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!iw.has(a)||e.length!==2)return;const[l,h]=e,d=L_(l),m=L_(h);if(d!==m)if(R_(d)&&R_(m))for(let g=0;g<e.length;g++){const _=e[g];typeof _=="string"&&(e[g]=parseFloat(_))}else da[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,a=[];for(let l=0;l<e.length;l++)(e[l]===null||rR(e[l]))&&a.push(l);a.length&&hR(e,a,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=da[a](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const l=r[r.length-1];l!==void 0&&e.getValue(a,l).jump(l,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const l=e.getValue(r);l&&l.jump(this.measuredOrigin,!1);const h=a.length-1,d=a[h];a[h]=da[r](e.measureViewportBox(),window.getComputedStyle(e.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,g])=>{e.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function fR(n,e,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const l=r?.[n]??a.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}const lw=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function uw(n){return T1(n)&&"offsetHeight"in n}const D_=30,pR=n=>!isNaN(parseFloat(n));class mR{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const l=An.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new tg);const a=this.events[e].add(r);return e==="change"?()=>{a(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>D_)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,D_);return C1(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ao(n,e){return new mR(n,e)}const{schedule:pg}=B1(queueMicrotask,!1),pi={x:!1,y:!1};function cw(){return pi.x||pi.y}function gR(n){return n==="x"||n==="y"?pi[n]?null:(pi[n]=!0,()=>{pi[n]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}function hw(n,e){const r=fR(n),a=new AbortController,l={passive:!0,...e,signal:a.signal};return[r,l,()=>a.abort()]}function z_(n){return!(n.pointerType==="touch"||cw())}function yR(n,e,r={}){const[a,l,h]=hw(n,r),d=m=>{if(!z_(m))return;const{target:g}=m,_=e(g,m);if(typeof _!="function"||!g)return;const b=w=>{z_(w)&&(_(w),g.removeEventListener("pointerleave",b))};g.addEventListener("pointerleave",b,l)};return a.forEach(m=>{m.addEventListener("pointerenter",d,l)}),h}const dw=(n,e)=>e?n===e?!0:dw(n,e.parentElement):!1,mg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,vR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _R(n){return vR.has(n.tagName)||n.tabIndex!==-1}const Eh=new WeakSet;function B_(n){return e=>{e.key==="Enter"&&n(e)}}function Rp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xR=(n,e)=>{const r=n.currentTarget;if(!r)return;const a=B_(()=>{if(Eh.has(r))return;Rp(r,"down");const l=B_(()=>{Rp(r,"up")}),h=()=>Rp(r,"cancel");r.addEventListener("keyup",l,e),r.addEventListener("blur",h,e)});r.addEventListener("keydown",a,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),e)};function N_(n){return mg(n)&&!cw()}function bR(n,e,r={}){const[a,l,h]=hw(n,r),d=m=>{const g=m.currentTarget;if(!N_(m))return;Eh.add(g);const _=e(g,m),b=(C,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),Eh.has(g)&&Eh.delete(g),N_(C)&&typeof _=="function"&&_(C,{success:O})},w=C=>{b(C,g===window||g===document||r.useGlobalTarget||dw(g,C.target))},T=C=>{b(C,!1)};window.addEventListener("pointerup",w,l),window.addEventListener("pointercancel",T,l)};return a.forEach(m=>{(r.useGlobalTarget?window:m).addEventListener("pointerdown",d,l),uw(m)&&(m.addEventListener("focus",_=>xR(_,l)),!_R(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),h}function fw(n){return T1(n)&&"ownerSVGElement"in n}function wR(n){return fw(n)&&n.tagName==="svg"}const an=n=>!!(n&&n.getVelocity),SR=[...sw,Be,os],TR=n=>SR.find(rw(n)),gg=j.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function U_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ER(...n){return e=>{let r=!1;const a=n.map(l=>{const h=U_(l,e);return!r&&typeof h=="function"&&(r=!0),h});if(r)return()=>{for(let l=0;l<a.length;l++){const h=a[l];typeof h=="function"?h():U_(n[l],null)}}}}function CR(...n){return j.useCallback(ER(...n),n)}class AR extends j.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const a=r.offsetParent,l=uw(a)&&a.offsetWidth||0,h=this.props.sizeRef.current;h.height=r.offsetHeight||0,h.width=r.offsetWidth||0,h.top=r.offsetTop,h.left=r.offsetLeft,h.right=l-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jR({children:n,isPresent:e,anchorX:r,root:a}){const l=j.useId(),h=j.useRef(null),d=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=j.useContext(gg),g=CR(h,n?.ref);return j.useInsertionEffect(()=>{const{width:_,height:b,top:w,left:T,right:C}=d.current;if(e||!h.current||!_||!b)return;const O=r==="left"?`left: ${T}`:`right: ${C}`;h.current.dataset.motionPopId=l;const R=document.createElement("style");m&&(R.nonce=m);const k=a??document.head;return k.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${b}px !important;
            ${O}px !important;
            top: ${w}px !important;
          }
        `),()=>{k.contains(R)&&k.removeChild(R)}},[e]),y.jsx(AR,{isPresent:e,childRef:h,sizeRef:d,children:j.cloneElement(n,{ref:g})})}const RR=({children:n,initial:e,isPresent:r,onExitComplete:a,custom:l,presenceAffectsLayout:h,mode:d,anchorX:m,root:g})=>{const _=Gm(kR),b=j.useId();let w=!0,T=j.useMemo(()=>(w=!1,{id:b,initial:e,isPresent:r,custom:l,onExitComplete:C=>{_.set(C,!0);for(const O of _.values())if(!O)return;a&&a()},register:C=>(_.set(C,!1),()=>_.delete(C))}),[r,_,a]);return h&&w&&(T={...T}),j.useMemo(()=>{_.forEach((C,O)=>_.set(O,!1))},[r]),j.useEffect(()=>{!r&&!_.size&&a&&a()},[r]),d==="popLayout"&&(n=y.jsx(jR,{isPresent:r,anchorX:m,root:g,children:n})),y.jsx(Qh.Provider,{value:T,children:n})};function kR(){return new Map}function pw(n=!0){const e=j.useContext(Qh);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:l}=e,h=j.useId();j.useEffect(()=>{if(n)return l(h)},[n]);const d=j.useCallback(()=>n&&a&&a(h),[h,a,n]);return!r&&a?[!1,d]:[!0]}const mh=n=>n.key||"";function I_(n){const e=[];return j.Children.forEach(n,r=>{j.isValidElement(r)&&e.push(r)}),e}const yg=({children:n,custom:e,initial:r=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:h="sync",propagate:d=!1,anchorX:m="left",root:g})=>{const[_,b]=pw(d),w=j.useMemo(()=>I_(n),[n]),T=d&&!_?[]:w.map(mh),C=j.useRef(!0),O=j.useRef(w),R=Gm(()=>new Map),[k,z]=j.useState(w),[B,D]=j.useState(w);w1(()=>{C.current=!1,O.current=w;for(let G=0;G<B.length;G++){const Q=mh(B[G]);T.includes(Q)?R.delete(Q):R.get(Q)!==!0&&R.set(Q,!1)}},[B,T.length,T.join("-")]);const V=[];if(w!==k){let G=[...w];for(let Q=0;Q<B.length;Q++){const dt=B[Q],vt=mh(dt);T.includes(vt)||(G.splice(Q,0,dt),V.push(dt))}return h==="wait"&&V.length&&(G=V),D(I_(G)),z(w),null}const{forceRender:F}=j.useContext(Zm);return y.jsx(y.Fragment,{children:B.map(G=>{const Q=mh(G),dt=d&&!_?!1:w===B||T.includes(Q),vt=()=>{if(R.has(Q))R.set(Q,!0);else return;let ut=!0;R.forEach(ht=>{ht||(ut=!1)}),ut&&(F?.(),D(O.current),d&&b?.(),a&&a())};return y.jsx(RR,{isPresent:dt,initial:!C.current||r?void 0:!1,custom:e,presenceAffectsLayout:l,mode:h,root:g,onExitComplete:dt?void 0:vt,anchorX:m,children:G},Q)})})},mw=j.createContext({strict:!1}),V_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const n in V_)jo[n]={isEnabled:e=>V_[n].some(r=>!!e[r])};function OR(n){for(const e in n)jo[e]={...jo[e],...n[e]}}const MR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||MR.has(n)}let gw=n=>!Hh(n);function LR(n){typeof n=="function"&&(gw=e=>e.startsWith("on")?!Hh(e):n(e))}try{LR(require("@emotion/is-prop-valid").default)}catch{}function PR(n,e,r){const a={};for(const l in n)l==="values"&&typeof n.values=="object"||(gw(l)||r===!0&&Hh(l)||!e&&!Hh(l)||n.draggable&&l.startsWith("onDrag"))&&(a[l]=n[l]);return a}const td=j.createContext({});function ed(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function pu(n){return typeof n=="string"||Array.isArray(n)}const vg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_g=["initial",...vg];function nd(n){return ed(n.animate)||_g.some(e=>pu(n[e]))}function yw(n){return!!(nd(n)||n.variants)}function DR(n,e){if(nd(n)){const{initial:r,animate:a}=n;return{initial:r===!1||pu(r)?r:void 0,animate:pu(a)?a:void 0}}return n.inherit!==!1?e:{}}function zR(n){const{initial:e,animate:r}=DR(n,j.useContext(td));return j.useMemo(()=>({initial:e,animate:r}),[H_(e),H_(r)])}function H_(n){return Array.isArray(n)?n.join(" "):n}function q_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Kl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ot.test(n))n=parseFloat(n);else return n;const r=q_(n,e.target.x),a=q_(n,e.target.y);return`${r}% ${a}%`}},BR={correct:(n,{treeScale:e,projectionDelta:r})=>{const a=n,l=os.parse(n);if(l.length>5)return a;const h=os.createTransformer(n),d=typeof l[0]!="number"?1:0,m=r.x.scale*e.x,g=r.y.scale*e.y;l[0+d]/=m,l[1+d]/=g;const _=xe(m,g,.5);return typeof l[2+d]=="number"&&(l[2+d]/=_),typeof l[3+d]=="number"&&(l[3+d]/=_),h(l)}},_m={borderRadius:{...Kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kl,borderTopRightRadius:Kl,borderBottomLeftRadius:Kl,borderBottomRightRadius:Kl,boxShadow:BR};function vw(n,{layout:e,layoutId:r}){return zo.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!_m[n]||n==="opacity")}const NR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UR=Do.length;function IR(n,e,r){let a="",l=!0;for(let h=0;h<UR;h++){const d=Do[h],m=n[d];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(d.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||r){const _=lw(m,fg[d]);if(!g){l=!1;const b=NR[d]||d;a+=`${b}(${_}) `}r&&(e[d]=_)}}return a=a.trim(),r?a=r(e,l?"":a):l&&(a="none"),a}function xg(n,e,r){const{style:a,vars:l,transformOrigin:h}=n;let d=!1,m=!1;for(const g in e){const _=e[g];if(zo.has(g)){d=!0;continue}else if(U1(g)){l[g]=_;continue}else{const b=lw(_,fg[g]);g.startsWith("origin")?(m=!0,h[g]=b):a[g]=b}}if(e.transform||(d||r?a.transform=IR(e,n.transform,r):a.transform&&(a.transform="none")),m){const{originX:g="50%",originY:_="50%",originZ:b=0}=h;a.transformOrigin=`${g} ${_} ${b}`}}const bg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _w(n,e,r){for(const a in e)!an(e[a])&&!vw(a,r)&&(n[a]=e[a])}function VR({transformTemplate:n},e){return j.useMemo(()=>{const r=bg();return xg(r,e,n),Object.assign({},r.vars,r.style)},[e])}function HR(n,e){const r=n.style||{},a={};return _w(a,r,n),Object.assign(a,VR(n,e)),a}function qR(n,e){const r={},a=HR(n,e);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=a,r}const FR={offset:"stroke-dashoffset",array:"stroke-dasharray"},$R={offset:"strokeDashoffset",array:"strokeDasharray"};function WR(n,e,r=1,a=0,l=!0){n.pathLength=1;const h=l?FR:$R;n[h.offset]=Ot.transform(-a);const d=Ot.transform(e),m=Ot.transform(r);n[h.array]=`${d} ${m}`}function xw(n,{attrX:e,attrY:r,attrScale:a,pathLength:l,pathSpacing:h=1,pathOffset:d=0,...m},g,_,b){if(xg(n,m,_),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:T}=n;w.transform&&(T.transform=w.transform,delete w.transform),(T.transform||w.transformOrigin)&&(T.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),T.transform&&(T.transformBox=b?.transformBox??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),a!==void 0&&(w.scale=a),l!==void 0&&WR(w,l,h,d,!1)}const bw=()=>({...bg(),attrs:{}}),ww=n=>typeof n=="string"&&n.toLowerCase()==="svg";function ZR(n,e,r,a){const l=j.useMemo(()=>{const h=bw();return xw(h,e,ww(a),n.transformTemplate,n.style),{...h.attrs,style:{...h.style}}},[e]);if(n.style){const h={};_w(h,n.style,n),l.style={...h,...l.style}}return l}const GR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wg(n){return typeof n!="string"||n.includes("-")?!1:!!(GR.indexOf(n)>-1||/[A-Z]/u.test(n))}function KR(n,e,r,{latestValues:a},l,h=!1){const m=(wg(n)?ZR:qR)(e,a,l,n),g=PR(e,typeof n=="string",h),_=n!==j.Fragment?{...g,...m,ref:r}:{},{children:b}=e,w=j.useMemo(()=>an(b)?b.get():b,[b]);return j.createElement(n,{..._,children:w})}function F_(n){const e=[{},{}];return n?.values.forEach((r,a)=>{e[0][a]=r.get(),e[1][a]=r.getVelocity()}),e}function Sg(n,e,r,a){if(typeof e=="function"){const[l,h]=F_(a);e=e(r!==void 0?r:n.custom,l,h)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[l,h]=F_(a);e=e(r!==void 0?r:n.custom,l,h)}return e}function Ch(n){return an(n)?n.get():n}function YR({scrapeMotionValuesFromProps:n,createRenderState:e},r,a,l){return{latestValues:XR(r,a,l,n),renderState:e()}}function XR(n,e,r,a){const l={},h=a(n,{});for(const T in h)l[T]=Ch(h[T]);let{initial:d,animate:m}=n;const g=nd(n),_=yw(n);e&&_&&!g&&n.inherit!==!1&&(d===void 0&&(d=e.initial),m===void 0&&(m=e.animate));let b=r?r.initial===!1:!1;b=b||d===!1;const w=b?m:d;if(w&&typeof w!="boolean"&&!ed(w)){const T=Array.isArray(w)?w:[w];for(let C=0;C<T.length;C++){const O=Sg(n,T[C]);if(O){const{transitionEnd:R,transition:k,...z}=O;for(const B in z){let D=z[B];if(Array.isArray(D)){const V=b?D.length-1:0;D=D[V]}D!==null&&(l[B]=D)}for(const B in R)l[B]=R[B]}}}return l}const Sw=n=>(e,r)=>{const a=j.useContext(td),l=j.useContext(Qh),h=()=>YR(n,e,a,l);return r?h():Gm(h)};function Tg(n,e,r){const{style:a}=n,l={};for(const h in a)(an(a[h])||e.style&&an(e.style[h])||vw(h,n)||r?.getValue(h)?.liveStyle!==void 0)&&(l[h]=a[h]);return l}const JR=Sw({scrapeMotionValuesFromProps:Tg,createRenderState:bg});function Tw(n,e,r){const a=Tg(n,e,r);for(const l in n)if(an(n[l])||an(e[l])){const h=Do.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;a[h]=n[l]}return a}const QR=Sw({scrapeMotionValuesFromProps:Tw,createRenderState:bw}),tk=Symbol.for("motionComponentSymbol");function vo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function ek(n,e,r){return j.useCallback(a=>{a&&n.onMount&&n.onMount(a),e&&(a?e.mount(a):e.unmount()),r&&(typeof r=="function"?r(a):vo(r)&&(r.current=a))},[e])}const Eg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nk="framerAppearId",Ew="data-"+Eg(nk),Cw=j.createContext({});function ik(n,e,r,a,l){const{visualElement:h}=j.useContext(td),d=j.useContext(mw),m=j.useContext(Qh),g=j.useContext(gg).reducedMotion,_=j.useRef(null);a=a||d.renderer,!_.current&&a&&(_.current=a(n,{visualState:e,parent:h,props:r,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const b=_.current,w=j.useContext(Cw);b&&!b.projection&&l&&(b.type==="html"||b.type==="svg")&&rk(_.current,r,l,w);const T=j.useRef(!1);j.useInsertionEffect(()=>{b&&T.current&&b.update(r,m)});const C=r[Ew],O=j.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return w1(()=>{b&&(T.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),O.current&&b.animationState&&b.animationState.animateChanges())}),j.useEffect(()=>{b&&(!O.current&&b.animationState&&b.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),O.current=!1),b.enteringChildren=void 0)}),b}function rk(n,e,r,a){const{layoutId:l,layout:h,drag:d,dragConstraints:m,layoutScroll:g,layoutRoot:_,layoutCrossfade:b}=e;n.projection=new r(n.latestValues,e["data-framer-portal-id"]?void 0:Aw(n.parent)),n.projection.setOptions({layoutId:l,layout:h,alwaysMeasureLayout:!!d||m&&vo(m),visualElement:n,animationType:typeof h=="string"?h:"both",initialPromotionConfig:a,crossfade:b,layoutScroll:g,layoutRoot:_})}function Aw(n){if(n)return n.options.allowProjection!==!1?n.projection:Aw(n.parent)}function kp(n,{forwardMotionProps:e=!1}={},r,a){r&&OR(r);const l=wg(n)?QR:JR;function h(m,g){let _;const b={...j.useContext(gg),...m,layoutId:sk(m)},{isStatic:w}=b,T=zR(m),C=l(m,w);if(!w&&Km){ak();const O=ok(b);_=O.MeasureLayout,T.visualElement=ik(n,C,b,a,O.ProjectionNode)}return y.jsxs(td.Provider,{value:T,children:[_&&T.visualElement?y.jsx(_,{visualElement:T.visualElement,...b}):null,KR(n,m,ek(C,T.visualElement,g),C,w,e)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const d=j.forwardRef(h);return d[tk]=n,d}function sk({layoutId:n}){const e=j.useContext(Zm).id;return e&&n!==void 0?e+"-"+n:n}function ak(n,e){j.useContext(mw).strict}function ok(n){const{drag:e,layout:r}=jo;if(!e&&!r)return{};const a={...e,...r};return{MeasureLayout:e?.isEnabled(n)||r?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function lk(n,e){if(typeof Proxy>"u")return kp;const r=new Map,a=(h,d)=>kp(h,d,n,e),l=(h,d)=>a(h,d);return new Proxy(l,{get:(h,d)=>d==="create"?a:(r.has(d)||r.set(d,kp(d,void 0,n,e)),r.get(d))})}function jw({top:n,left:e,right:r,bottom:a}){return{x:{min:e,max:r},y:{min:n,max:a}}}function uk({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function ck(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),a=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function Op(n){return n===void 0||n===1}function xm({scale:n,scaleX:e,scaleY:r}){return!Op(n)||!Op(e)||!Op(r)}function aa(n){return xm(n)||Rw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Rw(n){return $_(n.x)||$_(n.y)}function $_(n){return n&&n!=="0%"}function qh(n,e,r){const a=n-r,l=e*a;return r+l}function W_(n,e,r,a,l){return l!==void 0&&(n=qh(n,l,a)),qh(n,r,a)+e}function bm(n,e=0,r=1,a,l){n.min=W_(n.min,e,r,a,l),n.max=W_(n.max,e,r,a,l)}function kw(n,{x:e,y:r}){bm(n.x,e.translate,e.scale,e.originPoint),bm(n.y,r.translate,r.scale,r.originPoint)}const Z_=.999999999999,G_=1.0000000000001;function hk(n,e,r,a=!1){const l=r.length;if(!l)return;e.x=e.y=1;let h,d;for(let m=0;m<l;m++){h=r[m],d=h.projectionDelta;const{visualElement:g}=h.options;g&&g.props.style&&g.props.style.display==="contents"||(a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&xo(n,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,kw(n,d)),a&&aa(h.latestValues)&&xo(n,h.latestValues))}e.x<G_&&e.x>Z_&&(e.x=1),e.y<G_&&e.y>Z_&&(e.y=1)}function _o(n,e){n.min=n.min+e,n.max=n.max+e}function K_(n,e,r,a,l=.5){const h=xe(n.min,n.max,l);bm(n,e,r,h,a)}function xo(n,e){K_(n.x,e.x,e.scaleX,e.scale,e.originX),K_(n.y,e.y,e.scaleY,e.scale,e.originY)}function Ow(n,e){return jw(ck(n.getBoundingClientRect(),e))}function dk(n,e,r){const a=Ow(n,r),{scroll:l}=e;return l&&(_o(a.x,l.offset.x),_o(a.y,l.offset.y)),a}const Y_=()=>({translate:0,scale:1,origin:0,originPoint:0}),bo=()=>({x:Y_(),y:Y_()}),X_=()=>({min:0,max:0}),Ve=()=>({x:X_(),y:X_()}),wm={current:null},Mw={current:!1};function fk(){if(Mw.current=!0,!!Km)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>wm.current=n.matches;n.addEventListener("change",e),e()}else wm.current=!1}const pk=new WeakMap;function mk(n,e,r){for(const a in e){const l=e[a],h=r[a];if(an(l))n.addValue(a,l);else if(an(h))n.addValue(a,Ao(l,{owner:n}));else if(h!==l)if(n.hasValue(a)){const d=n.getValue(a);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=n.getStaticValue(a);n.addValue(a,Ao(d!==void 0?d:l,{owner:n}))}}for(const a in r)e[a]===void 0&&n.removeValue(a);return e}const J_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gk{scrapeMotionValuesFromProps(e,r,a){return{}}constructor({parent:e,props:r,presenceContext:a,reducedMotionConfig:l,blockInitialAnimation:h,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=An.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ge.render(this.render,!1,!0))};const{latestValues:g,renderState:_}=d;this.latestValues=g,this.baseTarget={...g},this.initialValues=r.initial?{...g}:{},this.renderState=_,this.parent=e,this.props=r,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!h,this.isControllingVariants=nd(r),this.isVariantNode=yw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const T in w){const C=w[T];g[T]!==void 0&&an(C)&&C.set(g[T])}}mount(e){this.current=e,pk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),Mw.current||fk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),as(this.notifyUpdate),as(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=zo.has(e);a&&this.onBindTransform&&this.onBindTransform();const l=r.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&ge.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{l(),h&&h(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jo){const r=jo[e];if(!r)continue;const{isEnabled:a,Feature:l}=r;if(!this.features[e]&&l&&a(this.props)&&(this.features[e]=new l(this)),this.features[e]){const h=this.features[e];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ve()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<J_.length;a++){const l=J_[a];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const h="on"+l,d=e[h];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=mk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const a=this.values.get(e);r!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&r!==void 0&&(a=Ao(r===null?void 0:r,{owner:this}),this.addValue(e,a)),a}readValue(e,r){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(S1(a)||E1(a))?a=parseFloat(a):!TR(a)&&os.test(r)&&(a=ow(e,r)),this.setBaseTarget(e,an(a)?a.get():a)),an(a)?a.get():a}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const h=Sg(this.props,r,this.presenceContext?.custom);h&&(a=h[e])}if(r&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!an(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new tg),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){pg.render(this.render)}}class Lw extends gk{constructor(){super(...arguments),this.KeyframeResolver=dR}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:a}){delete r[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;an(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Pw(n,{style:e,vars:r},a,l){const h=n.style;let d;for(d in e)h[d]=e[d];l?.applyProjectionStyles(h,a);for(d in r)h.setProperty(d,r[d])}function yk(n){return window.getComputedStyle(n)}class vk extends Lw{constructor(){super(...arguments),this.type="html",this.renderInstance=Pw}readValueFromInstance(e,r){if(zo.has(r))return this.projection?.isProjecting?dm(r):Oj(e,r);{const a=yk(e),l=(U1(r)?a.getPropertyValue(r):a[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Ow(e,r)}build(e,r,a){xg(e,r,a.transformTemplate)}scrapeMotionValuesFromProps(e,r,a){return Tg(e,r,a)}}const Dw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _k(n,e,r,a){Pw(n,e,void 0,a);for(const l in e.attrs)n.setAttribute(Dw.has(l)?l:Eg(l),e.attrs[l])}class xk extends Lw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ve}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(zo.has(r)){const a=aw(r);return a&&a.default||0}return r=Dw.has(r)?r:Eg(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,a){return Tw(e,r,a)}build(e,r,a){xw(e,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(e,r,a,l){_k(e,r,a,l)}mount(e){this.isSVGTag=ww(e.tagName),super.mount(e)}}const bk=(n,e)=>wg(n)?new xk(e):new vk(e,{allowProjection:n!==j.Fragment});function To(n,e,r){const a=n.getProps();return Sg(a,e,r!==void 0?r:a.custom,n)}const Sm=n=>Array.isArray(n);function wk(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,Ao(r))}function Sk(n){return Sm(n)?n[n.length-1]||0:n}function Tk(n,e){const r=To(n,e);let{transitionEnd:a={},transition:l={},...h}=r||{};h={...h,...a};for(const d in h){const m=Sk(h[d]);wk(n,d,m)}}function Ek(n){return!!(an(n)&&n.add)}function Tm(n,e){const r=n.getValue("willChange");if(Ek(r))return r.add(e);if(!r&&mr.WillChange){const a=new mr.WillChange("auto");n.addValue("willChange",a),a.add(e)}}function zw(n){return n.props[Ew]}const Ck=n=>n!==null;function Ak(n,{repeat:e,repeatType:r="loop"},a){const l=n.filter(Ck),h=e&&r!=="loop"&&e%2===1?0:l.length-1;return l[h]}const jk={type:"spring",stiffness:500,damping:25,restSpeed:10},Rk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),kk={type:"keyframes",duration:.8},Ok={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mk=(n,{keyframes:e})=>e.length>2?kk:zo.has(n)?n.startsWith("scale")?Rk(e[1]):jk:Ok;function Lk({when:n,delay:e,delayChildren:r,staggerChildren:a,staggerDirection:l,repeat:h,repeatType:d,repeatDelay:m,from:g,elapsed:_,...b}){return!!Object.keys(b).length}const Cg=(n,e,r,a={},l,h)=>d=>{const m=dg(a,n)||{},g=m.delay||a.delay||0;let{elapsed:_=0}=a;_=_-Di(g);const b={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-_,onUpdate:T=>{e.set(T),m.onUpdate&&m.onUpdate(T)},onComplete:()=>{d(),m.onComplete&&m.onComplete()},name:n,motionValue:e,element:h?void 0:l};Lk(m)||Object.assign(b,Mk(n,b)),b.duration&&(b.duration=Di(b.duration)),b.repeatDelay&&(b.repeatDelay=Di(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let w=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(ym(b),b.delay===0&&(w=!0)),(mr.instantAnimations||mr.skipAnimations)&&(w=!0,ym(b),b.delay=0),b.allowFlatten=!m.type&&!m.ease,w&&!h&&e.get()!==void 0){const T=Ak(b.keyframes,m);if(T!==void 0){ge.update(()=>{b.onUpdate(T),b.onComplete()});return}}return m.isSync?new cg(b):new tR(b)};function Pk({protectedKeys:n,needsAnimating:e},r){const a=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,a}function Bw(n,e,{delay:r=0,transitionOverride:a,type:l}={}){let{transition:h=n.getDefaultTransition(),transitionEnd:d,...m}=e;a&&(h=a);const g=[],_=l&&n.animationState&&n.animationState.getState()[l];for(const b in m){const w=n.getValue(b,n.latestValues[b]??null),T=m[b];if(T===void 0||_&&Pk(_,b))continue;const C={delay:r,...dg(h||{},b)},O=w.get();if(O!==void 0&&!w.isAnimating&&!Array.isArray(T)&&T===O&&!C.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const z=zw(n);if(z){const B=window.MotionHandoffAnimation(z,b,ge);B!==null&&(C.startTime=B,R=!0)}}Tm(n,b),w.start(Cg(b,w,T,n.shouldReduceMotion&&iw.has(b)?{type:!1}:C,n,R));const k=w.animation;k&&g.push(k)}return d&&Promise.all(g).then(()=>{ge.update(()=>{d&&Tk(n,d)})}),g}function Nw(n,e,r,a=0,l=1){const h=Array.from(n).sort((_,b)=>_.sortNodePosition(b)).indexOf(e),d=n.size,m=(d-1)*a;return typeof r=="function"?r(h,d):l===1?h*a:m-h*a}function Em(n,e,r={}){const a=To(n,e,r.type==="exit"?n.presenceContext?.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(l=r.transitionOverride);const h=a?()=>Promise.all(Bw(n,a,r)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:_=0,staggerChildren:b,staggerDirection:w}=l;return Dk(n,e,g,_,b,w,r)}:()=>Promise.resolve(),{when:m}=l;if(m){const[g,_]=m==="beforeChildren"?[h,d]:[d,h];return g().then(()=>_())}else return Promise.all([h(),d(r.delay)])}function Dk(n,e,r=0,a=0,l=0,h=1,d){const m=[];for(const g of n.variantChildren)g.notify("AnimationStart",e),m.push(Em(g,e,{...d,delay:r+(typeof a=="function"?0:a)+Nw(n.variantChildren,g,a,l,h)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(m)}function zk(n,e,r={}){n.notify("AnimationStart",e);let a;if(Array.isArray(e)){const l=e.map(h=>Em(n,h,r));a=Promise.all(l)}else if(typeof e=="string")a=Em(n,e,r);else{const l=typeof e=="function"?To(n,e,r.custom):e;a=Promise.all(Bw(n,l,r))}return a.then(()=>{n.notify("AnimationComplete",e)})}function Uw(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let a=0;a<r;a++)if(e[a]!==n[a])return!1;return!0}const Bk=_g.length;function Iw(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?Iw(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const e={};for(let r=0;r<Bk;r++){const a=_g[r],l=n.props[a];(pu(l)||l===!1)&&(e[a]=l)}return e}const Nk=[...vg].reverse(),Uk=vg.length;function Ik(n){return e=>Promise.all(e.map(({animation:r,options:a})=>zk(n,r,a)))}function Vk(n){let e=Ik(n),r=Q_(),a=!0;const l=g=>(_,b)=>{const w=To(n,b,g==="exit"?n.presenceContext?.custom:void 0);if(w){const{transition:T,transitionEnd:C,...O}=w;_={..._,...O,...C}}return _};function h(g){e=g(n)}function d(g){const{props:_}=n,b=Iw(n.parent)||{},w=[],T=new Set;let C={},O=1/0;for(let k=0;k<Uk;k++){const z=Nk[k],B=r[z],D=_[z]!==void 0?_[z]:b[z],V=pu(D),F=z===g?B.isActive:null;F===!1&&(O=k);let G=D===b[z]&&D!==_[z]&&V;if(G&&a&&n.manuallyAnimateOnMount&&(G=!1),B.protectedKeys={...C},!B.isActive&&F===null||!D&&!B.prevProp||ed(D)||typeof D=="boolean")continue;const Q=Hk(B.prevProp,D);let dt=Q||z===g&&B.isActive&&!G&&V||k>O&&V,vt=!1;const ut=Array.isArray(D)?D:[D];let ht=ut.reduce(l(z),{});F===!1&&(ht={});const{prevResolvedValues:ot={}}=B,Ut={...ot,...ht},It=it=>{dt=!0,T.has(it)&&(vt=!0,T.delete(it)),B.needsAnimating[it]=!0;const et=n.getValue(it);et&&(et.liveStyle=!1)};for(const it in Ut){const et=ht[it],Lt=ot[it];if(C.hasOwnProperty(it))continue;let pt=!1;Sm(et)&&Sm(Lt)?pt=!Uw(et,Lt):pt=et!==Lt,pt?et!=null?It(it):T.add(it):et!==void 0&&T.has(it)?It(it):B.protectedKeys[it]=!0}B.prevProp=D,B.prevResolvedValues=ht,B.isActive&&(C={...C,...ht}),a&&n.blockInitialAnimation&&(dt=!1);const lt=G&&Q;dt&&(!lt||vt)&&w.push(...ut.map(it=>{const et={type:z};if(typeof it=="string"&&a&&!lt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Lt}=n,pt=To(Lt,it);if(Lt.enteringChildren&&pt){const{delayChildren:P}=pt.transition||{};et.delay=Nw(Lt.enteringChildren,n,P)}}return{animation:it,options:et}}))}if(T.size){const k={};if(typeof _.initial!="boolean"){const z=To(n,Array.isArray(_.initial)?_.initial[0]:_.initial);z&&z.transition&&(k.transition=z.transition)}T.forEach(z=>{const B=n.getBaseTarget(z),D=n.getValue(z);D&&(D.liveStyle=!0),k[z]=B??null}),w.push({animation:k})}let R=!!w.length;return a&&(_.initial===!1||_.initial===_.animate)&&!n.manuallyAnimateOnMount&&(R=!1),a=!1,R?e(w):Promise.resolve()}function m(g,_){if(r[g].isActive===_)return Promise.resolve();n.variantChildren?.forEach(w=>w.animationState?.setActive(g,_)),r[g].isActive=_;const b=d(g);for(const w in r)r[w].protectedKeys={};return b}return{animateChanges:d,setActive:m,setAnimateFunction:h,getState:()=>r,reset:()=>{r=Q_()}}}function Hk(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Uw(e,n):!1}function na(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Q_(){return{animate:na(!0),whileInView:na(),whileHover:na(),whileTap:na(),whileDrag:na(),whileFocus:na(),exit:na()}}class us{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qk extends us{constructor(e){super(e),e.animationState||(e.animationState=Vk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ed(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Fk=0;class $k extends us{constructor(){super(...arguments),this.id=Fk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const l=this.node.animationState.setActive("exit",!e);r&&!e&&l.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Wk={animation:{Feature:qk},exit:{Feature:$k}};function mu(n,e,r,a={passive:!0}){return n.addEventListener(e,r,a),()=>n.removeEventListener(e,r)}function Tu(n){return{point:{x:n.pageX,y:n.pageY}}}const Zk=n=>e=>mg(e)&&n(e,Tu(e));function su(n,e,r,a){return mu(n,e,Zk(r),a)}const Vw=1e-4,Gk=1-Vw,Kk=1+Vw,Hw=.01,Yk=0-Hw,Xk=0+Hw;function dn(n){return n.max-n.min}function Jk(n,e,r){return Math.abs(n-e)<=r}function tx(n,e,r,a=.5){n.origin=a,n.originPoint=xe(e.min,e.max,n.origin),n.scale=dn(r)/dn(e),n.translate=xe(r.min,r.max,n.origin)-n.originPoint,(n.scale>=Gk&&n.scale<=Kk||isNaN(n.scale))&&(n.scale=1),(n.translate>=Yk&&n.translate<=Xk||isNaN(n.translate))&&(n.translate=0)}function au(n,e,r,a){tx(n.x,e.x,r.x,a?a.originX:void 0),tx(n.y,e.y,r.y,a?a.originY:void 0)}function ex(n,e,r){n.min=r.min+e.min,n.max=n.min+dn(e)}function Qk(n,e,r){ex(n.x,e.x,r.x),ex(n.y,e.y,r.y)}function nx(n,e,r){n.min=e.min-r.min,n.max=n.min+dn(e)}function Fh(n,e,r){nx(n.x,e.x,r.x),nx(n.y,e.y,r.y)}function Yn(n){return[n("x"),n("y")]}const qw=({current:n})=>n?n.ownerDocument.defaultView:null,ix=(n,e)=>Math.abs(n-e);function tO(n,e){const r=ix(n.x,e.x),a=ix(n.y,e.y);return Math.sqrt(r**2+a**2)}class Fw{constructor(e,r,{transformPagePoint:a,contextWindow:l=window,dragSnapToOrigin:h=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Lp(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,O=tO(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!O)return;const{point:R}=T,{timestamp:k}=tn;this.history.push({...R,timestamp:k});const{onStart:z,onMove:B}=this.handlers;C||(z&&z(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Mp(C,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:O,onSessionEnd:R,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Lp(T.type==="pointercancel"?this.lastMoveEventInfo:Mp(C,this.transformPagePoint),this.history);this.startEvent&&O&&O(T,z),R&&R(T,z)},!mg(e))return;this.dragSnapToOrigin=h,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=d,this.contextWindow=l||window;const m=Tu(e),g=Mp(m,this.transformPagePoint),{point:_}=g,{timestamp:b}=tn;this.history=[{..._,timestamp:b}];const{onSessionStart:w}=r;w&&w(e,Lp(g,this.history)),this.removeListeners=bu(su(this.contextWindow,"pointermove",this.handlePointerMove),su(this.contextWindow,"pointerup",this.handlePointerUp),su(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),as(this.updatePoint)}}function Mp(n,e){return e?{point:e(n.point)}:n}function rx(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Lp({point:n},e){return{point:n,delta:rx(n,$w(e)),offset:rx(n,eO(e)),velocity:nO(e,.1)}}function eO(n){return n[0]}function $w(n){return n[n.length-1]}function nO(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,a=null;const l=$w(n);for(;r>=0&&(a=n[r],!(l.timestamp-a.timestamp>Di(e)));)r--;if(!a)return{x:0,y:0};const h=Xn(l.timestamp-a.timestamp);if(h===0)return{x:0,y:0};const d={x:(l.x-a.x)/h,y:(l.y-a.y)/h};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function iO(n,{min:e,max:r},a){return e!==void 0&&n<e?n=a?xe(e,n,a.min):Math.max(n,e):r!==void 0&&n>r&&(n=a?xe(r,n,a.max):Math.min(n,r)),n}function sx(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function rO(n,{top:e,left:r,bottom:a,right:l}){return{x:sx(n.x,r,l),y:sx(n.y,e,a)}}function ax(n,e){let r=e.min-n.min,a=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,a]=[a,r]),{min:r,max:a}}function sO(n,e){return{x:ax(n.x,e.x),y:ax(n.y,e.y)}}function aO(n,e){let r=.5;const a=dn(n),l=dn(e);return l>a?r=hu(e.min,e.max-a,n.min):a>l&&(r=hu(n.min,n.max-l,e.min)),pr(0,1,r)}function oO(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const Cm=.35;function lO(n=Cm){return n===!1?n=0:n===!0&&(n=Cm),{x:ox(n,"left","right"),y:ox(n,"top","bottom")}}function ox(n,e,r){return{min:lx(n,e),max:lx(n,r)}}function lx(n,e){return typeof n=="number"?n:n[e]||0}const uO=new WeakMap;class cO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const h=w=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Tu(w).point)},d=(w,T)=>{const{drag:C,dragPropagation:O,onDragStart:R}=this.getProps();if(C&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gR(C),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(z=>{let B=this.getAxisMotionValue(z).get()||0;if(zi.test(B)){const{projection:D}=this.visualElement;if(D&&D.layout){const V=D.layout.layoutBox[z];V&&(B=dn(V)*(parseFloat(B)/100))}}this.originPoint[z]=B}),R&&ge.postRender(()=>R(w,T)),Tm(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},m=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T;const{dragPropagation:C,dragDirectionLock:O,onDirectionLock:R,onDrag:k}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:z}=T;if(O&&this.currentDirection===null){this.currentDirection=hO(z),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",T.point,z),this.updateAxis("y",T.point,z),this.visualElement.render(),k&&k(w,T)},g=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T,this.stop(w,T),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>Yn(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new Fw(e,{onSessionStart:h,onStart:d,onMove:m,onSessionEnd:g,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:a,contextWindow:qw(this.visualElement)})}stop(e,r){const a=e||this.latestPointerEvent,l=r||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!l||!a)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:m}=this.getProps();m&&ge.postRender(()=>m(a,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,a){const{drag:l}=this.getProps();if(!a||!gh(e,l,this.currentDirection))return;const h=this.getAxisMotionValue(e);let d=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(d=iO(d,this.constraints[e],this.elastic[e])),h.set(d)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;e&&vo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=rO(a.layoutBox,e):this.constraints=!1,this.elastic=lO(r),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Yn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=oO(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!vo(e))return!1;const a=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const h=dk(a,l.root,this.visualElement.getTransformPagePoint());let d=sO(l.layout.layoutBox,h);if(r){const m=r(uk(d));this.hasMutatedConstraints=!!m,m&&(d=jw(m))}return d}startAnimation(e){const{drag:r,dragMomentum:a,dragElastic:l,dragTransition:h,dragSnapToOrigin:d,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},_=Yn(b=>{if(!gh(b,r,this.currentDirection))return;let w=g&&g[b]||{};d&&(w={min:0,max:0});const T=l?200:1e6,C=l?40:1e7,O={type:"inertia",velocity:a?e[b]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...h,...w};return this.startAxisValueAnimation(b,O)});return Promise.all(_).then(m)}startAxisValueAnimation(e,r){const a=this.getAxisMotionValue(e);return Tm(this.visualElement,e),a.start(Cg(e,a,0,r,this.visualElement,!1))}stopAnimation(){Yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),l=a[r];return l||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){Yn(r=>{const{drag:a}=this.getProps();if(!gh(r,a,this.currentDirection))return;const{projection:l}=this.visualElement,h=this.getAxisMotionValue(r);if(l&&l.layout){const{min:d,max:m}=l.layout.layoutBox[r];h.set(e[r]-xe(d,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!vo(r)||!a||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Yn(d=>{const m=this.getAxisMotionValue(d);if(m&&this.constraints!==!1){const g=m.get();l[d]=aO({min:g,max:g},this.constraints[d])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Yn(d=>{if(!gh(d,e,null))return;const m=this.getAxisMotionValue(d),{min:g,max:_}=this.constraints[d];m.set(xe(g,_,l[d]))})}addListeners(){if(!this.visualElement.current)return;uO.set(this.visualElement,this);const e=this.visualElement.current,r=su(e,"pointerdown",g=>{const{drag:_,dragListener:b=!0}=this.getProps();_&&b&&this.start(g)}),a=()=>{const{dragConstraints:g}=this.getProps();vo(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,h=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ge.read(a);const d=mu(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:_})=>{this.isDragging&&_&&(Yn(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=g[b].translate,w.set(w.get()+g[b].translate))}),this.visualElement.render())}));return()=>{d(),r(),h(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:l=!1,dragConstraints:h=!1,dragElastic:d=Cm,dragMomentum:m=!0}=e;return{...e,drag:r,dragDirectionLock:a,dragPropagation:l,dragConstraints:h,dragElastic:d,dragMomentum:m}}}function gh(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function hO(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class dO extends us{constructor(e){super(e),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new cO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ux=n=>(e,r)=>{n&&ge.postRender(()=>n(e,r))};class fO extends us{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(e){this.session=new Fw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:a,onPanEnd:l}=this.node.getProps();return{onSessionStart:ux(e),onStart:ux(r),onMove:a,onEnd:(h,d)=>{delete this.session,l&&ge.postRender(()=>l(h,d))}}}mount(){this.removePointerDownListener=su(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Pp=!1;class pO extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:a,layoutId:l}=this.props,{projection:h}=e;h&&(r.group&&r.group.add(h),a&&a.register&&l&&a.register(h),Pp&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:a,drag:l,isPresent:h}=this.props,{projection:d}=a;return d&&(d.isPresent=h,Pp=!0,l||e.layoutDependency!==r||r===void 0||e.isPresent!==h?d.willUpdate():this.safeToRemove(),e.isPresent!==h&&(h?d.promote():d.relegate()||ge.postRender(()=>{const m=d.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:l}=e;Pp=!0,l&&(l.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(l),a&&a.deregister&&a.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ww(n){const[e,r]=pw(),a=j.useContext(Zm);return y.jsx(pO,{...n,layoutGroup:a,switchLayoutGroup:j.useContext(Cw),isPresent:e,safeToRemove:r})}function mO(n,e,r){const a=an(n)?n:Ao(n);return a.start(Cg("",a,e,r)),a.animation}const gO=(n,e)=>n.depth-e.depth;class yO{constructor(){this.children=[],this.isDirty=!1}add(e){Ym(this.children,e),this.isDirty=!0}remove(e){Xm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gO),this.isDirty=!1,this.children.forEach(e)}}function vO(n,e){const r=An.now(),a=({timestamp:l})=>{const h=l-r;h>=e&&(as(a),n(h-e))};return ge.setup(a,!0),()=>as(a)}const Zw=["TopLeft","TopRight","BottomLeft","BottomRight"],_O=Zw.length,cx=n=>typeof n=="string"?parseFloat(n):n,hx=n=>typeof n=="number"||Ot.test(n);function xO(n,e,r,a,l,h){l?(n.opacity=xe(0,r.opacity??1,bO(a)),n.opacityExit=xe(e.opacity??1,0,wO(a))):h&&(n.opacity=xe(e.opacity??1,r.opacity??1,a));for(let d=0;d<_O;d++){const m=`border${Zw[d]}Radius`;let g=dx(e,m),_=dx(r,m);if(g===void 0&&_===void 0)continue;g||(g=0),_||(_=0),g===0||_===0||hx(g)===hx(_)?(n[m]=Math.max(xe(cx(g),cx(_),a),0),(zi.test(_)||zi.test(g))&&(n[m]+="%")):n[m]=_}(e.rotate||r.rotate)&&(n.rotate=xe(e.rotate||0,r.rotate||0,a))}function dx(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const bO=Gw(0,.5,L1),wO=Gw(.5,.95,Jn);function Gw(n,e,r){return a=>a<n?0:a>e?1:r(hu(n,e,a))}function fx(n,e){n.min=e.min,n.max=e.max}function di(n,e){fx(n.x,e.x),fx(n.y,e.y)}function px(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function mx(n,e,r,a,l){return n-=e,n=qh(n,1/r,a),l!==void 0&&(n=qh(n,1/l,a)),n}function SO(n,e=0,r=1,a=.5,l,h=n,d=n){if(zi.test(e)&&(e=parseFloat(e),e=xe(d.min,d.max,e/100)-d.min),typeof e!="number")return;let m=xe(h.min,h.max,a);n===h&&(m-=e),n.min=mx(n.min,e,r,m,l),n.max=mx(n.max,e,r,m,l)}function gx(n,e,[r,a,l],h,d){SO(n,e[r],e[a],e[l],e.scale,h,d)}const TO=["x","scaleX","originX"],EO=["y","scaleY","originY"];function yx(n,e,r,a){gx(n.x,e,TO,r?r.x:void 0,a?a.x:void 0),gx(n.y,e,EO,r?r.y:void 0,a?a.y:void 0)}function vx(n){return n.translate===0&&n.scale===1}function Kw(n){return vx(n.x)&&vx(n.y)}function _x(n,e){return n.min===e.min&&n.max===e.max}function CO(n,e){return _x(n.x,e.x)&&_x(n.y,e.y)}function xx(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Yw(n,e){return xx(n.x,e.x)&&xx(n.y,e.y)}function bx(n){return dn(n.x)/dn(n.y)}function wx(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class AO{constructor(){this.members=[]}add(e){Ym(this.members,e),e.scheduleRender()}remove(e){if(Xm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(l=>e===l);if(r===0)return!1;let a;for(let l=r;l>=0;l--){const h=this.members[l];if(h.isPresent!==!1){a=h;break}}return a?(this.promote(a),!0):!1}promote(e,r){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,r&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:a}=e;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jO(n,e,r){let a="";const l=n.x.translate/e.x,h=n.y.translate/e.y,d=r?.z||0;if((l||h||d)&&(a=`translate3d(${l}px, ${h}px, ${d}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:_,rotate:b,rotateX:w,rotateY:T,skewX:C,skewY:O}=r;_&&(a=`perspective(${_}px) ${a}`),b&&(a+=`rotate(${b}deg) `),w&&(a+=`rotateX(${w}deg) `),T&&(a+=`rotateY(${T}deg) `),C&&(a+=`skewX(${C}deg) `),O&&(a+=`skewY(${O}deg) `)}const m=n.x.scale*e.x,g=n.y.scale*e.y;return(m!==1||g!==1)&&(a+=`scale(${m}, ${g})`),a||"none"}const Dp=["","X","Y","Z"],RO=1e3;let kO=0;function zp(n,e,r,a){const{latestValues:l}=e;l[n]&&(r[n]=l[n],e.setStaticValue(n,0),a&&(a[n]=0))}function Xw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const r=zw(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:l,layoutId:h}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",ge,!(l||h))}const{parent:a}=n;a&&!a.hasCheckedOptimisedAppear&&Xw(a)}function Jw({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:a,resetTransform:l}){return class{constructor(d={},m=e?.()){this.id=kO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LO),this.nodes.forEach(BO),this.nodes.forEach(NO),this.nodes.forEach(PO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new yO)}addEventListener(d,m){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new tg),this.eventHandlers.get(d).add(m)}notifyListeners(d,...m){const g=this.eventHandlers.get(d);g&&g.notify(...m)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=fw(d)&&!wR(d),this.instance=d;const{layoutId:m,layout:g,visualElement:_}=this.options;if(_&&!_.current&&_.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),n){let b,w=0;const T=()=>this.root.updateBlockedByResize=!1;ge.read(()=>{w=window.innerWidth}),n(d,()=>{const C=window.innerWidth;C!==w&&(w=C,this.root.updateBlockedByResize=!0,b&&b(),b=vO(T,250),Ah.hasAnimatedSinceResize&&(Ah.hasAnimatedSinceResize=!1,this.nodes.forEach(Ex)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&_&&(m||g)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:w,hasRelativeLayoutChanged:T,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||_.getDefaultTransition()||qO,{onLayoutAnimationStart:R,onLayoutAnimationComplete:k}=_.getProps(),z=!this.targetLayout||!Yw(this.targetLayout,C),B=!w&&T;if(this.options.layoutRoot||this.resumeFrom||B||w&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...dg(O,"layout"),onPlay:R,onComplete:k};(_.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(b,B)}else w||Ex(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),as(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UO),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Xw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const w=this.path[b];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Tx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zO),this.nodes.forEach(OO),this.nodes.forEach(MO)):this.nodes.forEach(Tx),this.clearAllSnapshots();const m=An.now();tn.delta=pr(0,1e3/60,m-tn.timestamp),tn.timestamp=m,tn.isProcessing=!0,Tp.update.process(tn),Tp.preRender.process(tn),Tp.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DO),this.sharedNodes.forEach(IO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(m=!1),m&&this.instance){const g=a(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:g,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Kw(this.projectionDelta),g=this.getTransformTemplate(),_=g?g(this.latestValues,""):void 0,b=_!==this.prevTransformTemplateValue;d&&this.instance&&(m||aa(this.latestValues)||b)&&(l(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return d&&(g=this.removeTransform(g)),FO(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return Ve();const m=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some($O))){const{scroll:_}=this.root;_&&(_o(m.x,_.offset.x),_o(m.y,_.offset.y))}return m}removeElementScroll(d){const m=Ve();if(di(m,d),this.scroll?.wasRoot)return m;for(let g=0;g<this.path.length;g++){const _=this.path[g],{scroll:b,options:w}=_;_!==this.root&&b&&w.layoutScroll&&(b.wasRoot&&di(m,d),_o(m.x,b.offset.x),_o(m.y,b.offset.y))}return m}applyTransform(d,m=!1){const g=Ve();di(g,d);for(let _=0;_<this.path.length;_++){const b=this.path[_];!m&&b.options.layoutScroll&&b.scroll&&b!==b.root&&xo(g,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),aa(b.latestValues)&&xo(g,b.latestValues)}return aa(this.latestValues)&&xo(g,this.latestValues),g}removeTransform(d){const m=Ve();di(m,d);for(let g=0;g<this.path.length;g++){const _=this.path[g];if(!_.instance||!aa(_.latestValues))continue;xm(_.latestValues)&&_.updateSnapshot();const b=Ve(),w=_.measurePageBox();di(b,w),yx(m,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,b)}return aa(this.latestValues)&&yx(m,this.latestValues),m}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(d||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:w}=this.options;if(!this.layout||!(b||w))return;this.resolvedRelativeTargetAt=tn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ve(),this.targetWithTransforms=Ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):di(this.target,this.layout.layoutBox),kw(this.target,this.targetDelta)):di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||xm(this.parent.latestValues)||Rw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,m,g){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),Fh(this.relativeTargetOrigin,m,g),di(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),m=!!this.resumingFrom||this!==d;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(g=!1),g)return;const{layout:_,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||b))return;di(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;hk(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Ve());const{target:C}=d;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(px(this.prevProjectionDelta.x,this.projectionDelta.x),px(this.prevProjectionDelta.y,this.projectionDelta.y)),au(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!wx(this.projectionDelta.x,this.prevProjectionDelta.x)||!wx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bo(),this.projectionDelta=bo(),this.projectionDeltaWithTransform=bo()}setAnimationOrigin(d,m=!1){const g=this.snapshot,_=g?g.latestValues:{},b={...this.latestValues},w=bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const T=Ve(),C=g?g.source:void 0,O=this.layout?this.layout.source:void 0,R=C!==O,k=this.getStack(),z=!k||k.members.length<=1,B=!!(R&&!z&&this.options.crossfade===!0&&!this.path.some(HO));this.animationProgress=0;let D;this.mixTargetDelta=V=>{const F=V/1e3;Cx(w.x,d.x,F),Cx(w.y,d.y,F),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fh(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VO(this.relativeTarget,this.relativeTargetOrigin,T,F),D&&CO(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Ve()),di(D,this.relativeTarget)),R&&(this.animationValues=b,xO(b,_,this.latestValues,F,B,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(as(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{Ah.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ao(0)),this.currentAnimation=mO(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),d.onUpdate&&d.onUpdate(m)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:m,target:g,layout:_,latestValues:b}=d;if(!(!m||!g||!_)){if(this!==d&&this.layout&&_&&Qw(this.options.animationType,this.layout.layoutBox,_.layoutBox)){g=this.target||Ve();const w=dn(this.layout.layoutBox.x);g.x.min=d.target.x.min,g.x.max=g.x.min+w;const T=dn(this.layout.layoutBox.y);g.y.min=d.target.y.min,g.y.max=g.y.min+T}di(m,g),xo(m,b),au(this.projectionDeltaWithTransform,this.layoutCorrected,m,b)}}registerSharedNode(d,m){this.sharedNodes.has(d)||this.sharedNodes.set(d,new AO),this.sharedNodes.get(d).add(m);const _=m.options.initialPromotionConfig;m.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(m):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:m,preserveFollowOpacity:g}={}){const _=this.getStack();_&&_.promote(this,g),d&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let m=!1;const{latestValues:g}=d;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const _={};g.z&&zp("z",d,_,this.animationValues);for(let b=0;b<Dp.length;b++)zp(`rotate${Dp[b]}`,d,_,this.animationValues),zp(`skew${Dp[b]}`,d,_,this.animationValues);d.render();for(const b in _)d.setStaticValue(b,_[b]),this.animationValues&&(this.animationValues[b]=_[b]);d.scheduleRender()}applyProjectionStyles(d,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Ch(m?.pointerEvents)||"",d.transform=g?g(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Ch(m?.pointerEvents)||""),this.hasProjected&&!aa(this.latestValues)&&(d.transform=g?g({},""):"none",this.hasProjected=!1);return}d.visibility="";const b=_.animationValues||_.latestValues;this.applyTransformsToTarget();let w=jO(this.projectionDeltaWithTransform,this.treeScale,b);g&&(w=g(b,w)),d.transform=w;const{x:T,y:C}=this.projectionDelta;d.transformOrigin=`${T.origin*100}% ${C.origin*100}% 0`,_.animationValues?d.opacity=_===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:d.opacity=_===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const O in _m){if(b[O]===void 0)continue;const{correct:R,applyTo:k,isCSSVariable:z}=_m[O],B=w==="none"?b[O]:R(b[O],_);if(k){const D=k.length;for(let V=0;V<D;V++)d[k[V]]=B}else z?this.options.visualElement.renderState.vars[O]=B:d[O]=B}this.options.layoutId&&(d.pointerEvents=_===this?Ch(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(Sx),this.root.sharedNodes.clear()}}}function OO(n){n.updateLayout()}function MO(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:l}=n.options,h=e.source!==n.layout.source;l==="size"?Yn(b=>{const w=h?e.measuredBox[b]:e.layoutBox[b],T=dn(w);w.min=r[b].min,w.max=w.min+T}):Qw(l,e.layoutBox,r)&&Yn(b=>{const w=h?e.measuredBox[b]:e.layoutBox[b],T=dn(r[b]);w.max=w.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[b].max=n.relativeTarget[b].min+T)});const d=bo();au(d,r,e.layoutBox);const m=bo();h?au(m,n.applyTransform(a,!0),e.measuredBox):au(m,r,e.layoutBox);const g=!Kw(d);let _=!1;if(!n.resumeFrom){const b=n.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:w,layout:T}=b;if(w&&T){const C=Ve();Fh(C,e.layoutBox,w.layoutBox);const O=Ve();Fh(O,r,T.layoutBox),Yw(C,O)||(_=!0),b.options.layoutRoot&&(n.relativeTarget=O,n.relativeTargetOrigin=C,n.relativeParent=b)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:_})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function LO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function PO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function DO(n){n.clearSnapshot()}function Sx(n){n.clearMeasurements()}function Tx(n){n.isLayoutDirty=!1}function zO(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Ex(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function BO(n){n.resolveTargetDelta()}function NO(n){n.calcProjection()}function UO(n){n.resetSkewAndRotation()}function IO(n){n.removeLeadSnapshot()}function Cx(n,e,r){n.translate=xe(e.translate,0,r),n.scale=xe(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function Ax(n,e,r,a){n.min=xe(e.min,r.min,a),n.max=xe(e.max,r.max,a)}function VO(n,e,r,a){Ax(n.x,e.x,r.x,a),Ax(n.y,e.y,r.y,a)}function HO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const qO={duration:.45,ease:[.4,0,.1,1]},jx=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Rx=jx("applewebkit/")&&!jx("chrome/")?Math.round:Jn;function kx(n){n.min=Rx(n.min),n.max=Rx(n.max)}function FO(n){kx(n.x),kx(n.y)}function Qw(n,e,r){return n==="position"||n==="preserve-aspect"&&!Jk(bx(e),bx(r),.2)}function $O(n){return n!==n.root&&n.scroll?.wasRoot}const WO=Jw({attachResizeListener:(n,e)=>mu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bp={current:void 0},tS=Jw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Bp.current){const n=new WO({});n.mount(window),n.setOptions({layoutScroll:!0}),Bp.current=n}return Bp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ZO={pan:{Feature:fO},drag:{Feature:dO,ProjectionNode:tS,MeasureLayout:Ww}};function Ox(n,e,r){const{props:a}=n;n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",r==="Start");const l="onHover"+r,h=a[l];h&&ge.postRender(()=>h(e,Tu(e)))}class GO extends us{mount(){const{current:e}=this.node;e&&(this.unmount=yR(e,(r,a)=>(Ox(this.node,a,"Start"),l=>Ox(this.node,l,"End"))))}unmount(){}}class KO extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bu(mu(this.node.current,"focus",()=>this.onFocus()),mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mx(n,e,r){const{props:a}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&a.whileTap&&n.animationState.setActive("whileTap",r==="Start");const l="onTap"+(r==="End"?"":r),h=a[l];h&&ge.postRender(()=>h(e,Tu(e)))}class YO extends us{mount(){const{current:e}=this.node;e&&(this.unmount=bR(e,(r,a)=>(Mx(this.node,a,"Start"),(l,{success:h})=>Mx(this.node,l,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Am=new WeakMap,Np=new WeakMap,XO=n=>{const e=Am.get(n.target);e&&e(n)},JO=n=>{n.forEach(XO)};function QO({root:n,...e}){const r=n||document;Np.has(r)||Np.set(r,{});const a=Np.get(r),l=JSON.stringify(e);return a[l]||(a[l]=new IntersectionObserver(JO,{root:n,...e})),a[l]}function tM(n,e,r){const a=QO(e);return Am.set(n,r),a.observe(n),()=>{Am.delete(n),a.unobserve(n)}}const eM={some:0,all:1};class nM extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:a,amount:l="some",once:h}=e,d={root:r?r.current:void 0,rootMargin:a,threshold:typeof l=="number"?l:eM[l]},m=g=>{const{isIntersecting:_}=g;if(this.isInView===_||(this.isInView=_,h&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:b,onViewportLeave:w}=this.node.getProps(),T=_?b:w;T&&T(g)};return tM(this.node.current,d,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(iM(e,r))&&this.startObserver()}unmount(){}}function iM({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const rM={inView:{Feature:nM},tap:{Feature:YO},focus:{Feature:KO},hover:{Feature:GO}},sM={layout:{ProjectionNode:tS,MeasureLayout:Ww}},aM={...Wk,...rM,...ZO,...sM},Mt=lk(aM,bk),oM=()=>{const{signInWithGoogle:n,user:e}=He(),r=je(),[a,l]=j.useState(!1);j.useEffect(()=>{e&&r("/en/home")},[e,r]);const h=async()=>{l(!0);try{await n()}catch(d){console.error(d),l(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",textAlign:"center"},children:[y.jsxs(Mt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:12},style:{marginBottom:"40px"},children:[y.jsx("div",{style:{position:"relative",width:"120px",height:"120px",margin:"0 auto"},children:y.jsx("img",{src:"/chai-in/chai_logo.png",alt:"Chai-in Logo",style:{width:"120px",height:"120px",objectFit:"contain"},onError:d=>{d.target.src="https://ui-avatars.com/api/?name=Chai-in&background=EF2A39&color=fff&rounded=true"}})}),y.jsx("h1",{style:{marginTop:"20px",fontSize:"2.5rem",fontWeight:"900",color:"var(--primary)",letterSpacing:"-1px"},children:"Chai-in"}),y.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.1rem",fontWeight:"600"},children:"Discover Kerala's Best Eats"})]}),y.jsxs(Mt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},style:{width:"100%",maxWidth:"350px"},children:[y.jsx("button",{onClick:h,disabled:a,style:{width:"100%",padding:"18px",borderRadius:"24px",background:"var(--primary)",color:"white",border:"none",fontSize:"1.1rem",fontWeight:"800",boxShadow:"var(--shadow-lg)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:a?"Connecting...":y.jsxs(y.Fragment,{children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",width:"20",alt:"Google"}),"Sign in with Google"]})}),y.jsx("p",{style:{marginTop:"24px",color:"var(--text-muted)",fontSize:"0.9rem",lineHeight:"1.5"},children:"By continuing, you agree to discover the most delicious spots in Kerala."})]}),y.jsx("div",{style:{position:"absolute",top:"-100px",right:"-100px",width:"300px",height:"300px",borderRadius:"50%",background:"rgba(239, 42, 57, 0.05)",zIndex:-1}}),y.jsx("div",{style:{position:"absolute",bottom:"-80px",left:"-80px",width:"250px",height:"250px",borderRadius:"50%",background:"rgba(239, 42, 57, 0.05)",zIndex:-1}})]})};const lM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),Lx=n=>{const e=uM(n);return e.charAt(0).toUpperCase()+e.slice(1)},eS=(...n)=>n.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),cM=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var hM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dM=j.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:h,iconNode:d,...m},g)=>j.createElement("svg",{ref:g,...hM,width:e,height:e,stroke:n,strokeWidth:a?Number(r)*24/Number(e):r,className:eS("lucide",l),...!h&&!cM(m)&&{"aria-hidden":"true"},...m},[...d.map(([_,b])=>j.createElement(_,b)),...Array.isArray(h)?h:[h]]));const Ct=(n,e)=>{const r=j.forwardRef(({className:a,...l},h)=>j.createElement(dM,{ref:h,iconNode:e,className:eS(`lucide-${lM(Lx(n))}`,`lucide-${n}`,a),...l}));return r.displayName=Lx(n),r};const fM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cs=Ct("arrow-left",fM);const pM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mM=Ct("award",pM);const gM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$h=Ct("bell",gM);const yM=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],id=Ct("camera",yM);const vM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_M=Ct("check",vM);const xM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Eu=Ct("chevron-left",xM);const bM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],go=Ct("chevron-right",bM);const wM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],SM=Ct("circle-alert",wM);const TM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nS=Ct("circle-check-big",TM);const EM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],iS=Ct("circle-x",EM);const CM=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],AM=Ct("coffee",CM);const jM=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],RM=Ct("crop",jM);const kM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],OM=Ct("crosshair",kM);const MM=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],rS=Ct("crown",MM);const LM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PM=Ct("eye",LM);const DM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zM=Ct("file-text",DM);const BM=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],NM=Ct("flame",BM);const UM=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],pa=Ct("heart",UM);const IM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],VM=Ct("house",IM);const HM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Px=Ct("image",HM);const qM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],FM=Ct("info",qM);const $M=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],sS=Ct("instagram",$M);const WM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ZM=Ct("layers",WM);const GM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],rd=Ct("loader",GM);const KM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],YM=Ct("lock",KM);const XM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JM=Ct("log-out",XM);const QM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tL=Ct("mail",QM);const eL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ga=Ct("map-pin",eL);const nL=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ag=Ct("map",nL);const iL=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],sd=Ct("message-circle",iL);const rL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],aS=Ct("message-square",rL);const sL=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],aL=Ct("navigation",sL);const oL=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],lL=Ct("pause",oL);const uL=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cL=Ct("phone",uL);const hL=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],dL=Ct("pizza",hL);const fL=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],pL=Ct("play",fL);const mL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ad=Ct("plus",mL);const gL=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],yL=Ct("rotate-cw",gL);const vL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oS=Ct("search",vL);const _L=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lS=Ct("send",_L);const xL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bL=Ct("settings",xL);const wL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],SL=Ct("shield-alert",wL);const TL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jm=Ct("shield",TL);const EL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],od=Ct("star",EL);const CL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uS=Ct("trash-2",CL);const AL=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],jL=Ct("trophy",AL);const RL=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kL=Ct("user-check",RL);const OL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ro=Ct("user",OL);const ML=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LL=Ct("users",ML);const PL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cu=Ct("x",PL);const DL=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],zL=Ct("youtube",DL);const BL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],NL=Ct("zap",BL),cS=({images:n,interval:e=3e3,showControls:r=!1})=>{const a=n&&n.length>0?n.slice(0,5):["https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&q=80"],[l,h]=j.useState(0),[d,m]=j.useState(!0);j.useEffect(()=>{let _;return d&&a.length>1&&(_=setInterval(()=>{h(b=>(b+1)%a.length)},e)),()=>clearInterval(_)},[d,a.length,e]);const g=_=>{_.stopPropagation(),m(!d)};return a.length===0?null:y.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:[a.map((_,b)=>y.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:b===l?1:0,transition:"opacity 0.5s ease-in-out",pointerEvents:"none"},children:y.jsx("img",{src:_,alt:`Slide ${b+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},b)),r&&a.length>1&&y.jsx("button",{onClick:g,style:{position:"absolute",bottom:"20px",left:"20px",background:"rgba(0, 0, 0, 0.5)",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:20,color:"white",backdropFilter:"blur(4px)"},children:d?y.jsx(lL,{size:16,fill:"white"}):y.jsx(pL,{size:16,fill:"white"})}),a.length>1&&y.jsx("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"6px",zIndex:20},children:a.map((_,b)=>y.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:b===l?"white":"rgba(255,255,255,0.4)",transition:"background 0.3s"}},b))})]})},ld=j.memo(({spot:n})=>{const{name:e,rating:r,reviews_count:a,images:l,distance:h,tags:d,price_level:m,id:g,instagram_handle:_,whatsapp_number:b}=n,w=je(),{user:T}=He(),[C,O]=ss.useState(!1),[R,k]=ss.useState(!1),[z,B]=ss.useState(0),[D,V]=ss.useState(null);j.useEffect(()=>{let ht=!0;return g&&(vt(ht),F(ht),n.opening_hours?V(dt(n.opening_hours)):V(null)),()=>{ht=!1}},[g,T,n.opening_hours]);const F=async ht=>{if(!T)return;const{data:ot}=await ft.from("user_favorites").select("*").eq("spot_id",g).eq("user_id",T.id).maybeSingle();ht&&k(!!ot)},G=async ht=>{if(ht.stopPropagation(),!T)return;const ot=R;k(!ot);try{ot?await ft.from("user_favorites").delete().eq("spot_id",g).eq("user_id",T.id):await ft.from("user_favorites").insert({spot_id:g,user_id:T.id})}catch{k(ot)}},Q=()=>new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),dt=ht=>{if(!ht||!ht.open||!ht.close)return null;const ot=Q(),[Ut,It=0]=ht.open.split(":").map(Number),[lt,$=0]=ht.close.split(":").map(Number),it=new Date(ot);it.setHours(Ut,It,0,0);const et=new Date(ot);return et.setHours(lt,$,0,0),et<=it&&(ot<it?it.setDate(it.getDate()-1):et.setDate(et.getDate()+1)),ot>=it&&ot<=et},vt=async ht=>{try{const{count:ot}=await ft.from("visited_spots").select("*",{count:"exact",head:!0}).eq("spot_id",g);if(ht&&B(ot||0),T){const{data:Ut}=await ft.from("visited_spots").select("user_id").eq("spot_id",g).eq("user_id",T.id).maybeSingle();ht&&O(!!Ut)}}catch(ot){console.error(ot)}},ut=()=>{const ht=window.location.pathname.includes("/ml/")?"ml":"en";w(`/${ht}/spot/${g}`)};return y.jsxs(Mt.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},whileHover:{y:-5},transition:{duration:.3},onClick:ut,style:{background:"var(--bg-white)",borderRadius:"var(--radius-lg)",padding:"10px",boxShadow:"var(--shadow-md)",cursor:"pointer",marginBottom:"10px",display:"flex",flexDirection:"column",gap:"8px"},children:[y.jsxs("div",{style:{position:"relative",height:"140px",borderRadius:"24px",overflow:"hidden"},onClick:ht=>ht.stopPropagation(),children:[y.jsx(cS,{images:l,interval:4e3}),y.jsxs("div",{style:{position:"absolute",top:"8px",left:"50%",transform:"translateX(-50%)",background:D===null?"rgba(100, 116, 139, 0.7)":D?"rgba(16, 185, 129, 0.9)":"rgba(239, 68, 68, 0.9)",backdropFilter:"blur(8px)",color:"white",padding:"4px 10px",borderRadius:"20px",fontSize:"0.6rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"4px"},children:[y.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",background:"white"}}),D===null?"HOURS N/A":D?"OPEN":"CLOSED"]}),y.jsxs("div",{style:{position:"absolute",bottom:"8px",left:"8px",background:"white",padding:"3px 7px",borderRadius:"10px",display:"flex",alignItems:"center",gap:"4px",fontSize:"0.7rem",fontWeight:"800"},children:[y.jsx(od,{size:10,fill:"#FFB800",color:"#FFB800"})," ",r]})]}),y.jsxs("div",{style:{padding:"0 4px"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[y.jsxs("div",{style:{flex:1,minWidth:0},children:[y.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:"900",margin:"0 0 2px 0",color:"var(--text-main)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e}),y.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",margin:0},children:[h," km"]})]}),y.jsx(Mt.button,{whileTap:{scale:.8},onClick:G,style:{background:"none",border:"none",cursor:"pointer",padding:"2px"},children:y.jsx(pa,{size:20,fill:R?"var(--primary)":"none",color:R?"var(--primary)":"var(--text-muted)"})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[y.jsx("div",{style:{display:"flex",gap:"4px"},children:(d||[]).slice(0,1).map((ht,ot)=>y.jsxs("span",{style:{fontSize:"0.65rem",color:"var(--primary)",fontWeight:"700"},children:["#",ht]},ot))}),y.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"900",color:"var(--primary)"},children:"".repeat(m)})]}),y.jsx("div",{style:{marginTop:"6px",fontSize:"0.7rem",color:"var(--text-muted)",fontWeight:"700"},children:n.opening_hours?.open&&n.opening_hours?.close?`Kerala time: ${n.opening_hours.open} - ${n.opening_hours.close}`:"Hours not set"})]})]})}),Bo=({message:n="Tasting the flavors..."})=>y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",gap:"20px"},children:[y.jsxs("div",{style:{position:"relative",width:"80px",height:"80px"},children:[y.jsx(Mt.div,{animate:{rotate:360},transition:{repeat:1/0,duration:2,ease:"linear"},style:{width:"100%",height:"100%",borderRadius:"50%",border:"4px dashed var(--primary)",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(dL,{size:40,color:"var(--primary)"})}),y.jsx(Mt.div,{animate:{scale:[1,1.2,1],opacity:[.3,.7,.3]},transition:{repeat:1/0,duration:1.5},style:{position:"absolute",top:-10,right:-10,background:"white",padding:"4px",borderRadius:"50%",boxShadow:"var(--shadow-sm)"},children:y.jsx(AM,{size:16,color:"var(--primary)"})})]}),y.jsx(Mt.p,{animate:{opacity:[.4,1,.4]},transition:{repeat:1/0,duration:2},style:{fontWeight:"800",color:"var(--text-main)",fontSize:"1rem",margin:0},children:n})]}),UL=({lang:n})=>{const e=je(),{user:r}=He(),[a,l]=j.useState([]),[h,d]=j.useState(!0),[m,g]=j.useState(""),[_,b]=j.useState(null),[w,T]=j.useState("All Kerala"),[C,O]=j.useState("All");j.useEffect(()=>{R()},[_]);const R=async()=>{d(!0);const{data:B,error:D}=await ft.from("spots").select("*").eq("is_verified",!0).order("created_at",{ascending:!1});if(D)console.error(D);else{let V=B||[];_&&(V=V.filter(F=>z(_.lat,_.lng,F.latitude,F.longitude)<=30)),l(V)}d(!1)},k=j.useMemo(()=>a.filter(B=>{const D=B.name.toLowerCase().includes(m.toLowerCase()),V=C==="All"||B.category===C;return D&&V}),[a,m,C]);function z(B,D,V,F){var G=6371,Q=(V-B)*Math.PI/180,dt=(F-D)*Math.PI/180,vt=Math.sin(Q/2)*Math.sin(Q/2)+Math.cos(B*Math.PI/180)*Math.cos(V*Math.PI/180)*Math.sin(dt/2)*Math.sin(dt/2);return G*(2*Math.atan2(Math.sqrt(vt),Math.sqrt(1-vt)))}return y.jsxs("div",{style:{padding:"20px",paddingBottom:"120px",background:"var(--bg-white)",minHeight:"100vh"},children:[y.jsxs("header",{style:{marginBottom:"24px"},children:[y.jsxs("p",{style:{margin:0,fontSize:"1rem",color:"var(--text-muted)"},children:["Hello ",r?.user_metadata?.full_name?.split(" ")[0]||"Foodie",","]}),y.jsx("h1",{style:{margin:"4px 0",fontSize:"1.6rem",fontWeight:"900",color:"var(--text-main)"},children:"What do you want to eat today?"})]}),y.jsxs("div",{style:{position:"relative",marginBottom:"24px"},children:[y.jsx("input",{type:"text",placeholder:"Search dishes, restaurants...",value:m,onChange:B=>{const D=B.target.value;D==="#admin"?(e(`/${n}/admin`),g("")):g(D)},style:{width:"100%",padding:"16px 20px 16px 50px",borderRadius:"var(--radius-lg)",border:"none",background:"var(--secondary)",fontSize:"1rem",fontWeight:"600"}}),y.jsx(oS,{size:22,color:"var(--text-muted)",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}})]}),y.jsx("div",{className:"hide-scrollbar",style:{display:"flex",gap:"12px",overflowX:"auto",marginBottom:"30px",padding:"4px 0"},children:["All","Trending","Arabian","Burger","Cafes","Desserts"].map(B=>y.jsx(Mt.button,{whileTap:{scale:.95},onClick:()=>O(B),style:{padding:"10px 24px",borderRadius:"16px",background:C===B?"var(--primary)":"var(--secondary)",color:C===B?"white":"var(--text-muted)",border:"none",fontWeight:"800",whiteSpace:"nowrap",boxShadow:C===B?"var(--shadow-sm)":"none",transition:"all 0.3s ease"},children:B},B))}),y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:y.jsxs("div",{style:{background:"rgba(239, 42, 57, 0.1)",color:"var(--primary)",padding:"6px 12px",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(ga,{size:16})," ",w]})}),h?y.jsx(Bo,{message:"Finding delicious spots..."}):y.jsx(Mt.div,{layout:!0,style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:y.jsx(yg,{children:k.map(B=>y.jsx(ld,{spot:B},B.id))})}),y.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 0.6; }
                    50% { opacity: 0.3; }
                    100% { opacity: 0.6; }
                }
            `})]})},IL=({lang:n})=>{const{user:e,signOut:r}=He(),a=je(),[l,h]=j.useState(!0),[d,m]=j.useState(null),[g,_]=j.useState({spots:0,reviews:0,xp:0}),[b,w]=j.useState("favorites"),[T,C]=j.useState([]),[O,R]=j.useState(!1);j.useEffect(()=>(e&&(k(),window.addEventListener("focus",k),window.addEventListener("userProfileUpdated",k)),()=>{e&&(window.removeEventListener("focus",k),window.removeEventListener("userProfileUpdated",k))}),[e]),j.useEffect(()=>{e&&z()},[b,e]);const k=async()=>{h(!0);const{data:V}=await ft.from("user_preferences").select("*").eq("user_id",e.id).maybeSingle();m(V);const{count:F}=await ft.from("spots").select("*",{count:"exact",head:!0}).eq("created_by",e.id),{count:G}=await ft.from("reviews").select("*",{count:"exact",head:!0}).eq("user_id",e.id),{count:Q}=await ft.from("user_favorites").select("*",{count:"exact",head:!0}).eq("user_id",e.id);_({spots:F||0,reviews:G||0,favorites:Q||0,xp:(F||0)*100+(G||0)*10}),h(!1)},z=async()=>{if(R(!0),b==="favorites"){const{data:V}=await ft.from("user_favorites").select("spot_id").eq("user_id",e.id);if(V&&V.length>0){const F=V.map(Q=>Q.spot_id),{data:G}=await ft.from("spots").select("*").in("id",F);C(G||[])}else C([])}else if(b==="reviews"){const{data:V}=await ft.from("reviews").select("*, spots(name)").eq("user_id",e.id).order("created_at",{ascending:!1});C(V||[])}else if(b==="added"){const{data:V}=await ft.from("spots").select("*").eq("created_by",e.id).order("created_at",{ascending:!1});C(V||[])}R(!1)},B=async()=>{await r(),a(`/${n||"en"}/login`)},D=[{id:"favorites",label:"Favorites",icon:pa,count:g.favorites},{id:"reviews",label:"Reviews",icon:aS,count:g.reviews},{id:"added",label:"Added",icon:ad,count:g.spots}];return y.jsxs("div",{style:{paddingBottom:"120px",background:"var(--bg-white)",minHeight:"100vh"},children:[y.jsx("div",{style:{height:"180px",background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx("div",{style:{position:"absolute",inset:0,opacity:.1,backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"24px 24px"}})}),y.jsxs("div",{style:{marginTop:"-60px",textAlign:"center",padding:"0 20px",position:"relative"},children:[y.jsx(Mt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},style:{width:"120px",height:"120px",borderRadius:"40px",background:"white",margin:"0 auto",padding:"6px",boxShadow:"var(--shadow-lg)"},children:y.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"34px",overflow:"hidden",background:"var(--secondary)",display:"flex",alignItems:"center",justifyContent:"center"},children:d?.avatar_url?y.jsx("img",{src:d.avatar_url,style:{width:"100%",height:"100%",objectFit:"cover"}}):y.jsx(Ro,{size:50,color:"var(--text-muted)"})})}),y.jsx("h1",{style:{marginTop:"16px",fontSize:"1.6rem",fontWeight:"900",color:"var(--text-main)",margin:"16px 0 4px 0"},children:d?.display_name||e?.user_metadata?.full_name||"Foodie Voyager"}),y.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",fontWeight:"500"},children:"Elite Level Discoverer  Kerala, IN"})]}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",padding:"24px 20px"},children:[{label:"Visits",value:g.spots,icon:ga},{label:"Reviews",value:g.reviews,icon:od},{label:"XP",value:g.xp,icon:NL}].map((V,F)=>y.jsxs("div",{style:{background:"var(--secondary)",padding:"16px 8px",borderRadius:"24px",textAlign:"center"},children:[y.jsx(V.icon,{size:20,color:"var(--primary)",style:{marginBottom:"8px"}}),y.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"900",color:"var(--text-main)"},children:V.value}),y.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"700",color:"var(--text-muted)",marginTop:"2px"},children:V.label})]},F))}),y.jsx("div",{style:{padding:"0 20px",marginBottom:"20px"},children:y.jsx("div",{style:{display:"flex",gap:"8px",background:"var(--secondary)",padding:"6px",borderRadius:"20px"},children:D.map(V=>y.jsxs("button",{onClick:()=>a(`/${n}/profile/${V.id}`),style:{flex:1,padding:"12px",borderRadius:"16px",background:"transparent",border:"none",fontWeight:"800",fontSize:"0.85rem",color:"var(--text-muted)",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[y.jsx(V.icon,{size:16}),V.label," (",V.count,")"]},V.id))})}),y.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",gap:"12px",marginTop:"20px"},children:[y.jsxs(Mt.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/settings`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#EEF2FF"},children:y.jsx(bL,{size:22,color:"#4F46E5"})}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Settings"})]}),y.jsx(go,{size:20,color:"var(--text-muted)"})]}),y.jsxs(Mt.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/leaderboard`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#FFFBEB"},children:y.jsx(mM,{size:22,color:"#F59E0B"})}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Leaderboard"})]}),y.jsx(go,{size:20,color:"var(--text-muted)"})]}),y.jsxs(Mt.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/privacy-policy`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#F0FDF4"},children:y.jsx(jm,{size:22,color:"#10B981"})}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Privacy Policy"})]}),y.jsx(go,{size:20,color:"var(--text-muted)"})]}),y.jsxs(Mt.div,{whileTap:{scale:.98},onClick:()=>a(`/${n}/contact-admin`),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#FEF2F2"},children:y.jsx(sd,{size:22,color:"#EF4444"})}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Contact Admin"})]}),y.jsx(go,{size:20,color:"var(--text-muted)"})]}),y.jsxs(Mt.div,{whileTap:{scale:.98},onClick:B,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"white",borderRadius:"24px",boxShadow:"0 4px 15px rgba(0,0,0,0.03)",cursor:"pointer",border:"1px solid var(--secondary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{padding:"10px",borderRadius:"14px",background:"#F3F4F6"},children:y.jsx(JM,{size:22,color:"#6B7280"})}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.05rem",color:"var(--text-main)"},children:"Logout"})]}),y.jsx(go,{size:20,color:"var(--text-muted)"})]})]})]})},ou=({children:n,onClick:e,variant:r="primary",className:a="",...l})=>{const m={...{padding:"12px 24px",borderRadius:"var(--radius-full)",fontWeight:"600",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"transform var(--transition-fast), box-shadow var(--transition-fast)",boxShadow:"var(--shadow-sm)"},...{primary:{background:"var(--primary)",color:"#fff"},secondary:{background:"var(--secondary)",color:"var(--text-main)"},outline:{background:"transparent",border:"2px solid var(--primary)",color:"var(--primary)"}}[r]};return y.jsx("button",{onClick:e,style:m,className:a,onMouseEnter:g=>g.target.style.transform="scale(1.05)",onMouseLeave:g=>g.target.style.transform="scale(1)",...l,children:n})},Au=({message:n,type:e="success",onClose:r})=>(j.useEffect(()=>{const a=setTimeout(()=>{r()},3e3);return()=>clearTimeout(a)},[r]),y.jsxs("div",{className:"animate-fade-in",style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",background:e==="success"?"#2e7d32":"#c62828",color:"white",padding:"12px 24px",borderRadius:"30px",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:2e3,minWidth:"300px",justifyContent:"center"},children:[e==="success"?y.jsx(nS,{size:20}):y.jsx(iS,{size:20}),y.jsx("span",{style:{fontWeight:600},children:n})]})),VL=()=>{const{user:n}=He(),e=je(),[r,a]=j.useState(!0),[l,h]=j.useState(!1),[d,m]=j.useState(!1),[g,_]=j.useState(null),[b,w]=j.useState({displayName:"",avatarUrl:"",notificationsEnabled:!0,notifyNewSpots:!0,notifyReviewReplies:!0,notifyWeeklyDigest:!1,lastDisplayNameChange:null});j.useEffect(()=>{n&&T()},[n]);const T=async()=>{a(!0);const{data:R}=await ft.from("user_preferences").select("*").eq("user_id",n.id).single();R&&w({displayName:R.display_name||n.user_metadata?.full_name||"",avatarUrl:R.avatar_url||n.user_metadata?.avatar_url||"",notificationsEnabled:R.notifications_enabled,notifyNewSpots:R.notify_new_spots,notifyReviewReplies:R.notify_review_replies,notifyWeeklyDigest:R.notify_weekly_digest,lastDisplayNameChange:R.last_display_name_change}),a(!1)},C=async R=>{const k=R.target.files[0];if(k){m(!0);try{const z=`${n.id}-${Date.now()}.${k.name.split(".").pop()}`;await ft.storage.from("avatars").upload(`avatars/${z}`,k);const{data:{publicUrl:B}}=ft.storage.from("avatars").getPublicUrl(`avatars/${z}`);w({...b,avatarUrl:B}),_({message:"Avatar updated! Ready to save.",type:"success"})}catch{_({message:"Upload failed",type:"error"})}finally{m(!1)}}},O=async()=>{h(!0);try{const R=new Date,k=b.lastDisplayNameChange?new Date(b.lastDisplayNameChange):null,z=k?(R-k)/(1e3*60*60):25;if(z<24){const V=Math.ceil(24-z);_({message:`You can only change your display name once every 24 hours. Please wait ${V} more hours.`,type:"error"}),h(!1);return}const{data:B}=await ft.from("user_preferences").select("display_name").eq("display_name",b.displayName).not("user_id","eq",n.id).maybeSingle();if(B){_({message:"This display name is already taken.",type:"error"}),h(!1);return}const D={user_id:n.id,display_name:b.displayName,avatar_url:b.avatarUrl,notifications_enabled:b.notificationsEnabled,notify_new_spots:b.notifyNewSpots,notify_review_replies:b.notifyReviewReplies,notify_weekly_digest:b.notifyWeeklyDigest,last_display_name_change:R.toISOString()};await ft.from("user_preferences").upsert(D,{onConflict:"user_id"}),window.dispatchEvent(new CustomEvent("userProfileUpdated",{detail:{displayName:b.displayName,avatarUrl:b.avatarUrl}})),_({message:"Settings saved successfully! ",type:"success"}),setTimeout(()=>e(-1),1500)}catch{_({message:"Failed to save",type:"error"})}finally{h(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[g&&y.jsx(Au,{message:g.message,type:g.type,onClose:()=>_(null)}),y.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",left:"20px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(Eu,{size:24})}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"App Settings"})]}),y.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:r?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(Mt.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},children:y.jsx(FM,{size:30,color:"var(--primary)"})})}):y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[y.jsxs("div",{style:{background:"white",borderRadius:"32px",padding:"24px",boxShadow:"var(--shadow-md)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[y.jsx(Ro,{size:20,color:"var(--primary)"}),y.jsx("h2",{style:{fontSize:"1.1rem",fontWeight:"900",color:"var(--text-main)",margin:0},children:"Account Details"})]}),y.jsx("div",{style:{textAlign:"center",marginBottom:"24px"},children:y.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[y.jsx("div",{style:{width:"100px",height:"100px",borderRadius:"32px",border:"4px solid var(--secondary)",overflow:"hidden",boxShadow:"var(--shadow-sm)"},children:b.avatarUrl?y.jsx("img",{src:b.avatarUrl,style:{width:"100%",height:"100%",objectFit:"cover"}}):y.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--secondary)"},children:y.jsx(Ro,{size:40,color:"var(--text-muted)"})})}),y.jsx("label",{htmlFor:"avatar-upload",style:{position:"absolute",bottom:"-5px",right:"-5px",background:"var(--primary)",color:"white",padding:"8px",borderRadius:"12px",cursor:"pointer",boxShadow:"var(--shadow-md)"},children:y.jsx(id,{size:18})}),y.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:C,style:{display:"none"}})]})}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[y.jsxs("div",{children:[y.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"DISPLAY NAME"}),y.jsx("input",{type:"text",value:b.displayName,onChange:R=>w({...b,displayName:R.target.value}),style:{width:"100%",padding:"14px",borderRadius:"16px",background:"var(--secondary)",border:"none",fontWeight:"700",outline:"none"}})]}),y.jsxs("div",{children:[y.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"EMAIL ADDRESS"}),y.jsx("div",{style:{width:"100%",padding:"14px",borderRadius:"16px",background:"var(--secondary)",color:"var(--text-muted)",fontWeight:"700",opacity:.8},children:n?.email})]})]})]}),y.jsxs("div",{style:{background:"white",borderRadius:"32px",padding:"24px",boxShadow:"var(--shadow-md)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[y.jsx($h,{size:20,color:"var(--primary)"}),y.jsx("h2",{style:{fontSize:"1.1rem",fontWeight:"900",color:"var(--text-main)",margin:0},children:"Notifications"})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[{id:"notificationsEnabled",label:"Push Notifications",desc:"Main alert switch"},{id:"notifyNewSpots",label:"New Spots",desc:"Alerts for nearby additions"},{id:"notifyReviewReplies",label:"Review Replies",desc:"When someone chats back"}].map(R=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{fontWeight:"800",fontSize:"0.95rem"},children:R.label}),y.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",fontWeight:"600"},children:R.desc})]}),y.jsx("input",{type:"checkbox",checked:b[R.id],onChange:k=>w({...b,[R.id]:k.target.checked}),style:{width:"22px",height:"22px",accentColor:"var(--primary)"}})]},R.id))})]}),y.jsx(Mt.button,{whileTap:{scale:.95},onClick:O,disabled:l,style:{width:"100%",padding:"20px",borderRadius:"24px",background:"var(--primary)",color:"white",border:"none",fontWeight:"900",fontSize:"1rem",boxShadow:"var(--shadow-md)",opacity:l?.6:1},children:l?"Saving...":"Save Settings "})]})})]})},hS=({isOpen:n,onClose:e,onSelectLocation:r,initialCenter:a=[11.2588,75.7804]})=>{const[l,h]=j.useState(null),[d,m]=j.useState(!1),[g,_]=j.useState(!1),[b,w]=j.useState(""),[T,C]=j.useState(!1),O=j.useRef(null),R=j.useRef(null),k=j.useRef(null),z=j.useRef(null),B=j.useRef(null);j.useEffect(()=>{if(!n)return;(()=>{if(window.L){m(!0);return}if(document.getElementById("leaflet-script")){document.getElementById("leaflet-script").addEventListener("load",()=>m(!0));return}if(!document.getElementById("leaflet-css")){const dt=document.createElement("link");dt.id="leaflet-css",dt.rel="stylesheet",dt.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(dt)}const Q=document.createElement("script");Q.id="leaflet-script",Q.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",Q.async=!0,Q.onload=()=>m(!0),document.body.appendChild(Q)})()},[n]),j.useEffect(()=>{if(!(!n||!d||!O.current)){R.current&&(R.current.remove(),R.current=null);try{const G=window.L.map(O.current).setView(a,13);R.current=G;const Q=window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}),dt=window.L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EBP, and the GIS User Community"});g?dt.addTo(G):Q.addTo(G),z.current=Q,B.current=dt;const vt=window.L.marker(a,{draggable:!0,icon:window.L.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})}).addTo(G);k.current=vt,vt.bindPopup("Drag me to select location!").openPopup(),vt.on("dragend",function(ht){const ot=ht.target.getLatLng();h({lat:ot.lat,lng:ot.lng})}),G.on("click",function(ht){vt.setLatLng(ht.latlng),h({lat:ht.latlng.lat,lng:ht.latlng.lng})});const ut=window.L.Control.extend({options:{position:"bottomright"},onAdd:function(ht){const ot=window.L.DomUtil.create("button","leaflet-bar leaflet-control leaflet-control-custom");return ot.innerHTML="",ot.style.backgroundColor="white",ot.style.width="30px",ot.style.height="30px",ot.style.cursor="pointer",ot.style.border="2px solid rgba(0,0,0,0.2)",ot.style.borderRadius="4px",ot.title="Locate Me",ot.onclick=function(Ut){Ut.preventDefault(),Ut.stopPropagation(),ht.locate({setView:!0,maxZoom:16})},ot}});G.addControl(new ut),G.on("locationfound",function(ht){vt.setLatLng(ht.latlng),h({lat:ht.latlng.lat,lng:ht.latlng.lng})}),setTimeout(()=>{G.invalidateSize()},300),h({lat:a[0],lng:a[1]})}catch(G){console.error("Map initialization error:",G)}return()=>{R.current&&(R.current.remove(),R.current=null)}}},[n,d]);const D=()=>{if(!R.current||!z.current||!B.current)return;const G=R.current;g?(G.removeLayer(B.current),z.current.addTo(G)):(G.removeLayer(z.current),B.current.addTo(G)),_(!g)},V=async()=>{if(!(!b.trim()||T)){C(!0);try{const Q=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(b)}`)).json();if(Q&&Q.length>0){const{lat:dt,lon:vt}=Q[0],ut=[parseFloat(dt),parseFloat(vt)];R.current&&k.current&&(R.current.setView(ut,16),k.current.setLatLng(ut),h({lat:parseFloat(dt),lng:parseFloat(vt)}))}else alert("Location not found.")}catch(G){console.error("Search error:",G)}finally{C(!1)}}},F=()=>{l&&r(l.lat,l.lng)};return n?y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backdropFilter:"blur(4px)"},children:y.jsxs("div",{style:{background:"white",borderRadius:"16px",width:"100%",maxWidth:"600px",height:"80vh",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[y.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"white",zIndex:10},children:[y.jsxs("div",{children:[y.jsx("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:"700",color:"#1a1a1a"},children:" Select Location"}),y.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"0.85rem",color:"#666"},children:"Drag pin or click map to pinpoint spot"})]}),y.jsx("button",{onClick:e,style:{background:"#f5f5f5",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#666",transition:"all 0.2s"},children:y.jsx(Cu,{size:20})})]}),y.jsxs("div",{style:{padding:"0.8rem 1rem",background:"#fff",borderBottom:"1px solid #eee",display:"flex",gap:"8px"},children:[y.jsxs("div",{style:{flex:1,position:"relative"},children:[y.jsx("input",{type:"text",placeholder:"Search location (e.g. Kozhikode)",value:b,onChange:G=>w(G.target.value),onKeyDown:G=>G.key==="Enter"&&V(),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"0.9rem"}}),y.jsx(oS,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}})]}),y.jsx("button",{onClick:V,disabled:T||!b.trim(),style:{padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"10px",fontWeight:"600",fontSize:"0.85rem",cursor:"pointer",opacity:T?.6:1},children:T?"...":"Search"})]}),y.jsxs("div",{style:{flex:1,position:"relative"},children:[!d&&y.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#f8fafc",zIndex:20},children:y.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[y.jsx(rd,{className:"animate-spin",size:32,color:"var(--primary)"}),y.jsx("span",{style:{color:"#64748b",fontWeight:"500"},children:"Loading map resources..."})]})}),y.jsxs("button",{onClick:G=>{G.preventDefault(),D()},style:{position:"absolute",top:"12px",right:"12px",zIndex:1e3,background:g?"#10b981":"white",color:g?"white":"#1e293b",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontWeight:"600",fontSize:"0.85rem",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[y.jsx(ZM,{size:16}),g?"Satellite":"Map View"]}),y.jsx("div",{ref:O,style:{width:"100%",height:"100%",background:"#e2e8f0",touchAction:"none"}})]}),y.jsxs("div",{style:{padding:"1rem",borderTop:"1px solid #eee",background:"white",zIndex:10},children:[y.jsx("div",{style:{display:"flex",gap:"12px"},children:y.jsx("div",{style:{flex:1},children:l?y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",color:"#0f172a",background:"#f1f5f9",padding:"8px 12px",borderRadius:"8px",marginBottom:"12px"},children:[y.jsx(ga,{size:16,className:"text-primary"}),y.jsxs("span",{children:[l.lat.toFixed(4),", ",l.lng.toFixed(4)]})]}):y.jsx("div",{style:{height:"36px"}})})}),y.jsx("button",{onClick:F,disabled:!l,style:{width:"100%",padding:"14px",background:l?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"#e2e8f0",color:l?"white":"#94a3b8",border:"none",borderRadius:"12px",fontWeight:"700",fontSize:"1rem",cursor:l?"pointer":"not-allowed",transition:"all 0.2s",boxShadow:l?"0 4px 12px rgba(16, 185, 129, 0.2)":"none"},children:"Confirm Location"})]})]})}):null},HL=({lang:n})=>{const e=je(),{user:r}=He(),a=j.useRef(null),[l,h]=j.useState(1),[d,m]=j.useState(!1),[g,_]=j.useState(!1),[b,w]=j.useState(!1),[T,C]=j.useState([11.2588,75.7804]),[O,R]=j.useState(null),[k,z]=j.useState({name:"",category:"",price:2,location_text:"",latitude:null,longitude:null,description:"",instagram:"",instagram_link:"",whatsapp:"",opening_time:"10:00",closing_time:"22:00",tags:[],images:[]}),B=["Cafe","Restaurant","Street Food","Bakery","Juice Shop","Tea Stall"],D=(ut,ht="success")=>{R({message:ut,type:ht})},V=()=>{if(l===1&&!k.name)return D("Please enter a name","error");if(l===1&&!k.category)return D("Please select a category","error");if(l===2&&!k.location_text)return D("Please set a location","error");h(ut=>ut+1)},F=()=>h(ut=>ut-1),G=()=>{m(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(ut=>{const ht=ut.coords.latitude,ot=ut.coords.longitude;z({...k,latitude:ht,longitude:ot,location_text:`${ht.toFixed(4)}, ${ot.toFixed(4)}`}),C([ht,ot]),m(!1),D("Location updated!")},ut=>{D("Could not get location.","error"),m(!1)}):(D("Geolocation not supported","error"),m(!1))},Q=(ut,ht)=>{z({...k,latitude:ut,longitude:ht,location_text:`${ut.toFixed(4)}, ${ht.toFixed(4)}`}),w(!1),D("Location selected from map!")},dt=async ut=>{const ht=Array.from(ut.target.files);if(ht.length!==0){if(k.images.length+ht.length>5)return D("Max 5 images allowed","error");_(!0);try{for(const ot of ht){const Ut=`${Math.random()}.${ot.name.split(".").pop()}`;await ft.storage.from("food-images").upload(Ut,ot);const{data:It}=ft.storage.from("food-images").getPublicUrl(Ut);z(lt=>({...lt,images:[...lt.images,It.publicUrl]}))}D(`${ht.length} images uploaded!`)}catch{D("Error uploading images.","error")}finally{_(!1)}}},vt=async()=>{if(!r)return D("Please login first","error");m(!0);try{const ut={name:k.name,category:k.category,price_level:k.price,location_text:k.location_text,latitude:k.latitude,longitude:k.longitude,description:k.description,instagram_handle:k.instagram,whatsapp_number:k.whatsapp,opening_hours:{open:k.opening_time,close:k.closing_time},tags:k.tags,images:k.images,created_by:r.id},{error:ht}=await ft.from("spots").insert([ut]);if(ht)throw ht;D("Spot shared! Redirecting...","success"),setTimeout(()=>e(`/${n}/home`),2e3)}catch(ut){console.error("Error saving spot:",ut),D(`Error saving spot: ${ut.message}`,"error"),m(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"100px"},children:[O&&y.jsx(Au,{message:O.message,type:O.type,onClose:()=>R(null)}),y.jsx(hS,{isOpen:b,onClose:()=>w(!1),onSelectLocation:Q,initialCenter:T}),y.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:[y.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",left:"20px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(Eu,{size:24})}),y.jsx("h1",{style:{color:"white",fontSize:"1.4rem",fontWeight:"900"},children:"Add New Spot"})]}),y.jsxs("div",{className:"container",style:{marginTop:"-40px",padding:"0 20px"},children:[y.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",justifyContent:"center"},children:[1,2,3,4].map(ut=>y.jsx("div",{style:{width:ut===l?"32px":"10px",height:"10px",borderRadius:"5px",background:ut<=l?"var(--primary)":"#ddd",transition:"all 0.3s"}},ut))}),y.jsxs(Mt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{background:"rgba(239, 42, 57, 0.05)",padding:"16px",borderRadius:"20px",marginBottom:"16px",border:"2px dashed var(--primary)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"12px"},children:[y.jsx(SM,{size:20,color:"var(--primary)",style:{flexShrink:0,marginTop:"2px"}}),y.jsxs("div",{children:[y.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:"800",color:"var(--primary)",margin:"0 0 4px 0"},children:" Verification Required"}),y.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",margin:0,lineHeight:"1.5"},children:"Your spot will be added to Chai.in only after our admin team verifies it. This helps maintain quality and accuracy!"})]})]}),y.jsxs("a",{href:"https://www.youtube.com/watch?v=PLACEHOLDER_VIDEO_ID",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"8px",background:"#FF0000",color:"white",padding:"10px 16px",borderRadius:"12px",textDecoration:"none",fontWeight:"700",fontSize:"0.85rem",justifyContent:"center"},children:[y.jsx(zL,{size:18}),"Watch Tutorial: How to Add a Spot"]})]}),y.jsx(Mt.div,{layout:!0,style:{background:"white",borderRadius:"32px",padding:"24px",boxShadow:"var(--shadow-md)"},children:y.jsxs(yg,{mode:"wait",children:[l===1&&y.jsxs(Mt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[y.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"The Basics "}),y.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"SPOT NAME"}),y.jsx("input",{type:"text",placeholder:"Enter spot name...",value:k.name,onChange:ut=>z({...k,name:ut.target.value}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"20px"}}),y.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"12px",display:"block"},children:"CATEGORY"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",marginBottom:"24px"},children:B.map(ut=>y.jsx("button",{onClick:()=>z({...k,category:ut}),style:{padding:"14px",borderRadius:"18px",border:"none",background:k.category===ut?"var(--primary)":"var(--secondary)",color:k.category===ut?"white":"var(--text-main)",fontWeight:"800",transition:"all 0.2s"},children:ut},ut))}),y.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"12px",display:"block"},children:"PRICE LEVEL"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",marginBottom:"24px"},children:[1,2,3,4].map(ut=>y.jsx("button",{onClick:()=>z({...k,price:ut}),style:{padding:"14px",borderRadius:"18px",border:"none",background:k.price===ut?"var(--primary)":"var(--secondary)",color:k.price===ut?"white":"var(--text-main)",fontWeight:"800",transition:"all 0.2s"},children:"".repeat(ut)},ut))}),y.jsx(ou,{onClick:V,style:{width:"100%",padding:"18px",borderRadius:"24px",justifyContent:"center"},children:"Continue"})]},"step1"),l===2&&y.jsxs(Mt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[y.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"Location "}),y.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"16px"},children:[y.jsxs("button",{onClick:G,style:{flex:1,padding:"14px",borderRadius:"18px",border:"none",background:"#ECFDF5",color:"#10B981",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[y.jsx(OM,{size:18})," GPS"]}),y.jsxs("button",{onClick:()=>w(!0),style:{flex:1,padding:"14px",borderRadius:"18px",border:"none",background:"#EFF6FF",color:"#3B82F6",fontWeight:"800",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[y.jsx(Ag,{size:18})," Map"]})]}),y.jsx("input",{type:"text",placeholder:"Location address...",value:k.location_text,onChange:ut=>z({...k,location_text:ut.target.value}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"20px"}}),y.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[y.jsx("button",{onClick:F,style:{flex:1,padding:"18px",borderRadius:"24px",background:"var(--secondary)",border:"none",fontWeight:"800"},children:"Back"}),y.jsx(ou,{onClick:V,style:{flex:2,padding:"18px",borderRadius:"24px",justifyContent:"center"},children:"Next"})]})]},"step2"),l===3&&y.jsxs(Mt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[y.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"Socials & Details "}),y.jsx("textarea",{placeholder:"Add a juicy description...",value:k.description,onChange:ut=>z({...k,description:ut.target.value}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"16px",minHeight:"100px"}}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"16px"},children:[y.jsx("input",{placeholder:"WhatsApp Number",value:k.whatsapp,onChange:ut=>z({...k,whatsapp:ut.target.value}),style:{padding:"14px",borderRadius:"16px",background:"var(--secondary)",border:"none",fontWeight:"700"}}),y.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",flex:1},children:[y.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"800",color:"var(--text-muted)"},children:"Opening"}),y.jsx("input",{type:"time",value:k.opening_time,onChange:ut=>z({...k,opening_time:ut.target.value}),style:{padding:"12px",borderRadius:"14px",background:"var(--secondary)",border:"none",fontWeight:"700"}})]}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",flex:1},children:[y.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"800",color:"var(--text-muted)"},children:"Closing"}),y.jsx("input",{type:"time",value:k.closing_time,onChange:ut=>z({...k,closing_time:ut.target.value}),style:{padding:"12px",borderRadius:"14px",background:"var(--secondary)",border:"none",fontWeight:"700"}})]})]})]}),y.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"INSTAGRAM"}),y.jsx("input",{placeholder:"Insta @user or instagram.com/user",value:k.instagram,onChange:ut=>z({...k,instagram:ut.target.value}),style:{width:"100%",padding:"14px",borderRadius:"16px",background:"var(--secondary)",border:"none",fontWeight:"700",marginBottom:"16px"}}),y.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"800",color:"var(--text-muted)",marginBottom:"8px",display:"block"},children:"TAGS"}),y.jsx("input",{type:"text",placeholder:"e.g. burger, spicy, budget-friendly",onChange:ut=>z({...k,tags:ut.target.value.split(",").map(ht=>ht.trim())}),style:{width:"100%",padding:"16px",borderRadius:"18px",border:"2px solid var(--secondary)",background:"var(--secondary)",fontSize:"1rem",fontWeight:"700",outline:"none",marginBottom:"20px"}}),y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("button",{onClick:F,style:{flex:1,padding:"18px",borderRadius:"24px",background:"var(--secondary)",border:"none",fontWeight:"800"},children:"Back"}),y.jsx(ou,{onClick:V,style:{flex:2,padding:"18px",borderRadius:"24px",justifyContent:"center"},children:"Next"})]})]},"step3"),l===4&&y.jsxs(Mt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[y.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"900",marginBottom:"16px",color:"var(--text-main)"},children:"Photos "}),y.jsxs("div",{onClick:()=>a.current.click(),style:{border:"2px dashed #ddd",borderRadius:"24px",padding:"30px",textAlign:"center",background:"var(--secondary)",cursor:"pointer",marginBottom:"20px"},children:[y.jsx("input",{type:"file",multiple:!0,ref:a,onChange:dt,style:{display:"none"}}),g?y.jsx(rd,{className:"animate-spin",size:30,color:"var(--primary)"}):y.jsx(id,{size:40,color:"var(--primary)"}),y.jsx("p",{style:{fontWeight:"800",marginTop:"10px",fontSize:"0.9rem"},children:"Upload up to 5 photos"})]}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"20px"},children:k.images.map((ut,ht)=>y.jsx("div",{style:{width:"100%",paddingTop:"100%",position:"relative",borderRadius:"14px",overflow:"hidden"},children:y.jsx("img",{src:ut,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})},ht))}),y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("button",{onClick:F,style:{flex:1,padding:"18px",borderRadius:"24px",background:"var(--secondary)",border:"none",fontWeight:"800"},children:"Back"}),y.jsx("button",{onClick:vt,disabled:d,style:{flex:2,padding:"18px",borderRadius:"24px",background:"var(--primary)",color:"white",border:"none",fontWeight:"900",fontSize:"1.1rem",boxShadow:"var(--shadow-md)"},children:d?"Submitting...":"Post Spot "})]})]},"step4")]})})]})]})};function dS(n,e){const r=j.useRef(e);j.useEffect(function(){e!==r.current&&n.attributionControl!=null&&(r.current!=null&&n.attributionControl.removeAttribution(r.current),e!=null&&n.attributionControl.addAttribution(e)),r.current=e},[n,e])}const qL=1;function FL(n){return Object.freeze({__version:qL,map:n})}function $L(n,e){return Object.freeze({...n,...e})}const jg=j.createContext(null);function fS(){const n=j.use(jg);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function WL(n){function e(r,a){const{instance:l,context:h}=n(r).current;j.useImperativeHandle(a,()=>l);const{children:d}=r;return d==null?null:ss.createElement(jg,{value:h},d)}return j.forwardRef(e)}function ZL(n){function e(r,a){const[l,h]=j.useState(!1),{instance:d}=n(r,h).current;j.useImperativeHandle(a,()=>d),j.useEffect(function(){l&&d.update()},[d,l,r.children]);const m=d._contentNode;return m?mE.createPortal(r.children,m):null}return j.forwardRef(e)}function GL(n){function e(r,a){const{instance:l}=n(r).current;return j.useImperativeHandle(a,()=>l),null}return j.forwardRef(e)}function pS(n,e){const r=j.useRef(void 0);j.useEffect(function(){return e!=null&&n.instance.on(e),r.current=e,function(){r.current!=null&&n.instance.off(r.current),r.current=null}},[n,e])}function Rg(n,e){const r=n.pane??e.pane;return r?{...n,pane:r}:n}function KL(n,e){return function(a,l){const h=fS(),d=n(Rg(a,h),h);return dS(h.map,a.attribution),pS(d.current,a.eventHandlers),e(d.current,h,a,l),d}}var nu={exports:{}};var YL=nu.exports,Dx;function XL(){return Dx||(Dx=1,(function(n,e){(function(r,a){a(e)})(YL,(function(r){var a="1.9.4";function l(s){var u,f,x,S;for(f=1,x=arguments.length;f<x;f++){S=arguments[f];for(u in S)s[u]=S[u]}return s}var h=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function d(s,u){var f=Array.prototype.slice;if(s.bind)return s.bind.apply(s,f.call(arguments,1));var x=f.call(arguments,2);return function(){return s.apply(u,x.length?x.concat(f.call(arguments)):arguments)}}var m=0;function g(s){return"_leaflet_id"in s||(s._leaflet_id=++m),s._leaflet_id}function _(s,u,f){var x,S,A,N;return N=function(){x=!1,S&&(A.apply(f,S),S=!1)},A=function(){x?S=arguments:(s.apply(f,arguments),setTimeout(N,u),x=!0)},A}function b(s,u,f){var x=u[1],S=u[0],A=x-S;return s===x&&f?s:((s-S)%A+A)%A+S}function w(){return!1}function T(s,u){if(u===!1)return s;var f=Math.pow(10,u===void 0?6:u);return Math.round(s*f)/f}function C(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function O(s){return C(s).split(/\s+/)}function R(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var f in u)s.options[f]=u[f];return s.options}function k(s,u,f){var x=[];for(var S in s)x.push(encodeURIComponent(f?S.toUpperCase():S)+"="+encodeURIComponent(s[S]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function B(s,u){return s.replace(z,function(f,x){var S=u[x];if(S===void 0)throw new Error("No value provided for variable "+f);return typeof S=="function"&&(S=S(u)),S})}var D=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function V(s,u){for(var f=0;f<s.length;f++)if(s[f]===u)return f;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Q=0;function dt(s){var u=+new Date,f=Math.max(0,16-(u-Q));return Q=u+f,window.setTimeout(s,f)}var vt=window.requestAnimationFrame||G("RequestAnimationFrame")||dt,ut=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ht(s,u,f){if(f&&vt===dt)s.call(u);else return vt.call(window,d(s,u))}function ot(s){s&&ut.call(window,s)}var Ut={__proto__:null,extend:l,create:h,bind:d,get lastId(){return m},stamp:g,throttle:_,wrapNum:b,falseFn:w,formatNum:T,trim:C,splitWords:O,setOptions:R,getParamString:k,template:B,isArray:D,indexOf:V,emptyImageUrl:F,requestFn:vt,cancelFn:ut,requestAnimFrame:ht,cancelAnimFrame:ot};function It(){}It.extend=function(s){var u=function(){R(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=u.__super__=this.prototype,x=h(f);x.constructor=u,u.prototype=x;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return s.statics&&l(u,s.statics),s.includes&&(lt(s.includes),l.apply(null,[x].concat(s.includes))),l(x,s),delete x.statics,delete x.includes,x.options&&(x.options=f.options?h(f.options):{},l(x.options,s.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,N=x._initHooks.length;A<N;A++)x._initHooks[A].call(this)}},u},It.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},It.mergeOptions=function(s){return l(this.prototype.options,s),this},It.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),f=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function lt(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=D(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(s,u,f){if(typeof s=="object")for(var x in s)this._on(x,s[x],u);else{s=O(s);for(var S=0,A=s.length;S<A;S++)this._on(s[S],u,f)}return this},off:function(s,u,f){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var x in s)this._off(x,s[x],u);else{s=O(s);for(var S=arguments.length===1,A=0,N=s.length;A<N;A++)S?this._off(s[A]):this._off(s[A],u,f)}return this},_on:function(s,u,f,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,f)===!1){f===this&&(f=void 0);var S={fn:u,ctx:f};x&&(S.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(S)}},_off:function(s,u,f){var x,S,A;if(this._events&&(x=this._events[s],!!x)){if(arguments.length===1){if(this._firingCount)for(S=0,A=x.length;S<A;S++)x[S].fn=w;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var N=this._listens(s,u,f);if(N!==!1){var q=x[N];this._firingCount&&(q.fn=w,this._events[s]=x=x.slice()),x.splice(N,1)}}},fire:function(s,u,f){if(!this.listens(s,f))return this;var x=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[s];if(S){this._firingCount=this._firingCount+1||1;for(var A=0,N=S.length;A<N;A++){var q=S[A],K=q.fn;q.once&&this.off(s,K,q.ctx),K.call(q.ctx||this,x)}this._firingCount--}}return f&&this._propagateEvent(x),this},listens:function(s,u,f,x){typeof s!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(x=!!u,S=void 0,f=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,S,f)!==!1)return!0;if(x){for(var N in this._eventParents)if(this._eventParents[N].listens(s,u,f,x))return!0}return!1},_listens:function(s,u,f){if(!this._events)return!1;var x=this._events[s]||[];if(!u)return!!x.length;f===this&&(f=void 0);for(var S=0,A=x.length;S<A;S++)if(x[S].fn===u&&x[S].ctx===f)return S;return!1},once:function(s,u,f){if(typeof s=="object")for(var x in s)this._on(x,s[x],u,!0);else{s=O(s);for(var S=0,A=s.length;S<A;S++)this._on(s[S],u,f,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[g(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[g(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var it=It.extend($);function et(s,u,f){this.x=f?Math.round(s):s,this.y=f?Math.round(u):u}var Lt=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};et.prototype={clone:function(){return new et(this.x,this.y)},add:function(s){return this.clone()._add(pt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(pt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new et(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new et(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Lt(this.x),this.y=Lt(this.y),this},distanceTo:function(s){s=pt(s);var u=s.x-this.x,f=s.y-this.y;return Math.sqrt(u*u+f*f)},equals:function(s){return s=pt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=pt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function pt(s,u,f){return s instanceof et?s:D(s)?new et(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new et(s.x,s.y):new et(s,u,f)}function P(s,u){if(s)for(var f=u?[s,u]:s,x=0,S=f.length;x<S;x++)this.extend(f[x])}P.prototype={extend:function(s){var u,f;if(!s)return this;if(s instanceof et||typeof s[0]=="number"||"x"in s)u=f=pt(s);else if(s=X(s),u=s.min,f=s.max,!u||!f)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=f.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(s){return pt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return pt(this.min.x,this.max.y)},getTopRight:function(){return pt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,f;return typeof s[0]=="number"||s instanceof et?s=pt(s):s=X(s),s instanceof P?(u=s.min,f=s.max):u=f=s,u.x>=this.min.x&&f.x<=this.max.x&&u.y>=this.min.y&&f.y<=this.max.y},intersects:function(s){s=X(s);var u=this.min,f=this.max,x=s.min,S=s.max,A=S.x>=u.x&&x.x<=f.x,N=S.y>=u.y&&x.y<=f.y;return A&&N},overlaps:function(s){s=X(s);var u=this.min,f=this.max,x=s.min,S=s.max,A=S.x>u.x&&x.x<f.x,N=S.y>u.y&&x.y<f.y;return A&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,f=this.max,x=Math.abs(u.x-f.x)*s,S=Math.abs(u.y-f.y)*s;return X(pt(u.x-x,u.y-S),pt(f.x+x,f.y+S))},equals:function(s){return s?(s=X(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function X(s,u){return!s||s instanceof P?s:new P(s,u)}function ct(s,u){if(s)for(var f=u?[s,u]:s,x=0,S=f.length;x<S;x++)this.extend(f[x])}ct.prototype={extend:function(s){var u=this._southWest,f=this._northEast,x,S;if(s instanceof mt)x=s,S=s;else if(s instanceof ct){if(x=s._southWest,S=s._northEast,!x||!S)return this}else return s?this.extend(gt(s)||at(s)):this;return!u&&!f?(this._southWest=new mt(x.lat,x.lng),this._northEast=new mt(S.lat,S.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),f.lat=Math.max(S.lat,f.lat),f.lng=Math.max(S.lng,f.lng)),this},pad:function(s){var u=this._southWest,f=this._northEast,x=Math.abs(u.lat-f.lat)*s,S=Math.abs(u.lng-f.lng)*s;return new ct(new mt(u.lat-x,u.lng-S),new mt(f.lat+x,f.lng+S))},getCenter:function(){return new mt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new mt(this.getNorth(),this.getWest())},getSouthEast:function(){return new mt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof mt||"lat"in s?s=gt(s):s=at(s);var u=this._southWest,f=this._northEast,x,S;return s instanceof ct?(x=s.getSouthWest(),S=s.getNorthEast()):x=S=s,x.lat>=u.lat&&S.lat<=f.lat&&x.lng>=u.lng&&S.lng<=f.lng},intersects:function(s){s=at(s);var u=this._southWest,f=this._northEast,x=s.getSouthWest(),S=s.getNorthEast(),A=S.lat>=u.lat&&x.lat<=f.lat,N=S.lng>=u.lng&&x.lng<=f.lng;return A&&N},overlaps:function(s){s=at(s);var u=this._southWest,f=this._northEast,x=s.getSouthWest(),S=s.getNorthEast(),A=S.lat>u.lat&&x.lat<f.lat,N=S.lng>u.lng&&x.lng<f.lng;return A&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=at(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function at(s,u){return s instanceof ct?s:new ct(s,u)}function mt(s,u,f){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,f!==void 0&&(this.alt=+f)}mt.prototype={equals:function(s,u){if(!s)return!1;s=gt(s);var f=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return f<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+T(this.lat,s)+", "+T(this.lng,s)+")"},distanceTo:function(s){return Qt.distance(this,gt(s))},wrap:function(){return Qt.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,f=u/Math.cos(Math.PI/180*this.lat);return at([this.lat-u,this.lng-f],[this.lat+u,this.lng+f])},clone:function(){return new mt(this.lat,this.lng,this.alt)}};function gt(s,u,f){return s instanceof mt?s:D(s)&&typeof s[0]!="object"?s.length===3?new mt(s[0],s[1],s[2]):s.length===2?new mt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new mt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new mt(s,u,f)}var Rt={latLngToPoint:function(s,u){var f=this.projection.project(s),x=this.scale(u);return this.transformation._transform(f,x)},pointToLatLng:function(s,u){var f=this.scale(u),x=this.transformation.untransform(s,f);return this.projection.unproject(x)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,f=this.scale(s),x=this.transformation.transform(u.min,f),S=this.transformation.transform(u.max,f);return new P(x,S)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?b(s.lng,this.wrapLng,!0):s.lng,f=this.wrapLat?b(s.lat,this.wrapLat,!0):s.lat,x=s.alt;return new mt(f,u,x)},wrapLatLngBounds:function(s){var u=s.getCenter(),f=this.wrapLatLng(u),x=u.lat-f.lat,S=u.lng-f.lng;if(x===0&&S===0)return s;var A=s.getSouthWest(),N=s.getNorthEast(),q=new mt(A.lat-x,A.lng-S),K=new mt(N.lat-x,N.lng-S);return new ct(q,K)}},Qt=l({},Rt,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var f=Math.PI/180,x=s.lat*f,S=u.lat*f,A=Math.sin((u.lat-s.lat)*f/2),N=Math.sin((u.lng-s.lng)*f/2),q=A*A+Math.cos(x)*Math.cos(S)*N*N,K=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*K}}),de=6378137,Bi={R:de,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,f=this.MAX_LATITUDE,x=Math.max(Math.min(f,s.lat),-f),S=Math.sin(x*u);return new et(this.R*s.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(s){var u=180/Math.PI;return new mt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=de*Math.PI;return new P([-s,-s],[s,s])})()};function yr(s,u,f,x){if(D(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=f,this._d=x}yr.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new et((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Ni(s,u,f,x){return new yr(s,u,f,x)}var ya=l({},Qt,{code:"EPSG:3857",projection:Bi,transformation:(function(){var s=.5/(Math.PI*Bi.R);return Ni(s,.5,-s,.5)})()}),Ui=l({},ya,{code:"EPSG:900913"});function va(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function _a(s,u){var f="",x,S,A,N,q,K;for(x=0,A=s.length;x<A;x++){for(q=s[x],S=0,N=q.length;S<N;S++)K=q[S],f+=(S?"L":"M")+K.x+" "+K.y;f+=u?wt.svg?"z":"x":""}return f||"M0 0"}var No=document.documentElement.style,hs="ActiveXObject"in window,Uo=hs&&!document.addEventListener,xa="msLaunchUri"in navigator&&!("documentMode"in document),ds=fn("webkit"),Ru=fn("android"),ku=fn("android 2")||fn("android 3"),on=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ud=Ru&&fn("Google")&&on<537&&!("AudioNode"in window),ba=!!window.opera,Io=!xa&&fn("chrome"),fs=fn("gecko")&&!ds&&!ba&&!hs,cd=!Io&&fn("safari"),Vo=fn("phantom"),Ou="OTransition"in No,hd=navigator.platform.indexOf("Win")===0,vr=hs&&"transition"in No,Ze="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ku,ei="MozPerspective"in No,ln=!window.L_DISABLE_3D&&(vr||Ze||ei)&&!Ou&&!Vo,ps=typeof orientation<"u"||fn("mobile"),dd=ps&&ds,fd=ps&&Ze,ms=!window.PointerEvent&&window.MSPointerEvent,gs=!!(window.PointerEvent||ms),ys="ontouchstart"in window||!!window.TouchEvent,Ii=!window.L_NO_TOUCH&&(ys||gs),wa=ps&&ba,vs=ps&&fs,pd=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mu=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return s})(),Ho=(function(){return!!document.createElement("canvas").getContext})(),Vi=!!(document.createElementNS&&va("svg").createSVGRect),md=!!Vi&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Lu=!Vi&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Pu=navigator.platform.indexOf("Mac")===0,Du=navigator.platform.indexOf("Linux")===0;function fn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var wt={ie:hs,ielt9:Uo,edge:xa,webkit:ds,android:Ru,android23:ku,androidStock:ud,opera:ba,chrome:Io,gecko:fs,safari:cd,phantom:Vo,opera12:Ou,win:hd,ie3d:vr,webkit3d:Ze,gecko3d:ei,any3d:ln,mobile:ps,mobileWebkit:dd,mobileWebkit3d:fd,msPointer:ms,pointer:gs,touch:Ii,touchNative:ys,mobileOpera:wa,mobileGecko:vs,retina:pd,passiveEvents:Mu,canvas:Ho,svg:Vi,vml:Lu,inlineSvg:md,mac:Pu,linux:Du},qo=wt.msPointer?"MSPointerDown":"pointerdown",Fo=wt.msPointer?"MSPointerMove":"pointermove",ni=wt.msPointer?"MSPointerUp":"pointerup",Re=wt.msPointer?"MSPointerCancel":"pointercancel",qe={touchstart:qo,touchmove:Fo,touchend:ni,touchcancel:Re},Hi={touchstart:xr,touchmove:_i,touchend:_i,touchcancel:_i},vi={},zu=!1;function gd(s,u,f){return u==="touchstart"&&_r(),Hi[u]?(f=Hi[u].bind(this,f),s.addEventListener(qe[u],f,!1),f):(console.warn("wrong event specified:",u),w)}function Bu(s,u,f){if(!qe[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(qe[u],f,!1)}function _s(s){vi[s.pointerId]=s}function $o(s){vi[s.pointerId]&&(vi[s.pointerId]=s)}function qi(s){delete vi[s.pointerId]}function _r(){zu||(document.addEventListener(qo,_s,!0),document.addEventListener(Fo,$o,!0),document.addEventListener(ni,qi,!0),document.addEventListener(Re,qi,!0),zu=!0)}function _i(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var f in vi)u.touches.push(vi[f]);u.changedTouches=[u],s(u)}}function xr(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&be(u),_i(s,u)}function ke(s){var u={},f,x;for(x in s)f=s[x],u[x]=f&&f.bind?f.bind(s):f;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Nu=200;function Uu(s,u){s.addEventListener("dblclick",u);var f=0,x;function S(A){if(A.detail!==1){x=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var N=Cs(A);if(!(N.some(function(K){return K instanceof HTMLLabelElement&&K.attributes.for})&&!N.some(function(K){return K instanceof HTMLInputElement||K instanceof HTMLSelectElement}))){var q=Date.now();q-f<=Nu?(x++,x===2&&u(ke(A))):x=1,f=q}}}return s.addEventListener("click",S),{dblclick:u,simDblclick:S}}function Fi(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var xi=ws(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xs=ws(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wo=xs==="webkitTransition"||xs==="OTransition"?xs+"End":"transitionend";function Zo(s){return typeof s=="string"?document.getElementById(s):s}function bs(s,u){var f=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!f||f==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(s,null);f=x?x[u]:null}return f==="auto"?null:f}function Vt(s,u,f){var x=document.createElement(s);return x.className=u||"",f&&f.appendChild(x),x}function ie(s){var u=s.parentNode;u&&u.removeChild(s)}function pn(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ne(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function $i(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Go(s,u){if(s.classList!==void 0)return s.classList.contains(u);var f=Sa(s);return f.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(f)}function Pt(s,u){if(s.classList!==void 0)for(var f=O(u),x=0,S=f.length;x<S;x++)s.classList.add(f[x]);else if(!Go(s,u)){var A=Sa(s);br(s,(A?A+" ":"")+u)}}function fe(s,u){s.classList!==void 0?s.classList.remove(u):br(s,C((" "+Sa(s)+" ").replace(" "+u+" "," ")))}function br(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Sa(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function ce(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Ko(s,u)}function Ko(s,u){var f=!1,x="DXImageTransform.Microsoft.Alpha";try{f=s.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),f?(f.Enabled=u!==100,f.Opacity=u):s.style.filter+=" progid:"+x+"(opacity="+u+")"}function ws(s){for(var u=document.documentElement.style,f=0;f<s.length;f++)if(s[f]in u)return s[f];return!1}function ii(s,u,f){var x=u||new et(0,0);s.style[xi]=(wt.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(f?" scale("+f+")":"")}function oe(s,u){s._leaflet_pos=u,wt.any3d?ii(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function bi(s){return s._leaflet_pos||new et(0,0)}var wr,Un,Yo;if("onselectstart"in document)wr=function(){kt(window,"selectstart",be)},Un=function(){te(window,"selectstart",be)};else{var Sr=ws(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);wr=function(){if(Sr){var s=document.documentElement.style;Yo=s[Sr],s[Sr]="none"}},Un=function(){Sr&&(document.documentElement.style[Sr]=Yo,Yo=void 0)}}function Ta(){kt(window,"dragstart",be)}function Ss(){te(window,"dragstart",be)}var Ea,Xo;function Tr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(mn(),Ea=s,Xo=s.style.outlineStyle,s.style.outlineStyle="none",kt(window,"keydown",mn))}function mn(){Ea&&(Ea.style.outlineStyle=Xo,Ea=void 0,Xo=void 0,te(window,"keydown",mn))}function Ca(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ts(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var Er={__proto__:null,TRANSFORM:xi,TRANSITION:xs,TRANSITION_END:Wo,get:Zo,getStyle:bs,create:Vt,remove:ie,empty:pn,toFront:Ne,toBack:$i,hasClass:Go,addClass:Pt,removeClass:fe,setClass:br,getClass:Sa,setOpacity:ce,testProp:ws,setTransform:ii,setPosition:oe,getPosition:bi,get disableTextSelection(){return wr},get enableTextSelection(){return Un},disableImageDrag:Ta,enableImageDrag:Ss,preventOutline:Tr,restoreOutline:mn,getSizedParentNode:Ca,getScale:Ts};function kt(s,u,f,x){if(u&&typeof u=="object")for(var S in u)Rn(s,S,u[S],f);else{u=O(u);for(var A=0,N=u.length;A<N;A++)Rn(s,u[A],f,x)}return this}var jn="_leaflet_events";function te(s,u,f,x){if(arguments.length===1)Jo(s),delete s[jn];else if(u&&typeof u=="object")for(var S in u)Es(s,S,u[S],f);else if(u=O(u),arguments.length===2)Jo(s,function(q){return V(u,q)!==-1});else for(var A=0,N=u.length;A<N;A++)Es(s,u[A],f,x);return this}function Jo(s,u){for(var f in s[jn]){var x=f.split(/\d/)[0];(!u||u(x))&&Es(s,x,null,null,f)}}var Wi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rn(s,u,f,x){var S=u+g(f)+(x?"_"+g(x):"");if(s[jn]&&s[jn][S])return this;var A=function(q){return f.call(x||s,q||window.event)},N=A;!wt.touchNative&&wt.pointer&&u.indexOf("touch")===0?A=gd(s,u,A):wt.touch&&u==="dblclick"?A=Uu(s,A):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Wi[u]||u,A,wt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(q){q=q||window.event,ri(s,q)&&N(q)},s.addEventListener(Wi[u],A,!1)):s.addEventListener(u,N,!1):s.attachEvent("on"+u,A),s[jn]=s[jn]||{},s[jn][S]=A}function Es(s,u,f,x,S){S=S||u+g(f)+(x?"_"+g(x):"");var A=s[jn]&&s[jn][S];if(!A)return this;!wt.touchNative&&wt.pointer&&u.indexOf("touch")===0?Bu(s,u,A):wt.touch&&u==="dblclick"?Fi(s,A):"removeEventListener"in s?s.removeEventListener(Wi[u]||u,A,!1):s.detachEvent("on"+u,A),s[jn][S]=null}function kn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function In(s){return Rn(s,"wheel",kn),this}function Zi(s){return kt(s,"mousedown touchstart dblclick contextmenu",kn),s._leaflet_disable_click=!0,this}function be(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function wi(s){return be(s),kn(s),this}function Cs(s){if(s.composedPath)return s.composedPath();for(var u=[],f=s.target;f;)u.push(f),f=f.parentNode;return u}function As(s,u){if(!u)return new et(s.clientX,s.clientY);var f=Ts(u),x=f.boundingClientRect;return new et((s.clientX-x.left)/f.x-u.clientLeft,(s.clientY-x.top)/f.y-u.clientTop)}var Iu=wt.linux&&wt.chrome?window.devicePixelRatio:wt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ge(s){return wt.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Iu:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ri(s,u){var f=u.relatedTarget;if(!f)return!0;try{for(;f&&f!==s;)f=f.parentNode}catch{return!1}return f!==s}var Aa={__proto__:null,on:kt,off:te,stopPropagation:kn,disableScrollPropagation:In,disableClickPropagation:Zi,preventDefault:be,stop:wi,getPropagationPath:Cs,getMousePosition:As,getWheelDelta:Ge,isExternalTarget:ri,addListener:kt,removeListener:te},Cr=it.extend({run:function(s,u,f,x){this.stop(),this._el=s,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=bi(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ht(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,f=this._duration*1e3;u<f?this._runFrame(this._easeOut(u/f),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var f=this._startPos.add(this._offset.multiplyBy(s));u&&f._round(),oe(this._el,f),this.fire("step")},_complete:function(){ot(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),$t=it.extend({options:{crs:ya,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=R(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(gt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=xs&&wt.any3d&&!wt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),kt(this._proxy,Wo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,f){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(gt(s),u,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=l({animate:f.animate},f.zoom),f.pan=l({animate:f.animate,duration:f.duration},f.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,f.zoom):this._tryAnimatedPan(s,f.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,f.pan&&f.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(wt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(wt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,f){var x=this.getZoomScale(u),S=this.getSize().divideBy(2),A=s instanceof et?s:this.latLngToContainerPoint(s),N=A.subtract(S).multiplyBy(1-1/x),q=this.containerPointToLatLng(S.add(N));return this.setView(q,u,{zoom:f})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():at(s);var f=pt(u.paddingTopLeft||u.padding||[0,0]),x=pt(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(s,!1,f.add(x));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:s.getCenter(),zoom:S};var A=x.subtract(f).divideBy(2),N=this.project(s.getSouthWest(),S),q=this.project(s.getNorthEast(),S),K=this.unproject(N.add(q).divideBy(2).add(A),S);return{center:K,zoom:S}},fitBounds:function(s,u){if(s=at(s),!s.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(s,u);return this.setView(f.center,f.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=pt(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,f,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,f){if(f=f||{},f.animate===!1||!wt.any3d)return this.setView(s,u,f);this._stop();var x=this.project(this.getCenter()),S=this.project(s),A=this.getSize(),N=this._zoom;s=gt(s),u=u===void 0?N:u;var q=Math.max(A.x,A.y),K=q*this.getZoomScale(N,u),rt=S.distanceTo(x)||1,yt=1.42,Tt=yt*yt;function Bt(ve){var li=ve?-1:1,Xi=ve?K:q,fl=K*K-q*q+li*Tt*Tt*rt*rt,qs=2*Xi*Tt*rt,Fs=fl/qs,Oi=Math.sqrt(Fs*Fs+1)-Fs,ui=Oi<1e-9?-18:Math.log(Oi);return ui}function Ue(ve){return(Math.exp(ve)-Math.exp(-ve))/2}function we(ve){return(Math.exp(ve)+Math.exp(-ve))/2}function cn(ve){return Ue(ve)/we(ve)}var Gt=Bt(0);function Kt(ve){return q*(we(Gt)/we(Gt+yt*ve))}function Ht(ve){return q*(we(Gt)*cn(Gt+yt*ve)-Ue(Gt))/Tt}function Ri(ve){return 1-Math.pow(1-ve,1.5)}var _n=Date.now(),Va=(Bt(1)-Gt)/yt,ki=f.duration?1e3*f.duration:1e3*Va*.8;function dl(){var ve=(Date.now()-_n)/ki,li=Ri(ve)*Va;ve<=1?(this._flyToFrame=ht(dl,this),this._move(this.unproject(x.add(S.subtract(x).multiplyBy(Ht(li)/rt)),N),this.getScaleZoom(q/Kt(li),N),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),dl.call(this),this},flyToBounds:function(s,u){var f=this._getBoundsCenterZoom(s,u);return this.flyTo(f.center,f.zoom,u)},setMaxBounds:function(s){return s=at(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var f=this.getCenter(),x=this._limitCenter(f,this._zoom,at(s));return f.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var f=pt(u.paddingTopLeft||u.padding||[0,0]),x=pt(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),A=this.project(s),N=this.getPixelBounds(),q=X([N.min.add(f),N.max.subtract(x)]),K=q.getSize();if(!q.contains(A)){this._enforcingBounds=!0;var rt=A.subtract(q.getCenter()),yt=q.extend(A).getSize().subtract(K);S.x+=rt.x<0?-yt.x:yt.x,S.y+=rt.y<0?-yt.y:yt.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),x=u.divideBy(2).round(),S=f.divideBy(2).round(),A=x.subtract(S);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),f=d(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,f,s):navigator.geolocation.getCurrentPosition(u,f,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,f=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,f=s.coords.longitude,x=new mt(u,f),S=x.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var N=this.getBoundsZoom(S);this.setView(x,A.maxZoom?Math.min(N,A.maxZoom):N)}var q={latlng:x,bounds:S,timestamp:s.timestamp};for(var K in s.coords)typeof s.coords[K]=="number"&&(q[K]=s.coords[K]);this.fire("locationfound",q)}},addHandler:function(s,u){if(!u)return this;var f=this[s]=new u(this);return this._handlers.push(f),this.options[s]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ie(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ot(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)ie(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var f="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),x=Vt("div",f,u||this._mapPane);return s&&(this._panes[s]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),f=this.unproject(s.getTopRight());return new ct(u,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,f){s=at(s),f=pt(f||[0,0]);var x=this.getZoom()||0,S=this.getMinZoom(),A=this.getMaxZoom(),N=s.getNorthWest(),q=s.getSouthEast(),K=this.getSize().subtract(f),rt=X(this.project(q,x),this.project(N,x)).getSize(),yt=wt.any3d?this.options.zoomSnap:1,Tt=K.x/rt.x,Bt=K.y/rt.y,Ue=u?Math.max(Tt,Bt):Math.min(Tt,Bt);return x=this.getScaleZoom(Ue,x),yt&&(x=Math.round(x/(yt/100))*(yt/100),x=u?Math.ceil(x/yt)*yt:Math.floor(x/yt)*yt),Math.max(S,Math.min(A,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new et(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var f=this._getTopLeftPoint(s,u);return new P(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var f=this.options.crs;return u=u===void 0?this._zoom:u,f.scale(s)/f.scale(u)},getScaleZoom:function(s,u){var f=this.options.crs;u=u===void 0?this._zoom:u;var x=f.zoom(s*f.scale(u));return isNaN(x)?1/0:x},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(gt(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(pt(s),u)},layerPointToLatLng:function(s){var u=pt(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(gt(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(gt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(at(s))},distance:function(s,u){return this.options.crs.distance(gt(s),gt(u))},containerPointToLayerPoint:function(s){return pt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return pt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(pt(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(gt(s)))},mouseEventToContainerPoint:function(s){return As(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Zo(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");kt(u,"scroll",this._onScroll,this),this._containerId=g(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&wt.any3d,Pt(s,"leaflet-container"+(wt.touch?" leaflet-touch":"")+(wt.retina?" leaflet-retina":"")+(wt.ielt9?" leaflet-oldie":"")+(wt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=bs(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),oe(this._mapPane,new et(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(s.markerPane,"leaflet-zoom-hide"),Pt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,f){oe(this._mapPane,new et(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,f)._move(s,u)._moveEnd(S),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,f,x){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),x?f&&f.pinch&&this.fire("zoom",f):((S||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ot(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){oe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[g(this._container)]=this;var u=s?te:kt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),wt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ot(this._resizeRequest),this._resizeRequest=ht(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var f=[],x,S=u==="mouseout"||u==="mouseover",A=s.target||s.srcElement,N=!1;A;){if(x=this._targets[g(A)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){N=!0;break}if(x&&x.listens(u,!0)&&(S&&!ri(A,s)||(f.push(x),S))||A===this._container)break;A=A.parentNode}return!f.length&&!N&&!S&&this.listens(u,!0)&&(f=[this]),f},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var f=s.type;f==="mousedown"&&Tr(u),this._fireDOMEvent(s,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,f){if(s.type==="click"){var x=l({},s);x.type="preclick",this._fireDOMEvent(x,x.type,f)}var S=this._findEventTargets(s,u);if(f){for(var A=[],N=0;N<f.length;N++)f[N].listens(u,!0)&&A.push(f[N]);S=A.concat(S)}if(S.length){u==="contextmenu"&&be(s);var q=S[0],K={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var rt=q.getLatLng&&(!q._radius||q._radius<=10);K.containerPoint=rt?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(s),K.layerPoint=this.containerPointToLayerPoint(K.containerPoint),K.latlng=rt?q.getLatLng():this.layerPointToLatLng(K.layerPoint)}for(N=0;N<S.length;N++)if(S[N].fire(u,K,!0),K.originalEvent._stopped||S[N].options.bubblingMouseEvents===!1&&V(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return bi(this._mapPane)||new et(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var f=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var f=this.getSize()._divideBy(2);return this.project(s,u)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,f){var x=this._getNewPixelOrigin(f,u);return this.project(s,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(s,u,f){var x=this._getNewPixelOrigin(f,u);return X([this.project(s.getSouthWest(),u)._subtract(x),this.project(s.getNorthWest(),u)._subtract(x),this.project(s.getSouthEast(),u)._subtract(x),this.project(s.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,f){if(!f)return s;var x=this.project(s,u),S=this.getSize().divideBy(2),A=new P(x.subtract(S),x.add(S)),N=this._getBoundsOffset(A,f,u);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?s:this.unproject(x.add(N),u)},_limitOffset:function(s,u){if(!u)return s;var f=this.getPixelBounds(),x=new P(f.min.add(s),f.max.add(s));return s.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(s,u,f){var x=X(this.project(u.getNorthEast(),f),this.project(u.getSouthWest(),f)),S=x.min.subtract(s.min),A=x.max.subtract(s.max),N=this._rebound(S.x,-A.x),q=this._rebound(S.y,-A.y);return new et(N,q)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),f=this.getMaxZoom(),x=wt.any3d?this.options.zoomSnap:1;return x&&(s=Math.round(s/x)*x),Math.max(u,Math.min(f,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var f=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,u),!0)},_createAnimProxy:function(){var s=this._proxy=Vt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var f=xi,x=this._proxy.style[f];ii(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ie(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();ii(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),S=this._getCenterOffset(s)._divideBy(1-1/x);return f.animate!==!0&&!this.getSize().contains(S)?!1:(ht(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,f,x){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qo(s,u){return new $t(s,u)}var un=It.extend({options:{position:"topright"},initialize:function(s){R(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),f=this.getPosition(),x=s._controlCorners[f];return Pt(u,"leaflet-control"),f.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ie(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),si=function(s){return new un(s)};$t.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",f=this._controlContainer=Vt("div",u+"control-container",this._container);function x(S,A){var N=u+S+" "+u+A;s[S+A]=Vt("div",N,f)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ie(this._controlCorners[s]);ie(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var js=un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,f,x){return f<x?-1:x<f?1:0}},initialize:function(s,u,f){R(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in s)this._addLayer(s[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return un.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(g(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Vt("div",s),f=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Zi(u),In(u);var x=this._section=Vt("section",s+"-list");f&&(this._map.on("click",this.collapse,this),kt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Vt("a",s+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),kt(S,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){be(A),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Vt("div",s+"-base",x),this._separator=Vt("div",s+"-separator",x),this._overlaysList=Vt("div",s+"-overlays",x),u.appendChild(x)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&g(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,f){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:f}),this.options.sortLayers&&this._layers.sort(d(function(x,S){return this.options.sortFunction(x.layer,S.layer,x.name,S.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pn(this._baseLayersList),pn(this._overlaysList),this._layerControlInputs=[];var s,u,f,x,S=0;for(f=0;f<this._layers.length;f++)x=this._layers[f],this._addItem(x),u=u||x.overlay,s=s||!x.overlay,S+=x.overlay?0:1;return this.options.hideSingleBase&&(s=s&&S>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(g(s.target)),f=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;f&&this._map.fire(f,u)},_createRadioElement:function(s,u){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=f,x.firstChild},_addItem:function(s){var u=document.createElement("label"),f=this._map.hasLayer(s.layer),x;s.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=f):x=this._createRadioElement("leaflet-base-layers_"+g(this),f),this._layerControlInputs.push(x),x.layerId=g(s.layer),kt(x,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+s.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(x),A.appendChild(S);var N=s.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,f,x=[],S=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)u=s[A],f=this._getLayer(u.layerId).layer,u.checked?x.push(f):u.checked||S.push(f);for(A=0;A<S.length;A++)this._map.hasLayer(S[A])&&this._map.removeLayer(S[A]);for(A=0;A<x.length;A++)this._map.hasLayer(x[A])||this._map.addLayer(x[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,f,x=this._map.getZoom(),S=s.length-1;S>=0;S--)u=s[S],f=this._getLayer(u.layerId).layer,u.disabled=f.options.minZoom!==void 0&&x<f.options.minZoom||f.options.maxZoom!==void 0&&x>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,kt(s,"click",be),this.expand();var u=this;setTimeout(function(){te(s,"click",be),u._preventClick=!1})}}),Vu=function(s,u,f){return new js(s,u,f)},tl=un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",f=Vt("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",f,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,f,x,S){var A=Vt("a",f,x);return A.innerHTML=s,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),Zi(A),kt(A,"click",wi),kt(A,"click",S,this),kt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";fe(this._zoomInButton,u),fe(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Pt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Pt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new tl,this.addControl(this.zoomControl))});var yd=function(s){return new tl(s)},Hu=un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",f=Vt("div",u),x=this.options;return this._addScales(x,u+"-line",f),s.on(x.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),f},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,f){s.metric&&(this._mScale=Vt("div",u,f)),s.imperial&&(this._iScale=Vt("div",u,f))},_update:function(){var s=this._map,u=s.getSize().y/2,f=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(f)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),f=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,f,u/s)},_updateImperial:function(s){var u=s*3.2808399,f,x,S;u>5280?(f=u/5280,x=this._getRoundNum(f),this._updateScale(this._iScale,x+" mi",x/f)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(s,u,f){s.style.width=Math.round(this.options.maxWidth*f)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),f=s/u;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,u*f}}),el=function(s){return new Hu(s)},vd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',nl=un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(wt.inlineSvg?vd+" ":"")+"Leaflet</a>"},initialize:function(s){R(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Vt("div","leaflet-control-attribution"),Zi(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var f=[];this.options.prefix&&f.push(this.options.prefix),s.length&&f.push(s.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new nl().addTo(this)});var _d=function(s){return new nl(s)};un.Layers=js,un.Zoom=tl,un.Scale=Hu,un.Attribution=nl,si.layers=Vu,si.zoom=yd,si.scale=el,si.attribution=_d;var Vn=It.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vn.addTo=function(s,u){return s.addHandler(u,this),this};var xd={Events:$},il=wt.touch?"touchstart mousedown":"mousedown",Si=it.extend({options:{clickTolerance:3},initialize:function(s,u,f,x){R(this,x),this._element=s,this._dragStartTarget=u||s,this._preventOutline=f},enable:function(){this._enabled||(kt(this._dragStartTarget,il,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Si._dragging===this&&this.finishDrag(!0),te(this._dragStartTarget,il,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Go(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Si._dragging===this&&this.finishDrag();return}if(!(Si._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Si._dragging=this,this._preventOutline&&Tr(this._element),Ta(),wr(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,f=Ca(this._element);this._startPoint=new et(u.clientX,u.clientY),this._startPos=bi(this._element),this._parentScale=Ts(f);var x=s.type==="mousedown";kt(document,x?"mousemove":"touchmove",this._onMove,this),kt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,f=new et(u.clientX,u.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,be(s),this._moved||(this.fire("dragstart"),this._moved=!0,Pt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),oe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){fe(document.body,"leaflet-dragging"),this._lastTarget&&(fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),te(document,"mousemove touchmove",this._onMove,this),te(document,"mouseup touchend touchcancel",this._onUp,this),Ss(),Un();var u=this._moved&&this._moving;this._moving=!1,Si._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function qu(s,u,f){var x,S=[1,4,2,8],A,N,q,K,rt,yt,Tt,Bt;for(A=0,yt=s.length;A<yt;A++)s[A]._code=Gi(s[A],u);for(q=0;q<4;q++){for(Tt=S[q],x=[],A=0,yt=s.length,N=yt-1;A<yt;N=A++)K=s[A],rt=s[N],K._code&Tt?rt._code&Tt||(Bt=ja(rt,K,Tt,u,f),Bt._code=Gi(Bt,u),x.push(Bt)):(rt._code&Tt&&(Bt=ja(rt,K,Tt,u,f),Bt._code=Gi(Bt,u),x.push(Bt)),x.push(K));s=x}return s}function Fu(s,u){var f,x,S,A,N,q,K,rt,yt;if(!s||s.length===0)throw new Error("latlngs not passed");gn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Tt=gt([0,0]),Bt=at(s),Ue=Bt.getNorthWest().distanceTo(Bt.getSouthWest())*Bt.getNorthEast().distanceTo(Bt.getNorthWest());Ue<1700&&(Tt=rl(s));var we=s.length,cn=[];for(f=0;f<we;f++){var Gt=gt(s[f]);cn.push(u.project(gt([Gt.lat-Tt.lat,Gt.lng-Tt.lng])))}for(q=K=rt=0,f=0,x=we-1;f<we;x=f++)S=cn[f],A=cn[x],N=S.y*A.x-A.y*S.x,K+=(S.x+A.x)*N,rt+=(S.y+A.y)*N,q+=N*3;q===0?yt=cn[0]:yt=[K/q,rt/q];var Kt=u.unproject(pt(yt));return gt([Kt.lat+Tt.lat,Kt.lng+Tt.lng])}function rl(s){for(var u=0,f=0,x=0,S=0;S<s.length;S++){var A=gt(s[S]);u+=A.lat,f+=A.lng,x++}return gt([u/x,f/x])}var sl={__proto__:null,clipPolygon:qu,polygonCenter:Fu,centroid:rl};function $u(s,u){if(!u||!s.length)return s.slice();var f=u*u;return s=wd(s,f),s=Zu(s,f),s}function Wu(s,u,f){return Math.sqrt(Rs(s,u,f,!0))}function bd(s,u,f){return Rs(s,u,f)}function Zu(s,u){var f=s.length,x=typeof Uint8Array<"u"?Uint8Array:Array,S=new x(f);S[0]=S[f-1]=1,al(s,S,u,0,f-1);var A,N=[];for(A=0;A<f;A++)S[A]&&N.push(s[A]);return N}function al(s,u,f,x,S){var A=0,N,q,K;for(q=x+1;q<=S-1;q++)K=Rs(s[q],s[x],s[S],!0),K>A&&(N=q,A=K);A>f&&(u[N]=1,al(s,u,f,x,N),al(s,u,f,N,S))}function wd(s,u){for(var f=[s[0]],x=1,S=0,A=s.length;x<A;x++)Sd(s[x],s[S])>u&&(f.push(s[x]),S=x);return S<A-1&&f.push(s[A-1]),f}var Gu;function Ku(s,u,f,x,S){var A=x?Gu:Gi(s,f),N=Gi(u,f),q,K,rt;for(Gu=N;;){if(!(A|N))return[s,u];if(A&N)return!1;q=A||N,K=ja(s,u,q,f,S),rt=Gi(K,f),q===A?(s=K,A=rt):(u=K,N=rt)}}function ja(s,u,f,x,S){var A=u.x-s.x,N=u.y-s.y,q=x.min,K=x.max,rt,yt;return f&8?(rt=s.x+A*(K.y-s.y)/N,yt=K.y):f&4?(rt=s.x+A*(q.y-s.y)/N,yt=q.y):f&2?(rt=K.x,yt=s.y+N*(K.x-s.x)/A):f&1&&(rt=q.x,yt=s.y+N*(q.x-s.x)/A),new et(rt,yt,S)}function Gi(s,u){var f=0;return s.x<u.min.x?f|=1:s.x>u.max.x&&(f|=2),s.y<u.min.y?f|=4:s.y>u.max.y&&(f|=8),f}function Sd(s,u){var f=u.x-s.x,x=u.y-s.y;return f*f+x*x}function Rs(s,u,f,x){var S=u.x,A=u.y,N=f.x-S,q=f.y-A,K=N*N+q*q,rt;return K>0&&(rt=((s.x-S)*N+(s.y-A)*q)/K,rt>1?(S=f.x,A=f.y):rt>0&&(S+=N*rt,A+=q*rt)),N=s.x-S,q=s.y-A,x?N*N+q*q:new et(S,A)}function gn(s){return!D(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Ra(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(s)}function Ar(s,u){var f,x,S,A,N,q,K,rt;if(!s||s.length===0)throw new Error("latlngs not passed");gn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var yt=gt([0,0]),Tt=at(s),Bt=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());Bt<1700&&(yt=rl(s));var Ue=s.length,we=[];for(f=0;f<Ue;f++){var cn=gt(s[f]);we.push(u.project(gt([cn.lat-yt.lat,cn.lng-yt.lng])))}for(f=0,x=0;f<Ue-1;f++)x+=we[f].distanceTo(we[f+1])/2;if(x===0)rt=we[0];else for(f=0,A=0;f<Ue-1;f++)if(N=we[f],q=we[f+1],S=N.distanceTo(q),A+=S,A>x){K=(A-x)/S,rt=[q.x-K*(q.x-N.x),q.y-K*(q.y-N.y)];break}var Gt=u.unproject(pt(rt));return gt([Gt.lat+yt.lat,Gt.lng+yt.lng])}var Td={__proto__:null,simplify:$u,pointToSegmentDistance:Wu,closestPointOnSegment:bd,clipSegment:Ku,_getEdgeIntersection:ja,_getBitCode:Gi,_sqClosestPointOnSegment:Rs,isFlat:gn,_flat:Ra,polylineCenter:Ar},ka={project:function(s){return new et(s.lng,s.lat)},unproject:function(s){return new mt(s.y,s.x)},bounds:new P([-180,-90],[180,90])},Oa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new P([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,f=this.R,x=s.lat*u,S=this.R_MINOR/f,A=Math.sqrt(1-S*S),N=A*Math.sin(x),q=Math.tan(Math.PI/4-x/2)/Math.pow((1-N)/(1+N),A/2);return x=-f*Math.log(Math.max(q,1e-10)),new et(s.lng*u*f,x)},unproject:function(s){for(var u=180/Math.PI,f=this.R,x=this.R_MINOR/f,S=Math.sqrt(1-x*x),A=Math.exp(-s.y/f),N=Math.PI/2-2*Math.atan(A),q=0,K=.1,rt;q<15&&Math.abs(K)>1e-7;q++)rt=S*Math.sin(N),rt=Math.pow((1-rt)/(1+rt),S/2),K=Math.PI/2-2*Math.atan(A*rt)-N,N+=K;return new mt(N*u,s.x*u/f)}},Yu={__proto__:null,LonLat:ka,Mercator:Oa,SphericalMercator:Bi},Xu=l({},Qt,{code:"EPSG:3395",projection:Oa,transformation:(function(){var s=.5/(Math.PI*Oa.R);return Ni(s,.5,-s,.5)})()}),ol=l({},Qt,{code:"EPSG:4326",projection:ka,transformation:Ni(1/180,1,-1/180,.5)}),jr=l({},Rt,{projection:ka,transformation:Ni(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var f=u.lng-s.lng,x=u.lat-s.lat;return Math.sqrt(f*f+x*x)},infinite:!0});Rt.Earth=Qt,Rt.EPSG3395=Xu,Rt.EPSG3857=ya,Rt.EPSG900913=Ui,Rt.EPSG4326=ol,Rt.Simple=jr;var On=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[g(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[g(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var f=this.getEvents();u.on(f,this),this.once("remove",function(){u.off(f,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=g(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=g(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return g(s)in this._layers},eachLayer:function(s,u){for(var f in this._layers)s.call(u,this._layers[f]);return this},_addLayers:function(s){s=s?D(s)?s:[s]:[];for(var u=0,f=s.length;u<f;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[g(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=g(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,f=this._getZoomSpan();for(var x in this._zoomBoundLayers){var S=this._zoomBoundLayers[x].options;s=S.minZoom===void 0?s:Math.min(s,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rr=On.extend({initialize:function(s,u){R(this,u),this._layers={};var f,x;if(s)for(f=0,x=s.length;f<x;f++)this.addLayer(s[f])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),f,x;for(f in this._layers)x=this._layers[f],x[s]&&x[s].apply(x,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var f in this._layers)s.call(u,this._layers[f]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return g(s)}}),Ed=function(s,u){return new Rr(s,u)},Hn=Rr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Rr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Rr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ct;for(var u in this._layers){var f=this._layers[u];s.extend(f.getBounds?f.getBounds():f.getLatLng())}return s}}),Ju=function(s,u){return new Hn(s,u)},qn=It.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){R(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var f=this._getIconUrl(s);if(!f){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(f,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(s,u){var f=this.options,x=f[u+"Size"];typeof x=="number"&&(x=[x,x]);var S=pt(x),A=pt(u==="shadow"&&f.shadowAnchor||f.iconAnchor||S&&S.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(f.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),S&&(s.style.width=S.x+"px",s.style.height=S.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return wt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ks(s){return new qn(s)}var Os=qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Os.imagePath!="string"&&(Os.imagePath=this._detectIconPath()),(this.options.imagePath||Os.imagePath)+qn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(f,x,S){var A=x.exec(f);return A&&A[S]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Vt("div","leaflet-default-icon-path",document.body),u=bs(s,"background-image")||bs(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Ms=Vn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Si(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,f=u._map,x=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,A=bi(u._icon),N=f.getPixelBounds(),q=f.getPixelOrigin(),K=X(N.min._subtract(q).add(S),N.max._subtract(q).subtract(S));if(!K.contains(A)){var rt=pt((Math.max(K.max.x,A.x)-K.max.x)/(N.max.x-K.max.x)-(Math.min(K.min.x,A.x)-K.min.x)/(N.min.x-K.min.x),(Math.max(K.max.y,A.y)-K.max.y)/(N.max.y-K.max.y)-(Math.min(K.min.y,A.y)-K.min.y)/(N.min.y-K.min.y)).multiplyBy(x);f.panBy(rt,{animate:!1}),this._draggable._newPos._add(rt),this._draggable._startPos._add(rt),oe(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ht(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ot(this._panRequest),this._panRequest=ht(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,f=u._shadow,x=bi(u._icon),S=u._map.layerPointToLatLng(x);f&&oe(f,x),u._latlng=S,s.latlng=S,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ot(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Ls=On.extend({options:{icon:new Os,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){R(this,u),this._latlng=gt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=gt(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=s.icon.createIcon(this._icon),x=!1;f!==this._icon&&(this._icon&&this._removeIcon(),x=!0,s.title&&(f.title=s.title),f.tagName==="IMG"&&(f.alt=s.alt||"")),Pt(f,u),s.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(f,"focus",this._panOnFocus,this);var S=s.icon.createShadow(this._shadow),A=!1;S!==this._shadow&&(this._removeShadow(),A=!0),S&&(Pt(S,u),S.alt=""),this._shadow=S,s.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&te(this._icon,"focus",this._panOnFocus,this),ie(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ie(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&oe(this._icon,s),this._shadow&&oe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ms)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ms(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&ce(this._icon,s),this._shadow&&ce(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,f=u.iconSize?pt(u.iconSize):pt(0,0),x=u.iconAnchor?pt(u.iconAnchor):pt(0,0);s.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:f.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qu(s,u){return new Ls(s,u)}var Fn=On.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return R(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),kr=Fn.extend({options:{fill:!0,radius:10},initialize:function(s,u){R(this,u),this._latlng=gt(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=gt(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Fn.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,f=this._clickTolerance(),x=[s+f,u+f];this._pxBounds=new P(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function tc(s,u){return new kr(s,u)}var Ma=kr.extend({initialize:function(s,u,f){if(typeof u=="number"&&(u=l({},f,{radius:u})),R(this,u),this._latlng=gt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ct(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Fn.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,f=this._map,x=f.options.crs;if(x.distance===Qt.distance){var S=Math.PI/180,A=this._mRadius/Qt.R/S,N=f.project([u+A,s]),q=f.project([u-A,s]),K=N.add(q).divideBy(2),rt=f.unproject(K).lat,yt=Math.acos((Math.cos(A*S)-Math.sin(u*S)*Math.sin(rt*S))/(Math.cos(u*S)*Math.cos(rt*S)))/S;(isNaN(yt)||yt===0)&&(yt=A/Math.cos(Math.PI/180*u)),this._point=K.subtract(f.getPixelOrigin()),this._radius=isNaN(yt)?0:K.x-f.project([rt,s-yt]).x,this._radiusY=K.y-N.y}else{var Tt=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Tt).x}this._updateBounds()}});function ec(s,u,f){return new Ma(s,u,f)}var ai=Fn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){R(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,f=null,x=Rs,S,A,N=0,q=this._parts.length;N<q;N++)for(var K=this._parts[N],rt=1,yt=K.length;rt<yt;rt++){S=K[rt-1],A=K[rt];var Tt=x(s,S,A,!0);Tt<u&&(u=Tt,f=x(s,S,A))}return f&&(f.distance=Math.sqrt(u)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ar(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=gt(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ct,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],f=gn(s),x=0,S=s.length;x<S;x++)f?(u[x]=gt(s[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(s[x]);return u},_project:function(){var s=new P;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new et(s,s);this._rawPxBounds&&(this._pxBounds=new P([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,f){var x=s[0]instanceof mt,S=s.length,A,N;if(x){for(N=[],A=0;A<S;A++)N[A]=this._map.latLngToLayerPoint(s[A]),f.extend(N[A]);u.push(N)}else for(A=0;A<S;A++)this._projectLatlngs(s[A],u,f)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,f,x,S,A,N,q,K;for(f=0,S=0,A=this._rings.length;f<A;f++)for(K=this._rings[f],x=0,N=K.length;x<N-1;x++)q=Ku(K[x],K[x+1],s,x,!0),q&&(u[S]=u[S]||[],u[S].push(q[0]),(q[1]!==K[x+1]||x===N-2)&&(u[S].push(q[1]),S++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,f=0,x=s.length;f<x;f++)s[f]=$u(s[f],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var f,x,S,A,N,q,K=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(f=0,A=this._parts.length;f<A;f++)for(q=this._parts[f],x=0,N=q.length,S=N-1;x<N;S=x++)if(!(!u&&x===0)&&Wu(s,q[S],q[x])<=K)return!0;return!1}});function Cd(s,u){return new ai(s,u)}ai._flat=Ra;var Or=ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=ai.prototype._convertLatLngs.call(this,s),f=u.length;return f>=2&&u[0]instanceof mt&&u[0].equals(u[f-1])&&u.pop(),u},_setLatLngs:function(s){ai.prototype._setLatLngs.call(this,s),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,f=new et(u,u);if(s=new P(s.min.subtract(f),s.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,S=this._rings.length,A;x<S;x++)A=qu(this._rings[x],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,f,x,S,A,N,q,K,rt;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,K=this._parts.length;A<K;A++)for(f=this._parts[A],N=0,rt=f.length,q=rt-1;N<rt;q=N++)x=f[N],S=f[q],x.y>s.y!=S.y>s.y&&s.x<(S.x-x.x)*(s.y-x.y)/(S.y-x.y)+x.x&&(u=!u);return u||ai.prototype._containsPoint.call(this,s,!0)}});function Ad(s,u){return new Or(s,u)}var oi=Hn.extend({initialize:function(s,u){R(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=D(s)?s:s.features,f,x,S;if(u){for(f=0,x=u.length;f<x;f++)S=u[f],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var N=Fe(s,A);return N?(N.feature=Da(s),N.defaultOptions=N.options,this.resetStyle(N),A.onEachFeature&&A.onEachFeature(s,N),this.addLayer(N)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function Fe(s,u){var f=s.type==="Feature"?s.geometry:s,x=f?f.coordinates:null,S=[],A=u&&u.pointToLayer,N=u&&u.coordsToLatLng||La,q,K,rt,yt;if(!x&&!f)return null;switch(f.type){case"Point":return q=N(x),Mr(A,s,q,u);case"MultiPoint":for(rt=0,yt=x.length;rt<yt;rt++)q=N(x[rt]),S.push(Mr(A,s,q,u));return new Hn(S);case"LineString":case"MultiLineString":return K=Ps(x,f.type==="LineString"?0:1,N),new ai(K,u);case"Polygon":case"MultiPolygon":return K=Ps(x,f.type==="Polygon"?1:2,N),new Or(K,u);case"GeometryCollection":for(rt=0,yt=f.geometries.length;rt<yt;rt++){var Tt=Fe({geometry:f.geometries[rt],type:"Feature",properties:s.properties},u);Tt&&S.push(Tt)}return new Hn(S);case"FeatureCollection":for(rt=0,yt=f.features.length;rt<yt;rt++){var Bt=Fe(f.features[rt],u);Bt&&S.push(Bt)}return new Hn(S);default:throw new Error("Invalid GeoJSON object.")}}function Mr(s,u,f,x){return s?s(u,f):new Ls(f,x&&x.markersInheritOptions&&x)}function La(s){return new mt(s[1],s[0],s[2])}function Ps(s,u,f){for(var x=[],S=0,A=s.length,N;S<A;S++)N=u?Ps(s[S],u-1,f):(f||La)(s[S]),x.push(N);return x}function Pa(s,u){return s=gt(s),s.alt!==void 0?[T(s.lng,u),T(s.lat,u),T(s.alt,u)]:[T(s.lng,u),T(s.lat,u)]}function Ds(s,u,f,x){for(var S=[],A=0,N=s.length;A<N;A++)S.push(u?Ds(s[A],gn(s[A])?0:u-1,f,x):Pa(s[A],x));return!u&&f&&S.length>0&&S.push(S[0].slice()),S}function Ti(s,u){return s.feature?l({},s.feature,{geometry:u}):Da(u)}function Da(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Ei={toGeoJSON:function(s){return Ti(this,{type:"Point",coordinates:Pa(this.getLatLng(),s)})}};Ls.include(Ei),Ma.include(Ei),kr.include(Ei),ai.include({toGeoJSON:function(s){var u=!gn(this._latlngs),f=Ds(this._latlngs,u?1:0,!1,s);return Ti(this,{type:(u?"Multi":"")+"LineString",coordinates:f})}}),Or.include({toGeoJSON:function(s){var u=!gn(this._latlngs),f=u&&!gn(this._latlngs[0]),x=Ds(this._latlngs,f?2:u?1:0,!0,s);return u||(x=[x]),Ti(this,{type:(f?"Multi":"")+"Polygon",coordinates:x})}}),Rr.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(f){u.push(f.toGeoJSON(s).geometry.coordinates)}),Ti(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var f=u==="GeometryCollection",x=[];return this.eachLayer(function(S){if(S.toGeoJSON){var A=S.toGeoJSON(s);if(f)x.push(A.geometry);else{var N=Da(A);N.type==="FeatureCollection"?x.push.apply(x,N.features):x.push(N)}}}),f?Ti(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function za(s,u){return new oi(s,u)}var zs=za,Lr=On.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,f){this._url=s,this._bounds=at(u),R(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ie(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ne(this._image),this},bringToBack:function(){return this._map&&$i(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=at(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Vt("img");if(Pt(u,"leaflet-image-layer"),this._zoomAnimated&&Pt(u,"leaflet-zoom-animated"),this.options.className&&Pt(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;ii(this._image,f,u)},_reset:function(){var s=this._image,u=new P(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=u.getSize();oe(s,u.min),s.style.width=f.x+"px",s.style.height=f.y+"px"},_updateOpacity:function(){ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),nc=function(s,u,f){return new Lr(s,u,f)},Ci=Lr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Vt("video");if(Pt(u,"leaflet-image-layer"),this._zoomAnimated&&Pt(u,"leaflet-zoom-animated"),this.options.className&&Pt(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=d(this.fire,this,"load"),s){for(var f=u.getElementsByTagName("source"),x=[],S=0;S<f.length;S++)x.push(f[S].src);this._url=f.length>0?x:[u.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var N=Vt("source");N.src=this._url[A],u.appendChild(N)}}});function Pr(s,u,f){return new Ci(s,u,f)}var Ba=Lr.extend({_initImage:function(){var s=this._image=this._url;Pt(s,"leaflet-image-layer"),this._zoomAnimated&&Pt(s,"leaflet-zoom-animated"),this.options.className&&Pt(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function ic(s,u,f){return new Ba(s,u,f)}var $e=On.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof mt||D(s))?(this._latlng=gt(s),R(this,u)):(R(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&ce(this._container,1),this.bringToFront(),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(ce(this._container,0),this._removeTimeout=setTimeout(d(ie,void 0,this._container),200)):ie(this._container),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=gt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ne(this._container),this},bringToBack:function(){return this._map&&$i(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Hn){u=null;var f=this._source._layers;for(var x in f)if(f[x]._map){u=f[x];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=pt(this.options.offset),f=this._getAnchor();this._zoomAnimated?oe(this._container,s.add(f)):u=u.add(s).add(f);var x=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(s,u,f,x){var S=u;return S instanceof s||(S=new s(x).setContent(u)),f&&S.setLatLng(f),S}}),On.include({_initOverlay:function(s,u,f,x){var S=f;return S instanceof s?(R(S,x),S._source=this):(S=u&&!x?u:new s(x,this),S.setContent(f)),S}});var Bs=$e.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,$e.prototype.openOn.call(this,s)},onAdd:function(s){$e.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fn||this._source.on("preclick",kn))},onRemove:function(s){$e.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fn||this._source.off("preclick",kn))},getEvents:function(){var s=$e.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Vt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Vt("div",s+"-content-wrapper",u);if(this._contentNode=Vt("div",s+"-content",f),Zi(u),In(this._contentNode),kt(u,"contextmenu",kn),this._tipContainer=Vt("div",s+"-tip-container",u),this._tip=Vt("div",s+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=Vt("a",s+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',kt(x,"click",function(S){be(S),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var f=s.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),u.width=f+1+"px",u.whiteSpace="",u.height="";var x=s.offsetHeight,S=this.options.maxHeight,A="leaflet-popup-scrolled";S&&x>S?(u.height=S+"px",Pt(s,A)):fe(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),f=this._getAnchor();oe(this._container,u.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(bs(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+u,x=this._containerWidth,S=new et(this._containerLeft,-f-this._containerBottom);S._add(bi(this._container));var A=s.layerPointToContainerPoint(S),N=pt(this.options.autoPanPadding),q=pt(this.options.autoPanPaddingTopLeft||N),K=pt(this.options.autoPanPaddingBottomRight||N),rt=s.getSize(),yt=0,Tt=0;A.x+x+K.x>rt.x&&(yt=A.x+x-rt.x+K.x),A.x-yt-q.x<0&&(yt=A.x-q.x),A.y+f+K.y>rt.y&&(Tt=A.y+f-rt.y+K.y),A.y-Tt-q.y<0&&(Tt=A.y-q.y),(yt||Tt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([yt,Tt]))}},_getAnchor:function(){return pt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rc=function(s,u){return new Bs(s,u)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(s,u,f){return this._initOverlay(Bs,s,u,f).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),On.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Bs,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Hn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){wi(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Fn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ns=$e.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){$e.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){$e.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=$e.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Vt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,f,x=this._map,S=this._container,A=x.latLngToContainerPoint(x.getCenter()),N=x.layerPointToContainerPoint(s),q=this.options.direction,K=S.offsetWidth,rt=S.offsetHeight,yt=pt(this.options.offset),Tt=this._getAnchor();q==="top"?(u=K/2,f=rt):q==="bottom"?(u=K/2,f=0):q==="center"?(u=K/2,f=rt/2):q==="right"?(u=0,f=rt/2):q==="left"?(u=K,f=rt/2):N.x<A.x?(q="right",u=0,f=rt/2):(q="left",u=K+(yt.x+Tt.x)*2,f=rt/2),s=s.subtract(pt(u,f,!0)).add(yt).add(Tt),fe(S,"leaflet-tooltip-right"),fe(S,"leaflet-tooltip-left"),fe(S,"leaflet-tooltip-top"),fe(S,"leaflet-tooltip-bottom"),Pt(S,"leaflet-tooltip-"+q),oe(S,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&ce(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return pt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jd=function(s,u){return new Ns(s,u)};$t.include({openTooltip:function(s,u,f){return this._initOverlay(Ns,s,u,f).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),On.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ns,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[u](f),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Hn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(kt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),kt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,f,x;this._tooltip.options.sticky&&s.originalEvent&&(f=this._map.mouseEventToContainerPoint(s.originalEvent),x=this._map.containerPointToLayerPoint(f),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var sc=qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),f=this.options;if(f.html instanceof Element?(pn(u),u.appendChild(f.html)):u.innerHTML=f.html!==!1?f.html:"",f.bgPos){var x=pt(f.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Rd(s){return new sc(s)}qn.Default=Os;var Dr=On.extend({options:{tileSize:256,opacity:1,updateWhenIdle:wt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){R(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ie(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ne(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($i(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof et?s:new et(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,f=-s(-1/0,1/0),x=0,S=u.length,A;x<S;x++)A=u[x].style.zIndex,u[x]!==this._container&&A&&(f=s(f,+A));isFinite(f)&&(this.options.zIndex=f+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!wt.ielt9){ce(this._container,this.options.opacity);var s=+new Date,u=!1,f=!1;for(var x in this._tiles){var S=this._tiles[x];if(!(!S.current||!S.loaded)){var A=Math.min(1,(s-S.loaded)/200);ce(S.el,A),A<1?u=!0:(S.active?f=!0:this._onOpaqueTile(S),S.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),u&&(ot(this._fadeFrame),this._fadeFrame=ht(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Vt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===s?(this._levels[f].el.style.zIndex=u-Math.abs(s-f),this._onUpdateLevel(f)):(ie(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var x=this._levels[s],S=this._map;return x||(x=this._levels[s]={},x.el=Vt("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=S.project(S.unproject(S.getPixelOrigin()),s).round(),x.zoom=s,this._setZoomTransform(x,S.getCenter(),S.getZoom()),w(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,u,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ie(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,f,x){var S=Math.floor(s/2),A=Math.floor(u/2),N=f-1,q=new et(+S,+A);q.z=+N;var K=this._tileCoordsToKey(q),rt=this._tiles[K];return rt&&rt.active?(rt.retain=!0,!0):(rt&&rt.loaded&&(rt.retain=!0),N>x?this._retainParent(S,A,N,x):!1)},_retainChildren:function(s,u,f,x){for(var S=2*s;S<2*s+2;S++)for(var A=2*u;A<2*u+2;A++){var N=new et(S,A);N.z=f+1;var q=this._tileCoordsToKey(N),K=this._tiles[q];if(K&&K.active){K.retain=!0;continue}else K&&K.loaded&&(K.retain=!0);f+1<x&&this._retainChildren(S,A,f+1,x)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,f,x){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var A=this.options.updateWhenZooming&&S!==this._tileZoom;(!x||A)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(s),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var f in this._levels)this._setZoomTransform(this._levels[f],s,u)},_setZoomTransform:function(s,u,f){var x=this._map.getZoomScale(f,s.zoom),S=s.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,f)).round();wt.any3d?ii(s.el,S,x):oe(s.el,S)},_resetGrid:function(){var s=this._map,u=s.options.crs,f=this._tileSize=this.getTileSize(),x=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],x).x/f.x),Math.ceil(s.project([0,u.wrapLng[1]],x).x/f.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],x).y/f.x),Math.ceil(s.project([u.wrapLat[1],0],x).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,f=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(f,this._tileZoom),S=u.project(s,this._tileZoom).floor(),A=u.getSize().divideBy(x*2);return new P(S.subtract(A),S.add(A))},_update:function(s){var u=this._map;if(u){var f=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(s),S=this._pxBoundsToTileRange(x),A=S.getCenter(),N=[],q=this.options.keepBuffer,K=new P(S.getBottomLeft().subtract([q,-q]),S.getTopRight().add([q,-q]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var rt in this._tiles){var yt=this._tiles[rt].coords;(yt.z!==this._tileZoom||!K.contains(new et(yt.x,yt.y)))&&(this._tiles[rt].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(s,f);return}for(var Tt=S.min.y;Tt<=S.max.y;Tt++)for(var Bt=S.min.x;Bt<=S.max.x;Bt++){var Ue=new et(Bt,Tt);if(Ue.z=this._tileZoom,!!this._isValidTile(Ue)){var we=this._tiles[this._tileCoordsToKey(Ue)];we?we.current=!0:N.push(Ue)}}if(N.sort(function(Gt,Kt){return Gt.distanceTo(A)-Kt.distanceTo(A)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var cn=document.createDocumentFragment();for(Bt=0;Bt<N.length;Bt++)this._addTile(N[Bt],cn);this._level.el.appendChild(cn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var f=this._globalTileRange;if(!u.wrapLng&&(s.x<f.min.x||s.x>f.max.x)||!u.wrapLat&&(s.y<f.min.y||s.y>f.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(s);return at(this.options.bounds).overlaps(x)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,f=this.getTileSize(),x=s.scaleBy(f),S=x.add(f),A=u.unproject(x,s.z),N=u.unproject(S,s.z);return[A,N]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),f=new ct(u[0],u[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),f=new et(+u[0],+u[1]);return f.z=+u[2],f},_removeTile:function(s){var u=this._tiles[s];u&&(ie(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Pt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=w,s.onmousemove=w,wt.ielt9&&this.options.opacity<1&&ce(s,this.options.opacity)},_addTile:function(s,u){var f=this._getTilePos(s),x=this._tileCoordsToKey(s),S=this.createTile(this._wrapCoords(s),d(this._tileReady,this,s));this._initTile(S),this.createTile.length<2&&ht(d(this._tileReady,this,s,null,S)),oe(S,f),this._tiles[x]={el:S,coords:s,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:s})},_tileReady:function(s,u,f){u&&this.fire("tileerror",{error:u,tile:f,coords:s});var x=this._tileCoordsToKey(s);f=this._tiles[x],f&&(f.loaded=+new Date,this._map._fadeAnimated?(ce(f.el,0),ot(this._fadeFrame),this._fadeFrame=ht(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),u||(Pt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),wt.ielt9||!this._map._fadeAnimated?ht(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new et(this._wrapX?b(s.x,this._wrapX):s.x,this._wrapY?b(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new P(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function ac(s){return new Dr(s)}var Ai=Dr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=R(this,u),u.detectRetina&&wt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var f=document.createElement("img");return kt(f,"load",d(this._tileOnLoad,this,u,f)),kt(f,"error",d(this._tileOnError,this,u,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(s),f},getTileUrl:function(s){var u={r:wt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=f),u["-y"]=f}return B(this._url,l(u,this.options))},_tileOnLoad:function(s,u){wt.ielt9?setTimeout(d(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,f){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),s(f,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,f=this.options.zoomReverse,x=this.options.zoomOffset;return f&&(s=u-s),s+x},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=w,u.onerror=w,!u.complete)){u.src=F;var f=this._tiles[s].coords;ie(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:f})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",F),Dr.prototype._removeTile.call(this,s)},_tileReady:function(s,u,f){if(!(!this._map||f&&f.getAttribute("src")===F))return Dr.prototype._tileReady.call(this,s,u,f)}});function yn(s,u){return new Ai(s,u)}var Us=Ai.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var f=l({},this.defaultWmsParams);for(var x in u)x in this.options||(f[x]=u[x]);u=R(this,u);var S=u.detectRetina&&wt.retina?2:1,A=this.getTileSize();f.width=A.x*S,f.height=A.y*S,this.wmsParams=f},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Ai.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),f=this._crs,x=X(f.project(u[0]),f.project(u[1])),S=x.min,A=x.max,N=(this._wmsVersion>=1.3&&this._crs===ol?[S.y,S.x,A.y,A.x]:[S.x,S.y,A.x,A.y]).join(","),q=Ai.prototype.getTileUrl.call(this,s);return q+k(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function vn(s,u){return new Us(s,u)}Ai.WMS=Us,yn.wms=vn;var en=On.extend({options:{padding:.1},initialize:function(s){R(this,s),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var f=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),A=x.multiplyBy(-f).add(S).subtract(this._map._getNewPixelOrigin(s,u));wt.any3d?ii(this._container,A,f):oe(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),f=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new P(f,f.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Na=en.extend({options:{tolerance:0},getEvents:function(){var s=en.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){en.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");kt(s,"mousemove",this._onMouseMove,this),kt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),kt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ot(this._redrawRequest),delete this._ctx,ie(this._container),te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){en.prototype._update.call(this);var s=this._bounds,u=this._container,f=s.getSize(),x=wt.retina?2:1;oe(u,s.min),u.width=x*f.x,u.height=x*f.y,u.style.width=f.x+"px",u.style.height=f.y+"px",wt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){en.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[g(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,f=u.next,x=u.prev;f?f.prev=x:this._drawLast=x,x?x.next=f:this._drawFirst=f,delete s._order,delete this._layers[g(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),f=[],x,S;for(S=0;S<u.length;S++){if(x=Number(u[S]),isNaN(x))return;f.push(x)}s.options._dashArray=f}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ht(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new P,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var f=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)s=x.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var f,x,S,A,N=s._parts,q=N.length,K=this._ctx;if(q){for(K.beginPath(),f=0;f<q;f++){for(x=0,S=N[f].length;x<S;x++)A=N[f][x],K[x?"lineTo":"moveTo"](A.x,A.y);u&&K.closePath()}this._fillStroke(K,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,f=this._ctx,x=Math.max(Math.round(s._radius),1),S=(Math.max(Math.round(s._radiusY),1)||x)/x;S!==1&&(f.save(),f.scale(1,S)),f.beginPath(),f.arc(u.x,u.y/S,x,0,Math.PI*2,!1),S!==1&&f.restore(),this._fillStroke(f,s)}},_fillStroke:function(s,u){var f=u.options;f.fill&&(s.globalAlpha=f.fillOpacity,s.fillStyle=f.fillColor||f.color,s.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=f.opacity,s.lineWidth=f.weight,s.strokeStyle=f.color,s.lineCap=f.lineCap,s.lineJoin=f.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),f,x,S=this._drawFirst;S;S=S.next)f=S.layer,f.options.interactive&&f._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(f))&&(x=f);this._fireEvent(x?[x]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(fe(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var f,x,S=this._drawFirst;S;S=S.next)f=S.layer,f.options.interactive&&f._containsPoint(u)&&(x=f);x!==this._hoveredLayer&&(this._handleMouseOut(s),x&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([x],s,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,f){this._map._fireDOMEvent(u,f||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var f=u.next,x=u.prev;if(f)f.prev=x;else return;x?x.next=f:f&&(this._drawFirst=f),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var f=u.next,x=u.prev;if(x)x.next=f;else return;f?f.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Is(s){return wt.canvas?new Na(s):null}var ji=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ll={_initContainer:function(){this._container=Vt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(en.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=ji("shape");Pt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=ji("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;ie(u),s.removeInteractiveTarget(u),delete this._layers[g(s)]},_updateStyle:function(s){var u=s._stroke,f=s._fill,x=s.options,S=s._container;S.stroked=!!x.stroke,S.filled=!!x.fill,x.stroke?(u||(u=s._stroke=ji("stroke")),S.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=D(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(S.removeChild(u),s._stroke=null),x.fill?(f||(f=s._fill=ji("fill")),S.appendChild(f),f.color=x.fillColor||x.color,f.opacity=x.fillOpacity):f&&(S.removeChild(f),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),f=Math.round(s._radius),x=Math.round(s._radiusY||f);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+f+","+x+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Ne(s._container)},_bringToBack:function(s){$i(s._container)}},$n=wt.vml?ji:va,zr=en.extend({_initContainer:function(){this._container=$n("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$n("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ie(this._container),te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){en.prototype._update.call(this);var s=this._bounds,u=s.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,f.setAttribute("width",u.x),f.setAttribute("height",u.y)),oe(f,s.min),f.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=$n("path");s.options.className&&Pt(u,s.options.className),s.options.interactive&&Pt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ie(s._path),s.removeInteractiveTarget(s._path),delete this._layers[g(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,f=s.options;u&&(f.stroke?(u.setAttribute("stroke",f.color),u.setAttribute("stroke-opacity",f.opacity),u.setAttribute("stroke-width",f.weight),u.setAttribute("stroke-linecap",f.lineCap),u.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?u.setAttribute("stroke-dasharray",f.dashArray):u.removeAttribute("stroke-dasharray"),f.dashOffset?u.setAttribute("stroke-dashoffset",f.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),f.fill?(u.setAttribute("fill",f.fillColor||f.color),u.setAttribute("fill-opacity",f.fillOpacity),u.setAttribute("fill-rule",f.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,_a(s._parts,u))},_updateCircle:function(s){var u=s._point,f=Math.max(Math.round(s._radius),1),x=Math.max(Math.round(s._radiusY),1)||f,S="a"+f+","+x+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(u.x-f)+","+u.y+S+f*2+",0 "+S+-f*2+",0 ";this._setPath(s,A)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Ne(s._path)},_bringToBack:function(s){$i(s._path)}});wt.vml&&zr.include(ll);function Vs(s){return wt.svg||wt.vml?new zr(s):null}$t.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Is(s)||Vs(s)}});var Ki=Or.extend({initialize:function(s,u){Or.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=at(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function kd(s,u){return new Ki(s,u)}zr.create=$n,zr.pointsToPath=_a,oi.geometryToLayer=Fe,oi.coordsToLatLng=La,oi.coordsToLatLngs=Ps,oi.latLngToCoords=Pa,oi.latLngsToCoords=Ds,oi.getFeature=Ti,oi.asFeature=Da,$t.mergeOptions({boxZoom:!0});var nn=Vn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ie(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wr(),Ta(),this._startPoint=this._map.mouseEventToContainerPoint(s),kt(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Vt("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new P(this._point,this._startPoint),f=u.getSize();oe(this._box,u.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(ie(this._box),fe(this._container,"leaflet-crosshair")),Un(),Ss(),te(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",nn),$t.mergeOptions({doubleClickZoom:!0});var Ua=Vn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,f=u.getZoom(),x=u.options.zoomDelta,S=s.originalEvent.shiftKey?f-x:f+x;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(s.containerPoint,S)}});$t.addInitHook("addHandler","doubleClickZoom",Ua),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wn=Vn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Si(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fe(this._map._container,"leaflet-grab"),fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=at(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),f=this._initialWorldOffset,x=this._draggable._newPos.x,S=(x-u+f)%s+u-f,A=(x+u+f)%s-u-f,N=Math.abs(S+f)<Math.abs(A+f)?S:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(s){var u=this._map,f=u.options,x=!f.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),x)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,N=f.easeLinearity,q=S.multiplyBy(N/A),K=q.distanceTo([0,0]),rt=Math.min(f.inertiaMaxSpeed,K),yt=q.multiplyBy(rt/K),Tt=rt/(f.inertiaDeceleration*N),Bt=yt.multiplyBy(-Tt/2).round();!Bt.x&&!Bt.y?u.fire("moveend"):(Bt=u._limitOffset(Bt,u.options.maxBounds),ht(function(){u.panBy(Bt,{duration:Tt,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",Wn),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ul=Vn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),kt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,f=s.scrollTop||u.scrollTop,x=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},f=this.keyCodes,x,S;for(x=0,S=f.left.length;x<S;x++)u[f.left[x]]=[-1*s,0];for(x=0,S=f.right.length;x<S;x++)u[f.right[x]]=[s,0];for(x=0,S=f.down.length;x<S;x++)u[f.down[x]]=[0,s];for(x=0,S=f.up.length;x<S;x++)u[f.up[x]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},f=this.keyCodes,x,S;for(x=0,S=f.zoomIn.length;x<S;x++)u[f.zoomIn[x]]=s;for(x=0,S=f.zoomOut.length;x<S;x++)u[f.zoomOut[x]]=-s},_addHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,f=this._map,x;if(u in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(x=this._panKeys[u],s.shiftKey&&(x=pt(x).multiplyBy(3)),f.options.maxBounds&&(x=f._limitOffset(pt(x),f.options.maxBounds)),f.options.worldCopyJump){var S=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(x)));f.panTo(S)}else f.panBy(x)}else if(u in this._zoomKeys)f.setZoom(f.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;wi(s)}}});$t.addInitHook("addHandler","keyboard",ul),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hs=Vn.extend({addHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=Ge(s),f=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var x=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),x),wi(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),f=this._map.options.zoomSnap||0;s._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,A=f?Math.ceil(S/f)*f:S,N=s._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,N&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+N):s.setZoomAround(this._lastMousePos,u+N))}});$t.addInitHook("addHandler","scrollWheelZoom",Hs);var Yi=600;$t.mergeOptions({tapHold:wt.touchNative&&wt.safari&&wt.mobile,tapTolerance:15});var Ia=Vn.extend({addHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new et(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(kt(document,"touchend",be),kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Yi),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){te(document,"touchend",be),te(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),te(document,"touchend touchcancel contextmenu",this._cancel,this),te(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new et(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var f=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});f._simulated=!0,u.target.dispatchEvent(f)}});$t.addInitHook("addHandler","tapHold",Ia),$t.mergeOptions({touchZoom:wt.touch,bounceAtZoomLimits:!0});var cl=Vn.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var f=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(f.add(x)._divideBy(2))),this._startDist=f.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),be(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,f=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]),S=f.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var A=f._add(x)._divideBy(2)._subtract(this._centerPoint);if(S===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ot(this._animRequest);var N=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ht(N,this,!0),be(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ot(this._animRequest),te(document,"touchmove",this._onTouchMove,this),te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",cl),$t.BoxZoom=nn,$t.DoubleClickZoom=Ua,$t.Drag=Wn,$t.Keyboard=ul,$t.ScrollWheelZoom=Hs,$t.TapHold=Ia,$t.TouchZoom=cl,r.Bounds=P,r.Browser=wt,r.CRS=Rt,r.Canvas=Na,r.Circle=Ma,r.CircleMarker=kr,r.Class=It,r.Control=un,r.DivIcon=sc,r.DivOverlay=$e,r.DomEvent=Aa,r.DomUtil=Er,r.Draggable=Si,r.Evented=it,r.FeatureGroup=Hn,r.GeoJSON=oi,r.GridLayer=Dr,r.Handler=Vn,r.Icon=qn,r.ImageOverlay=Lr,r.LatLng=mt,r.LatLngBounds=ct,r.Layer=On,r.LayerGroup=Rr,r.LineUtil=Td,r.Map=$t,r.Marker=Ls,r.Mixin=xd,r.Path=Fn,r.Point=et,r.PolyUtil=sl,r.Polygon=Or,r.Polyline=ai,r.Popup=Bs,r.PosAnimation=Cr,r.Projection=Yu,r.Rectangle=Ki,r.Renderer=en,r.SVG=zr,r.SVGOverlay=Ba,r.TileLayer=Ai,r.Tooltip=Ns,r.Transformation=yr,r.Util=Ut,r.VideoOverlay=Ci,r.bind=d,r.bounds=X,r.canvas=Is,r.circle=ec,r.circleMarker=tc,r.control=si,r.divIcon=Rd,r.extend=l,r.featureGroup=Ju,r.geoJSON=za,r.geoJson=zs,r.gridLayer=ac,r.icon=ks,r.imageOverlay=nc,r.latLng=gt,r.latLngBounds=at,r.layerGroup=Ed,r.map=Qo,r.marker=Qu,r.point=pt,r.polygon=Ad,r.polyline=Cd,r.popup=rc,r.rectangle=kd,r.setOptions=R,r.stamp=g,r.svg=Vs,r.svgOverlay=ic,r.tileLayer=yn,r.tooltip=jd,r.transformation=Ni,r.version=a,r.videoOverlay=Pr;var hl=window.L;r.noConflict=function(){return window.L=hl,this},window.L=r}))})(nu,nu.exports)),nu.exports}var ju=XL();const JL=Wh(ju);function kg(n,e,r){return Object.freeze({instance:n,context:e,container:r})}function Og(n,e){return e==null?function(a,l){const h=j.useRef(void 0);return h.current||(h.current=n(a,l)),h}:function(a,l){const h=j.useRef(void 0);h.current||(h.current=n(a,l));const d=j.useRef(a),{instance:m}=h.current;return j.useEffect(function(){d.current!==a&&(e(m,a,d.current),d.current=a)},[m,a,e]),h}}function QL(n,e){j.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function mS(n){return function(r){const a=fS(),l=n(Rg(r,a),a);return dS(a.map,r.attribution),pS(l.current,r.eventHandlers),QL(l.current,a),l}}function tP(n,e){const r=Og(n,e),a=mS(r);return WL(a)}function eP(n,e){const r=Og(n),a=KL(r,e);return ZL(a)}function nP(n,e){const r=Og(n,e),a=mS(r);return GL(a)}function iP(n,e,r){const{opacity:a,zIndex:l}=e;a!=null&&a!==r.opacity&&n.setOpacity(a),l!=null&&l!==r.zIndex&&n.setZIndex(l)}function rP({bounds:n,boundsOptions:e,center:r,children:a,className:l,id:h,placeholder:d,style:m,whenReady:g,zoom:_,...b},w){const[T]=j.useState({className:l,id:h,style:m}),[C,O]=j.useState(null),R=j.useRef(void 0);j.useImperativeHandle(w,()=>C?.map??null,[C]);const k=j.useCallback(B=>{if(B!==null&&!R.current){const D=new ju.Map(B,b);R.current=D,r!=null&&_!=null?D.setView(r,_):n!=null&&D.fitBounds(n,e),g!=null&&D.whenReady(g),O(FL(D))}},[]);j.useEffect(()=>()=>{C?.map.remove()},[C]);const z=C?ss.createElement(jg,{value:C},a):d??null;return ss.createElement("div",{...T,ref:k},z)}const sP=j.forwardRef(rP),aP=tP(function({position:e,...r},a){const l=new ju.Marker(e,r);return kg(l,$L(a,{overlayContainer:l}))},function(e,r,a){r.position!==a.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),oP=eP(function(e,r){const a=new ju.Popup(e,r.overlayContainer);return kg(a,r)},function(e,r,{position:a},l){j.useEffect(function(){const{instance:d}=e;function m(_){_.popup===d&&(d.update(),l(!0))}function g(_){_.popup===d&&l(!1)}return r.map.on({popupopen:m,popupclose:g}),r.overlayContainer==null?(a!=null&&d.setLatLng(a),d.openOn(r.map)):r.overlayContainer.bindPopup(d),function(){r.map.off({popupopen:m,popupclose:g}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(d)}},[e,r,l,a])}),lP=nP(function({url:e,...r},a){const l=new ju.TileLayer(e,Rg(r,a));return kg(l,a)},function(e,r,a){iP(e,r,a);const{url:l}=r;l!=null&&l!==a.url&&e.setUrl(l)}),uP=()=>JL.divIcon({html:'<div style="background: var(--primary); width: 32px; height: 32px; border-radius: 12px; border: 3px solid white; display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow-md); transform: rotate(45deg);"><div style="transform: rotate(-45deg);"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg></div></div>',className:"custom-div-icon",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),cP=()=>{const n=je(),[e,r]=j.useState([]),a=[11.2588,75.7804];return j.useEffect(()=>{(async()=>{const{data:h}=await ft.from("spots").select("*");h&&r(h)})()},[]),y.jsxs("div",{style:{height:"100vh",width:"100%",position:"relative"},children:[y.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3,display:"flex",gap:"12px"},children:[y.jsx(Mt.button,{whileTap:{scale:.9},onClick:()=>n(-1),style:{background:"white",border:"none",padding:"12px",borderRadius:"18px",boxShadow:"var(--shadow-md)",cursor:"pointer"},children:y.jsx(Eu,{size:24,color:"var(--text-main)"})}),y.jsxs("div",{style:{background:"white",padding:"12px 24px",borderRadius:"18px",boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx(ga,{size:20,color:"var(--primary)"}),y.jsx("span",{style:{fontWeight:"800",fontSize:"0.95rem"},children:"Eats Around You"})]})]}),y.jsxs(sP,{center:a,zoom:13,style:{height:"100%",width:"100%"},children:[y.jsx(lP,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),e.map(l=>y.jsx(aP,{position:[l.latitude||11.2588,l.longitude||75.7804],icon:uP(),children:y.jsx(oP,{className:"chai-in-popup",children:y.jsxs("div",{style:{padding:"4px"},children:[y.jsx("div",{style:{fontWeight:"900",fontSize:"1rem",color:"var(--primary)",marginBottom:"4px"},children:l.name}),y.jsx("div",{style:{fontWeight:"700",fontSize:"0.8rem",color:"var(--text-muted)"},children:l.category}),y.jsx("button",{onClick:()=>n(`/spot/${l.id}`),style:{marginTop:"10px",width:"100%",background:"var(--text-main)",color:"white",border:"none",padding:"8px",borderRadius:"10px",fontWeight:"800",fontSize:"0.8rem",cursor:"pointer"},children:"View Details"})]})})},l.id))]}),y.jsx("style",{children:`
                .chai-in-popup .leaflet-popup-content-wrapper {
                    border-radius: 20px !important;
                    padding: 4px !important;
                }
                .chai-in-popup .leaflet-popup-tip-container {
                    display: none !important;
                }
            `})]})},hP=()=>{const n=je(),[e,r]=j.useState([]),[a,l]=j.useState(!0);j.useEffect(()=>{h()},[]);const h=async()=>{l(!0);const{data:d}=await ft.from("spots").select("created_by"),{data:m}=await ft.from("reviews").select("user_id"),g={};d?.forEach(O=>{const R=O.created_by;R&&(g[R]||(g[R]={spots:0,reviews:0,xp:0}),g[R].spots+=1,g[R].xp+=100)}),m?.forEach(O=>{const R=O.user_id;R&&(g[R]||(g[R]={spots:0,reviews:0,xp:0}),g[R].reviews+=1,g[R].xp+=10)});const _=Object.keys(g),{data:b}=await ft.from("user_preferences").select("user_id, username, display_name, avatar_url").in("user_id",_),w={};b?.forEach(O=>w[O.user_id]=O);const{data:{user:T}}=await ft.auth.getUser(),C=_.map(O=>{const R=w[O];return{id:O,name:R?.username||R?.display_name||T?.user_metadata?.full_name||"Foodie",avatar:R?.avatar_url,isMe:T&&O===T.id,...g[O]}}).sort((O,R)=>R.xp-O.xp);r(C),l(!1)};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"180px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx("button",{onClick:()=>n(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(Eu,{size:24})}),y.jsx(rS,{size:48,color:"white",style:{marginBottom:"8px"}}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"Top Foodies"}),y.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"Kerala's most active explorers"})]}),y.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-30px"},children:a?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(Mt.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},children:y.jsx(jL,{size:40,color:"var(--primary)"})})}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:e.map((d,m)=>y.jsxs(Mt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.05},style:{background:"white",padding:"16px",borderRadius:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"var(--shadow-sm)",border:d.isMe?"2px solid var(--primary)":"none"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[y.jsx("div",{style:{width:"28px",fontWeight:"900",color:m<3?"var(--primary)":"var(--text-muted)",fontSize:"1.1rem"},children:m===0?"":m===1?"":m===2?"":`#${m+1}`}),y.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"16px",background:"var(--secondary)",overflow:"hidden"},children:d.avatar?y.jsx("img",{src:d.avatar,style:{width:"100%",height:"100%",objectFit:"cover"}}):y.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(Ro,{size:24,color:"var(--text-muted)"})})}),y.jsxs("div",{children:[y.jsxs("div",{style:{fontWeight:"800",fontSize:"1rem",color:d.isMe?"var(--primary)":"var(--text-main)"},children:[d.name," ",d.isMe&&"(You!)"]}),y.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",fontWeight:"600"},children:[d.spots," Spots shared"]})]})]}),y.jsxs("div",{style:{background:"var(--secondary)",padding:"8px 16px",borderRadius:"14px",fontWeight:"900",color:"var(--primary)",fontSize:"0.9rem"},children:[d.xp," XP"]})]},d.id))})})]})},dP=()=>{const[n,e]=j.useState([]),[r,a]=j.useState(!0),[l,h]=j.useState(null),[d,m]=j.useState("analytics"),[g,_]=j.useState(!1);je();const[b,w]=j.useState([]),[T,C]=j.useState({title:"",message:""}),[O,R]=j.useState(!1),[k,z]=j.useState({totalUsers:0,totalSpots:0,signupsByMonth:[],topContributors:[],activeAreas:[]}),[B,D]=j.useState(30),[V,F]=j.useState("");j.useEffect(()=>{if(!g)return;a(!0),Q(),ut(),It();const lt=()=>{const $=window.location.hash.replace("#","");["analytics","spots","community","reviews","notifications","moderation"].includes($)&&m($)};return lt(),window.addEventListener("hashchange",lt),()=>window.removeEventListener("hashchange",lt)},[B,g]);const G=(lt,$="success")=>{h({message:lt,type:$})},Q=async()=>{const{data:lt,error:$}=await ft.from("spots").select("*").order("created_at",{ascending:!1});lt&&e(lt),$&&G("Failed to fetch spots","error"),a(!1)},dt=async lt=>{if(!confirm("Permanently delete this spot?"))return;const{error:$}=await ft.from("spots").delete().eq("id",lt);$?(console.error($),G("Failed to delete: "+$.message,"error")):(G("Spot deleted","success"),e(n.filter(it=>it.id!==lt)))},vt=async(lt,$)=>{const{error:it}=await ft.from("spots").update({is_verified:!$}).eq("id",lt);it?G("Failed to update","error"):e(n.map(et=>et.id===lt?{...et,is_verified:!$}:et))},ut=async()=>{const{data:lt,error:$}=await ft.from("notifications").select("*").order("created_at",{ascending:!1});lt&&w(lt)},ht=async()=>{if(!T.title||!T.message)return;R(!0);const{error:lt}=await ft.from("notifications").insert([{title:T.title,message:T.message,is_active:!0}]);lt?G("Failed to send","error"):(G("Notification Sent!","success"),C({title:"",message:""}),ut()),R(!1)},ot=async lt=>{const{error:$}=await ft.from("notifications").delete().eq("id",lt);$||(w(b.filter(it=>it.id!==lt)),G("Notification deleted"))},Ut=async(lt,$)=>{await ft.from("notifications").update({is_active:!$}).eq("id",lt),ut()},It=async()=>{try{const{data:lt}=await ft.from("user_preferences").select("created_at, display_name, username, user_id"),{data:$}=await ft.from("spots").select("created_by, location_text, created_at");if(!lt||!$)return;const it=new Date,et=new Date;et.setDate(it.getDate()-B);const Lt=lt.filter(at=>new Date(at.created_at)>=et),pt={};Lt.forEach(at=>{const mt=new Date(at.created_at).toLocaleDateString("default",{month:"short",day:"numeric"});pt[mt]=(pt[mt]||0)+1});const P=Object.entries(pt).map(([at,mt])=>({name:at,count:mt})),X={};$.forEach(at=>{at.created_by&&(X[at.created_by]=(X[at.created_by]||0)+1)});const ct=Object.entries(X).map(([at,mt])=>{const gt=lt.find(Rt=>Rt.user_id===at);return{name:gt?.username||gt?.display_name||"Anonymous",count:mt}}).sort((at,mt)=>mt.count-at.count).slice(0,5);z({totalUsers:lt.length,totalSpots:$.length,signupsByMonth:P,topContributors:ct,activeAreas:[]})}catch(lt){console.error(lt)}finally{a(!1)}};return g?y.jsxs("div",{style:{padding:"20px 20px 100px 20px",maxWidth:"1200px",margin:"0 auto"},children:[l&&y.jsx(Au,{message:l.message,type:l.type,onClose:()=>h(null)}),y.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:y.jsx("h1",{style:{fontSize:"1.8rem"},children:"Admin Dashboard"})}),y.jsx("div",{style:{display:"flex",gap:"8px",overflowX:"auto",paddingBottom:"10px",marginBottom:"20px"},className:"hide-scrollbar",children:["analytics","spots","community","reviews","notifications","moderation"].map(lt=>y.jsx("button",{onClick:()=>m(lt),style:{padding:"10px 20px",borderRadius:"30px",border:"none",background:d===lt?"var(--primary)":"white",color:d===lt?"white":"#555",fontWeight:"700",textTransform:"capitalize",whiteSpace:"nowrap",boxShadow:d===lt?"0 4px 12px rgba(226, 55, 68, 0.3)":"0 2px 8px rgba(0,0,0,0.05)"},children:lt},lt))}),r&&y.jsx("p",{children:"Loading data..."}),!r&&d==="analytics"&&y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[y.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("p",{style:{color:"#888",margin:0},children:"Total Users"}),y.jsx("h2",{style:{fontSize:"2.5rem",margin:0},children:k.totalUsers})]}),y.jsx(LL,{size:40,color:"var(--primary)"})]}),y.jsxs("div",{className:"glass-card",style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("p",{style:{color:"#888",margin:0},children:"Total Spots"}),y.jsx("h2",{style:{fontSize:"2.5rem",margin:0},children:k.totalSpots})]}),y.jsx(ga,{size:40,color:"orange"})]}),y.jsxs("div",{className:"glass-card",style:{padding:"20px",gridColumn:"1 / -1"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[y.jsx("h3",{style:{margin:0},children:"Growth Analytics"}),y.jsx("div",{style:{display:"flex",gap:"8px"},children:[30,60,90].map(lt=>y.jsxs("button",{onClick:()=>D(lt),style:{padding:"6px 12px",borderRadius:"8px",border:"1px solid #ddd",background:B===lt?"var(--primary)":"white",color:B===lt?"white":"#666",fontSize:"0.8rem",fontWeight:"700",cursor:"pointer"},children:[lt," Days"]},lt))})]}),y.jsx("div",{style:{width:"100%",height:"250px",position:"relative"},children:k.signupsByMonth.length>0&&y.jsx(mP,{data:k.signupsByMonth})}),y.jsx("p",{style:{textAlign:"center",fontSize:"0.8rem",color:"#888",marginTop:"1rem"},children:"User Signups over time"})]}),y.jsxs("div",{className:"glass-card",style:{padding:"20px"},children:[y.jsx("h3",{children:"Top Contributors"}),k.topContributors.map((lt,$)=>y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #eee"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx("span",{style:{fontWeight:"bold",width:"20px"},children:$+1}),y.jsx("span",{children:lt.name})]}),y.jsx("span",{style:{fontWeight:"bold",color:"var(--primary)"},children:lt.count})]},$))]})]}),!r&&d==="spots"&&y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:n.map(lt=>y.jsxs("div",{className:"glass-card",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem"},children:[y.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[y.jsx("img",{src:lt.images?.[0]||"https://via.placeholder.com/100",style:{width:"60px",height:"60px",borderRadius:"8px",objectFit:"cover"}}),y.jsxs("div",{children:[y.jsx("h4",{style:{margin:0,fontWeight:"700"},children:lt.name}),y.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666"},children:lt.location_text}),lt.is_verified&&y.jsx("span",{style:{fontSize:"0.7rem",color:"green",fontWeight:"bold"},children:"Verified"})]})]}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:()=>vt(lt.id,lt.is_verified),style:{padding:"8px",background:"#e8f5e9",color:"#2e7d32",borderRadius:"8px",border:"none"},children:y.jsx(nS,{size:18})}),y.jsx("button",{onClick:()=>dt(lt.id),style:{padding:"8px",background:"#ffebee",color:"#c62828",borderRadius:"8px",border:"none"},children:y.jsx(iS,{size:18})})]})]},lt.id))}),!r&&d==="notifications"&&y.jsxs("div",{children:[y.jsxs("div",{className:"glass-card",style:{padding:"20px",marginBottom:"20px"},children:[y.jsx("h3",{children:"Create Notification"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[y.jsx("input",{type:"text",placeholder:"Notification Title",value:T.title,onChange:lt=>C({...T,title:lt.target.value}),style:{padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}}),y.jsx("textarea",{placeholder:"Message Body",value:T.message,onChange:lt=>C({...T,message:lt.target.value}),style:{padding:"10px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"80px"}}),y.jsxs(ou,{onClick:ht,disabled:O,children:[O?"Sending...":"Send to All Users"," ",y.jsx(lS,{size:16,style:{marginLeft:"8px"}})]})]})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:b.map(lt=>y.jsxs("div",{className:"glass-card",style:{padding:"15px",position:"relative"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[y.jsx("h4",{style:{margin:0},children:lt.title}),y.jsx("span",{style:{fontSize:"0.8rem",color:lt.is_active?"green":"red",fontWeight:"bold"},children:lt.is_active?"ACTIVE":"INACTIVE"})]}),y.jsx("p",{style:{margin:0,color:"#555"},children:lt.message}),y.jsxs("div",{style:{marginTop:"10px",display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:()=>Ut(lt.id,lt.is_active),style:{fontSize:"0.8rem",padding:"4px 8px"},children:"Toggle Active"}),y.jsx("button",{onClick:()=>ot(lt.id),style:{fontSize:"0.8rem",padding:"4px 8px",color:"red"},children:"Delete"})]})]},lt.id))})]}),!r&&d==="community"&&y.jsx(fP,{}),!r&&d==="reviews"&&y.jsx(pP,{}),!r&&d==="moderation"&&y.jsx(gP,{showToast:G})]}):y.jsx("div",{style:{height:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"glass-card",style:{padding:"30px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[y.jsx(SL,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),y.jsx("h2",{style:{marginBottom:"10px"},children:"Admin Login"}),y.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Please enter your PIN to access the dashboard."}),y.jsx("input",{type:"password",id:"adminPinInput",placeholder:"Enter PIN",value:V,onChange:lt=>F(lt.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"1px solid #ddd",marginBottom:"20px",textAlign:"center",fontSize:"1.2rem",letterSpacing:"4px"},onKeyDown:lt=>{lt.key==="Enter"&&V==="Sinu@12345"?_(!0):lt.key==="Enter"&&G("Incorrect PIN","error")}}),y.jsx(ou,{onClick:()=>{V==="Sinu@12345"?_(!0):G("Incorrect PIN","error")},style:{width:"100%"},children:"Access Dashboard"})]})})},fP=()=>{const[n,e]=j.useState([]),[r,a]=j.useState(!0);j.useEffect(()=>{l()},[]);const l=async()=>{const{data:d}=await ft.from("community_posts").select("*").order("created_at",{ascending:!1});e(d||[]),a(!1)},h=async d=>{if(!confirm("Delete this post?"))return;const{error:m}=await ft.from("community_posts").delete().eq("id",d);m?(console.error(m),alert("Failed to delete post: "+m.message)):e(n.filter(g=>g.id!==d))};return r?y.jsx("div",{children:"Loading..."}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"15px"},children:n.map(d=>y.jsxs("div",{className:"glass-card",style:{padding:"10px",overflow:"hidden"},children:[y.jsx("img",{src:d.image_url,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px"}}),y.jsx("p",{style:{fontSize:"0.8rem",margin:"8px 0",height:"40px",overflow:"hidden"},children:d.caption}),y.jsxs("button",{onClick:()=>h(d.id),style:{width:"100%",padding:"6px",background:"#ffebee",color:"red",border:"none",borderRadius:"6px",cursor:"pointer"},children:[y.jsx(uS,{size:16})," Delete"]})]},d.id))})},pP=()=>{const[n,e]=j.useState([]);j.useEffect(()=>{r()},[]);const r=async()=>{const{data:l}=await ft.from("reviews").select("*").order("created_at",{ascending:!1}).limit(50);e(l||[])},a=async l=>{if(!confirm("Delete review?"))return;const{error:h}=await ft.from("reviews").delete().eq("id",l);h?(console.error(h),alert("Failed to delete review: "+h.message)):e(n.filter(d=>d.id!==l))};return y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:n.map(l=>y.jsxs("div",{className:"glass-card",style:{padding:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{display:"flex",gap:"4px"},children:[...Array(l.rating)].map((h,d)=>y.jsx("span",{children:""},d))}),y.jsx("p",{style:{marginTop:"5px",marginBottom:"0",fontSize:"0.9rem"},children:l.comment})]}),y.jsx("button",{onClick:()=>a(l.id),style:{background:"#ffebee",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:"red"},children:y.jsx(uS,{size:18})})]},l.id))})},mP=({data:n})=>{const e=Math.max(...n.map(d=>d.count),5),r=200,a=800,l=30,h=n.map((d,m)=>{const g=l+m*(a-l*2)/(n.length-1||1),_=r-l-d.count*(r-l*2)/e;return`${g},${_}`}).join(" ");return y.jsxs("svg",{viewBox:`0 0 ${a} ${r}`,style:{width:"100%",height:"100%"},children:[y.jsx("line",{x1:l,y1:r-l,x2:a-l,y2:r-l,stroke:"#eee"}),y.jsx("line",{x1:l,y1:l,x2:l,y2:r-l,stroke:"#eee"}),y.jsx("text",{x:l-10,y:l,textAnchor:"end",fontSize:"10",fill:"#999",children:e}),y.jsx("text",{x:l-10,y:r-l,textAnchor:"end",fontSize:"10",fill:"#999",children:"0"}),y.jsx("polyline",{fill:"none",stroke:"var(--primary)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",points:h}),n.map((d,m)=>{const g=l+m*(a-l*2)/(n.length-1||1),_=r-l-d.count*(r-l*2)/e;return y.jsxs("g",{children:[y.jsx("circle",{cx:g,cy:_,r:"4",fill:"white",stroke:"var(--primary)",strokeWidth:"2"}),y.jsx("text",{x:g,y:r-5,textAnchor:"middle",fontSize:"10",fill:"#999",children:d.name}),y.jsx("text",{x:g,y:_-10,textAnchor:"middle",fontSize:"12",fontWeight:"700",fill:"var(--primary)",children:d.count})]},m)})]})},gP=({showToast:n})=>{const[e,r]=j.useState([]),[a,l]=j.useState(!0);j.useEffect(()=>{h()},[]);const h=async()=>{const{data:m}=await ft.from("spot_edits").select("*, spots(name)").eq("status","pending");r(m||[]),l(!1)},d=async(m,g,_,b)=>{try{if(g==="approved"){const{error:T}=await ft.from("spots").update({name:b.name,category:b.category,price_level:b.price,description:b.description,location_text:b.location_text,latitude:b.latitude,longitude:b.longitude,images:b.images}).eq("id",_);if(T)throw T}const{error:w}=await ft.from("spot_edits").update({status:g}).eq("id",m);if(w)throw w;n(`Edit ${g}`,"success"),r(e.filter(T=>T.id!==m))}catch(w){console.error(w),n("Moderation failed","error")}};return a?y.jsx("div",{children:"Loading pendings..."}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:e.length===0?y.jsx("p",{children:"No pending edits to review."}):e.map(m=>y.jsxs("div",{className:"glass-card",style:{padding:"20px"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[y.jsxs("h4",{style:{margin:0},children:["Edit Suggestion for: ",m.spots?.name]}),y.jsx("span",{style:{fontSize:"0.8rem",color:"#888"},children:new Date(m.created_at).toLocaleDateString()})]}),y.jsxs("div",{style:{background:"#f8fafc",padding:"10px",borderRadius:"8px",fontSize:"0.9rem",marginBottom:"15px",color:"#475569"},children:[y.jsx("strong",{children:"Suggested Name:"})," ",m.data.name,y.jsx("br",{}),y.jsx("strong",{children:"Suggested Category:"})," ",m.data.category,y.jsx("br",{}),y.jsx("strong",{children:"New Desc:"})," ",m.data.description?.substring(0,100),"..."]}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("button",{onClick:()=>d(m.id,"approved",m.spot_id,m.data),style:{flex:1,padding:"10px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer"},children:"Approve & Apply"}),y.jsx("button",{onClick:()=>d(m.id,"rejected"),style:{flex:1,padding:"10px",background:"#fee2e2",color:"#991b1b",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer"},children:"Reject"})]})]},m.id))})},yP=({lang:n})=>{const{id:e}=Lm(),r=je(),{user:a}=He(),[l,h]=j.useState(null),[d,m]=j.useState([]),[g,_]=j.useState(""),[b,w]=j.useState(!1),[T,C]=j.useState(!0),[O,R]=j.useState(null),[k,z]=j.useState(!1),[B,D]=j.useState(""),[V,F]=j.useState(0),[G,Q]=j.useState(0),[dt,vt]=j.useState(!1);j.useEffect(()=>{It(),sessionStorage.getItem("refreshSpotDetail")&&(sessionStorage.removeItem("refreshSpotDetail"),It(),lt());const P=()=>{lt()};return window.addEventListener("userProfileUpdated",P),()=>{window.removeEventListener("userProfileUpdated",P)}},[e,a]);const ut=P=>P>=1e6?(P/1e6).toFixed(1)+"M":P>=1e3?(P/1e3).toFixed(1)+"K":P.toString(),ht=()=>new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),ot=P=>{if(!P||!P.open||!P.close)return null;const X=ht(),[ct,at=0]=P.open.split(":").map(Number),[mt,gt=0]=P.close.split(":").map(Number),Rt=new Date(X);Rt.setHours(ct,at,0,0);const Qt=new Date(X);return Qt.setHours(mt,gt,0,0),Qt<=Rt&&(X<Rt?Rt.setDate(Rt.getDate()-1):Qt.setDate(Qt.getDate()+1)),X>=Rt&&X<=Qt},Ut=P=>{if(!P)return"";const[X,ct="00"]=P.split(":"),at=new Date;return at.setHours(Number(X),Number(ct),0,0),at.toLocaleTimeString("en-IN",{hour:"numeric",minute:"2-digit",hour12:!0})},It=async()=>{C(!0),D("");try{const{data:P,error:X}=await ft.from("spots").select("*").eq("id",parseInt(e)).single();if(X)throw X;if(!P){D("Spot not found"),C(!1);return}if(h(P),R(ot(P.opening_hours)),lt(),$(),a){const{data:ct}=await ft.from("user_favorites").select("*").eq("spot_id",parseInt(e)).eq("user_id",a.id).maybeSingle();w(!!ct);const{data:at}=await ft.from("visited_spots").select("*").eq("spot_id",parseInt(e)).eq("user_id",a.id).maybeSingle();z(!!at)}}catch(P){console.error("Error fetching spot:",P),D("Unable to load this spot right now. Please try again.")}finally{C(!1)}},lt=async()=>{const{data:P,error:X}=await ft.from("reviews").select("*").eq("spot_id",e).order("created_at",{ascending:!1});if(X){console.error("Error loading reviews:",X),m([]);return}if(P){const ct=[...new Set(P.map(gt=>gt.user_id))],{data:at}=await ft.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",ct),mt={};at?.forEach(gt=>mt[gt.user_id]=gt),m(P.map(gt=>({...gt,user:mt[gt.user_id]||{display_name:"User"}})))}else m([])},$=async()=>{try{const{count:P}=await ft.from("visited_spots").select("*",{count:"exact",head:!0}).eq("spot_id",parseInt(e));F(P||0)}catch(P){console.error("Error fetching visit count:",P)}},it=async()=>{if(!a)return alert("Please login!");const P=b;w(!P);try{P?await ft.from("user_favorites").delete().eq("spot_id",parseInt(e)).eq("user_id",a.id):await ft.from("user_favorites").insert({spot_id:parseInt(e),user_id:a.id})}catch(X){console.error("Error toggling favorite:",X),w(P)}},et=async()=>{if(!a)return alert("Please login!");const P=k,X=!P,ct=P?V-1:V+1;z(X),Q(V),F(ct),P||(vt(!0),setTimeout(()=>vt(!1),600));try{P?await ft.from("visited_spots").delete().eq("spot_id",parseInt(e)).eq("user_id",a.id):await ft.from("visited_spots").insert({spot_id:parseInt(e),user_id:a.id})}catch(at){console.error("Error toggling visit:",at),z(P),F(P?V+1:V-1)}},Lt=async()=>{if(!a)return alert("Please login to submit a review!");if(!g.trim())return;const{error:P}=await ft.from("reviews").insert({spot_id:parseInt(e),user_id:a.id,comment:g,rating:5});P?console.error("Error adding review:",P):(_(""),lt())},pt=()=>{if(!l?.latitude||!l?.longitude){alert("Location coordinates not available for this spot.");return}const P=l.latitude,X=l.longitude,ct=encodeURIComponent(l.name||"Spot"),at=/iPad|iPhone|iPod/.test(navigator.userAgent),mt=`/${window.location.pathname.includes("/ml/")?"ml":"en"}/directions/${e}`;at?(r(mt),setTimeout(()=>{window.open(`maps://?daddr=${P},${X}&q=${ct}`,"_blank")},100)):(window.open(`https://www.google.com/maps/dir/?api=1&destination=${P},${X}&destination_place_id=${ct}`,"_blank"),setTimeout(()=>{r(mt)},100))};return T?y.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Wait a moment..."}):B?y.jsx("div",{style:{padding:"40px",textAlign:"center"},children:B}):l?y.jsxs("div",{style:{background:"var(--bg-white)",minHeight:"100vh",position:"relative",paddingBottom:"140px"},children:[y.jsxs("div",{style:{height:"45vh",position:"relative",background:"#000"},children:[y.jsx(cS,{images:l.images&&l.images.length?l.images:["https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=900&q=80"]}),y.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",padding:"6px 12px",borderRadius:"20px",display:"flex",alignItems:"center",gap:"4px",zIndex:5},children:y.jsxs("span",{style:{color:"white",fontSize:"0.75rem",fontWeight:"700"},children:[ut(V)," visits"]})}),y.jsx(Mt.button,{whileTap:{scale:.9},onClick:()=>r(-1),style:{position:"absolute",top:"24px",left:"20px",background:"white",border:"none",borderRadius:"16px",padding:"12px",boxShadow:"var(--shadow-md)",zIndex:10},children:y.jsx(cs,{size:24,color:"var(--text-main)"})}),y.jsx(Mt.button,{whileTap:{scale:.9},onClick:it,style:{position:"absolute",top:"24px",right:"20px",background:"white",border:"none",borderRadius:"16px",padding:"12px",boxShadow:"var(--shadow-md)",zIndex:10},children:y.jsx(pa,{size:24,fill:b?"var(--primary)":"none",color:b?"var(--primary)":"var(--text-main)"})})]}),y.jsxs(Mt.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},style:{background:"white",marginTop:"-40px",borderRadius:"40px 40px 0 0",padding:"30px 20px",position:"relative",boxShadow:"0 -10px 30px rgba(0,0,0,0.05)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[y.jsxs("div",{children:[y.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"900",margin:0,color:"var(--text-main)"},children:l.name}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[y.jsx("span",{style:{background:O===null?"#E5E7EB":O?"rgba(16, 185, 129, 0.12)":"rgba(239, 68, 68, 0.12)",color:O===null?"#4B5563":O?"#0F9F6E":"#B91C1C",padding:"6px 12px",borderRadius:"12px",fontWeight:"800",fontSize:"0.8rem"},children:O===null?"HOURS NOT SET":O?"OPEN NOW":"CLOSED"}),y.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"0.85rem",fontWeight:"700"},children:[Ut(l.opening_hours?.open)," - ",Ut(l.opening_hours?.close)," (Kerala)"]})]})]}),y.jsxs("div",{style:{background:"var(--secondary)",padding:"10px 16px",borderRadius:"16px",display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(od,{size:18,fill:"#FFB800",color:"#FFB800"}),y.jsx("span",{style:{fontWeight:"800",fontSize:"1.1rem"},children:l.rating||"4.5"})]})]}),y.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"24px"},children:l.tags&&l.tags.map(P=>y.jsxs("span",{style:{background:"var(--secondary)",color:"var(--text-muted)",padding:"6px 14px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"700"},children:["#",P]},P))}),y.jsx("p",{style:{lineHeight:"1.6",color:"var(--text-main)",fontSize:"1rem",marginBottom:"30px"},children:l.description||"Indulge in an exquisite culinary journey at this magnificent location. Known for its exceptional service and vibrant atmosphere."}),y.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"40px"},children:[l.instagram_handle&&y.jsxs("a",{href:`https://instagram.com/${l.instagram_handle}`,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"14px",borderRadius:"16px",background:"linear-gradient(45deg, #f09433 0%, #dc2743 100%)",color:"white",textDecoration:"none",fontWeight:"800"},children:[y.jsx(sS,{size:20})," Instagram"]}),l.whatsapp_number&&y.jsxs("a",{href:`https://wa.me/${l.whatsapp_number}`,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"14px",borderRadius:"16px",background:"#25D366",color:"white",textDecoration:"none",fontWeight:"800"},children:[y.jsx(sd,{size:20})," WhatsApp"]}),y.jsxs(Mt.button,{whileTap:{scale:.95},onClick:pt,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"14px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",textDecoration:"none",fontWeight:"800",cursor:"pointer"},children:[y.jsx(aL,{size:20})," Directions"]})]}),y.jsxs("div",{style:{marginBottom:"40px"},children:[y.jsxs("h2",{style:{fontSize:"1.4rem",fontWeight:"900",marginBottom:"20px"},children:["Reviews (",d.length,")"]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:d.map(P=>y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("img",{src:P.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"50%"}}),y.jsxs("div",{children:[y.jsx("p",{style:{fontWeight:"800",margin:0},children:P.user?.display_name||"Anonymous"}),y.jsx("p",{style:{margin:"4px 0 0 0",color:"var(--text-main)"},children:P.comment})]})]},P.id))}),y.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"10px"},children:[y.jsx("input",{type:"text",value:g,onChange:P=>_(P.target.value),placeholder:"Add a review...",style:{flex:1,padding:"14px",borderRadius:"16px",border:"2px solid var(--secondary)",outline:"none",fontWeight:"700"}}),y.jsx("button",{onClick:Lt,style:{padding:"14px 20px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",fontWeight:"800"},children:"Send"})]})]}),y.jsx("div",{style:{position:"sticky",bottom:"20px",left:0,right:0,zIndex:10,padding:"0 4px",marginBottom:"12px"},children:y.jsxs(Mt.button,{whileTap:{scale:.95},onClick:et,style:{width:"100%",padding:"18px",borderRadius:"24px",background:k?"#10B981":"#EF4444",color:"white",border:"none",fontSize:"1.1rem",fontWeight:"900",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"var(--shadow-lg)"},children:[y.jsx(ga,{size:24}),"VISITED"]})})]})]}):y.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Spot disappeared..."})},yh=43200,zx=1440,Bx=Symbol.for("constructDateFrom");function Mg(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Bx in n?n[Bx](e):n instanceof Date?new n.constructor(e):new Date(e)}function ls(n,e){return Mg(n,n)}let vP={};function _P(){return vP}function Nx(n){const e=ls(n),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+n-+r}function Lg(n,...e){const r=Mg.bind(null,n||e.find(a=>typeof a=="object"));return e.map(r)}function jh(n,e){const r=+ls(n)-+ls(e);return r<0?-1:r>0?1:r}function xP(n){return Mg(n,Date.now())}function bP(n,e,r){const[a,l]=Lg(r?.in,n,e),h=a.getFullYear()-l.getFullYear(),d=a.getMonth()-l.getMonth();return h*12+d}function wP(n){return e=>{const a=(n?Math[n]:Math.trunc)(e);return a===0?0:a}}function SP(n,e){return+ls(n)-+ls(e)}function TP(n,e){const r=ls(n);return r.setHours(23,59,59,999),r}function EP(n,e){const r=ls(n),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function CP(n,e){const r=ls(n);return+TP(r)==+EP(r)}function AP(n,e,r){const[a,l,h]=Lg(r?.in,n,n,e),d=jh(l,h),m=Math.abs(bP(l,h));if(m<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-d*m);let g=jh(l,h)===-d;CP(a)&&m===1&&jh(a,h)===1&&(g=!1);const _=d*(m-+g);return _===0?0:_}function jP(n,e,r){const a=SP(n,e)/1e3;return wP(r?.roundingMethod)(a)}const RP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kP=(n,e,r)=>{let a;const l=RP[n];return typeof l=="string"?a=l:e===1?a=l.one:a=l.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Up(n){return(e={})=>{const r=e.width?String(e.width):n.defaultWidth;return n.formats[r]||n.formats[n.defaultWidth]}}const OP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PP={date:Up({formats:OP,defaultWidth:"full"}),time:Up({formats:MP,defaultWidth:"full"}),dateTime:Up({formats:LP,defaultWidth:"full"})},DP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zP=(n,e,r,a)=>DP[n];function Yl(n){return(e,r)=>{const a=r?.context?String(r.context):"standalone";let l;if(a==="formatting"&&n.formattingValues){const d=n.defaultFormattingWidth||n.defaultWidth,m=r?.width?String(r.width):d;l=n.formattingValues[m]||n.formattingValues[d]}else{const d=n.defaultWidth,m=r?.width?String(r.width):n.defaultWidth;l=n.values[m]||n.values[d]}const h=n.argumentCallback?n.argumentCallback(e):e;return l[h]}}const BP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qP=(n,e)=>{const r=Number(n),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},FP={ordinalNumber:qP,era:Yl({values:BP,defaultWidth:"wide"}),quarter:Yl({values:NP,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Yl({values:UP,defaultWidth:"wide"}),day:Yl({values:IP,defaultWidth:"wide"}),dayPeriod:Yl({values:VP,defaultWidth:"wide",formattingValues:HP,defaultFormattingWidth:"wide"})};function Xl(n){return(e,r={})=>{const a=r.width,l=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],h=e.match(l);if(!h)return null;const d=h[0],m=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],g=Array.isArray(m)?WP(m,w=>w.test(d)):$P(m,w=>w.test(d));let _;_=n.valueCallback?n.valueCallback(g):g,_=r.valueCallback?r.valueCallback(_):_;const b=e.slice(d.length);return{value:_,rest:b}}}function $P(n,e){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&e(n[r]))return r}function WP(n,e){for(let r=0;r<n.length;r++)if(e(n[r]))return r}function ZP(n){return(e,r={})=>{const a=e.match(n.matchPattern);if(!a)return null;const l=a[0],h=e.match(n.parsePattern);if(!h)return null;let d=n.valueCallback?n.valueCallback(h[0]):h[0];d=r.valueCallback?r.valueCallback(d):d;const m=e.slice(l.length);return{value:d,rest:m}}}const GP=/^(\d+)(th|st|nd|rd)?/i,KP=/\d+/i,YP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XP={any:[/^b/i,/^(a|c)/i]},JP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QP={any:[/1/i,/2/i,/3/i,/4/i]},tD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aD={ordinalNumber:ZP({matchPattern:GP,parsePattern:KP,valueCallback:n=>parseInt(n,10)}),era:Xl({matchPatterns:YP,defaultMatchWidth:"wide",parsePatterns:XP,defaultParseWidth:"any"}),quarter:Xl({matchPatterns:JP,defaultMatchWidth:"wide",parsePatterns:QP,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Xl({matchPatterns:tD,defaultMatchWidth:"wide",parsePatterns:eD,defaultParseWidth:"any"}),day:Xl({matchPatterns:nD,defaultMatchWidth:"wide",parsePatterns:iD,defaultParseWidth:"any"}),dayPeriod:Xl({matchPatterns:rD,defaultMatchWidth:"any",parsePatterns:sD,defaultParseWidth:"any"})},oD={code:"en-US",formatDistance:kP,formatLong:PP,formatRelative:zP,localize:FP,match:aD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lD(n,e,r){const a=_P(),l=r?.locale??a.locale??oD,h=2520,d=jh(n,e);if(isNaN(d))throw new RangeError("Invalid time value");const m=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:d}),[g,_]=Lg(r?.in,...d>0?[e,n]:[n,e]),b=jP(_,g),w=(Nx(_)-Nx(g))/1e3,T=Math.round((b-w)/60);let C;if(T<2)return r?.includeSeconds?b<5?l.formatDistance("lessThanXSeconds",5,m):b<10?l.formatDistance("lessThanXSeconds",10,m):b<20?l.formatDistance("lessThanXSeconds",20,m):b<40?l.formatDistance("halfAMinute",0,m):b<60?l.formatDistance("lessThanXMinutes",1,m):l.formatDistance("xMinutes",1,m):T===0?l.formatDistance("lessThanXMinutes",1,m):l.formatDistance("xMinutes",T,m);if(T<45)return l.formatDistance("xMinutes",T,m);if(T<90)return l.formatDistance("aboutXHours",1,m);if(T<zx){const O=Math.round(T/60);return l.formatDistance("aboutXHours",O,m)}else{if(T<h)return l.formatDistance("xDays",1,m);if(T<yh){const O=Math.round(T/zx);return l.formatDistance("xDays",O,m)}else if(T<yh*2)return C=Math.round(T/yh),l.formatDistance("aboutXMonths",C,m)}if(C=AP(_,g),C<12){const O=Math.round(T/yh);return l.formatDistance("xMonths",O,m)}else{const O=C%12,R=Math.trunc(C/12);return O<3?l.formatDistance("aboutXYears",R,m):O<9?l.formatDistance("overXYears",R,m):l.formatDistance("almostXYears",R+1,m)}}function gS(n,e){return lD(n,xP(n),e)}const uD=({onClose:n,onPostComplete:e})=>{const[r,a]=j.useState("select"),[l,h]=j.useState(null),[d,m]=j.useState(null),[g,_]=j.useState(1),[b,w]=j.useState(0),[T,C]=j.useState(""),[O,R]=j.useState(!1),k=j.useRef(null),z=j.useRef(null),B=j.useRef(null),D=ot=>{h(ot),m(URL.createObjectURL(ot)),a("edit"),_(1),w(0)},V=ot=>{const Ut=ot.target.files[0];Ut&&D(Ut)},F=()=>{const ot=document.createElement("input");ot.type="file",ot.accept="image/*",ot.capture="camera",ot.onchange=Ut=>{const It=Ut.target.files[0];It&&D(It)},ot.click()},G=()=>{_(ot=>Math.min(ot+.1,3))},Q=()=>{_(ot=>Math.max(ot-.1,.5))},dt=()=>{w(ot=>(ot+90)%360)},vt=()=>{const ot=B.current,Ut=ot.getContext("2d"),It=z.current;if(!ot||!It)return;const lt=1080;ot.width=lt,ot.height=lt,Ut.clearRect(0,0,ot.width,ot.height),Ut.save();const $=lt/2,it=lt/2;Ut.translate($,it),Ut.rotate(b*Math.PI/180),Ut.scale(g,g);const et=Math.min(It.naturalWidth,It.naturalHeight);Ut.drawImage(It,-et/2,-et/2,et,et),Ut.restore();const Lt=ot.toDataURL("image/jpeg",.9);Lt&&fetch(Lt).then(pt=>pt.blob()).then(pt=>{const P=new File([pt],"cropped-image.jpg",{type:"image/jpeg"});h(P),m(URL.createObjectURL(P)),a("caption")})},ut=async()=>{if(!(!l||!T.trim())){R(!0);try{await e(l,T.trim()),n()}catch(ot){console.error("Error posting:",ot)}finally{R(!1)}}},ht=()=>{O||n()};return y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:y.jsxs(Mt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{background:"white",borderRadius:"20px",width:"90%",maxWidth:"400px",maxHeight:"80vh",overflow:"hidden",position:"relative"},children:[y.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid var(--secondary)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("h3",{style:{margin:0,fontSize:"1.2rem",fontWeight:"900"},children:[r==="select"&&"Create Post",r==="edit"&&"Edit Photo",r==="caption"&&"Add Caption"]}),y.jsx("button",{onClick:ht,style:{background:"var(--secondary)",border:"none",padding:"8px",borderRadius:"8px",cursor:"pointer"},disabled:O,children:y.jsx(Cu,{size:20})})]}),y.jsxs("div",{style:{padding:"20px"},children:[r==="select"&&y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[y.jsxs("div",{style:{height:"200px",border:"2px dashed var(--secondary)",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"var(--secondary)"},children:[y.jsx(Px,{size:40,color:"var(--primary)"}),y.jsx("p",{style:{margin:"10px 0 0 0",fontWeight:"600",color:"var(--text-muted)"},children:"Choose photo source"})]}),y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsxs("button",{onClick:()=>k.current?.click(),style:{flex:1,padding:"16px",borderRadius:"12px",background:"var(--primary)",color:"white",border:"none",fontSize:"1rem",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[y.jsx(Px,{size:20}),"Gallery"]}),y.jsxs("button",{onClick:F,style:{flex:1,padding:"16px",borderRadius:"12px",background:"var(--primary)",color:"white",border:"none",fontSize:"1rem",fontWeight:"800",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[y.jsx(id,{size:20}),"Camera"]})]}),y.jsx("input",{ref:k,type:"file",accept:"image/*",style:{display:"none"},onChange:V})]}),r==="edit"&&y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[y.jsx("div",{style:{width:"100%",height:"250px",borderRadius:"12px",overflow:"hidden",border:"2px solid var(--primary)",position:"relative",background:"black"},children:y.jsx("img",{ref:z,src:d,style:{width:"100%",height:"100%",objectFit:"contain",transform:`scale(${g}) rotate(${b}deg)`,transition:"transform 0.3s ease"}})}),y.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[y.jsx("button",{onClick:Q,style:{background:"var(--secondary)",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Zoom -"}),y.jsx("button",{onClick:G,style:{background:"var(--secondary)",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Zoom +"}),y.jsxs("button",{onClick:dt,style:{background:"var(--secondary)",border:"none",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[y.jsx(yL,{size:16}),"Rotate"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[y.jsx("button",{onClick:()=>a("select"),style:{background:"var(--secondary)",border:"none",padding:"12px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Back"}),y.jsxs("button",{onClick:vt,style:{background:"var(--primary)",color:"white",border:"none",padding:"12px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"1rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(RM,{size:18}),"Confirm"]})]})]}),r==="caption"&&y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[y.jsx("div",{style:{width:"100%",height:"200px",borderRadius:"12px",overflow:"hidden",border:"2px solid var(--secondary)"},children:y.jsx("img",{src:d,style:{width:"100%",height:"100%",objectFit:"cover"}})}),y.jsx("textarea",{placeholder:"Write a caption...",value:T,onChange:ot=>C(ot.target.value),style:{width:"100%",padding:"16px",borderRadius:"12px",background:"var(--secondary)",border:"none",fontSize:"1rem",fontWeight:"600",minHeight:"100px",outline:"none",resize:"vertical"}}),y.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[y.jsx("button",{onClick:()=>a("edit"),style:{background:"var(--secondary)",border:"none",padding:"12px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"600"},children:"Back"}),y.jsx("button",{onClick:ut,disabled:O||!T.trim(),style:{background:"var(--primary)",color:"white",border:"none",padding:"12px 20px",borderRadius:"12px",cursor:"pointer",fontSize:"1rem",fontWeight:"800",opacity:O||!T.trim()?.6:1},children:O?"Sharing...":"Share Post"})]})]})]}),y.jsx("canvas",{ref:B,style:{display:"none"}})]})})},cD=()=>{const{user:n}=He(),[e,r]=j.useState([]),[a,l]=j.useState(!0),[h,d]=j.useState(!1),[m,g]=j.useState(null),_=async()=>{l(!0);const{data:T}=await ft.from("community_posts").select("*").order("created_at",{ascending:!1});if(T){const C=[...new Set(T.map(V=>V.user_id))],{data:O}=await ft.from("user_preferences").select("user_id, username, display_name, avatar_url").in("user_id",C),R={};O?.forEach(V=>R[V.user_id]=V);const k=T.map(V=>V.id),{data:z}=await ft.from("post_likes").select("post_id, user_id").in("post_id",k),B={},D={};z?.forEach(V=>{B[V.post_id]=(B[V.post_id]||0)+1,V.user_id===n?.id&&(D[V.post_id]=!0)}),r(T.map(V=>({...V,likes_count:B[V.id]||0,author:R[V.user_id]||{display_name:"Foodie"},isLikedByUser:!!D[V.id]})))}l(!1)};j.useEffect(()=>{_();const T=()=>{_()};return window.addEventListener("userProfileUpdated",T),()=>{window.removeEventListener("userProfileUpdated",T)}},[]);const b=async(T,C)=>{const O=`${n.id}-${Date.now()}.${T.name.split(".").pop()}`;await ft.storage.from("food-images").upload(`community/${O}`,T);const{data:{publicUrl:R}}=ft.storage.from("food-images").getPublicUrl(`community/${O}`);await ft.from("community_posts").insert([{user_id:n.id,image_url:R,caption:C,likes_count:0}]),g({message:"Shared with community! ",type:"success"}),_()},w=async(T,C)=>{if(!n)return;const{data:O}=await ft.from("post_likes").select("*").eq("post_id",T).eq("user_id",n.id).maybeSingle();O?(await ft.from("post_likes").delete().eq("id",O.id),r(e.map(R=>R.id===T?{...R,likes_count:Math.max(0,R.likes_count-1),isLikedByUser:!1}:R))):(await ft.from("post_likes").insert({post_id:T,user_id:n.id}),r(e.map(R=>R.id===T?{...R,likes_count:(R.likes_count||0)+1,isLikedByUser:!0}:R)))};return y.jsxs("div",{style:{paddingBottom:"120px",background:"var(--secondary)",minHeight:"100vh"},children:[m&&y.jsx(Au,{message:m.message,type:m.type,onClose:()=>g(null)}),y.jsxs("div",{style:{padding:"24px 20px",background:"white",borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"var(--shadow-sm)"},children:[y.jsxs("div",{children:[y.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"900",color:"var(--text-main)",margin:0},children:"Community"}),y.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",fontWeight:"600",margin:0},children:"Discover Kerala's tastes"})]}),y.jsx(Mt.button,{whileTap:{scale:.9},onClick:()=>d(!0),style:{background:"var(--primary)",color:"white",border:"none",padding:"12px",borderRadius:"18px",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(ad,{size:24})})]}),y.jsx("div",{className:"container",style:{padding:"20px",maxWidth:"500px",margin:"0 auto"},children:a?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(rd,{className:"animate-spin",color:"var(--primary)"})}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:e.map((T,C)=>y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},style:{background:"white",borderRadius:"32px",overflow:"hidden",boxShadow:"var(--shadow-md)"},children:[y.jsxs("div",{style:{padding:"16px",display:"flex",alignItems:"center",gap:"12px"},children:[y.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"14px",background:"var(--secondary)",overflow:"hidden"},children:T.author.avatar_url?y.jsx("img",{src:T.author.avatar_url,style:{width:"100%",height:"100%",objectFit:"cover"}}):y.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(Ro,{size:20,color:"var(--text-muted)"})})}),y.jsxs("div",{children:[y.jsx("div",{style:{fontWeight:"800",fontSize:"0.95rem"},children:T.author.username||T.author.display_name}),y.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",fontWeight:"600"},children:gS(new Date(T.created_at),{addSuffix:!0})})]})]}),y.jsx("div",{style:{position:"relative",width:"100%",paddingTop:"100%"},children:y.jsx("img",{src:T.image_url,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})}),y.jsxs("div",{style:{padding:"20px"},children:[y.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"12px"},children:[y.jsx(Mt.div,{whileTap:{scale:.8},onClick:()=>w(T.id,T.likes_count),style:{cursor:"pointer"},children:y.jsx(pa,{size:26,color:"var(--primary)",fill:T.isLikedByUser?"var(--primary)":"none"})}),y.jsx(Mt.div,{whileTap:{scale:.8},onClick:()=>setSelectedPost(T),style:{cursor:"pointer"},children:y.jsx(sd,{size:26,color:"var(--text-main)"})})]}),y.jsxs("div",{style:{fontWeight:"850",fontSize:"0.9rem",marginBottom:"8px"},children:[T.likes_count||0," likes"]}),y.jsxs("div",{style:{fontSize:"0.95rem",lineHeight:"1.5",color:"var(--text-main)"},children:[y.jsx("span",{style:{fontWeight:"900",marginRight:"6px"},children:T.author.username||T.author.display_name}),T.caption]})]})]},T.id))})}),selectedPost&&y.jsx(hD,{post:selectedPost,onClose:()=>setSelectedPost(null)}),y.jsx(yg,{children:h&&y.jsx(uD,{onClose:()=>d(!1),onPostComplete:b})})]})},hD=({post:n,onClose:e})=>{const{user:r}=He(),[a,l]=j.useState([]),[h,d]=j.useState(""),[m,g]=j.useState(!0),_=async()=>{g(!0);const{data:w}=await ft.from("post_comments").select("*").eq("post_id",n.id).order("created_at",{ascending:!1});if(w){const T=[...new Set(w.map(R=>R.user_id))],{data:C}=await ft.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",T),O={};C?.forEach(R=>O[R.user_id]=R),l(w.map(R=>({...R,user:O[R.user_id]||{display_name:"User"}})))}else l([]);g(!1)};j.useEffect(()=>{_()},[]);const b=async()=>{r&&h.trim()&&(await ft.from("post_comments").insert({post_id:n.id,user_id:r.id,comment:h}),d(""),_())};return y.jsx(Mt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:1100,display:"flex",alignItems:"flex-end"},onClick:e,children:y.jsxs(Mt.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},style:{background:"white",width:"100%",borderTopLeftRadius:"40px",borderTopRightRadius:"40px",padding:"24px",maxHeight:"80vh",overflowY:"auto"},onClick:w=>w.stopPropagation(),children:[y.jsx("h3",{style:{fontSize:"1.4rem",fontWeight:"900",margin:"0 0 24px 0",textAlign:"center"},children:"Comments"}),m?y.jsx(rd,{className:"animate-spin"}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginBottom:"24px"},children:a.map(w=>y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("img",{src:w.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"14px"}}),y.jsxs("div",{children:[y.jsx("span",{style:{fontWeight:"800"},children:w.user?.display_name||"User"}),y.jsx("p",{style:{margin:"2px 0 0 0"},children:w.comment})]})]},w.id))}),y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[y.jsx("input",{type:"text",value:h,onChange:w=>d(w.target.value),placeholder:"Add a comment...",style:{flex:1,padding:"14px",borderRadius:"16px",border:"2px solid var(--secondary)",outline:"none",fontWeight:"700"}}),y.jsx("button",{onClick:b,style:{padding:"14px 20px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",fontWeight:"800"},children:"Send"})]})]})})},dD=({lang:n})=>{const{id:e}=Lm(),r=je(),{user:a}=He(),[l,h]=j.useState(1),[d,m]=j.useState(!0),[g,_]=j.useState(!1),[b,w]=j.useState(!1),[T,C]=j.useState(null),[O,R]=j.useState({name:"",category:"",price:1,location_text:"",latitude:null,longitude:null,description:"",images:[]});j.useEffect(()=>{e&&k()},[e]);const k=async()=>{m(!0);const{data:F,error:G}=await ft.from("spots").select("*").eq("id",e).single();if(G){D("Failed to load spot data.","error"),m(!1);return}R({name:F.name,category:F.category||"Cafe",price:F.price_level||1,location_text:F.location_text,latitude:F.latitude,longitude:F.longitude,description:F.description||"",images:F.images||[]}),m(!1)},z=()=>h(F=>F+1),B=()=>h(F=>F-1),D=(F,G="success")=>{C({message:F,type:G})},V=async F=>{if(F.preventDefault(),!a)return D("Please login first","error");m(!0);try{const{error:G}=await ft.from("spot_edits").insert([{spot_id:e,user_id:a.id,data:O,status:"pending"}]);if(G)throw G;D("Edit Suggestion Submitted! Admin will review.","success"),setTimeout(()=>r(`/${n}/home`),2e3)}catch(G){console.error(G),D("Failed to submit edit.","error"),m(!1)}};return d&&l===1?y.jsx("div",{style:{padding:"4rem",textAlign:"center",color:"white"},children:"Loading spot details..."}):y.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",paddingBottom:"100px"},children:[T&&y.jsx(Au,{message:T.message,type:T.type,onClose:()=>C(null)}),y.jsx(hS,{isOpen:b,onClose:()=>w(!1),onSelectLocation:(F,G)=>R({...O,latitude:F,longitude:G,location_text:`${F.toFixed(4)}, ${G.toFixed(4)}`})}),y.jsxs("div",{className:"container",style:{padding:"2rem 1rem",maxWidth:"600px",margin:"0 auto"},children:[y.jsxs("button",{onClick:()=>r(-1),style:{marginBottom:"1.5rem",background:"rgba(255,255,255,0.1)",color:"white",border:"none",padding:"8px 16px",borderRadius:"20px",cursor:"pointer"},children:[y.jsx(Eu,{size:20,style:{verticalAlign:"middle"}})," Back"]}),y.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",color:"white"},children:[y.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"800"},children:"Suggest Changes "}),y.jsxs("p",{style:{opacity:.8},children:["Help keep ",O.name," info up to date"]})]}),y.jsxs("form",{onSubmit:V,className:"glass-card",style:{padding:"2rem",background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)",borderRadius:"24px",border:"1px solid rgba(255,255,255,0.1)",color:"white"},children:[l===1&&y.jsxs("div",{className:"animate-fade-in",children:[y.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.1rem"},children:"Step 1: Basic Info"}),y.jsx("label",{style:{display:"block",marginBottom:"8px",opacity:.8},children:"Spot Name"}),y.jsx("input",{type:"text",value:O.name,onChange:F=>R({...O,name:F.target.value}),style:{width:"100%",padding:"14px",borderRadius:"12px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",marginBottom:"1.5rem"}}),y.jsx("label",{style:{display:"block",marginBottom:"8px",opacity:.8},children:"Description"}),y.jsx("textarea",{value:O.description,onChange:F=>R({...O,description:F.target.value}),style:{width:"100%",padding:"14px",borderRadius:"12px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",minHeight:"120px"}}),y.jsxs("button",{type:"button",onClick:z,style:{width:"100%",marginTop:"2rem",background:"linear-gradient(135deg, #6366f1 0%, #4338ca 100%)",color:"white",padding:"16px",borderRadius:"16px",border:"none",fontWeight:"800",cursor:"pointer"},children:["Next Step ",y.jsx(go,{size:18})]})]}),l===2&&y.jsxs("div",{className:"animate-fade-in",children:[y.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.1rem"},children:"Step 2: Location"}),y.jsxs("button",{type:"button",onClick:()=>w(!0),style:{width:"100%",padding:"14px",background:"rgba(255,255,255,0.1)",color:"white",border:"2px solid rgba(255,255,255,0.2)",borderRadius:"12px",cursor:"pointer",marginBottom:"1rem",fontWeight:"700"},children:[y.jsx(Ag,{size:18,style:{marginRight:"8px"}})," Update Map Pin"]}),y.jsx("input",{type:"text",placeholder:"Address",value:O.location_text,onChange:F=>R({...O,location_text:F.target.value}),style:{width:"100%",padding:"14px",borderRadius:"12px",border:"none",background:"rgba(255,255,255,0.1)",color:"white",marginBottom:"1.5rem"}}),y.jsx("label",{style:{display:"block",marginBottom:"8px",opacity:.8},children:"Price Level"}),y.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginBottom:"1.5rem"},children:[1,2,3].map(F=>y.jsx("button",{type:"button",onClick:()=>R({...O,price:F}),style:{width:"60px",height:"60px",borderRadius:"20px",background:O.price===F?"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)":"rgba(255,255,255,0.1)",color:"white",border:O.price===F?"none":"2px solid rgba(255,255,255,0.2)",fontWeight:"800",fontSize:"1.2rem",cursor:"pointer",transition:"all 0.3s ease"},children:"".repeat(F)},F))}),y.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[y.jsx("button",{type:"button",onClick:B,style:{flex:1,padding:"16px",borderRadius:"16px",background:"transparent",border:"1px solid rgba(255,255,255,0.2)",color:"white",cursor:"pointer"},children:"Back"}),y.jsx("button",{type:"submit",disabled:d,style:{flex:2,padding:"16px",borderRadius:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",fontWeight:"800",cursor:"pointer"},children:d?"Submitting...":"Submit Suggestion "})]})]})]})]})]})},fD=({lang:n})=>{const{user:e}=He(),r=je(),[a,l]=j.useState([]),[h,d]=j.useState(!0);j.useEffect(()=>{e&&m()},[e]);const m=async()=>{d(!0);const{data:g}=await ft.from("user_favorites").select("spot_id").eq("user_id",e.id);if(g&&g.length>0){const _=g.map(w=>w.spot_id),{data:b}=await ft.from("spots").select("*").in("id",_);l(b||[])}d(!1)};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"180px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx("button",{onClick:()=>r(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white",cursor:"pointer"},children:y.jsx(cs,{size:24})}),y.jsx(pa,{size:48,color:"white",fill:"white",style:{marginBottom:"8px"}}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"My Favorites"}),y.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"Your saved spots"})]}),y.jsx("div",{className:"container",style:{padding:"20px",marginTop:"-30px"},children:h?y.jsx(Bo,{message:"Loading your favorites..."}):a.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[y.jsx(pa,{size:64,color:"var(--text-muted)",style:{marginBottom:"20px",opacity:.3}}),y.jsx("h3",{style:{color:"var(--text-main)",fontWeight:"800",marginBottom:"8px"},children:"No favorites yet"}),y.jsx("p",{style:{color:"var(--text-muted)"},children:"Start exploring and save your favorite spots!"})]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:a.map(g=>y.jsx(ld,{spot:g},g.id))})})]})},pD=({lang:n})=>{const e=je(),r=[{icon:jm,title:"Information We Collect",content:"We collect information you provide directly to us, including your name, email address, profile information, and content you post on Chai.in. We also collect usage data to improve our services."},{icon:YM,title:"How We Use Your Information",content:"Your information is used to provide and improve our services, personalize your experience, communicate with you, and ensure the security of our platform. We never sell your personal data to third parties."},{icon:PM,title:"Information Sharing",content:"We only share your information with your consent, to comply with legal obligations, or to protect our rights. Your posts and reviews are visible to other users as part of the community experience."},{icon:kL,title:"Your Rights",content:"You have the right to access, update, or delete your personal information at any time. You can manage your privacy settings in your account preferences."},{icon:zM,title:"Data Security",content:"We implement industry-standard security measures to protect your data. All sensitive information is encrypted, and we regularly update our security practices to ensure your safety."}];return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white",cursor:"pointer"},children:y.jsx(cs,{size:24})}),y.jsx(jm,{size:48,color:"white",style:{marginBottom:"8px"}}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"Privacy Policy"}),y.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"Your privacy matters to us"})]}),y.jsxs("div",{style:{padding:"30px 20px",maxWidth:"600px",margin:"0 auto"},children:[y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",padding:"24px",borderRadius:"24px",marginBottom:"20px",boxShadow:"var(--shadow-md)"},children:[y.jsx("h2",{style:{fontSize:"1.2rem",fontWeight:"900",color:"var(--text-main)",marginBottom:"12px"},children:"Welcome to Chai.in"}),y.jsx("p",{style:{fontSize:"0.95rem",color:"var(--text-muted)",lineHeight:"1.6",margin:0},children:"At Chai.in, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, and safeguard your data when you use our platform to discover and share Kerala's best food spots."}),y.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"12px",fontStyle:"italic"},children:"Last updated: January 2026"})]}),r.map((a,l)=>y.jsx(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},style:{background:"white",padding:"20px",borderRadius:"24px",marginBottom:"16px",boxShadow:"var(--shadow-sm)"},children:y.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px"},children:[y.jsx("div",{style:{background:"rgba(239, 42, 57, 0.1)",padding:"12px",borderRadius:"16px",flexShrink:0},children:y.jsx(a.icon,{size:24,color:"var(--primary)"})}),y.jsxs("div",{style:{flex:1},children:[y.jsx("h3",{style:{fontSize:"1.05rem",fontWeight:"800",color:"var(--text-main)",marginBottom:"8px"},children:a.title}),y.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",lineHeight:"1.6",margin:0},children:a.content})]})]})},l)),y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},style:{background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",padding:"24px",borderRadius:"24px",marginTop:"24px",textAlign:"center"},children:[y.jsx("h3",{style:{color:"white",fontWeight:"900",fontSize:"1.1rem",marginBottom:"8px"},children:"Questions About Privacy?"}),y.jsx("p",{style:{color:"rgba(255,255,255,0.9)",fontSize:"0.9rem",marginBottom:"16px"},children:"If you have any questions or concerns about our privacy practices, please don't hesitate to contact us."}),y.jsx("button",{onClick:()=>e(`/${n}/contact-admin`),style:{background:"white",color:"var(--primary)",border:"none",padding:"12px 24px",borderRadius:"16px",fontWeight:"800",fontSize:"0.95rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:"Contact Admin"})]})]})]})},mD=({lang:n})=>{const e=je(),[r,a]=j.useState(""),l=[{icon:cL,label:"WhatsApp",value:"+91 9846170136",link:"https://wa.me/919846170136",color:"#25D366",action:"Chat on WhatsApp"},{icon:sS,label:"Instagram",value:"@sinn.a.an",link:"https://instagram.com/sinn.a.an",color:"#E4405F",action:"Follow on Instagram"},{icon:tL,label:"Email",value:"msinankavala786@gmail.com",link:"mailto:msinankavala786@gmail.com",color:"#EA4335",action:"Send Email"}],h=(d,m)=>{navigator.clipboard.writeText(d),a(m),setTimeout(()=>a(""),2e3)};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--secondary)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, var(--primary) 0%, #FF6B6B 100%)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx("button",{onClick:()=>e(-1),style:{position:"absolute",left:"20px",top:"30px",background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white",cursor:"pointer"},children:y.jsx(cs,{size:24})}),y.jsx(sd,{size:48,color:"white",style:{marginBottom:"8px"}}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.6rem",margin:0},children:"Contact Admin"}),y.jsx("p",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.9rem",fontWeight:"600"},children:"We're here to help!"})]}),y.jsxs("div",{style:{padding:"30px 20px",maxWidth:"600px",margin:"0 auto"},children:[y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"white",padding:"24px",borderRadius:"24px",marginBottom:"24px",boxShadow:"var(--shadow-md)",textAlign:"center"},children:[y.jsx("h2",{style:{fontSize:"1.2rem",fontWeight:"900",color:"var(--text-main)",marginBottom:"12px"},children:"Get in Touch"}),y.jsx("p",{style:{fontSize:"0.95rem",color:"var(--text-muted)",lineHeight:"1.6",margin:0},children:"Have questions, suggestions, or need help? Reach out to our admin team through any of the channels below. We typically respond within 24 hours!"})]}),l.map((d,m)=>y.jsxs(Mt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.1},style:{background:"white",padding:"20px",borderRadius:"24px",marginBottom:"16px",boxShadow:"var(--shadow-sm)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"12px"},children:[y.jsx("div",{style:{background:`${d.color}15`,padding:"12px",borderRadius:"16px"},children:y.jsx(d.icon,{size:24,color:d.color})}),y.jsxs("div",{style:{flex:1},children:[y.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-muted)",fontWeight:"600"},children:d.label}),y.jsx("div",{style:{fontSize:"1rem",fontWeight:"800",color:"var(--text-main)"},children:d.value})]})]}),y.jsxs("div",{style:{display:"flex",gap:"8px"},children:[y.jsxs("a",{href:d.link,target:"_blank",rel:"noopener noreferrer",style:{flex:1,background:d.color,color:"white",border:"none",padding:"12px",borderRadius:"14px",fontWeight:"800",fontSize:"0.9rem",cursor:"pointer",textAlign:"center",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[y.jsx(lS,{size:16}),d.action]}),y.jsx("button",{onClick:()=>h(d.value,d.label),style:{background:"var(--secondary)",color:"var(--text-main)",border:"none",padding:"12px 16px",borderRadius:"14px",fontWeight:"700",fontSize:"0.85rem",cursor:"pointer"},children:r===d.label?" Copied!":"Copy"})]})]},m)),y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},style:{background:"rgba(239, 42, 57, 0.05)",padding:"20px",borderRadius:"20px",marginTop:"24px",border:"2px dashed var(--primary)"},children:[y.jsx("h3",{style:{fontSize:"1rem",fontWeight:"800",color:"var(--primary)",marginBottom:"8px"},children:" Quick Tips"}),y.jsxs("ul",{style:{fontSize:"0.9rem",color:"var(--text-muted)",lineHeight:"1.8",margin:0,paddingLeft:"20px"},children:[y.jsx("li",{children:"For spot verification status, message us on WhatsApp"}),y.jsx("li",{children:"Report inappropriate content via email"}),y.jsx("li",{children:"Follow us on Instagram for updates and food stories"}),y.jsx("li",{children:"Business inquiries? Email is the best way to reach us"})]})]})]})]})},gD=({lang:n})=>{const{id:e}=Lm(),r=je(),{user:a}=He(),[l,h]=j.useState(null),[d,m]=j.useState([]),[g,_]=j.useState(""),[b,w]=j.useState(!0);j.useEffect(()=>{T(),C();const k=()=>{C()};return window.addEventListener("userProfileUpdated",k),()=>{window.removeEventListener("userProfileUpdated",k)}},[e]);const T=async()=>{try{const{data:k,error:z}=await ft.from("spots").select("*").eq("id",parseInt(e)).single();if(z)throw z;h(k)}catch(k){console.error("Error fetching spot:",k)}finally{w(!1)}},C=async()=>{const{data:k,error:z}=await ft.from("reviews").select("*").eq("spot_id",e).order("created_at",{ascending:!1});if(z){console.error("Error loading reviews:",z),m([]);return}if(k){const B=[...new Set(k.map(F=>F.user_id))],{data:D}=await ft.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",B),V={};D?.forEach(F=>V[F.user_id]=F),m(k.map(F=>({...F,user:V[F.user_id]||{display_name:"User"}})))}else m([])},O=async()=>{if(!a)return alert("Please login to submit a review!");if(!g.trim())return;const{error:k}=await ft.from("reviews").insert({spot_id:parseInt(e),user_id:a.id,comment:g,rating:5});k?console.error("Error adding review:",k):(_(""),C())},R=()=>{sessionStorage.setItem("refreshSpotDetail","true"),r(`/${n}/spot/${e}`)};return b?y.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-white)"},children:y.jsxs("div",{style:{textAlign:"center"},children:[y.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid var(--primary)",borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),y.jsx("p",{style:{color:"var(--text-main)",fontWeight:"600"},children:"Loading directions..."})]})}):l?y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",position:"relative"},children:[y.jsx("div",{style:{background:"var(--primary)",padding:"20px",display:"flex",alignItems:"center",gap:"16px"},children:y.jsxs(Mt.button,{whileTap:{scale:.9},onClick:R,style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"12px",padding:"10px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx(cs,{size:20,color:"white"}),y.jsx("span",{style:{color:"white",fontWeight:"600",fontSize:"0.9rem"},children:"Go Back"})]})}),y.jsx("div",{style:{padding:"40px 20px",textAlign:"center",maxWidth:"600px",margin:"0 auto"},children:y.jsxs(Mt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[y.jsxs("div",{style:{background:"var(--secondary)",padding:"30px",borderRadius:"20px",marginBottom:"30px"},children:[y.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"900",margin:"0 0 16px 0",color:"var(--text-main)"},children:l.name}),y.jsx("p",{style:{color:"var(--text-muted)",margin:"0 0 20px 0",fontSize:"1rem"},children:l.location_text||"Kerala, India"})]}),y.jsxs("div",{style:{background:"var(--secondary)",padding:"20px",borderRadius:"16px"},children:[y.jsx("h3",{style:{margin:"0 0 12px 0",color:"var(--text-main)",fontSize:"1.1rem",fontWeight:"800"},children:" Spot Information"}),y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",textAlign:"left"},children:[l.opening_hours?.open&&y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("span",{style:{color:"var(--text-muted)"},children:"Hours:"}),y.jsxs("span",{style:{fontWeight:"600"},children:[l.opening_hours.open," - ",l.opening_hours.close]})]}),l.rating&&y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[y.jsx("span",{style:{color:"var(--text-muted)"},children:"Rating:"}),y.jsxs("span",{style:{fontWeight:"600"},children:[" ",l.rating]})]}),l.tags&&l.tags.length>0&&y.jsxs("div",{children:[y.jsx("span",{style:{color:"var(--text-muted)"},children:"Tags:"}),y.jsx("div",{style:{marginTop:"8px",display:"flex",gap:"8px",flexWrap:"wrap"},children:l.tags.map(k=>y.jsxs("span",{style:{background:"var(--primary)",color:"white",padding:"4px 8px",borderRadius:"8px",fontSize:"0.8rem",fontWeight:"600"},children:["#",k]},k))})]})]})]}),y.jsxs("div",{style:{marginBottom:"40px"},children:[y.jsxs("h2",{style:{fontSize:"1.4rem",fontWeight:"900",marginBottom:"20px"},children:["Reviews (",d.length,")"]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:d.map(k=>y.jsxs("div",{style:{display:"flex",gap:"12px"},children:[y.jsx("img",{src:k.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"50%"}}),y.jsxs("div",{children:[y.jsx("p",{style:{fontWeight:"800",margin:0},children:k.user?.display_name||"Anonymous"}),y.jsx("p",{style:{margin:"4px 0 0 0",color:"var(--text-main)"},children:k.comment})]})]},k.id))}),y.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"10px"},children:[y.jsx("input",{type:"text",value:g,onChange:k=>_(k.target.value),placeholder:"Add a review...",style:{flex:1,padding:"14px",borderRadius:"16px",border:"2px solid var(--secondary)",outline:"none",fontWeight:"700"}}),y.jsx("button",{onClick:O,style:{padding:"14px 20px",borderRadius:"16px",background:"var(--primary)",color:"white",border:"none",fontWeight:"800"},children:"Send"})]})]})]})}),y.jsx("style",{jsx:!0,children:`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `})]}):y.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-white)"},children:y.jsxs("div",{style:{textAlign:"center"},children:[y.jsx(ga,{size:48,color:"var(--primary)",style:{marginBottom:"20px"}}),y.jsx("h2",{style:{color:"var(--text-main)",margin:0},children:"Spot not found"})]})})},yD=({lang:n})=>{const{user:e}=He(),r=je(),[a,l]=j.useState(!0),[h,d]=j.useState([]);j.useEffect(()=>{e&&m()},[e]);const m=async()=>{l(!0);try{const{data:g}=await ft.from("user_favorites").select("spot_id").eq("user_id",e.id);if(g&&g.length>0){const _=g.map(w=>w.spot_id),{data:b}=await ft.from("spots").select("*").in("id",_);d(b||[])}else d([])}catch(g){console.error("Error fetching favorites:",g)}finally{l(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},children:[y.jsx("button",{onClick:()=>r(`/${n}/profile`),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(cs,{size:24})}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"My Favorites"}),y.jsx("div",{style:{width:"44px"}})]}),y.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:a?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(Bo,{message:"Loading favorites..."})}):h.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[y.jsx(pa,{size:48,style:{marginBottom:"12px",opacity:.3}}),y.jsx("p",{children:"No favorites yet"}),y.jsx("p",{style:{fontSize:"0.9rem",marginTop:"8px"},children:"Start exploring and add spots to your favorites!"})]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:h.map(g=>y.jsx(ld,{spot:g},g.id))})})]})},vD=({lang:n})=>{const{user:e}=He(),r=je(),[a,l]=j.useState(!0),[h,d]=j.useState([]);j.useEffect(()=>{e&&m()},[e]);const m=async()=>{l(!0);try{const{data:g}=await ft.from("reviews").select("*, spots(name)").eq("user_id",e.id).order("created_at",{ascending:!1});if(g){const _=[...new Set(g.map(T=>T.user_id))],{data:b}=await ft.from("user_preferences").select("user_id, display_name, avatar_url").in("user_id",_),w={};b?.forEach(T=>w[T.user_id]=T),d(g.map(T=>({...T,user:w[T.user_id]||{display_name:"User"}})))}else d([])}catch(g){console.error("Error fetching reviews:",g)}finally{l(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},children:[y.jsx("button",{onClick:()=>r(`/${n}/profile`),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(cs,{size:24})}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"My Reviews"}),y.jsx("div",{style:{width:"44px"}})]}),y.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:a?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(Bo,{message:"Loading reviews..."})}):h.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[y.jsx(aS,{size:48,style:{marginBottom:"12px",opacity:.3}}),y.jsx("p",{children:"No reviews yet"}),y.jsx("p",{style:{fontSize:"0.9rem",marginTop:"8px"},children:"Start reviewing spots to share your thoughts!"})]}):y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:h.map(g=>y.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"20px",boxShadow:"var(--shadow-sm)"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[y.jsx("img",{src:g.user?.avatar_url||"https://i.pravatar.cc/40",style:{width:"40px",height:"40px",borderRadius:"50%"}}),y.jsxs("div",{children:[y.jsx("p",{style:{fontWeight:"800",margin:0},children:g.user?.display_name||"Anonymous"}),y.jsxs("p",{style:{margin:"4px 0 0 0",color:"var(--text-muted)",fontSize:"0.85rem"},children:["at ",g.spots?.name]})]})]}),y.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"8px"},children:[...Array(5)].map((_,b)=>y.jsx(od,{size:14,fill:b<g.rating?"#FFB800":"none",color:b<g.rating?"#FFB800":"#ddd"},b))}),y.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-main)",marginBottom:"8px"},children:g.comment})]},g.id))})})]})},_D=({lang:n})=>{const{user:e}=He(),r=je(),[a,l]=j.useState(!0),[h,d]=j.useState([]);j.useEffect(()=>{e&&m()},[e]);const m=async()=>{l(!0);try{const{data:g}=await ft.from("spots").select("*").eq("created_by",e.id).order("created_at",{ascending:!1});d(g||[])}catch(g){console.error("Error fetching added spots:",g)}finally{l(!1)}};return y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-white)",paddingBottom:"120px"},children:[y.jsxs("div",{style:{height:"140px",background:"var(--primary)",borderBottomLeftRadius:"40px",borderBottomRightRadius:"40px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},children:[y.jsx("button",{onClick:()=>r(`/${n}/profile`),style:{background:"rgba(255,255,255,0.2)",border:"none",padding:"10px",borderRadius:"15px",color:"white"},children:y.jsx(cs,{size:24})}),y.jsx("h1",{style:{color:"white",fontWeight:"900",fontSize:"1.4rem",margin:0},children:"My Added Spots"}),y.jsx("div",{style:{width:"44px"}})]}),y.jsx("div",{className:"container",style:{padding:"0 20px",marginTop:"-40px"},children:a?y.jsx("div",{style:{textAlign:"center",padding:"40px"},children:y.jsx(Bo,{message:"Loading added spots..."})}):h.length===0?y.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[y.jsx(ad,{size:48,style:{marginBottom:"12px",opacity:.3}}),y.jsx("p",{children:"No spots added yet"}),y.jsx("p",{style:{fontSize:"0.9rem",marginTop:"8px"},children:"Start adding spots to contribute to the community!"})]}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:h.map(g=>y.jsx(ld,{spot:g},g.id))})})]})},xD=({lang:n="en"})=>{const e=yi(),r=[{to:"/home",icon:VM,label:"Home"},{to:"/map",icon:Ag,label:"Map"},{to:"/community",icon:NM,label:"Club"},{to:"/leaderboard",icon:rS,label:"Top"}],a=l=>e.pathname.includes(`/${n}${l.to}`)||l.to==="/home"&&(e.pathname===`/${n}`||e.pathname===`/${n}/`);return y.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:80,zIndex:1e3,pointerEvents:"none"},children:[y.jsx("svg",{width:"100%",height:"140",viewBox:"0 0 400 140",preserveAspectRatio:"none",style:{display:"block",pointerEvents:"auto"},children:y.jsx("path",{d:`\r
            M0 40\r
            Q0 0 40 0\r
            H135\r
            C155 0 165 12 172 26\r
            C182 50 218 50 228 26\r
            C235 12 245 0 265 0\r
            H360\r
            Q400 0 400 40\r
            V140\r
            H0\r
            Z\r
          `,fill:"#EF2A39"})}),y.jsx("div",{style:{position:"absolute",top:-44,left:"50%",transform:"translateX(-50%)",pointerEvents:"auto"},children:y.jsx(Hp,{to:`/${n}/add-spot`,children:y.jsx(Mt.div,{whileTap:{scale:.9},whileHover:{scale:1.05},style:{width:76,height:76,borderRadius:"50%",background:"#EF2A39",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 16px 32px rgba(239,42,57,0.45), inset 0 2px 6px rgba(255,255,255,0.35)",border:"4px solid rgba(255,255,255,0.4)"},children:y.jsx(ad,{size:32,color:"#fff",strokeWidth:3})})})}),y.jsx("div",{style:{position:"absolute",bottom:22,left:0,right:0,display:"grid",gridTemplateColumns:"repeat(5, 1fr)",alignItems:"center",padding:"0 28px",pointerEvents:"auto"},children:r.map((l,h)=>{const d=a(l),g=h<2?h+1:h+3;return y.jsx("div",{style:{gridColumn:g},children:y.jsxs(Hp,{to:`/${n}${l.to}`,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:6,color:"white",textDecoration:"none",opacity:d?1:.7,fontSize:"0.78rem",fontWeight:800},children:[y.jsx(l.icon,{size:26,strokeWidth:d?2.6:2,color:"white"}),y.jsx("span",{children:l.label})]})},l.to)})})]})},bD=()=>{const n=["","","","","","","","","",""];return y.jsx("div",{className:"food-particles",children:n.map((e,r)=>y.jsx("div",{className:"food-particle",children:e},r))})},wD=()=>{const{user:n}=He(),[e,r]=j.useState(!1),[a,l]=j.useState(""),[h,d]=j.useState(!1),[m,g]=j.useState(null),[_,b]=j.useState(null),[w,T]=j.useState(!1);j.useEffect(()=>{if(n?.created_at){const k=new Date(n.created_at);(new Date-k)/(1e3*60*60)>1&&T(!0)}C()},[n]);const C=async()=>{if(!n)return;const{data:k,error:z}=await ft.from("user_preferences").select("username").eq("user_id",n.id).single();k&&!k.username?r(!0):k||r(!0)},O=async k=>{if(k.length<3){g(null);return}const{data:z}=await ft.from("user_preferences").select("user_id").eq("username",k).maybeSingle();g(!z)},R=async()=>{if(!(!m||a.length<3)){d(!0),b(null);try{const{error:k}=await ft.from("user_preferences").upsert({user_id:n.id,username:a,updated_at:new Date},{onConflict:"user_id"});if(k)throw k;r(!1),window.location.reload()}catch(k){console.error(k),b("Failed to save username. Try again.")}finally{d(!1)}}};return e?y.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"400px",padding:"30px",textAlign:"center",position:"relative"},children:[y.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"800",marginBottom:"10px"},children:w?"Update Required ":"Welcome to Chai-in!"}),y.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:w?"We've introduced usernames! Please choose a unique handle to continue.":"Please choose a unique username to continue."}),y.jsxs("div",{style:{position:"relative",marginBottom:"20px"},children:[y.jsx("span",{style:{position:"absolute",left:"16px",top:"14px",color:"#999",fontWeight:"bold"},children:"@"}),y.jsx("input",{type:"text",value:a,onChange:k=>{const z=k.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"");l(z),O(z)},placeholder:"username",style:{width:"100%",padding:"12px 16px 12px 36px",fontSize:"1.1rem",fontWeight:"bold",borderRadius:"12px",border:"2px solid #eee",outline:"none",background:"#fafafa"}}),y.jsx("div",{style:{position:"absolute",right:"16px",top:"14px"},children:a.length>=3&&(m?y.jsx(_M,{color:"green",size:20}):y.jsx(Cu,{color:"red",size:20}))})]}),_&&y.jsx("p",{style:{color:"red",fontSize:"0.9rem",marginBottom:"10px"},children:_}),y.jsx("button",{onClick:R,disabled:!m||h,style:{width:"100%",padding:"14px",background:"var(--primary)",color:"white",fontWeight:"700",fontSize:"1.1rem",border:"none",borderRadius:"14px",opacity:!m||h?.5:1,cursor:!m||h?"not-allowed":"pointer"},children:h?"Saving...":"Let's Go!"})]})}):null},SD=()=>{const{user:n}=He(),[e,r]=j.useState(!1),[a,l]=j.useState(!1);j.useEffect(()=>{h()},[n]);const h=async()=>{if(!n||localStorage.getItem(`suppress_avatar_${n.id}`))return;const{data:_}=await ft.from("user_preferences").select("avatar_url").eq("user_id",n.id).single();_?.avatar_url||r(!0)},d=async g=>{try{l(!0);const _=g.target.files[0];if(!_)return;if(_.size>10*1024*1024){alert("File too large. Max 10MB"),l(!1);return}const b=_.name.split(".").pop(),T=`${`${n.id}-${Math.random()}.${b}`}`,{error:C}=await ft.storage.from("avatars").upload(T,_);if(C)throw C;const{data:O}=ft.storage.from("avatars").getPublicUrl(T),R=O.publicUrl;await ft.from("user_preferences").upsert({user_id:n.id,avatar_url:R,updated_at:new Date},{onConflict:"user_id"}),r(!1),window.location.reload()}catch(_){console.error(_),alert("Error uploading image")}finally{l(!1)}},m=()=>{r(!1),localStorage.setItem(`suppress_avatar_${n.id}`,"true")};return e?y.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(5px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:y.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"350px",padding:"30px",textAlign:"center",position:"relative",background:"white",border:"none"},children:[y.jsx("button",{onClick:m,style:{position:"absolute",right:"15px",top:"15px",background:"none",border:"none",cursor:"pointer"},children:y.jsx(Cu,{color:"#999"})}),y.jsxs("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"#f0f0f0",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[y.jsx(Ro,{size:50,color:"#ccc"}),y.jsx("div",{style:{position:"absolute",bottom:0,right:0,background:"var(--primary)",padding:"6px",borderRadius:"50%",color:"white"},children:y.jsx(id,{size:16})})]}),y.jsx("h2",{style:{fontSize:"1.4rem",fontWeight:"800",marginBottom:"10px"},children:"Add a Profile Photo "}),y.jsx("p",{style:{color:"#666",marginBottom:"24px",fontSize:"0.95rem"},children:"Stand out in the community! Upload a cool avatar."}),y.jsxs("label",{style:{display:"block",width:"100%",padding:"14px",background:"var(--primary)",color:"white",fontWeight:"700",borderRadius:"14px",cursor:a?"wait":"pointer",marginBottom:"10px"},children:[a?"Uploading...":"Choose Photo",y.jsx("input",{type:"file",accept:"image/*",onChange:d,style:{display:"none"},disabled:a})]}),y.jsx("button",{onClick:m,style:{background:"none",border:"none",color:"#888",fontWeight:"600",fontSize:"0.9rem",padding:"10px"},children:"Maybe Later"})]})}):null},TD=({isOpen:n,onClose:e,userId:r})=>{const[a,l]=j.useState([]),[h,d]=j.useState(!0);j.useEffect(()=>{n&&r&&(m(),g())},[n,r]);const m=async()=>{d(!0);const{data:_,error:b}=await ft.from("notifications").select("*").or(`user_id.eq.${r},user_id.is.null`).order("created_at",{ascending:!1}).limit(20);b&&console.error("Notif error:",b),_&&l(_),d(!1)},g=async()=>{r&&await ft.from("notifications").update({is_read:!0}).eq("user_id",r).eq("is_read",!1)};return n?y.jsxs("div",{style:{position:"absolute",top:"60px",right:"20px",zIndex:3e3,width:"320px",maxHeight:"400px",background:"white",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",border:"1px solid #eee",display:"flex",flexDirection:"column",animation:"fadeInDown 0.2s ease-out"},onClick:_=>_.stopPropagation(),children:[y.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #f0f0f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("h3",{style:{margin:0,fontSize:"1rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx($h,{size:18,fill:"var(--primary)",color:"var(--primary)"}),"Notifications"]}),y.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:y.jsx(Cu,{size:16,color:"#999"})})]}),y.jsx("div",{style:{flex:1,overflowY:"auto"},children:h?y.jsx("p",{style:{textAlign:"center",color:"#888"},children:"Loading..."}):a.length===0?y.jsxs("div",{style:{textAlign:"center",paddingTop:"50px",opacity:.5},children:[y.jsx($h,{size:48,color:"#ccc",style:{marginBottom:"10px"}}),y.jsx("p",{children:"No notifications yet"})]}):a.map(_=>y.jsxs("div",{style:{padding:"16px",borderRadius:"16px",background:_.is_read?"#fff":"#fff5f5",border:"1px solid #f0f0f0",marginBottom:"10px",position:"relative"},children:[y.jsx("h4",{style:{margin:"0 0 6px",fontSize:"1rem",fontWeight:"700",color:_.is_read?"#333":"var(--primary)"},children:_.title}),y.jsx("p",{style:{margin:"0 0 8px",fontSize:"0.9rem",color:"#666",lineHeight:"1.4"},children:_.message}),y.jsx("span",{style:{fontSize:"0.75rem",color:"#999"},children:_.created_at?gS(new Date(_.created_at),{addSuffix:!0}):"just now"})]},_.id))}),y.jsx("style",{children:`
                @keyframes fadeInDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
            `})]}):null},ED=()=>{const{user:n}=He(),e=je(),r=yi(),[a,l]=j.useState(!1),[h,d]=j.useState(0),[m,g]=j.useState(null);return r.pathname.includes("/home"),j.useEffect(()=>{if(!n)return;const _=async()=>{const{count:T}=await ft.from("notifications").select("*",{count:"exact",head:!0}).or(`user_id.eq.${n.id},user_id.is.null`).eq("is_read",!1);d(T||0)},b=async()=>{const{data:T}=await ft.from("user_preferences").select("*").eq("user_id",n.id).maybeSingle();g(T)},w=()=>{b()};return _(),b(),window.addEventListener("userProfileUpdated",w),()=>{window.removeEventListener("userProfileUpdated",w)}},[n]),y.jsxs("div",{style:{position:"sticky",top:0,left:0,right:0,height:"70px",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0,0,0,0.05)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",zIndex:1e3,boxShadow:"0 4px 20px rgba(0,0,0,0.03)"},children:[y.jsx(TD,{isOpen:a,onClose:()=>{l(!1),d(0)},userId:n?.id}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},onClick:()=>e("/en/home"),children:[y.jsx("img",{src:"/chai-in/chai_icon.png",alt:"Chai-in",style:{height:"40px",width:"40px",objectFit:"contain",borderRadius:"10px"},onError:_=>{_.target.src="https://ui-avatars.com/api/?name=C&background=EF2A39&color=fff&rounded=true&size=40"}}),y.jsx("span",{style:{fontSize:"1.3rem",color:"var(--text-main)",fontWeight:"900",fontFamily:"'Outfit', sans-serif"},children:"Chai.in"})]}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[y.jsxs("button",{onClick:()=>l(!0),style:{position:"relative",background:"white",border:"none",borderRadius:"12px",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[y.jsx($h,{size:20,color:"#333"}),h>0&&y.jsx("span",{style:{position:"absolute",top:"4px",right:"4px",background:"#EF2A39",color:"white",fontSize:"0.65rem",fontWeight:"900",minWidth:"18px",height:"18px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 4px",border:"2px solid white",boxShadow:"0 2px 4px rgba(239, 42, 57, 0.3)"},children:h>9?"9+":h})]}),y.jsx("div",{onClick:()=>e("/en/profile"),style:{width:"40px",height:"40px",borderRadius:"12px",background:"#eee",overflow:"hidden",border:"2px solid white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",cursor:"pointer"},children:y.jsx("img",{src:m?.avatar_url||n?.user_metadata?.avatar_url||`https://ui-avatars.com/api/?name=${n?.email}`,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})]})},CD=({lang:n})=>{const e=yi();return j.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e.pathname]),y.jsxs("div",{style:{minHeight:"100vh",background:"var(--bg-cream)",position:"relative"},children:[y.jsx(ED,{}),y.jsx(bD,{}),y.jsx(wD,{}),y.jsx(SD,{}),y.jsx(z2,{}),y.jsx(xD,{lang:n})]})},Ux=({children:n})=>{const{user:e,loading:r}=He();return r?y.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"white"},children:y.jsx(Bo,{message:"Welcome to Chai-in..."})}):e?n:y.jsx(Xx,{to:"/login",replace:!0})};function AD(){return y.jsxs(Jx,{children:[y.jsx(_e,{path:"/",element:y.jsx(Xx,{to:"/login",replace:!0})}),y.jsx(_e,{path:"/login",element:y.jsx(oM,{})}),y.jsx(_e,{path:"/en/*",element:y.jsx(Ux,{children:y.jsx(Ix,{lang:"en"})})}),y.jsx(_e,{path:"/ml/*",element:y.jsx(Ux,{children:y.jsx(Ix,{lang:"ml"})})})]})}function Ix({lang:n}){return y.jsx(Jx,{children:y.jsxs(_e,{element:y.jsx(CD,{lang:n}),children:[y.jsx(_e,{path:"home",element:y.jsx(UL,{lang:n})}),y.jsx(_e,{path:"map",element:y.jsx(cP,{lang:n})}),y.jsx(_e,{path:"add-spot",element:y.jsx(HL,{lang:n})}),y.jsx(_e,{path:"community",element:y.jsx(cD,{lang:n})}),y.jsx(_e,{path:"favorites",element:y.jsx(fD,{lang:n})}),y.jsx(_e,{path:"leaderboard",element:y.jsx(hP,{lang:n})}),y.jsx(_e,{path:"profile",element:y.jsx(IL,{lang:n})}),y.jsx(_e,{path:"profile/favorites",element:y.jsx(yD,{lang:n})}),y.jsx(_e,{path:"profile/reviews",element:y.jsx(vD,{lang:n})}),y.jsx(_e,{path:"profile/added",element:y.jsx(_D,{lang:n})}),y.jsx(_e,{path:"settings",element:y.jsx(VL,{lang:n})}),y.jsx(_e,{path:"privacy-policy",element:y.jsx(pD,{lang:n})}),y.jsx(_e,{path:"contact-admin",element:y.jsx(mD,{lang:n})}),y.jsx(_e,{path:"directions/:id",element:y.jsx(gD,{lang:n})}),y.jsx(_e,{path:"spot/:id",element:y.jsx(yP,{lang:n})}),y.jsx(_e,{path:"edit-spot/:id",element:y.jsx(dD,{lang:n})}),y.jsx(_e,{path:"admin",element:y.jsx(dP,{})})]})})}console.log("Chai.in v1.0.1 Loaded at "+new Date().toISOString());qT.createRoot(document.getElementById("root")).render(y.jsx(ss.StrictMode,{children:y.jsx(aE,{children:y.jsx(jA,{children:y.jsx(AD,{})})})}));
